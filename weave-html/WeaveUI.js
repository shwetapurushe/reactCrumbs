(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.WeaveUI = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../typings/react/react.d.ts"/>

var toolOverlayStyle = {
    background: "#000",
    opacity: .2,
    zIndex: 3,
    boxSizing: "border-box",
    backgroundClip: "padding",
    position: "fixed",
    visibility: "hidden",
    pointerEvents: "none"
};

var ToolOverlay = function (_React$Component) {
    _inherits(ToolOverlay, _React$Component);

    function ToolOverlay(props) {
        _classCallCheck(this, ToolOverlay);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ToolOverlay).call(this, props));

        _this.state = {
            style: toolOverlayStyle
        };
        return _this;
    }

    _createClass(ToolOverlay, [{
        key: "render",
        value: function render() {
            return React.createElement("div", { style: this.state.style });
        }
    }]);

    return ToolOverlay;
}(React.Component);

exports.default = ToolOverlay;

},{"react":"react"}],2:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _reactDom = require("react-dom");

var ReactDOM = _interopRequireWildcard(_reactDom);

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _Layout = require("./react-flexible-layout/Layout");

var _Layout2 = _interopRequireDefault(_Layout);

var _weaveC3Barchart = require("./tools/weave-c3-barchart");

var _weaveC3Barchart2 = _interopRequireDefault(_weaveC3Barchart);

var _weaveC3Scatterplot = require("./tools/weave-c3-scatterplot");

var _weaveC3Scatterplot2 = _interopRequireDefault(_weaveC3Scatterplot);

var _weaveC3Colorlegend = require("./tools/weave-c3-colorlegend");

var _weaveC3Colorlegend2 = _interopRequireDefault(_weaveC3Colorlegend);

var _weaveC3Barchartlegend = require("./tools/weave-c3-barchartlegend");

var _weaveC3Barchartlegend2 = _interopRequireDefault(_weaveC3Barchartlegend);

var _weaveC3Linechart = require("./tools/weave-c3-linechart");

var _weaveC3Linechart2 = _interopRequireDefault(_weaveC3Linechart);

var _weaveC3Piechart = require("./tools/weave-c3-piechart");

var _weaveC3Piechart2 = _interopRequireDefault(_weaveC3Piechart);

var _weaveC3Histogram = require("./tools/weave-c3-histogram");

var _weaveC3Histogram2 = _interopRequireDefault(_weaveC3Histogram);

var _weaveSessionStateMenu = require("./tools/weave-session-state-menu");

var _weaveSessionStateMenu2 = _interopRequireDefault(_weaveSessionStateMenu);

var _OpenLayersMapTool = require("./tools/OpenLayersMapTool");

var _OpenLayersMapTool2 = _interopRequireDefault(_OpenLayersMapTool);

var _weaveReactTable = require("./tools/weave-react-table");

var _weaveReactTable2 = _interopRequireDefault(_weaveReactTable);

var _WeaveTool = require("./WeaveTool");

var _ToolOverlay = require("./ToolOverlay");

var _ToolOverlay2 = _interopRequireDefault(_ToolOverlay);

var _StandardLib = require("./utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../typings/react/react.d.ts"/>
/// <reference path="../typings/react/react-dom.d.ts"/>
/// <reference path="../typings/lodash/lodash.d.ts"/>
/// <reference path="../typings/weave/Weave.d.ts"/>
/// <reference path="../typings/weave/weavejs.d.ts"/>

// Temporary solution
// because typescript removes
// unused imports
var v1 = [_weaveC3Barchart2.default, _weaveC3Scatterplot2.default, _weaveC3Colorlegend2.default, _weaveC3Barchartlegend2.default, _weaveC3Linechart2.default, _weaveC3Piechart2.default, _weaveC3Histogram2.default, _weaveSessionStateMenu2.default, _OpenLayersMapTool2.default, _weaveReactTable2.default];

var LAYOUT = "Layout";
var LEFT = "left";
var RIGHT = "right";
var TOP = "top";
var BOTTOM = "bottom";
var VERTICAL = "vertical";
var HORIZONTAL = "horizontal";
var TOOLOVERLAY = "tooloverlay";

var WeaveLayoutManager = function (_React$Component) {
    _inherits(WeaveLayoutManager, _React$Component);

    function WeaveLayoutManager(props) {
        _classCallCheck(this, WeaveLayoutManager);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveLayoutManager).call(this, props));

        _this.weave = _this.props.weave || new Weave();
        _this.weave.path(LAYOUT).request("FlexibleLayout");
        _this.margin = 8;
        return _this;
    }

    _createClass(WeaveLayoutManager, [{
        key: "componentDidMount",
        value: function componentDidMount() {
            var _this2 = this;

            window.addEventListener("resize", this._forceUpdate = _.throttle(function () {
                _this2.dirty = true;_this2.forceUpdate();
            }, 30));
            this.weave.root.childListCallbacks.addGroupedCallback(this, _.debounce(this.forceUpdate.bind(this), 0), true);
            this.weave.path(LAYOUT).addCallback(this, _.debounce(this.forceUpdate.bind(this), 0), true);
            this.weave.path(LAYOUT).state(this.simplifyState(this.weave.path(LAYOUT).getState()));
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            window.removeEventListener("resize", this._forceUpdate);
        }
    }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate() {
            if (Weave.detectChange(this, this.weave.getObject(LAYOUT)) || this.dirty) {
                // dirty flag to trigger render on window resize
                this.dirty = false;
                //_.debounce(this.forceUpdate.bind(this), 0)();
                this.forceUpdate();
            }
        }
    }, {
        key: "saveState",
        value: function saveState(newState) {
            newState = this.simplifyState(newState);
            newState.flex = 1;
            this.weave.path(LAYOUT).state(newState);
            // temporary hack because weave
            // doesn't properly callback forceUpdate
            //this.forceUpdate();
        }
    }, {
        key: "onDragStart",
        value: function onDragStart(id, event) {
            this.toolDragged = id;
            var toolRef = id[0]; // toolName as used in the ref for the weave tool.
            var element = ReactDOM.findDOMNode(this.refs[toolRef]);
            // hack because dataTransfer doesn't exist on type event
            event.dataTransfer.setDragImage(element, 0, 0);
            event.dataTransfer.setData('text/html', null);
        }
    }, {
        key: "hideOverlay",
        value: function hideOverlay() {
            var toolOverlayStyle = _.clone(this.refs[TOOLOVERLAY].state.style);
            toolOverlayStyle.visibility = "hidden";
            toolOverlayStyle.left = toolOverlayStyle.top = toolOverlayStyle.width = toolOverlayStyle.height = 0;
            this.refs[TOOLOVERLAY].setState({
                style: toolOverlayStyle
            });
        }
    }, {
        key: "onDragEnd",
        value: function onDragEnd() {
            if (this.toolDragged && this.toolOver) {
                this.updateLayout(this.toolDragged, this.toolOver, this.dropZone);
                this.toolDragged = null;
                this.dropZone = null;
                this.hideOverlay();
            }
        }
    }, {
        key: "onDragOver",
        value: function onDragOver(toolOver, event) {
            if (!this.toolDragged) {
                return;
            }
            if (_.isEqual(this.toolDragged, toolOver)) {
                // hide the overlay if hovering over the tool being dragged
                this.toolOver = null;
                this.hideOverlay();
                return;
            }
            var toolNode = this.refs[LAYOUT].getDOMNodeFromId(toolOver);
            var toolNodePosition = toolNode.getBoundingClientRect();
            var toolOverlayStyle = _.clone(this.refs[TOOLOVERLAY].state.style);
            var dropZone = this.getDropZone(toolOver, event);
            toolOverlayStyle.left = toolNodePosition.left;
            toolOverlayStyle.top = toolNodePosition.top;
            toolOverlayStyle.width = toolNodePosition.width;
            toolOverlayStyle.height = toolNodePosition.height;
            toolOverlayStyle.visibility = "visible";
            if (dropZone === LEFT) {
                toolOverlayStyle.width = toolNodePosition.width / 2;
            } else if (dropZone === RIGHT) {
                toolOverlayStyle.left = toolNodePosition.left + toolNodePosition.width / 2;
                toolOverlayStyle.width = toolNodePosition.width / 2;
            } else if (dropZone === BOTTOM) {
                toolOverlayStyle.top = toolNodePosition.top + toolNodePosition.height / 2;
                toolOverlayStyle.height = toolNodePosition.height / 2;
            } else if (dropZone === TOP) {
                toolOverlayStyle.height = toolNodePosition.height / 2;
            }
            if (dropZone !== this.dropZone || !_.isEqual(toolOver, this.toolOver)) {
                this.refs[TOOLOVERLAY].setState({
                    style: toolOverlayStyle
                });
            }
            this.dropZone = dropZone;
            this.toolOver = toolOver;
        }
    }, {
        key: "getDropZone",
        value: function getDropZone(id, event) {
            if (this.toolDragged) {
                if (!_.isEqual(this.toolDragged, id)) {
                    var toolNode = this.refs[LAYOUT].getDOMNodeFromId(id);
                    var toolNodePosition = toolNode.getBoundingClientRect();
                    var center = {
                        x: (toolNodePosition.right - toolNodePosition.left) / 2,
                        y: (toolNodePosition.bottom - toolNodePosition.top) / 2
                    };
                    var mousePosRelativeToCenter = {
                        x: event.clientX - (toolNodePosition.left + center.x),
                        y: event.clientY - (toolNodePosition.top + center.y)
                    };
                    var mouseNorm = {
                        x: mousePosRelativeToCenter.x / (toolNodePosition.width / 2),
                        y: mousePosRelativeToCenter.y / (toolNodePosition.height / 2)
                    };
                    var mousePolarCoord = {
                        r: Math.sqrt(mouseNorm.x * mouseNorm.x + mouseNorm.y * mouseNorm.y),
                        theta: Math.atan2(mouseNorm.y, mouseNorm.x)
                    };
                    var zones = [RIGHT, BOTTOM, LEFT, TOP];
                    var zoneIndex = Math.round(mousePolarCoord.theta / (2 * Math.PI) * 4 + 4) % 4;
                    if (mousePolarCoord.r < 0.34) {
                        return "center";
                    } else {
                        return zones[zoneIndex];
                    }
                }
            }
        }
    }, {
        key: "simplifyState",
        value: function simplifyState(state) {
            if (!state) return {};
            var children = state.children;
            if (!children) {
                return state;
            }
            if (children.length === 1) {
                return this.simplifyState(children[0]);
            }
            var simpleChildren = [];
            for (var i = 0; i < children.length; i++) {
                var child = this.simplifyState(children[i]);
                if (child.children && child.direction === state.direction) {
                    var childChildren = child.children;
                    for (var ii = 0; ii < childChildren.length; ii++) {
                        var childChild = childChildren[ii];
                        childChild.flex *= child.flex;
                        simpleChildren.push(childChild);
                    }
                } else {
                    simpleChildren.push(child);
                }
            }
            state.children = simpleChildren;
            var totalSizeChildren = _.sum(_.map(children, "flex"));
            //Scale flex values between 0 and 1 so they sum to 1, avoiding an apparent
            //flex bug where space is lost if sum of flex values is less than 1.
            for (var i = 0; i < state.children.length; i++) {
                state.children[i].flex = _StandardLib2.default.normalize(state.children[i].flex, 0, totalSizeChildren);
            }
            return state;
        }
    }, {
        key: "updateLayout",
        value: function updateLayout(toolDragged, toolDroppedOn, dropZone) {
            if (!this.toolDragged || !this.toolOver || !this.dropZone) {
                return;
            }
            var newState = _.cloneDeep(this.weave.path(LAYOUT).getState());
            var src = _StandardLib2.default.findDeep(newState, { id: toolDragged });
            var dest = _StandardLib2.default.findDeep(newState, { id: toolDroppedOn });
            if (_.isEqual(src.id, dest.id)) {
                return;
            }
            if (dropZone === "center") {
                var srcId = src.id;
                src.id = dest.id;
                dest.id = srcId;
            } else {
                var srcParentArray = _StandardLib2.default.findDeep(newState, function (obj) {
                    return Array.isArray(obj) && obj.indexOf(src) >= 0;
                });
                srcParentArray.splice(srcParentArray.indexOf(src), 1);
                delete dest.id;
                dest.direction = dropZone === TOP || dropZone === BOTTOM ? VERTICAL : HORIZONTAL;
                dest.children = [{
                    id: toolDragged,
                    flex: 0.5
                }, {
                    id: toolDroppedOn,
                    flex: 0.5
                }];
                if (dropZone === BOTTOM || dropZone === RIGHT) {
                    dest.children.reverse();
                }
            }
            this.saveState(newState);
        }
    }, {
        key: "render",
        value: function render() {
            var _this3 = this;

            var children = [];
            var newState = this.weave.path(LAYOUT).getState();
            var paths = this.weave.path().getChildren();
            var rect;
            if (this.element) {
                rect = this.element.getBoundingClientRect();
            }
            for (var i = 0; i < paths.length; i++) {
                var path = paths[i];
                var impl = path.getType();
                if (impl === "weave.visualization.tools::ExternalTool" && path.getType("toolClass")) {
                    impl = path.getState("toolClass");
                }
                if (impl === "weavejs.core.LinkableHashMap" && path.getType("class")) impl = path.getState("class");
                impl = (0, _WeaveTool.getToolImplementation)(impl);
                var toolName = path.getPath()[0];
                var node;
                var toolRect;
                var toolPosition;
                if (impl) {
                    if (this.refs[LAYOUT] && rect) {
                        node = this.refs[LAYOUT].getDOMNodeFromId(path.getPath());
                        if (node) {
                            toolRect = node.getBoundingClientRect();
                            toolPosition = {
                                top: toolRect.top - rect.top,
                                left: toolRect.left - rect.left,
                                width: toolRect.right - toolRect.left,
                                height: toolRect.bottom - toolRect.top,
                                position: "absolute"
                            };
                        }
                    }
                    children.push(React.createElement(_WeaveTool.WeaveTool, { ref: toolName, key: toolName, toolPath: path, style: toolPosition, onDragOver: this.onDragOver.bind(this, path.getPath()), onDragStart: this.onDragStart.bind(this, path.getPath()), onDragEnd: this.onDragEnd.bind(this) }));
                }
            }
            return React.createElement(
                "div",
                { ref: function ref(elt) {
                        _this3.element = elt;
                    }, style: { width: "100%", height: "100%", display: "flex", position: "relative" } },
                React.createElement(_Layout2.default, { key: LAYOUT, ref: LAYOUT, state: _.cloneDeep(newState), onStateChange: this.saveState.bind(this) }),
                children,
                React.createElement(_ToolOverlay2.default, { ref: TOOLOVERLAY })
            );
        }
    }]);

    return WeaveLayoutManager;
}(React.Component);

exports.default = WeaveLayoutManager;

},{"./ToolOverlay":1,"./WeaveTool":3,"./react-flexible-layout/Layout":9,"./tools/OpenLayersMapTool":16,"./tools/weave-c3-barchart":31,"./tools/weave-c3-barchartlegend":32,"./tools/weave-c3-colorlegend":33,"./tools/weave-c3-histogram":34,"./tools/weave-c3-linechart":35,"./tools/weave-c3-piechart":36,"./tools/weave-c3-scatterplot":37,"./tools/weave-react-table":38,"./tools/weave-session-state-menu":39,"./utils/StandardLib":41,"lodash":"lodash","react":"react","react-dom":"react-dom"}],3:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.WeaveTool = undefined;
exports.registerToolImplementation = registerToolImplementation;
exports.getToolImplementation = getToolImplementation;

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _ui = require("./react-ui/ui");

var _ui2 = _interopRequireDefault(_ui);

var _StandardLib = require("./utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

var _tooltip = require("./tools/tooltip");

var _tooltip2 = _interopRequireDefault(_tooltip);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../typings/react/react.d.ts"/>
///<reference path="../typings/react/react-dom.d.ts"/>
///<reference path="../typings/lodash/lodash.d.ts"/>
///<reference path="../typings/react-vendor-prefix/react-vendor-prefix.d.ts"/>
///<reference path="../typings/react-bootstrap/react-bootstrap.d.ts"/>

var toolRegistry = {};
var grabberStyle = {
    width: "16",
    height: "16",
    cursor: "move",
    background: "url(http://placehold.it/32x32)"
};
function registerToolImplementation(asClassName, jsClass) {
    toolRegistry[asClassName] = jsClass;
}
function getToolImplementation(asClassName) {
    return toolRegistry[asClassName];
}

var WeaveTool = exports.WeaveTool = function (_React$Component) {
    _inherits(WeaveTool, _React$Component);

    function WeaveTool(props) {
        _classCallCheck(this, WeaveTool);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveTool).call(this, props));

        _this.toolPath = _this.props.toolPath;
        var toolType = _this.toolPath ? _this.toolPath.getType() : _this.props.toolClass;
        if (toolType === "weave.visualization.tools::ExternalTool" && _this.toolPath.getType("toolClass")) {
            toolType = _this.toolPath.getState("toolClass");
        }
        if (toolType === "weavejs.core.LinkableHashMap" && _this.toolPath.getType("class")) toolType = _this.toolPath.getState("class");
        _this.ToolClass = getToolImplementation(toolType);
        _this.titleBarHeight = 25;
        return _this;
    }

    _createClass(WeaveTool, [{
        key: "componentDidMount",
        value: function componentDidMount() {
            // if(this.toolPath) {
            //     this.toolPath.addCallback(this, this.forceUpdate);
            // }
        }
    }, {
        key: "render",
        value: function render() {
            var _this2 = this;

            var toolHeight = this.props.style ? this.props.style.height - this.titleBarHeight : 320;
            var toolWidth = this.props.style ? this.props.style.width : 320;
            var reactTool;
            if (React.Component.isPrototypeOf(this.ToolClass)) {
                reactTool = React.createElement(this.ToolClass, {
                    key: "tool",
                    ref: function ref(c) {
                        _this2.tool = c;
                    },
                    toolPath: this.toolPath,
                    style: { height: toolHeight, width: toolWidth },
                    toolTip: this.toolTip
                });
            }
            return React.createElement(
                _ui2.default.VBox,
                { style: this.props.style, onMouseEnter: function onMouseEnter() {
                        _this2.titleBar.setState({ showControls: true });
                    }, onMouseLeave: function onMouseLeave() {
                        _this2.titleBar.setState({ showControls: false });
                    }, onDragOver: this.props.onDragOver, onDragEnd: this.props.onDragEnd },
                React.createElement(TitleBar, { ref: function ref(c) {
                        _this2.titleBar = c;
                    }, onDragStart: this.props.onDragStart, titleBarHeight: this.titleBarHeight, title: this.title }),
                React.createElement(
                    "div",
                    { style: { width: toolWidth, height: toolHeight } },
                    React.createElement(
                        "div",
                        { style: { width: "100%", height: "100%", maxHeight: "100%" } },
                        reactTool
                    )
                ),
                React.createElement(_tooltip2.default, { ref: function ref(c) {
                        _this2.toolTip = c;
                    } })
            );
        }
    }, {
        key: "title",
        get: function get() {
            return this.tool ? this.tool.title : "";
        }
    }]);

    return WeaveTool;
}(React.Component);

var TitleBar = function (_React$Component2) {
    _inherits(TitleBar, _React$Component2);

    function TitleBar(props) {
        _classCallCheck(this, TitleBar);

        var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(TitleBar).call(this, props));

        _this3.state = {
            showControls: false
        };
        return _this3;
    }

    _createClass(TitleBar, [{
        key: "render",
        value: function render() {
            var windowBar = {
                width: "100%",
                height: this.props.titleBarHeight,
                backgroundColor: this.state.showControls ? "#f8f8f8" : ""
            };
            var titleStyle = {
                cursor: "move",
                height: this.props.titleBarHeight,
                textAlign: "center",
                overflow: "hidden",
                whiteSpace: "nowrap",
                flex: 1,
                textOverflow: "ellipsis",
                paddingTop: "3"
            };
            var transitions = {
                visibility: this.state.showControls ? "visible" : "hidden",
                opacity: this.state.showControls ? 0.7 : 0,
                transition: this.state.showControls ? "visibiliy 0s 0.1s, opacity 0.1s linear" : "visibility 0s 0.1s, opacity 0.1s linear"
            };
            var leftControls = {
                marginLeft: 5,
                marginTop: 2,
                width: 20
            };
            var rightControls = {
                marginTop: 2,
                width: 38
            };
            _StandardLib2.default.merge(leftControls, transitions);
            _StandardLib2.default.merge(rightControls, transitions);
            return React.createElement(
                _ui2.default.HBox,
                { ref: "header", style: windowBar, draggable: true, onDragStart: this.props.onDragStart },
                React.createElement(
                    "span",
                    { style: titleStyle },
                    this.props.title
                )
            );
        }
    }]);

    return TitleBar;
}(React.Component);

},{"./react-ui/ui":14,"./tools/tooltip":30,"./utils/StandardLib":41,"react":"react"}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.loadLayout = exports.getUrlParams = exports.MenuTool = exports.DataTable = exports.Map = exports.Histogram = exports.PieChart = exports.LineChart = exports.BarChartLegend = exports.ColorLegend = exports.ScatterPlot = exports.Barchart = exports.Layout = undefined;

var _WeaveLayoutManager = require("./WeaveLayoutManager");

var _WeaveLayoutManager2 = _interopRequireDefault(_WeaveLayoutManager);

var _weaveC3Barchart = require("./tools/weave-c3-barchart");

var _weaveC3Barchart2 = _interopRequireDefault(_weaveC3Barchart);

var _weaveC3Scatterplot = require("./tools/weave-c3-scatterplot");

var _weaveC3Scatterplot2 = _interopRequireDefault(_weaveC3Scatterplot);

var _weaveC3Colorlegend = require("./tools/weave-c3-colorlegend");

var _weaveC3Colorlegend2 = _interopRequireDefault(_weaveC3Colorlegend);

var _weaveC3Barchartlegend = require("./tools/weave-c3-barchartlegend");

var _weaveC3Barchartlegend2 = _interopRequireDefault(_weaveC3Barchartlegend);

var _weaveC3Linechart = require("./tools/weave-c3-linechart");

var _weaveC3Linechart2 = _interopRequireDefault(_weaveC3Linechart);

var _weaveC3Piechart = require("./tools/weave-c3-piechart");

var _weaveC3Piechart2 = _interopRequireDefault(_weaveC3Piechart);

var _weaveC3Histogram = require("./tools/weave-c3-histogram");

var _weaveC3Histogram2 = _interopRequireDefault(_weaveC3Histogram);

var _OpenLayersMapTool = require("./tools/OpenLayersMapTool");

var _OpenLayersMapTool2 = _interopRequireDefault(_OpenLayersMapTool);

var _weaveReactTable = require("./tools/weave-react-table");

var _weaveReactTable2 = _interopRequireDefault(_weaveReactTable);

var _weaveSessionStateMenu = require("./tools/weave-session-state-menu");

var _weaveSessionStateMenu2 = _interopRequireDefault(_weaveSessionStateMenu);

var _StandardLib = require("./utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

var _jszip = require("jszip");

var _jszip2 = _interopRequireDefault(_jszip);

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _reactDom = require("react-dom");

var ReactDOM = _interopRequireWildcard(_reactDom);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*global Weave, weavejs*/
var stub = React; /// <reference path="../typings/jszip/jszip.d.ts"/>
/// <reference path="../typings/react/react.d.ts"/>
/// <reference path="../typings/react/react-dom.d.ts"/>
/// <reference path="../typings/weave/Weave.d.ts"/>
/// <reference path="../typings/weave/weavejs.d.ts"/>

weavejs.util.JS.JSZip = _jszip2.default;
// var WeaveUI = {
//     Layout: WeaveLayoutManager,
//     Barchart: WeaveC3Barchart,
//     ScatterPlot: WeaveC3ScatterPlot,
//     ColorLegend: WeaveC3ColorLegend,
//     LineChart: WeaveC3LineChart,
//     PieChart: WeaveC3PieChart,
//     Histogram: WeaveC3Histogram,
//     Map: WeaveOpenLayersMap,
//     DataTable: WeaveReactTable,
//     MenuTool: SessionStateMenuTool,
//     getUrlParams: StandardLib.getUrlParams,
//     loadLayout: function(weave, fileName, targetEltId, callback) {
//
//         function render() {
//             ReactDOM.render(
//                 <WeaveUI.Layout weave={weave}/>,
//                 document.getElementById(targetEltId),
//                 callback
//             );
//         }
//
//         weavejs.core.WeaveArchive.loadUrl(weave, fileName).then(render, e => {
//             console.error(e)
//         });
//
//     }
// };
//
// // namespace WeaveUI
// export default WeaveUI;
var Layout = exports.Layout = _WeaveLayoutManager2.default;
var Barchart = exports.Barchart = _weaveC3Barchart2.default;
var ScatterPlot = exports.ScatterPlot = _weaveC3Scatterplot2.default;
var ColorLegend = exports.ColorLegend = _weaveC3Colorlegend2.default;
var BarChartLegend = exports.BarChartLegend = _weaveC3Barchartlegend2.default;
var LineChart = exports.LineChart = _weaveC3Linechart2.default;
var PieChart = exports.PieChart = _weaveC3Piechart2.default;
var Histogram = exports.Histogram = _weaveC3Histogram2.default;
var Map = exports.Map = _OpenLayersMapTool2.default;
var DataTable = exports.DataTable = _weaveReactTable2.default;
var MenuTool = exports.MenuTool = _weaveSessionStateMenu2.default;
var getUrlParams = exports.getUrlParams = _StandardLib2.default.getUrlParams;
var loadLayout = exports.loadLayout = function loadLayout(weave, fileName, targetEltId, callback) {
    function render() {
        ReactDOM.render(React.createElement(Layout, { weave: weave }), document.getElementById(targetEltId), callback);
    }
    if (weave) {
        if (!fileName) {
            render();
        } else {
            weavejs.core.WeaveArchive.loadUrl(weave, fileName).then(render, function (e) {
                console.error(e);
            });
        }
    } else {
        console.error("Missing Weave instance!");
    }
};

},{"./WeaveLayoutManager":2,"./tools/OpenLayersMapTool":16,"./tools/weave-c3-barchart":31,"./tools/weave-c3-barchartlegend":32,"./tools/weave-c3-colorlegend":33,"./tools/weave-c3-histogram":34,"./tools/weave-c3-linechart":35,"./tools/weave-c3-piechart":36,"./tools/weave-c3-scatterplot":37,"./tools/weave-react-table":38,"./tools/weave-session-state-menu":39,"./utils/StandardLib":41,"jszip":"jszip","react":"react","react-dom":"react-dom"}],5:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _reactBootstrap = require("react-bootstrap");

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _TableHead = require("./TableHead");

var _TableHead2 = _interopRequireDefault(_TableHead);

var _TableBody = require("./TableBody");

var _TableBody2 = _interopRequireDefault(_TableBody);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/react-bootstrap/react-bootstrap.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>

var ReactBootstrapTable = function (_React$Component) {
    _inherits(ReactBootstrapTable, _React$Component);

    function ReactBootstrapTable(props) {
        _classCallCheck(this, ReactBootstrapTable);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ReactBootstrapTable).call(this, props));

        _this.state = {
            probedIds: [],
            selectedIds: []
        };
        return _this;
    }

    _createClass(ReactBootstrapTable, [{
        key: "onMouseOver",
        value: function onMouseOver(id, status) {
            var probedIds = this.state.probedIds.slice(0);
            // find the selected record location
            var keyLocation = probedIds.indexOf(id);
            if (!status && keyLocation > -1) {
                probedIds.splice(keyLocation, 1);
            } else {
                probedIds.push(id);
            }
            if (this.props.onProbe) {
                this.props.onProbe(probedIds);
            }
            this.setState({
                probedIds: probedIds
            });
        }
    }, {
        key: "onClick",
        value: function onClick(id, event) {
            var _this2 = this;

            var selectedIds = this.state.selectedIds.slice(0);
            // in single selection mode,
            // or ctrl/cmd selcection mode
            // already selected keys get unselected
            // find the selected record location
            var keyLocation = selectedIds.indexOf(id);
            // multiple selection
            if (event.ctrlKey || event.metaKey) {
                // if the record is already in the selection
                // we remove it
                if (keyLocation > -1) {
                    selectedIds.splice(keyLocation, 1);
                } else {
                    selectedIds.push(id);
                }
                this.lastClicked = id;
            } else if (event.shiftKey) {
                selectedIds = [];
                if (!this.lastClicked) {} else {
                    var start = _.findIndex(this.props.rows, function (row) {
                        return row["id"] == _this2.lastClicked;
                    });
                    var end = _.findIndex(this.props.rows, function (row) {
                        return row["id"] == id;
                    });
                    if (start > end) {
                        var temp = start;
                        start = end;
                        end = temp;
                    }
                    for (var i = start; i <= end; i++) {
                        selectedIds.push(this.props.rows[i]["id"]);
                    }
                }
            } else {
                // if there was only one record selected
                // and we are clicking on it again, then we want to
                // clear the selection.
                if (selectedIds.length == 1 && selectedIds[0] == id) {
                    selectedIds = [];
                    this.lastClicked = null;
                } else {
                    selectedIds = [id];
                    this.lastClicked = id;
                }
            }
            if (this.props.onSelection) {
                this.props.onSelection(selectedIds);
            }
            this.setState({
                selectedIds: selectedIds
            });
        }
    }, {
        key: "render",
        value: function render() {
            var _this3 = this;

            var tableContainer = {
                overflow: "auto",
                height: this.props.height
            };
            var selectedIds;
            var probedIds;
            if (this.props.selectedIds) {
                selectedIds = this.props.selectedIds;
            } else {
                selectedIds = this.state.selectedIds;
            }
            if (this.props.probedIds) {
                probedIds = this.props.probedIds;
            } else {
                probedIds = this.state.probedIds;
            }
            return React.createElement(
                "div",
                { style: tableContainer },
                React.createElement(
                    _reactBootstrap.Table,
                    { key: "table", ref: "table", striped: this.props.striped, bordered: this.props.bordered, condensed: this.props.condensed, hover: true },
                    React.createElement(_TableHead2.default, { key: "head", ref: function ref(c) {
                            _this3.tableHead = c;
                        }, columnTitles: this.props.columnTitles, idProperty: this.props.idProperty, showIdColumn: this.props.showIdColumn }),
                    React.createElement(_TableBody2.default, { key: "body", ref: function ref(c) {
                            _this3.tableBody = c;
                        }, idProperty: this.props.idProperty, onMouseOver: this.onMouseOver.bind(this), onClick: this.onClick.bind(this), rows: this.props.rows, selectedIds: selectedIds, probedIds: probedIds, showIdColumn: this.props.showIdColumn })
                )
            );
        }
    }]);

    return ReactBootstrapTable;
}(React.Component);

exports.default = ReactBootstrapTable;

},{"./TableBody":6,"./TableHead":7,"lodash":"lodash","react":"react","react-bootstrap":"react-bootstrap"}],6:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _TableRow = require("./TableRow");

var _TableRow2 = _interopRequireDefault(_TableRow);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/react-bootstrap/react-bootstrap.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>

var TableBody = function (_React$Component) {
    _inherits(TableBody, _React$Component);

    function TableBody(props) {
        _classCallCheck(this, TableBody);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TableBody).call(this, props));

        _this.tableRows = {};
        return _this;
    }

    _createClass(TableBody, [{
        key: "componentDidUpdate",
        value: function componentDidUpdate() {}
    }, {
        key: "render",
        value: function render() {
            var _this2 = this;

            return React.createElement(
                "tbody",
                null,
                this.props.rows.map(function (row, index) {
                    return React.createElement(_TableRow2.default, { ref: function ref(tableRow) {
                            _this2.tableRows[row[_this2.props.idProperty]] = tableRow;
                        }, key: index, onMouseOver: _this2.props.onMouseOver.bind(_this2, row[_this2.props.idProperty]), onClick: _this2.props.onClick.bind(_this2, row[_this2.props.idProperty]), idProperty: _this2.props.idProperty, row: row, probed: _this2.props.probedIds.indexOf(row[_this2.props.idProperty]) > -1, selected: _this2.props.selectedIds.indexOf(row[_this2.props.idProperty]) > -1, showIdColumn: _this2.props.showIdColumn });
                })
            );
        }
    }]);

    return TableBody;
}(React.Component);

exports.default = TableBody;

},{"./TableRow":8,"react":"react"}],7:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/react-bootstrap/react-bootstrap.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>

var TableHead = function (_React$Component) {
    _inherits(TableHead, _React$Component);

    function TableHead(props) {
        _classCallCheck(this, TableHead);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TableHead).call(this, props));
    }

    _createClass(TableHead, [{
        key: "render",
        value: function render() {
            var _this2 = this;

            var headers = [];
            var keys = Object.keys(this.props.columnTitles);
            if (!this.props.showIdColumn) {
                keys.splice(keys.indexOf(this.props.idProperty), 1);
            }
            headers = keys.map(function (columnId) {
                return React.createElement(
                    "th",
                    { key: columnId },
                    _this2.props.columnTitles[columnId]
                );
            });
            return React.createElement(
                "thead",
                { className: "table-header" },
                React.createElement(
                    "tr",
                    null,
                    headers
                )
            );
        }
    }]);

    return TableHead;
}(React.Component);

exports.default = TableHead;

},{"react":"react"}],8:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

var _reactVendorPrefix = require("react-vendor-prefix");

var Prefixer = _interopRequireWildcard(_reactVendorPrefix);

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/react-bootstrap/react-bootstrap.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>
/// <reference path="../../typings/react-vendor-prefix/react-vendor-prefix.d.ts"/>

;
var baseStyle = {
    userSelect: "none"
};

var TableRow = function (_React$Component) {
    _inherits(TableRow, _React$Component);

    function TableRow(props) {
        _classCallCheck(this, TableRow);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TableRow).call(this, props));

        _this.selectedStyle = {
            backgroundColor: "#80CCFF"
        };
        _this.clear = {};
        _this.probedAndSelected = {
            backgroundColor: "#99D6FF"
        };
        _this.probedStyle = {
            backgroundColor: "rgba(153, 214, 255, 0.4)"
        };
        return _this;
    }

    _createClass(TableRow, [{
        key: "shouldComponentUpdate",
        value: function shouldComponentUpdate(nextProps, nextState) {
            // only update the row if the key has changed
            return this.props.selected != nextProps.selected || this.props.probed != nextProps.probed || !_.isEqual(this.props.row, nextProps.row);
        }
    }, {
        key: "render",
        value: function render() {
            var _this2 = this;

            var style = {};
            var selected = this.props.selected;
            var probed = this.props.probed;
            if (selected && probed) {
                style = this.probedAndSelected;
            }
            if (selected && !probed) {
                style = this.selectedStyle;
            }
            if (!selected && probed) {
                style = this.probedStyle;
            }
            if (!selected && !probed) {
                style = this.clear;
            }
            _StandardLib2.default.merge(style, baseStyle);
            var cells = [];
            var keys = Object.keys(this.props.row);
            if (!this.props.showIdColumn) {
                keys.splice(keys.indexOf(this.props.idProperty), 1);
            }
            cells = keys.map(function (key) {
                return React.createElement(
                    "td",
                    { key: key },
                    _this2.props.row[key]
                );
            });
            return React.createElement(
                "tr",
                { style: Prefixer.prefix({ styles: style }).styles, onMouseOver: this.props.onMouseOver.bind(this, true), onMouseOut: this.props.onMouseOver.bind(this, false), onClick: this.props.onClick.bind(this) },
                cells
            );
        }
    }]);

    return TableRow;
}(React.Component);

exports.default = TableRow;

},{"../utils/StandardLib":41,"lodash":"lodash","react":"react","react-vendor-prefix":"react-vendor-prefix"}],9:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _reactDom = require("react-dom");

var ReactDOM = _interopRequireWildcard(_reactDom);

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _reactVendorPrefix = require("react-vendor-prefix");

var VendorPrefix = _interopRequireWildcard(_reactVendorPrefix);

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

var _Resizer = require("./Resizer");

var _Resizer2 = _interopRequireDefault(_Resizer);

var _ResizerOverlay = require("./ResizerOverlay");

var _ResizerOverlay2 = _interopRequireDefault(_ResizerOverlay);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts" />
/// <reference path="../../typings/react/react-dom.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>
/// <reference path="../../typings/react-vendor-prefix/react-vendor-prefix.d.ts"/>

var RESIZEROVERLAY = "resizer";
var HORIZONTAL = "horizontal";

var Layout = function (_React$Component) {
    _inherits(Layout, _React$Component);

    function Layout(props, state) {
        _classCallCheck(this, Layout);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Layout).call(this, props, state));

        _this.panelDragging = false;
        var ps = props.state || {};
        _this.state = { id: ps.id, direction: ps.direction, children: ps.children, flex: ps.flex };
        _this.minSize = 16;
        _this.dragging = false;
        return _this;
    }

    _createClass(Layout, [{
        key: "componentDidMount",
        value: function componentDidMount() {
            document.addEventListener("mouseup", this.boundMouseUp = this.onMouseUp.bind(this));
            document.addEventListener("mousedown", this.boundMouseDown = this.onMouseDown.bind(this));
            document.addEventListener("mousemove", this.boundMouseMove = this.onMouseMove.bind(this));
        }
    }, {
        key: "componentWillReceiveProps",
        value: function componentWillReceiveProps(nextProps) {
            this.setState(_StandardLib2.default.includeMissingPropertyPlaceholders(this.state, nextProps.state));
        }
    }, {
        key: "compoenentWillUnmount",
        value: function compoenentWillUnmount() {
            document.removeEventListener("mousedown", this.boundMouseDown);
            document.removeEventListener("mouseup", this.boundMouseUp);
            document.removeEventListener("mouseMove", this.boundMouseMove);
        }
    }, {
        key: "shouldComponentUpdate",
        value: function shouldComponentUpdate(nextProps, nextState) {
            return !_.isEqual(this.state, nextState) || !_.isEqual(this.state, nextProps.state);
        }
    }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate() {
            if (this.props.onStateChange && this.state) {
                this.props.onStateChange(this.state);
            }
        }
    }, {
        key: "getDOMNodeFromId",
        value: function getDOMNodeFromId(id) {
            var component = this.getComponentFromId(id);
            if (component) {
                return component.element;
            }
        }
    }, {
        key: "getComponentFromId",
        value: function getComponentFromId(id) {
            if (this.state.id && _.isEqual(this.state.id, id)) {
                return this;
            } else {
                for (var i = 0; i < this.childNames.length; i++) {
                    var component = this.refs[this.childNames[i]].getComponentFromId(id);
                    if (component) {
                        return component;
                    }
                }
            }
        }
    }, {
        key: "onMouseDown",
        value: function onMouseDown(event) {
            var _this2 = this;

            this.resizerNames.forEach(function (resizerName) {
                var resizer = _this2.refs[resizerName];
                if (resizer && resizer.state && resizer.state.active) {
                    var overlayRange = _this2.getResizerRange(resizer);
                    overlayRange[0] += _this2.minSize;
                    overlayRange[1] -= _this2.minSize;
                    _this2.refs[RESIZEROVERLAY].setState({
                        active: true,
                        range: overlayRange
                    });
                }
            });
        }
    }, {
        key: "onMouseMove",
        value: function onMouseMove(event) {}
    }, {
        key: "getResizerRange",
        value: function getResizerRange(resizer) {
            var direction = resizer.props.direction;
            var pane1 = this.refs[resizer.props.pane1];
            var pane2 = this.refs[resizer.props.pane2];
            var element1 = ReactDOM.findDOMNode(pane1);
            var element2 = ReactDOM.findDOMNode(pane2);
            var rect = this.element.getBoundingClientRect();
            var pageLeft = window.pageXOffset + rect.left;
            var pageTop = window.pageYOffset + rect.top;
            if (direction === HORIZONTAL) {
                return [element1.offsetLeft + pageLeft, element2.offsetLeft + element2.clientWidth + pageLeft];
            } else {
                return [element1.offsetTop + pageTop, element2.offsetTop + element2.clientHeight + pageTop];
            }
        }
    }, {
        key: "onMouseUp",
        value: function onMouseUp(event) {
            var _this3 = this;

            var newState = _.cloneDeep(this.state);
            this.resizerNames.forEach(function (resizerName) {
                var resizer = _this3.refs[resizerName];
                var resizerOverlay = _this3.refs[RESIZEROVERLAY];
                if (resizer && resizer.state && resizer.state.active) {
                    var range = _this3.getResizerRange(resizer);
                    var begin = range[0];
                    var end = range[1];
                    var mousePos = _this3.state.direction === HORIZONTAL ? event.pageX : event.pageY;
                    var size = _this3.state.direction === HORIZONTAL ? _this3.element.clientWidth : _this3.element.clientHeight;
                    mousePos = Math.max(begin + _this3.minSize, Math.min(mousePos, end - _this3.minSize));
                    var ref1 = resizer.props.pane1;
                    var ref2 = resizer.props.pane2;
                    var pane1 = _this3.refs[ref1];
                    var pane2 = _this3.refs[ref2];
                    var index1 = _this3.childNames.indexOf(ref1);
                    var index2 = _this3.childNames.indexOf(ref2);
                    var flex1 = (mousePos - begin) / size;
                    var flex2 = (end - mousePos) / size;
                    newState.children[index1].flex = flex1;
                    newState.children[index2].flex = flex2;
                    pane1.setState({
                        flex: flex1
                    });
                    pane2.setState({
                        flex: flex2
                    });
                    resizer.setState({
                        active: false
                    });
                    resizerOverlay.setState({
                        active: false
                    });
                    _this3.setState(newState);
                }
            });
            this.panelDragging = false;
        }
    }, {
        key: "handleStateChange",
        value: function handleStateChange(childRef, newState) {
            var stateCopy = _.cloneDeep(this.state);
            var index = this.childNames.indexOf(childRef);
            stateCopy.children[index] = newState;
            this.setState(stateCopy);
        }
    }, {
        key: "render",
        value: function render() {
            var _this4 = this;

            this.childNames = [];
            this.resizerNames = [];
            var style = {
                display: "flex",
                flex: this.state.flex,
                position: "relative",
                outline: "none",
                overflow: "hidden",
                userSelect: "none",
                flexDirection: this.state.direction === HORIZONTAL ? "row" : "column"
            };
            if (this.state.direction === HORIZONTAL) {
                style.height = "100%";
            } else {
                style.width = "100%";
            }
            if (this.state.children && this.state.children.length > 0) {
                var newChildren = new Array(this.state.children.length * 2 - 1);
                this.state.children.forEach(function (childState, i) {
                    var ref = "child" + i;
                    _this4.childNames[i] = ref;
                    newChildren[i * 2] = React.createElement(Layout, { onStateChange: _this4.handleStateChange.bind(_this4, ref), ref: ref, state: childState, key: i * 2 });
                });
                var i;
                for (i = 1; i < newChildren.length - 1; i += 2) {
                    var resizerName = "resizer" + i / 2;
                    this.resizerNames.push(resizerName);
                    var resizer = React.createElement(_Resizer2.default, { ref: resizerName, key: i, direction: this.state.direction, pane1: newChildren[i - 1].ref, pane2: newChildren[i + 1].ref });
                    newChildren[i] = resizer;
                }
            }
            var prefixed = VendorPrefix.prefix({ styles: style });
            return React.createElement(
                "div",
                { ref: function ref(elt) {
                        _this4.element = elt;
                    }, style: prefixed.styles },
                newChildren,
                React.createElement(_ResizerOverlay2.default, { ref: RESIZEROVERLAY, key: RESIZEROVERLAY, direction: this.state.direction })
            );
        }
    }]);

    return Layout;
}(React.Component);

exports.default = Layout;

},{"../utils/StandardLib":41,"./Resizer":10,"./ResizerOverlay":11,"lodash":"lodash","react":"react","react-dom":"react-dom","react-vendor-prefix":"react-vendor-prefix"}],10:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _reactVendorPrefix = require("react-vendor-prefix");

var VendorPrefix = _interopRequireWildcard(_reactVendorPrefix);

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts" />
/// <reference path="../../typings/react/react-dom.d.ts"/>
/// <reference path="../../typings/react-vendor-prefix/react-vendor-prefix.d.ts"/>

var HORIZONTAL = "horizontal";
var resizerStyle = {};
resizerStyle.basic = {
    background: "#000",
    opacity: .1,
    zIndex: 1,
    boxSizing: "border-box",
    backgroundClip: "padding"
};
resizerStyle.vertical = {
    height: "4px",
    cursor: "row-resize",
    width: "100%"
};
resizerStyle.horizontal = {
    width: "4px",
    cursor: "col-resize",
    height: "100%"
};

var Resizer = function (_React$Component) {
    _inherits(Resizer, _React$Component);

    function Resizer(props) {
        _classCallCheck(this, Resizer);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Resizer).call(this, props));

        _this.state = {
            active: false
        };
        return _this;
    }

    _createClass(Resizer, [{
        key: "componentDidMount",
        value: function componentDidMount() {
            this.element.addEventListener("mousedown", this.boundMouseDown = this.onMouseDown.bind(this));
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            this.element.removeEventListener("mousedown", this.boundMouseDown);
        }
    }, {
        key: "onMouseDown",
        value: function onMouseDown() {
            this.setState({
                active: true
            });
        }
    }, {
        key: "render",
        value: function render() {
            var _this2 = this;

            var direction = this.props.direction;
            var style = resizerStyle.basic;
            _StandardLib2.default.merge(style, resizerStyle[direction]);
            var prefixed = VendorPrefix.prefix({ styles: style });
            return React.createElement("span", { ref: function ref(elt) {
                    _this2.element = elt;
                }, style: prefixed.styles });
        }
    }]);

    return Resizer;
}(React.Component);

exports.default = Resizer;

},{"../utils/StandardLib":41,"react":"react","react-vendor-prefix":"react-vendor-prefix"}],11:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _reactVendorPrefix = require("react-vendor-prefix");

var VendorPrefix = _interopRequireWildcard(_reactVendorPrefix);

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts" />
/// <reference path="../../typings/react-vendor-prefix/react-vendor-prefix.d.ts"/>
/// <reference path="../../typings/react/react-dom.d.ts"/>

var HORIZONTAL = "horizontal";
var mouseevents = ["mouseover", "mouseout", "mouseleave"];
var resizerStyle = {};
resizerStyle.basic = {
    background: "#000",
    opacity: .3,
    zIndex: 1,
    boxSizing: "border-box",
    backgroundClip: "padding",
    position: "absolute"
};
resizerStyle.vertical = {
    height: "4px",
    cursor: "row-resize",
    width: "100%"
};
resizerStyle.horizontal = {
    width: "4px",
    cursor: "col-resize",
    height: "100%"
};
;

var ResizerOverlay = function (_React$Component) {
    _inherits(ResizerOverlay, _React$Component);

    function ResizerOverlay(props) {
        _classCallCheck(this, ResizerOverlay);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ResizerOverlay).call(this, props));

        _this.state = {
            active: false,
            range: [],
            x: NaN,
            y: NaN
        };
        return _this;
    }

    _createClass(ResizerOverlay, [{
        key: "componentDidMount",
        value: function componentDidMount() {
            var _this2 = this;

            document.addEventListener("mousemove", this._onMouseMove = this.onMouseMove.bind(this), true);
            mouseevents.forEach(function (mouseevent) {
                return document.addEventListener(mouseevent, _this2._stopEventPropagation = _this2.stopEventPropagation.bind(_this2), true);
            });
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            var _this3 = this;

            document.removeEventListener("mousemove", this._onMouseMove);
            mouseevents.forEach(function (mouseevent) {
                return document.removeEventListener(mouseevent, _this3._stopEventPropagation);
            });
        }
    }, {
        key: "stopEventPropagation",
        value: function stopEventPropagation(event) {
            if (this.state.active) {
                event.stopImmediatePropagation();
            }
        }
    }, {
        key: "onMouseMove",
        value: function onMouseMove(event) {
            if (this.state.active) {
                event.stopImmediatePropagation();
                var container = this.element.parentNode;
                var rect = container.getBoundingClientRect();
                var left = window.pageXOffset + rect.left;
                var top = window.pageYOffset + rect.top;
                var mousePos = this.props.direction === HORIZONTAL ? event.pageX : event.pageY;
                mousePos = Math.max(this.state.range[0], Math.min(mousePos, this.state.range[1]));
                if (this.props.direction === HORIZONTAL) {
                    this.setState({
                        x: mousePos - left,
                        y: NaN
                    });
                } else {
                    this.setState({
                        x: NaN,
                        y: mousePos - top
                    });
                }
            }
        }
    }, {
        key: "render",
        value: function render() {
            var _this4 = this;

            var direction = this.props.direction;
            var style = {};
            _StandardLib2.default.merge(style, resizerStyle.basic);
            _StandardLib2.default.merge(style, resizerStyle[direction]);
            if (this.state.active) {
                style.visibility = "visible";
                style.left = this.state.x;
                style.top = this.state.y;
            } else {
                style.visibility = "hidden";
            }
            var prefixed = VendorPrefix.prefix({ styles: style });
            return React.createElement("span", { ref: function ref(elt) {
                    _this4.element = elt;
                }, style: prefixed.styles });
        }
    }]);

    return ResizerOverlay;
}(React.Component);

exports.default = ResizerOverlay;

},{"../utils/StandardLib":41,"react":"react","react-vendor-prefix":"react-vendor-prefix"}],12:[function(require,module,exports){
"use strict";

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts"/>

var HBox = function (_React$Component) {
    _inherits(HBox, _React$Component);

    function HBox(props, state) {
        _classCallCheck(this, HBox);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(HBox).call(this, props));
    }

    _createClass(HBox, [{
        key: "render",
        value: function render() {
            var style = this.props.style || {};
            var otherProps = {};
            for (var key in this.props) {
                if (key !== "style") {
                    otherProps[key] = this.props[key];
                }
            }
            style = style || {};
            style.display = "flex";
            style.flexDirection = "row";
            return React.createElement(
                "div",
                _extends({ style: style }, otherProps),
                this.props.children
            );
        }
    }]);

    return HBox;
}(React.Component);

exports.default = HBox;

},{"react":"react"}],13:[function(require,module,exports){
"use strict";

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts"/>

var VBox = function (_React$Component) {
    _inherits(VBox, _React$Component);

    function VBox(props, state) {
        _classCallCheck(this, VBox);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(VBox).call(this, props));
    }

    _createClass(VBox, [{
        key: "render",
        value: function render() {
            var style = this.props.style || {};
            var otherProps = {};
            for (var key in this.props) {
                if (key !== "style") {
                    otherProps[key] = this.props[key];
                }
            }
            style.display = "flex";
            style.flexDirection = "column";
            return React.createElement(
                "div",
                _extends({ style: style }, otherProps),
                this.props.children
            );
        }
    }]);

    return VBox;
}(React.Component);

exports.default = VBox;

},{"react":"react"}],14:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _HBox = require("./HBox");

var _HBox2 = _interopRequireDefault(_HBox);

var _VBox = require("./VBox");

var _VBox2 = _interopRequireDefault(_VBox);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
    HBox: _HBox2.default,
    VBox: _VBox2.default
};

},{"./HBox":12,"./VBox":13}],15:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _d = require("d3");

var d3 = _interopRequireWildcard(_d);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../typings/react/react.d.ts"/>
///<reference path="../../typings/react/react-dom.d.ts"/>
///<reference path="../../typings/weave/WeavePath.d.ts"/>
///<reference path="../../typings/d3/d3.d.ts"/>
/// <reference path="../../typings/c3/c3.d.ts"/>

var AbstractC3Tool = function (_React$Component) {
    _inherits(AbstractC3Tool, _React$Component);

    function AbstractC3Tool(props) {
        _classCallCheck(this, AbstractC3Tool);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(AbstractC3Tool).call(this, props));

        _this.toolPath = props.toolPath;
        _this.paths = {};
        return _this;
    }

    _createClass(AbstractC3Tool, [{
        key: "componentDidUpdate",
        value: function componentDidUpdate() {
            if (this.c3Config.size.width != this.props.style.width || this.c3Config.size.height != this.props.style.height) {
                this.c3Config.size = { width: this.props.style.width, height: this.props.style.height };
                this.chart.resize({ width: this.props.style.width, height: this.props.style.height });
            }
        }
        // this function accepts an arry of path configurations
        // a path config is an object with a path object name, the weave path and an
        // optional callback or array of callbacks

    }, {
        key: "initializePaths",
        value: function initializePaths(properties) {
            var _this2 = this;

            properties.forEach(function (pathConf) {
                _this2.paths[pathConf.name] = pathConf.path;
                if (pathConf.callbacks) {
                    var callbacks = Array.isArray(pathConf.callbacks) ? pathConf.callbacks : [pathConf.callbacks];
                    callbacks.forEach(function (callback) {
                        _this2.paths[pathConf.name].addCallback(_this2, callback, true);
                    });
                }
            });
        }
    }, {
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "customStyle",
        value: function customStyle(array, type, filter, style) {
            var _this3 = this;

            array.forEach(function (index) {
                var filtered = d3.select(_this3.element).selectAll(type).filter(filter);
                if (filtered.length) d3.select(filtered[0][index]).style(style);
            });
        }
    }, {
        key: "customSelectorStyle",
        value: function customSelectorStyle(array, selector, style) {
            array.forEach(function (index) {
                if (selector.length) d3.select(selector[0][index]).style(style);
            });
        }
    }, {
        key: "render",
        value: function render() {
            var _this4 = this;

            return React.createElement("div", { ref: function ref(c) {
                    _this4.element = c;
                }, style: { width: "100%", height: "100%", maxHeight: "100%" } });
        }
    }, {
        key: "title",
        get: function get() {
            return (this.toolPath.getType('panelTitle') ? this.toolPath.getState('panelTitle') : '') || this.toolPath.getPath().pop();
        }
    }]);

    return AbstractC3Tool;
}(React.Component);

exports.default = AbstractC3Tool;

},{"d3":"d3","react":"react"}],16:[function(require,module,exports){
"use strict";

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _lodash = require("lodash");

var lodash = _interopRequireWildcard(_lodash);

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _jquery = require("jquery");

var _jquery2 = _interopRequireDefault(_jquery);

var _WeaveTool = require("../WeaveTool");

var _Layer = require("./OpenLayersMap/Layers/Layer");

var _Layer2 = _interopRequireDefault(_Layer);

var _GeometryLayer = require("./OpenLayersMap/Layers/GeometryLayer");

var _GeometryLayer2 = _interopRequireDefault(_GeometryLayer);

var _TileLayer = require("./OpenLayersMap/Layers/TileLayer");

var _TileLayer2 = _interopRequireDefault(_TileLayer);

var _ImageGlyphLayer = require("./OpenLayersMap/Layers/ImageGlyphLayer");

var _ImageGlyphLayer2 = _interopRequireDefault(_ImageGlyphLayer);

var _ScatterPlotLayer = require("./OpenLayersMap/Layers/ScatterPlotLayer");

var _ScatterPlotLayer2 = _interopRequireDefault(_ScatterPlotLayer);

var _LabelLayer = require("./OpenLayersMap/Layers/LabelLayer");

var _LabelLayer2 = _interopRequireDefault(_LabelLayer);

var _PanCluster = require("./OpenLayersMap/PanCluster");

var _PanCluster2 = _interopRequireDefault(_PanCluster);

var _InteractionModeCluster = require("./OpenLayersMap/InteractionModeCluster");

var _InteractionModeCluster2 = _interopRequireDefault(_InteractionModeCluster);

var _ProbeInteraction = require("./OpenLayersMap/ProbeInteraction");

var _ProbeInteraction2 = _interopRequireDefault(_ProbeInteraction);

var _DragSelection = require("./OpenLayersMap/DragSelection");

var _DragSelection2 = _interopRequireDefault(_DragSelection);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../typings/lodash/lodash.d.ts"/>
///<reference path="../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../typings/jquery/jquery.d.ts"/>
///<reference path="../../typings/weave/WeavePath.d.ts"/>
/// <reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/react/react-dom.d.ts"/>

var WeaveOpenLayersMap = function (_React$Component) {
    _inherits(WeaveOpenLayersMap, _React$Component);

    function WeaveOpenLayersMap(props) {
        _classCallCheck(this, WeaveOpenLayersMap);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveOpenLayersMap).call(this, props));

        _GeometryLayer2.default;
        _TileLayer2.default;
        _ImageGlyphLayer2.default;
        _ScatterPlotLayer2.default;
        _LabelLayer2.default; /* Forces the inclusion of the layers. */
        _this.layers = new Map();
        _this.toolPath = props.toolPath;
        return _this;
    }

    _createClass(WeaveOpenLayersMap, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            var _this2 = this;

            this.map = new ol.Map({
                interactions: ol.interaction.defaults({ dragPan: false }),
                controls: [],
                target: this.element
            });
            /* Setup custom interactions */
            this.interactionModePath = this.toolPath.weave.path("WeaveProperties", "toolInteractions", "defaultDragMode");
            var dragPan = new ol.interaction.DragPan();
            var dragSelect = new _DragSelection2.default();
            var probeInteraction = new _ProbeInteraction2.default(this);
            var dragZoom = new ol.interaction.DragZoom({ condition: ol.events.condition.always });
            this.map.addInteraction(dragPan);
            this.map.addInteraction(dragSelect);
            this.map.addInteraction(probeInteraction);
            this.map.addInteraction(dragZoom);
            this.interactionModePath.addCallback(this, function () {
                var interactionMode = _this2.interactionModePath.getState();
                dragPan.setActive(interactionMode === "pan");
                dragSelect.setActive(interactionMode === "select");
                dragZoom.setActive(interactionMode === "zoom");
            });
            /* Setup custom controls */
            this.zoomButtons = new ol.control.Zoom();
            this.slider = new ol.control.ZoomSlider();
            this.pan = new _PanCluster2.default();
            this.toolPath.push("showZoomControls").addCallback(this, this.onZoomControlToggle, true);
            this.toolPath.push("showMouseModeControls").addCallback(this, this.onMouseModeControlToggle, true);
            this.mouseModeButtons = new _InteractionModeCluster2.default({ interactionModePath: this.interactionModePath });
            this.plotManager = this.toolPath.push("children", "visualization", "plotManager");
            /* Todo replace override[X,Y][Min,Max] with a single overrideZoomBounds element; alternatively,
             * make a set of parameters on zoombounds itself. */
            var _arr = ["Min", "Max"];
            for (var _i = 0; _i < _arr.length; _i++) {
                var extreme = _arr[_i];var _arr2 = ["X", "Y"];

                for (var _i2 = 0; _i2 < _arr2.length; _i2++) {
                    var axis = _arr2[_i2];
                    this.plotManager.push("override" + axis + extreme).addCallback(this, this.onViewParametersChanged);
                }
            }this.toolPath.push("projectionSRS").addCallback(this, this.onViewParametersChanged, true);
            this.plottersPath = this.plotManager.push("plotters");
            this.layerSettingsPath = this.plotManager.push("layerSettings");
            this.zoomBoundsPath = this.plotManager.push("zoomBounds");
            this.plotManager.addCallback(this, this.requestDetail, true);
            this.plottersPath.getObject().childListCallbacks.addImmediateCallback(this, this.plottersChanged, true);
            this.zoomBoundsPath.addCallback(this, this.getSessionCenter, true);
        }
    }, {
        key: "onViewParametersChanged",
        value: function onViewParametersChanged() {
            var extent = [];
            var _arr3 = ["Min", "Max"];
            for (var _i3 = 0; _i3 < _arr3.length; _i3++) {
                var extreme = _arr3[_i3];var _arr4 = ["X", "Y"];

                for (var _i4 = 0; _i4 < _arr4.length; _i4++) {
                    var axis = _arr4[_i4];
                    extent.push(this.plotManager.push("override" + axis + extreme).getState());
                }
            }if (!lodash.every(extent, Number.isFinite)) {
                extent = undefined;
            }
            var projection = this.toolPath.push("projectionSRS").getState() || "EPSG:3857";
            var view = new ol.View({ projection: projection, extent: extent });
            view.set("extent", extent);
            this.centerCallbackHandle = view.on("change:center", this.setSessionCenter, this);
            this.resolutionCallbackHandle = view.on("change:resolution", this.setSessionZoom, this);
            this.map.setView(view);
            this.getSessionCenter();
        }
    }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate() {
            this.map.updateSize();
            var viewport = this.map.getViewport();
            var screenBounds = new weavejs.geom.Bounds2D(0, 0, viewport.clientWidth, viewport.clientHeight);
            this.zoomBoundsPath.getObject().setScreenBounds(screenBounds, true);
        }
    }, {
        key: "updateControlPositions",
        value: function updateControlPositions() {
            if (this.toolPath.push("showZoomControls").getState()) {
                (0, _jquery2.default)(this.element).find(".ol-control.panCluster").css({ top: "0.5em", left: "0.5em" });
                (0, _jquery2.default)(this.element).find(".ol-control.ol-zoom").css({ top: "5.5em", left: "2.075em" });
                (0, _jquery2.default)(this.element).find(".ol-control.ol-zoomslider").css({ top: "9.25em", left: "2.075em" });
                (0, _jquery2.default)(this.element).find(".ol-control.iModeCluster").css({ top: "20.75em", left: "0.6em" });
            } else {
                (0, _jquery2.default)(this.element).find(".ol-control");
            }
        }
    }, {
        key: "onMouseModeControlToggle",
        value: function onMouseModeControlToggle() {
            var showMouseModeControls = this.toolPath.push("showMouseModeControls").getState();
            if (showMouseModeControls) {
                this.map.addControl(this.mouseModeButtons);
            } else {
                this.map.removeControl(this.mouseModeButtons);
            }
            this.updateControlPositions();
        }
    }, {
        key: "onZoomControlToggle",
        value: function onZoomControlToggle() {
            var showZoomControls = this.toolPath.push("showZoomControls").getState();
            if (showZoomControls) {
                this.map.addControl(this.slider);
                this.map.addControl(this.pan);
                this.map.addControl(this.zoomButtons);
            } else {
                this.map.removeControl(this.slider);
                this.map.removeControl(this.pan);
                this.map.removeControl(this.zoomButtons);
            }
            this.updateControlPositions();
        }
    }, {
        key: "setSessionCenter",
        value: function setSessionCenter() {
            var _map$getView$getCente = this.map.getView().getCenter();

            var _map$getView$getCente2 = _slicedToArray(_map$getView$getCente, 2);

            var xCenter = _map$getView$getCente2[0];
            var yCenter = _map$getView$getCente2[1];

            var zoomBounds = this.zoomBoundsPath.getObject();
            var dataBounds = new weavejs.geom.Bounds2D();
            zoomBounds.getDataBounds(dataBounds);
            dataBounds.setXCenter(xCenter);
            dataBounds.setYCenter(yCenter);
            zoomBounds.setDataBounds(dataBounds);
        }
    }, {
        key: "setSessionZoom",
        value: function setSessionZoom() {
            var resolution = this.map.getView().getResolution();
            var zoomBounds = this.zoomBoundsPath.getObject();
            var dataBounds = new weavejs.geom.Bounds2D();
            var screenBounds = new weavejs.geom.Bounds2D();
            zoomBounds.getDataBounds(dataBounds);
            zoomBounds.getScreenBounds(screenBounds);
            dataBounds.setWidth(screenBounds.getWidth() * resolution);
            dataBounds.setHeight(screenBounds.getHeight() * resolution);
            dataBounds.makeSizePositive();
            zoomBounds.setDataBounds(dataBounds);
        }
    }, {
        key: "getSessionCenter",
        value: function getSessionCenter() {
            var _this3 = this;

            var zoomBounds = this.zoomBoundsPath.getObject();
            var dataBounds = new weavejs.geom.Bounds2D();
            zoomBounds.getDataBounds(dataBounds);
            var center = [dataBounds.getXCenter(), dataBounds.getYCenter()];
            var scale = zoomBounds.getXScale();
            this.map.getView().un("change:center", this.setSessionCenter, this);
            this.map.getView().un("change:resolution", this.setSessionZoom, this);
            this.map.getView().setCenter(center);
            this.map.getView().setResolution(1 / scale);
            lodash.defer(function () {
                _this3.map.getView().on("change:center", _this3.setSessionCenter, _this3);
                _this3.map.getView().on("change:resolution", _this3.setSessionZoom, _this3);
            });
        }
    }, {
        key: "requestDetail",
        value: function requestDetail() {
            var zoomBounds = this.zoomBoundsPath.getObject();
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = Weave.getDescendants(this.toolPath.getObject(), weavejs.data.column.StreamedGeometryColumn)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var sgc = _step.value;

                    //TODO - this doesn't handle a dataBounds of different projection than the streamed geometries are in
                    sgc.requestGeometryDetailForZoomBounds(zoomBounds);
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }
        }
    }, {
        key: "plottersChanged",
        value: function plottersChanged() {
            var oldNames = Array.from(this.layers.keys());
            var newNames = this.plottersPath.getNames();
            var removedNames = lodash.difference(oldNames, newNames);
            var addedNames = lodash.difference(newNames, oldNames);
            removedNames.forEach(function (name) {
                if (this.layers.get(name)) {
                    this.layers.get(name).dispose();
                }
                this.layers.delete(name);
            }, this);
            addedNames.forEach(function (name) {
                var layer = _Layer2.default.newLayer(this, name);
                this.layers.set(name, layer);
            }, this);
            /* */
            for (var idx in newNames) {
                var layer = this.layers.get(newNames[idx]);
                if (!layer || !layer.olLayer) {
                    continue;
                }
                layer.olLayer.setZIndex(idx + 2);
            }
        }
    }, {
        key: "destroy",
        value: function destroy() {}
    }, {
        key: "render",
        value: function render() {
            var _this4 = this;

            return React.createElement("div", { ref: function ref(c) {
                    _this4.element = c;
                }, style: { width: "100%", height: "100%" } });
        }
    }]);

    return WeaveOpenLayersMap;
}(React.Component);

exports.default = WeaveOpenLayersMap;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::MapTool", WeaveOpenLayersMap);

},{"../WeaveTool":3,"./OpenLayersMap/DragSelection":17,"./OpenLayersMap/InteractionModeCluster":18,"./OpenLayersMap/Layers/GeometryLayer":20,"./OpenLayersMap/Layers/ImageGlyphLayer":23,"./OpenLayersMap/Layers/LabelLayer":24,"./OpenLayersMap/Layers/Layer":25,"./OpenLayersMap/Layers/ScatterPlotLayer":26,"./OpenLayersMap/Layers/TileLayer":27,"./OpenLayersMap/PanCluster":28,"./OpenLayersMap/ProbeInteraction":29,"jquery":"jquery","lodash":"lodash","openlayers":"openlayers","react":"react"}],17:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _FeatureLayer = require("./Layers/FeatureLayer");

var _FeatureLayer2 = _interopRequireDefault(_FeatureLayer);

var _ProbeInteraction = require("./ProbeInteraction");

var _ProbeInteraction2 = _interopRequireDefault(_ProbeInteraction);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../typings/jquery/jquery.d.ts"/>
///<reference path="../../../typings/weave/WeavePath.d.ts"/>

var DragSelectionMode;
(function (DragSelectionMode) {
    DragSelectionMode[DragSelectionMode["SUBTRACT"] = -1] = "SUBTRACT";
    DragSelectionMode[DragSelectionMode["SET"] = 0] = "SET";
    DragSelectionMode[DragSelectionMode["ADD"] = 1] = "ADD";
})(DragSelectionMode || (DragSelectionMode = {}));
;

var DragSelection = function (_ol$interaction$DragB) {
    _inherits(DragSelection, _ol$interaction$DragB);

    function DragSelection() {
        _classCallCheck(this, DragSelection);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(DragSelection).call(this, { boxEndCondition: function boxEndCondition() {
                return true;
            } }));

        _this.on('boxstart', DragSelection.prototype.onBoxStart, _this);
        _this.on('boxdrag', DragSelection.prototype.onBoxDrag, _this);
        _this.on('boxend', DragSelection.prototype.onBoxEnd, _this);
        return _this;
    }

    _createClass(DragSelection, [{
        key: "onBoxStart",
        value: function onBoxStart(event) {
            if (this.probeInteraction) this.probeInteraction.setActive(false);
            var dragBoxEvent = event;
            var browserEvent = dragBoxEvent.mapBrowserEvent.originalEvent;
            if (browserEvent.ctrlKey && browserEvent.shiftKey) {
                this.mode = DragSelectionMode.SUBTRACT;
            } else if (browserEvent.ctrlKey) {
                this.mode = DragSelectionMode.ADD;
            } else {
                this.mode = DragSelectionMode.SET;
            }
        }
    }, {
        key: "updateSelection",
        value: function updateSelection(extent) {
            var selectedFeatures = new Set();
            var selectFeature = function selectFeature(feature) {
                selectedFeatures.add(feature.getId());
            };
            var mapTool = this.mapTool;
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.getMap().getLayers().getArray()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var olLayer = _step.value;

                    var selectable = olLayer.get("selectable");
                    var weaveLayer = olLayer.get("layerObject");
                    if (weaveLayer instanceof _FeatureLayer2.default && selectable) {
                        var keySet = weaveLayer.selectionKeySet;
                        var source = olLayer.getSource();
                        source.forEachFeatureIntersectingExtent(extent, selectFeature);
                        var keys = Array.from(selectedFeatures);
                        switch (this.mode) {
                            case DragSelectionMode.SET:
                                keySet.setKeys(keys);
                                break;
                            case DragSelectionMode.ADD:
                                keySet.addKeys(keys);
                                break;
                            case DragSelectionMode.SUBTRACT:
                                keySet.removeKeys(keys);
                                break;
                        }
                    }
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }
        }
    }, {
        key: "onBoxDrag",
        value: function onBoxDrag(event) {
            var extent = this.getGeometry().getExtent();
            this.updateSelection(extent);
        }
    }, {
        key: "onBoxEnd",
        value: function onBoxEnd(event) {
            var extent = this.getGeometry().getExtent();
            this.updateSelection(extent);
            if (this.probeInteraction) this.probeInteraction.setActive(true);
        }
    }, {
        key: "probeInteraction",
        get: function get() {
            if (!this._probeInteraction) {
                var _iteratorNormalCompletion2 = true;
                var _didIteratorError2 = false;
                var _iteratorError2 = undefined;

                try {
                    for (var _iterator2 = this.getMap().getInteractions().getArray()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                        var interaction = _step2.value;

                        if (interaction instanceof _ProbeInteraction2.default) {
                            this._probeInteraction = interaction;
                            break;
                        }
                    }
                } catch (err) {
                    _didIteratorError2 = true;
                    _iteratorError2 = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion2 && _iterator2.return) {
                            _iterator2.return();
                        }
                    } finally {
                        if (_didIteratorError2) {
                            throw _iteratorError2;
                        }
                    }
                }
            }
            return this._probeInteraction;
        }
    }]);

    return DragSelection;
}(ol.interaction.DragBox);

exports.default = DragSelection;

},{"./Layers/FeatureLayer":19,"./ProbeInteraction":29,"openlayers":"openlayers"}],18:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _jquery = require("jquery");

var _jquery2 = _interopRequireDefault(_jquery);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../typings/jquery/jquery.d.ts"/>
///<reference path="../../../typings/weave/WeavePath.d.ts"/>

var InteractionModeCluster = function (_ol$control$Control) {
    _inherits(InteractionModeCluster, _ol$control$Control);

    function InteractionModeCluster(optOptions) {
        _classCallCheck(this, InteractionModeCluster);

        var interactionModePath = optOptions.interactionModePath;
        var options = optOptions || {};
        var buttonTable = (0, _jquery2.default)("\n\t\t\t<table class=\"ol-unselectable ol-control iModeCluster\">\n\t\t\t\t<tr style=\"font-size: 80%\">\n\t\t\t\t\t<td><button class=\"iModeCluster pan fa fa-hand-grab-o\"></button></td>\n\t\t\t\t\t<td><button class=\"iModeCluster select fa fa-mouse-pointer\"></button></td>\n\t\t\t\t\t<td><button class=\"iModeCluster zoom fa fa-search-plus\"></button></td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t");
        buttonTable.find("button.iModeCluster.pan").click(function () {
            return interactionModePath.state("pan");
        });
        buttonTable.find("button.iModeCluster.select").click(function () {
            return interactionModePath.state("select");
        });
        buttonTable.find("button.iModeCluster.zoom").click(function () {
            return interactionModePath.state("zoom");
        });

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(InteractionModeCluster).call(this, { element: buttonTable[0], target: options.target }));

        interactionModePath.addCallback(_this, function () {
            buttonTable.find("button.iModeCluster").removeClass("active");
            buttonTable.find("button.iModeCluster." + interactionModePath.getState()).addClass("active");
        }, true);
        return _this;
    }

    return InteractionModeCluster;
}(ol.control.Control);

exports.default = InteractionModeCluster;

},{"jquery":"jquery","openlayers":"openlayers"}],19:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.FeatureLayer = undefined;

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _lodash = require("lodash");

var lodash = _interopRequireWildcard(_lodash);

var _Layer2 = require("./Layer");

var _Layer3 = _interopRequireDefault(_Layer2);

var _StandardLib = require("../../../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

var FeatureLayer = exports.FeatureLayer = function (_Layer) {
    _inherits(FeatureLayer, _Layer);

    function FeatureLayer(parent, layerName) {
        _classCallCheck(this, FeatureLayer);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(FeatureLayer).call(this, parent, layerName));

        _this.updateMetaStyle = _this.updateMetaStyle_unbound.bind(_this);
        _this.debounced_updateMetaStyles = lodash.debounce(_this.updateMetaStyles.bind(_this), 0);
        _this.olLayer = new ol.layer.Vector();
        _this.source = new ol.source.Vector({ wrapX: false });
        /* Every feature that is added should register a handler to automatically recompute the metastyles when the styles change. */
        _this.source.on("addfeature", _this.onFeatureAdd, _this);
        _this.changedItems = new Set();
        _this.probedSet = new Set();
        _this.selectedSet = new Set();
        _this.filteredSet = new Set();
        _this.selectionKeySet = _this.layerPath.selection_keyset;
        _this.probeKeySet = _this.layerPath.probe_keyset;
        _this.filteredKeySet = _this.layerPath.push("filteredKeySet");
        var selectionKeyHandler = _this.updateSetFromKeySet.bind(_this, _this.selectionKeySet, _this.selectedSet);
        var probeKeyHandler = _this.updateSetFromKeySet.bind(_this, _this.probeKeySet, _this.probedSet);
        _this.selectionKeySet.addKeySetCallback(selectionKeyHandler);
        _this.probeKeySet.addKeySetCallback(probeKeyHandler);
        _this.filteredKeySet.addCallback(_this, _this.updateFilteredKeySet, true);
        _this.settingsPath.push("selectable").addCallback(_this, _this.updateMetaStyles);
        return _this;
    }

    _createClass(FeatureLayer, [{
        key: "onFeatureAdd",
        value: function onFeatureAdd(vectorEvent) {
            vectorEvent.feature.on("propertychange", this.onFeaturePropertyChange, this);
        }
    }, {
        key: "onFeaturePropertyChange",
        value: function onFeaturePropertyChange(objectEvent) {
            var propertyName = objectEvent.key;
            if (!lodash.contains(FeatureLayer.Styles, propertyName)) {
                /* The property that changed isn't one of our metaStyle properties, so we don't care. */
                return;
            } else {
                /* The property that changed was a metastyle, and as such the styles should be recomputed */
                this.debounced_updateMetaStyles();
            }
        }
    }, {
        key: "getToolTipColumns",
        value: function getToolTipColumns() {
            return [];
        }
        /* TODO: Move this into WeaveTool */

    }, {
        key: "updateSetFromKeySet",
        value: function updateSetFromKeySet(keySet, set, diff) {
            if (!this.source) return; //HACK
            var wasEmpty = set.size === 0;
            this.changedItems.clear();
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = diff.added[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var key = _step.value;

                    set.add(key);
                    this.changedItems.add(key);
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
                for (var _iterator2 = diff.removed[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                    var key = _step2.value;

                    set.delete(key);
                    this.changedItems.add(key);
                }
            } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion2 && _iterator2.return) {
                        _iterator2.return();
                    }
                } finally {
                    if (_didIteratorError2) {
                        throw _iteratorError2;
                    }
                }
            }

            var isEmpty = set.size === 0;
            /* If a set becomes empty or nonempty, we should recompute all the styles. Otherwise, only recompute the styles of the features which changed. */
            if (isEmpty !== wasEmpty) {
                this.updateMetaStyles();
            } else {
                this.changedItems.forEach(function (featureId) {
                    var feature = this.source.getFeatureById(featureId);
                    if (feature) {
                        this.updateMetaStyle(feature);
                    }
                }, this);
            }
        }
    }, {
        key: "updateFilteredKeySet",
        value: function updateFilteredKeySet() {
            if (!this.source) return; //HACK
            var sourceKeys = this.source.getFeatures().map(function (feature) {
                return feature.getId();
            });
            this.filteredSet.clear();
            var filteredKeys = this.filteredKeySet.filterKeys(sourceKeys);
            var _iteratorNormalCompletion3 = true;
            var _didIteratorError3 = false;
            var _iteratorError3 = undefined;

            try {
                for (var _iterator3 = filteredKeys[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                    var key = _step3.value;

                    this.filteredSet.add(key);
                }
            } catch (err) {
                _didIteratorError3 = true;
                _iteratorError3 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion3 && _iterator3.return) {
                        _iterator3.return();
                    }
                } finally {
                    if (_didIteratorError3) {
                        throw _iteratorError3;
                    }
                }
            }

            this.updateMetaStyles();
        }
    }, {
        key: "updateMetaStyles",
        value: function updateMetaStyles() {
            if (!this.source) return; //HACK
            this.tempSelectable = this.settingsPath.push("selectable").getState();
            this.source.forEachFeature(this.updateMetaStyle, this);
        }
    }, {
        key: "updateMetaStyle_unbound",
        value: function updateMetaStyle_unbound(feature) {
            var id = feature.getId();
            var nullStyle = new ol.style.Style({});
            var unselectedStyle = feature.get("unselectedStyle") || nullStyle;
            var normalStyle = feature.get("normalStyle") || nullStyle;
            var selectedStyle = feature.get("selectedStyle") || nullStyle;
            var probedStyle = feature.get("probedStyle") || nullStyle;
            var zOrder = feature.get("zOrder") || 0;
            var replace = feature.get("replace");
            var newStyle = undefined;
            if (!this.filteredSet.has(id)) {
                feature.setStyle(nullStyle);
                return;
            }
            if (!this.tempSelectable) {
                feature.setStyle(normalStyle);
                return;
            }
            if (!this.selectedSet.has(id) && !this.probedSet.has(id) && this.selectedSet.size > 0) {
                if (replace) {
                    newStyle = unselectedStyle;
                    newStyle.setZIndex(zOrder);
                } else {
                    newStyle = [].concat(unselectedStyle);
                    newStyle[0].setZIndex(zOrder);
                }
            } else {
                newStyle = [].concat(normalStyle);
                newStyle[0].setZIndex(zOrder);
            }
            if (this.selectedSet.has(id)) {
                if (replace) {
                    newStyle = selectedStyle;
                    newStyle.setZIndex(Number.MAX_SAFE_INTEGER - 3);
                } else {
                    newStyle = newStyle.concat(selectedStyle);
                    newStyle[0].setZIndex(Number.MAX_SAFE_INTEGER - 3);
                }
            }
            if (this.probedSet.has(id)) {
                if (replace) {
                    newStyle = probedStyle;
                    newStyle.setZIndex(Number.MAX_SAFE_INTEGER);
                } else {
                    newStyle = newStyle.concat(probedStyle);
                    newStyle[0].setZIndex(Number.MAX_SAFE_INTEGER);
                }
            }
            feature.setStyle(newStyle);
        }
    }], [{
        key: "getToolTipData",
        value: function getToolTipData(key /* IQualifiedKey */) /* Array<IAttributeColumn */{
            var additionalColumns = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];

            var columnHashMap = weave.root.getObject("Probed Columns");
            var result = {};
            var _iteratorNormalCompletion4 = true;
            var _didIteratorError4 = false;
            var _iteratorError4 = undefined;

            try {
                for (var _iterator4 = columnHashMap.getObjects().concat(additionalColumns)[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
                    var child = _step4.value;

                    var title = child.getMetadata("title");
                    var value = child.getValueFromKey(key, String);
                    if (value) {
                        result[title] = value;
                    }
                }
            } catch (err) {
                _didIteratorError4 = true;
                _iteratorError4 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion4 && _iterator4.return) {
                        _iterator4.return();
                    }
                } finally {
                    if (_didIteratorError4) {
                        throw _iteratorError4;
                    }
                }
            }

            return result;
        }
        /* TODO: Move this into WeaveTool */

    }, {
        key: "getToolTipTitle",
        value: function getToolTipTitle(key /* IQualifiedKey */) {
            var titleHashMap = weave.root.getObject("Probe Header Columns");
            return lodash.map(titleHashMap.getObjects(), function (d) {
                return d.getValueFromKey(key, String);
            }).join(", ");
        }
    }, {
        key: "toColorArray",
        value: function toColorArray(colorString, alpha) {
            var colorArray;
            if (colorString[0] === "#") {
                colorArray = ol.color.asArray(colorString);
            } else {
                colorArray = ol.color.asArray("#" + _StandardLib2.default.decimalToHex(Number(colorString)));
            }
            colorArray = [].concat(colorArray); /* Should not be modified since it is cached in ol.color.asArray */
            if (!colorArray) {
                return null;
            }
            colorArray[3] = Number(alpha);
            return colorArray;
        }
    }, {
        key: "toColorRGBA",
        value: function toColorRGBA(colorString, alpha) {
            var colorArray = FeatureLayer.toColorArray(colorString, alpha);
            return ol.color.asString(colorArray);
        }
    }, {
        key: "olFillFromWeaveFill",
        value: function olFillFromWeaveFill(fill, fade) {
            if (fade === undefined) fade = 1;
            var color = fill.color && FeatureLayer.toColorArray(fill.color, fill.alpha * fade) || [0, 0, 0, 0];
            return new ol.style.Fill({ color: color });
        }
    }, {
        key: "olStrokeFromWeaveStroke",
        value: function olStrokeFromWeaveStroke(stroke, fade) {
            if (fade === undefined) fade = 1;
            var color = stroke.color && FeatureLayer.toColorArray(stroke.color, stroke.alpha * fade) || [0, 0, 0, 1];
            var lineCap = stroke.lineCap === "none" ? "butt" : stroke.lineCap || "round";
            var lineJoin = stroke.lineJoin === null ? "round" : stroke.lineJoin || "round";
            var miterLimit = Number(stroke.miterLimit);
            var width = Number(stroke.weight);
            return new ol.style.Stroke({ color: color, lineCap: lineCap, lineJoin: lineJoin, miterLimit: miterLimit, width: width });
        }
    }, {
        key: "getOlProbedStyle",
        value: function getOlProbedStyle(baseStrokeStyle) {
            var width = baseStrokeStyle.getWidth();
            return [new ol.style.Style({
                stroke: new ol.style.Stroke({
                    color: [0, 0, 0, 1],
                    width: width + FeatureLayer.PROBE_HALO_WIDTH + FeatureLayer.PROBE_LINE_WIDTH
                }),
                zIndex: Number.MAX_SAFE_INTEGER - 2
            }), new ol.style.Style({
                stroke: new ol.style.Stroke({
                    color: [255, 255, 255, 1],
                    width: width + FeatureLayer.PROBE_HALO_WIDTH
                }),
                zIndex: Number.MAX_SAFE_INTEGER - 1
            })];
        }
    }, {
        key: "getOlSelectionStyle",
        value: function getOlSelectionStyle(baseStrokeStyle) {
            var width = baseStrokeStyle.getWidth();
            var lineCap = baseStrokeStyle.getLineCap();
            var lineJoin = baseStrokeStyle.getLineJoin();
            var miterLimit = baseStrokeStyle.getMiterLimit();
            return [new ol.style.Style({
                stroke: new ol.style.Stroke({
                    color: [0, 0, 0, 0.5],
                    width: width + FeatureLayer.SELECT_WIDTH,
                    lineCap: lineCap, lineJoin: lineJoin, miterLimit: miterLimit }),
                zIndex: Number.MAX_SAFE_INTEGER - 4
            })];
        }
    }]);

    return FeatureLayer;
}(_Layer3.default);

FeatureLayer.SELECT_WIDTH = 5;
FeatureLayer.PROBE_HALO_WIDTH = 4;
FeatureLayer.PROBE_LINE_WIDTH = 1;
FeatureLayer.Styles = {
    NORMAL: "normalStyle",
    UNSELECTED: "unselectedStyle",
    SELECTED: "selectedStyle",
    PROBED: "probedStyle"
};
;
;
exports.default = FeatureLayer;

},{"../../../utils/StandardLib":41,"./Layer":25,"lodash":"lodash","openlayers":"openlayers"}],20:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _FeatureLayer2 = require("./FeatureLayer");

var _Layer = require("./Layer");

var _Layer2 = _interopRequireDefault(_Layer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

var GeometryLayer = function (_FeatureLayer) {
    _inherits(GeometryLayer, _FeatureLayer);

    function GeometryLayer(parent, layerName) {
        _classCallCheck(this, GeometryLayer);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(GeometryLayer).call(this, parent, layerName));

        _this.geoJsonParser = new ol.format.GeoJSON();
        _this.geoColumnPath = _this.layerPath.push("geometryColumn");
        _this.fillStylePath = _this.layerPath.push("fill");
        _this.lineStylePath = _this.layerPath.push("line");
        _this.geoColumnPath.addCallback(_this, _this.updateGeometryData, true);
        _this.projectionPath.addCallback(_this, _this.updateGeometryData, true);
        _this.fillStylePath.addCallback(_this, _this.updateStyleData);
        _this.lineStylePath.addCallback(_this, _this.updateStyleData, true);
        _this.filteredKeySet.getObject().setColumnKeySources([_this.geoColumnPath.getObject("internalDynamicColumn")]);
        return _this;
    }

    _createClass(GeometryLayer, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "updateGeometryData",
        value: function updateGeometryData() {
            var projectionSpec = this.geoColumnPath.getObject("internalDynamicColumn", null).getMetadata('projection');
            var outputProjection = this.projectionPath.getState() || "EPSG:3857";
            var inputProjection = projectionSpec || outputProjection;
            this.source.clear();
            var keys = this.geoColumnPath.push('internalDynamicColumn').getKeys();
            var idc = this.geoColumnPath.getObject("internalDynamicColumn");
            var rawGeometries = weavejs.data.ColumnUtils.getGeoJsonGeometries(idc, idc.keys);
            for (var idx = 0; idx < keys.length; idx++) {
                var id = keys[idx];
                var geometry = this.geoJsonParser.readGeometry(rawGeometries[idx], { dataProjection: inputProjection, featureProjection: outputProjection });
                var feature = new ol.Feature({ geometry: geometry });
                feature.setId(id);
                this.source.addFeature(feature);
            }
            this.updateStyleData();
            this.updateFilteredKeySet();
        }
    }, {
        key: "getToolTipColumns",
        value: function getToolTipColumns() {
            var additionalColumns = new Array();
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.fillStylePath.getChildren().concat(this.lineStylePath.getChildren())[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var column = _step.value;

                    var internalColumn = weavejs.data.ColumnUtils.hack_findInternalDynamicColumn(column.getObject());
                    if (internalColumn) additionalColumns.push(internalColumn);
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            return additionalColumns;
        }
    }, {
        key: "updateStyleData",
        value: function updateStyleData() {
            var fillEnabled = this.fillStylePath.push("enable").getState();
            var strokeEnabled = this.lineStylePath.push("enable").getState();
            var styleRecords = this.layerPath.retrieveRecords({
                fill: {
                    color: this.fillStylePath.push("color"),
                    alpha: this.fillStylePath.push("alpha"),
                    imageURL: this.fillStylePath.push("imageURL")
                },
                stroke: {
                    color: this.lineStylePath.push("color"),
                    alpha: this.lineStylePath.push("alpha"),
                    weight: this.lineStylePath.push("weight"),
                    lineCap: this.lineStylePath.push("caps"),
                    lineJoin: this.lineStylePath.push("joints"),
                    miterLimit: this.lineStylePath.push("miterLimit")
                }
            }, this.geoColumnPath.push("internalDynamicColumn"));
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
                for (var _iterator2 = styleRecords[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                    var record = _step2.value;

                    var olStroke = _FeatureLayer2.FeatureLayer.olStrokeFromWeaveStroke(record.stroke);
                    var olFill = _FeatureLayer2.FeatureLayer.olFillFromWeaveFill(record.fill);
                    var olStrokeFaded = _FeatureLayer2.FeatureLayer.olStrokeFromWeaveStroke(record.stroke, 0.5);
                    var olFillFaded = _FeatureLayer2.FeatureLayer.olFillFromWeaveFill(record.fill, 0.5);
                    var normalStyle = [new ol.style.Style({
                        fill: fillEnabled ? olFill : undefined,
                        stroke: strokeEnabled ? olStroke : undefined,
                        zIndex: 0
                    })];
                    var unselectedStyle = [new ol.style.Style({
                        fill: fillEnabled ? olFill : undefined,
                        stroke: strokeEnabled ? olStrokeFaded : undefined,
                        zIndex: 0
                    })];
                    var selectedStyle = (strokeEnabled || fillEnabled) && _FeatureLayer2.FeatureLayer.getOlSelectionStyle(olStroke);
                    var probedStyle = (strokeEnabled || fillEnabled) && _FeatureLayer2.FeatureLayer.getOlProbedStyle(olStroke);
                    var feature = this.source.getFeatureById(record.id);
                    if (feature) {
                        var metaStyle = {};
                        metaStyle.normalStyle = normalStyle;
                        metaStyle.unselectedStyle = unselectedStyle;
                        metaStyle.selectedStyle = selectedStyle;
                        metaStyle.probedStyle = probedStyle;
                        feature.setProperties(metaStyle);
                    }
                }
            } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion2 && _iterator2.return) {
                        _iterator2.return();
                    }
                } finally {
                    if (_didIteratorError2) {
                        throw _iteratorError2;
                    }
                }
            }
        }
    }]);

    return GeometryLayer;
}(_FeatureLayer2.FeatureLayer);

_Layer2.default.registerClass("weave.visualization.plotters::GeometryPlotter", GeometryLayer, [weavejs.api.core.ILinkableObjectWithNewProperties]);
exports.default = GeometryLayer;

},{"./FeatureLayer":19,"./Layer":25,"openlayers":"openlayers"}],21:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FeatureLayer2 = require("./FeatureLayer");

var _FeatureLayer3 = _interopRequireDefault(_FeatureLayer2);

var _lodash = require("lodash");

var lodash = _interopRequireWildcard(_lodash);

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

var GlyphLayer = function (_FeatureLayer) {
    _inherits(GlyphLayer, _FeatureLayer);

    function GlyphLayer(parent, layerName) {
        _classCallCheck(this, GlyphLayer);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(GlyphLayer).call(this, parent, layerName));

        _this.projectionPath.addCallback(_this, _this.updateLocations);
        _this.layerPath.push("sourceProjection").addCallback(_this, _this.updateLocations);
        _this.layerPath.push("dataX").addCallback(_this, _this.updateLocations);
        _this.layerPath.push("dataY").addCallback(_this, _this.updateLocations, true);
        _this.filteredKeySet.getObject().setColumnKeySources([_this.layerPath.push("dataX").getObject(), _this.layerPath.push("dataY").getObject()]);
        return _this;
    }

    _createClass(GlyphLayer, [{
        key: "_getFeatureIds",
        value: function _getFeatureIds() {
            return lodash.map(this.source.getFeatures(), function (item) {
                return item.getId();
            });
        }
    }, {
        key: "updateLocations",
        value: function updateLocations() {
            /* Update feature locations */
            var records = this.layerPath.retrieveRecords(["dataX", "dataY"], this.layerPath.push("dataX"));
            var recordIds = lodash.pluck(records, "id");
            var removedIds = lodash.difference(this._getFeatureIds(), recordIds);
            var rawProj = this.layerPath.getState("sourceProjection") || this.layerPath.getObject("dataX").getMetadata("projection") || "EPSG:4326";
            var mapProj = this.projectionPath.getState() || "EPSG:3857";
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = removedIds[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var id = _step.value;

                    var feature = this.source.getFeatureById(id);
                    this.source.removeFeature(feature);
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
                for (var _iterator2 = records[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                    var record = _step2.value;

                    var feature = this.source.getFeatureById(record.id);
                    if (!feature) {
                        feature = new ol.Feature({});
                        feature.setId(record.id);
                        this.source.addFeature(feature);
                    }
                    var dataX = undefined,
                        dataY = undefined;
                    dataX = GlyphLayer._toPoint(record.dataX, "xMin", "xMax");
                    dataY = GlyphLayer._toPoint(record.dataY, "yMin", "yMax");
                    var point = new ol.geom.Point([dataX, dataY]);
                    point.transform(rawProj, mapProj);
                    feature.setGeometry(point);
                }
            } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion2 && _iterator2.return) {
                        _iterator2.return();
                    }
                } finally {
                    if (_didIteratorError2) {
                        throw _iteratorError2;
                    }
                }
            }

            this.updateFilteredKeySet();
            this.updateStyleData();
        }
    }], [{
        key: "_toPoint",
        value: function _toPoint(datum, field1, field2) {
            if ((typeof datum === "undefined" ? "undefined" : _typeof(datum)) === "object") {
                var firstPoly = datum[0];
                return (firstPoly.bounds[field1] + firstPoly.bounds[field2]) / 2;
            } else {
                return datum;
            }
        }
    }]);

    return GlyphLayer;
}(_FeatureLayer3.default);

exports.default = GlyphLayer;

},{"./FeatureLayer":19,"lodash":"lodash","openlayers":"openlayers"}],22:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _jquery = require("jquery");

var _jquery2 = _interopRequireDefault(_jquery);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Map2D = function () {
    function Map2D() {
        _classCallCheck(this, Map2D);

        this._map = new Map();
    }

    _createClass(Map2D, [{
        key: "get",
        value: function get(firstKey, secondKey) {
            var secondMap = this._map.get(firstKey);
            return secondMap && secondMap.get(secondKey);
        }
    }, {
        key: "set",
        value: function set(firstKey, secondKey, value) {
            var secondMap = this._map.get(firstKey);
            if (!secondMap) {
                secondMap = new Map();
                this._map.set(firstKey, secondMap);
            }
            secondMap.set(secondKey, value);
        }
    }]);

    return Map2D;
}();

var ImageGlyphCache = function () {
    function ImageGlyphCache() {
        _classCallCheck(this, ImageGlyphCache);

        this.baseImageElements = new Map();
        this.canvasMap = new Map2D();
        this.imageMap = new Map2D();
    }

    _createClass(ImageGlyphCache, [{
        key: "requestBaseImageElement",
        value: function requestBaseImageElement(url, callback) {
            var imageElement = this.baseImageElements.get(url);
            if (!imageElement) {
                imageElement = new Image();
                imageElement.src = url;
                this.baseImageElements.set(url, imageElement);
            }
            if (imageElement.complete) {
                callback(imageElement);
            } else {
                (0, _jquery2.default)(imageElement).one("load", function () {
                    return callback(imageElement);
                });
            }
        }
    }, {
        key: "getCachedCanvas",
        value: function getCachedCanvas(url, color) {
            var canvas = this.canvasMap.get(url, color);
            var freshCanvas = false;
            if (!canvas) {
                freshCanvas = true;
                canvas = document.createElement("canvas");
                this.canvasMap.set(url, color, canvas);
            }
            return { canvas: canvas, freshCanvas: freshCanvas };
        }
    }, {
        key: "requestDataUrl",
        value: function requestDataUrl(url, color, callback) {
            var _getCachedCanvas = this.getCachedCanvas(url, color);

            var canvas = _getCachedCanvas.canvas;
            var freshCanvas = _getCachedCanvas.freshCanvas;
            /* If freshCanvas is true, this means that we just created the canvas and haven't rendered to it. Time to do that. */

            if (freshCanvas) {
                this.requestBaseImageElement(url, function (imageElement) {
                    var _ref = [imageElement.naturalHeight, imageElement.naturalWidth];
                    canvas.height = _ref[0];
                    canvas.width = _ref[1];

                    var ctx = canvas.getContext("2d");
                    ctx.fillStyle = color;
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    ctx.globalCompositeOperation = "destination-atop";
                    ctx.drawImage(imageElement, 0, 0);
                    ctx.globalCompositeOperation = "multiply";
                    ctx.drawImage(imageElement, 0, 0);
                    callback(canvas.toDataURL());
                });
            } else {
                callback(canvas.toDataURL());
            }
        }
    }, {
        key: "getImage",
        value: function getImage(url, color) {
            var image = this.imageMap.get(url, color);
            if (!image) {
                image = new Image();
                this.requestDataUrl(url, color, function (dataUrl) {
                    image.src = dataUrl;
                });
            }
            return image;
        }
    }]);

    return ImageGlyphCache;
}();

exports.default = ImageGlyphCache;

},{"jquery":"jquery"}],23:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _jquery = require("jquery");

var _jquery2 = _interopRequireDefault(_jquery);

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _GlyphLayer2 = require("./GlyphLayer");

var _GlyphLayer3 = _interopRequireDefault(_GlyphLayer2);

var _FeatureLayer = require("./FeatureLayer");

var _FeatureLayer2 = _interopRequireDefault(_FeatureLayer);

var _ImageGlyphCache = require("./ImageGlyphCache");

var _ImageGlyphCache2 = _interopRequireDefault(_ImageGlyphCache);

var _Layer = require("./Layer");

var _Layer2 = _interopRequireDefault(_Layer);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

var ImageGlyphLayer = function (_GlyphLayer) {
    _inherits(ImageGlyphLayer, _GlyphLayer);

    function ImageGlyphLayer(parent, layerName) {
        _classCallCheck(this, ImageGlyphLayer);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ImageGlyphLayer).call(this, parent, layerName));

        _this.imageGlyphCache = new _ImageGlyphCache2.default();
        _this.layerPath.push("imageSize").addCallback(_this, _this.updateStyleData);
        _this.layerPath.push("imageURL").addCallback(_this, _this.updateStyleData, true);
        return _this;
    }

    _createClass(ImageGlyphLayer, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "setIconStyle",
        value: function setIconStyle(feature, img, iconSize) {
            var styles = {};
            if (!img.complete || !img.src) {
                (0, _jquery2.default)(img).one("load", this.setIconStyle.bind(this, feature, img, iconSize));
                return;
            }
            var maxDim = Math.max(img.naturalHeight, img.naturalWidth);
            var scale = iconSize / maxDim;
            var imgSize = [img.naturalWidth, img.naturalHeight];
            var _arr = ["normal", "selected", "probed", "unselected"];
            for (var _i = 0; _i < _arr.length; _i++) {
                var stylePrefix = _arr[_i];
                var icon = undefined;
                if (stylePrefix === "probed") {
                    icon = new ol.style.Icon({ img: img, imgSize: imgSize, scale: scale * 2.0 });
                } else {
                    icon = new ol.style.Icon({ img: img, imgSize: imgSize, scale: scale });
                }
                if (stylePrefix === "unselected") {
                    icon.setOpacity(1 / 3);
                }
                styles[stylePrefix + "Style"] = new ol.style.Style({ image: icon });
            }
            styles.replace = true;
            feature.setProperties(styles);
        }
    }, {
        key: "updateStyleData",
        value: function updateStyleData() {
            /* Update feature styles */
            var records = this.layerPath.retrieveRecords(["alpha", "color", "imageURL", "imageSize"], this.layerPath.push("dataX"));
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = records[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var record = _step.value;

                    var feature = this.source.getFeatureById(record.id);
                    if (!feature) {
                        continue;
                    }
                    var imageSize = Number(record.imageSize);
                    var color = _FeatureLayer2.default.toColorRGBA(record.color, record.alpha);
                    if (!record.imageURL) {
                        feature.setStyle(null);
                        continue;
                    }
                    var img = this.imageGlyphCache.getImage(record.imageURL, color);
                    this.setIconStyle(feature, img, imageSize);
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }
        }
    }]);

    return ImageGlyphLayer;
}(_GlyphLayer3.default);

_Layer2.default.registerClass("weave.visualization.plotters::ImageGlyphPlotter", ImageGlyphLayer, [weavejs.api.core.ILinkableObjectWithNewProperties]);
exports.default = ImageGlyphLayer;

},{"./FeatureLayer":19,"./GlyphLayer":21,"./ImageGlyphCache":22,"./Layer":25,"jquery":"jquery","openlayers":"openlayers"}],24:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _FeatureLayer = require("./FeatureLayer");

var _GlyphLayer2 = require("./GlyphLayer");

var _GlyphLayer3 = _interopRequireDefault(_GlyphLayer2);

var _Layer = require("./Layer");

var _Layer2 = _interopRequireDefault(_Layer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

var LabelLayer = function (_GlyphLayer) {
    _inherits(LabelLayer, _GlyphLayer);

    function LabelLayer(parent, layerName) {
        _classCallCheck(this, LabelLayer);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(LabelLayer).call(this, parent, layerName));

        _this.size = _this.layerPath.getObject("size");
        _this.text = _this.layerPath.getObject("text");
        _this.color = _this.layerPath.getObject("color");
        _this.size.addGroupedCallback(_this, _this.updateStyleData);
        _this.text.addGroupedCallback(_this, _this.updateStyleData);
        _this.color.addGroupedCallback(_this, _this.updateStyleData, true);
        return _this;
    }

    _createClass(LabelLayer, [{
        key: "updateStyleData",
        value: function updateStyleData() {
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.text.keys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var key = _step.value;

                    var feature = this.source.getFeatureById(key.toString());
                    if (!feature) {
                        continue;
                    }
                    var text = this.text.getValueFromKey(key, String);
                    var size = this.size.getValueFromKey(key, Number);
                    var color = this.color.getValueFromKey(key, String);
                    var font = size + "px sans-serif";
                    var textColor = _FeatureLayer.FeatureLayer.toColorRGBA(color, 1);
                    var fadedTextColor = _FeatureLayer.FeatureLayer.toColorRGBA(color, 0.5);
                    var selectedStroke = new ol.style.Stroke({
                        color: "rgba(128,128,128,0.75)", width: 3
                    });
                    var probeStroke = new ol.style.Stroke({ color: "white", width: 2 });
                    var normalFill = new ol.style.Fill({ color: textColor });
                    var fadedFill = new ol.style.Fill({ color: fadedTextColor });
                    var normalText = new ol.style.Text({ text: text, font: font, fill: normalFill });
                    var probedText = new ol.style.Text({ text: text, font: font, fill: normalFill, stroke: probeStroke });
                    var selectedText = new ol.style.Text({ text: text, font: font, fill: normalFill, stroke: selectedStroke });
                    var unselectedText = new ol.style.Text({ text: text, font: font, fill: fadedFill });
                    var metaStyle = {};
                    metaStyle.normalStyle = new ol.style.Style({ text: normalText });
                    metaStyle.unselectedStyle = new ol.style.Style({ text: unselectedText });
                    metaStyle.selectedStyle = new ol.style.Style({ text: selectedText });
                    metaStyle.probedStyle = new ol.style.Style({ text: probedText });
                    metaStyle.replace = true;
                    feature.setProperties(metaStyle);
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }
        }
    }]);

    return LabelLayer;
}(_GlyphLayer3.default);

_Layer2.default.registerClass("weave.visualization.plotters::TextGlyphPlotter", LabelLayer, [weavejs.api.core.ILinkableObjectWithNewProperties]);
exports.default = LabelLayer;

},{"./FeatureLayer":19,"./GlyphLayer":21,"./Layer":25,"openlayers":"openlayers"}],25:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _lodash = require("lodash");

var lodash = _interopRequireWildcard(_lodash);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Layer = function () {
    function Layer(parent, layerName) {
        _classCallCheck(this, Layer);

        this.layerPath = parent.plottersPath.push(layerName);
        this.settingsPath = parent.layerSettingsPath.push(layerName);
        this.projectionPath = parent.toolPath.push("projectionSRS");
        this.parent = parent;
        this.layerName = layerName;
        this._olLayer = null;
        this._layerReadyCallbacks = new Map();
        this.linkProperty(this.settingsPath.push("alpha"), "opacity");
        this.linkProperty(this.settingsPath.push("visible"), "visible");
        this.linkProperty(this.settingsPath.push("selectable"), "selectable");
        /* TODO max and minvisiblescale, map to min/max resolution. */
    }

    _createClass(Layer, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "linkProperty",
        value: function linkProperty(propertyPath, propertyName, inTransform) {
            var _this = this;

            /* change in path modifying propertyName */
            inTransform = inTransform || lodash.identity;
            var callback = function callback() {
                if (_this.olLayer) {
                    _this.olLayer.set(propertyName, inTransform(propertyPath.getState()));
                }
            };
            this._layerReadyCallbacks.set(propertyName, callback);
            propertyPath.addCallback(this, callback, false, false);
        }
    }, {
        key: "dispose",
        value: function dispose() {
            if (this._olLayer != null) {
                this.parent.map.removeLayer(this._olLayer);
            }
        }
    }, {
        key: "source",
        get: function get() {
            return this.olLayer && this.olLayer.getSource();
        },
        set: function set(value) {
            this.olLayer.setSource(value);
        }
        /* Handles initial apply of linked properties, adding/removing from map */

    }, {
        key: "olLayer",
        set: function set(value) {
            this._olLayer = value;
            if (value) {
                this.parent.map.addLayer(value);
                value.set("layerObject", this); /* Need to store this backref */
                if (value) {
                    var _iteratorNormalCompletion = true;
                    var _didIteratorError = false;
                    var _iteratorError = undefined;

                    try {
                        for (var _iterator = this._layerReadyCallbacks.keys()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                            var name = _step.value;

                            this._layerReadyCallbacks.get(name)();
                        }
                    } catch (err) {
                        _didIteratorError = true;
                        _iteratorError = err;
                    } finally {
                        try {
                            if (!_iteratorNormalCompletion && _iterator.return) {
                                _iterator.return();
                            }
                        } finally {
                            if (_didIteratorError) {
                                throw _iteratorError;
                            }
                        }
                    }
                }
            }
        },
        get: function get() {
            return this._olLayer;
        }
    }], [{
        key: "registerClass",
        value: function registerClass(asClassName, jsClass, interfaces) {
            if (!Layer.layerRegistry) {
                Layer.layerRegistry = new Map();
            }
            Layer.layerRegistry.set(asClassName, jsClass);
        }
    }, {
        key: "newLayer",
        value: function newLayer(parent, layerName) {
            var path = parent.plottersPath.push(layerName);
            var layerType = path.getType();
            var LayerClass = Layer.layerRegistry.get(layerType);
            if (LayerClass) {
                return new LayerClass(parent, layerName);
            }
            return null;
        }
    }]);

    return Layer;
}();

exports.default = Layer;

},{"lodash":"lodash"}],26:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _lodash = require("lodash");

var lodash = _interopRequireWildcard(_lodash);

var _StandardLib = require("../../../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

var _FeatureLayer = require("./FeatureLayer");

var _GlyphLayer2 = require("./GlyphLayer");

var _GlyphLayer3 = _interopRequireDefault(_GlyphLayer2);

var _Layer = require("./Layer");

var _Layer2 = _interopRequireDefault(_Layer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

var ScatterPlotLayer = function (_GlyphLayer) {
    _inherits(ScatterPlotLayer, _GlyphLayer);

    function ScatterPlotLayer(parent, layerName) {
        _classCallCheck(this, ScatterPlotLayer);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ScatterPlotLayer).call(this, parent, layerName));

        _this.sizeBy = _this.layerPath.push("sizeBy").addCallback(_this, _this.updateStyleData, true);
        _this.fillStylePath = _this.layerPath.push("fill").addCallback(_this, _this.updateStyleData);
        _this.lineStylePath = _this.layerPath.push("line").addCallback(_this, _this.updateStyleData);
        _this.maxRadiusPath = _this.layerPath.push("maxScreenRadius").addCallback(_this, _this.updateStyleData);
        _this.minRadiusPath = _this.layerPath.push("minScreenRadius").addCallback(_this, _this.updateStyleData);
        _this.defaultRadiusPath = _this.layerPath.push("defaultScreenRadius").addCallback(_this, _this.updateStyleData, true);
        return _this;
    }

    _createClass(ScatterPlotLayer, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "getToolTipColumns",
        value: function getToolTipColumns() {
            var additionalColumns = new Array();
            var internalColumn = undefined;
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.fillStylePath.getChildren().concat(this.lineStylePath.getChildren())[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var column = _step.value;

                    internalColumn = weavejs.data.ColumnUtils.hack_findInternalDynamicColumn(column.getObject());
                    if (internalColumn) additionalColumns.push(internalColumn);
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            internalColumn = weavejs.data.ColumnUtils.hack_findInternalDynamicColumn(this.sizeBy.getObject());
            if (internalColumn) additionalColumns.push(internalColumn);
            return additionalColumns;
        }
    }, {
        key: "updateStyleData",
        value: function updateStyleData() {
            var fillEnabled = this.fillStylePath.push("enable").getState();
            var strokeEnabled = this.lineStylePath.push("enable").getState();
            var styleRecords = this.layerPath.retrieveRecords({
                fill: {
                    color: this.fillStylePath.push("color"),
                    alpha: this.fillStylePath.push("alpha"),
                    imageURL: this.fillStylePath.push("imageURL")
                },
                stroke: {
                    color: this.lineStylePath.push("color"),
                    alpha: this.lineStylePath.push("alpha"),
                    weight: this.lineStylePath.push("weight"),
                    lineCap: this.lineStylePath.push("caps"),
                    lineJoin: this.lineStylePath.push("joints"),
                    miterLimit: this.lineStylePath.push("miterLimit")
                }
            });
            var styleRecordsIndex = lodash.indexBy(styleRecords, "id");
            var sizeByNumeric = this.layerPath.retrieveRecords({ sizeBy: this.sizeBy }, { dataType: "number" });
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
                for (var _iterator2 = sizeByNumeric[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                    var record = _step2.value;

                    var id = record.id;
                    var fullRecord = styleRecordsIndex[id];
                    if (fullRecord) {
                        fullRecord.sizeBy = record.sizeBy;
                    }
                }
            } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion2 && _iterator2.return) {
                        _iterator2.return();
                    }
                } finally {
                    if (_didIteratorError2) {
                        throw _iteratorError2;
                    }
                }
            }

            var sizeBy = lodash.pluck(styleRecords, "sizeBy");
            var sizeByMax = lodash.max(sizeBy);
            var sizeByMin = lodash.min(sizeBy);
            var absMax = Math.max(Math.abs(sizeByMax), Math.abs(sizeByMin));
            var minScreenRadius = this.minRadiusPath.getState();
            var maxScreenRadius = this.maxRadiusPath.getState();
            var defaultScreenRadius = this.defaultRadiusPath.getState();
            styleRecords = lodash.sortByOrder(styleRecords, ["sizeBy", "id"], ["desc", "asc"]);
            var zOrder = 0;
            var _iteratorNormalCompletion3 = true;
            var _didIteratorError3 = false;
            var _iteratorError3 = undefined;

            try {
                for (var _iterator3 = styleRecords[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                    var record = _step3.value;

                    var screenRadius = undefined;
                    var normSize = _StandardLib2.default.normalize(Math.abs(record.sizeBy), 0, absMax);
                    if (isNaN(normSize) || record.sizeBy === null) {
                        screenRadius = defaultScreenRadius;
                    } else {
                        screenRadius = minScreenRadius + normSize * (maxScreenRadius - minScreenRadius);
                    }
                    var olStroke = _FeatureLayer.FeatureLayer.olStrokeFromWeaveStroke(record.stroke);
                    var olFill = _FeatureLayer.FeatureLayer.olFillFromWeaveFill(record.fill);
                    var olStrokeFaded = _FeatureLayer.FeatureLayer.olStrokeFromWeaveStroke(record.stroke, 0.5);
                    var olFillFaded = _FeatureLayer.FeatureLayer.olFillFromWeaveFill(record.fill, 0.5);
                    var olSelectionStyle = _FeatureLayer.FeatureLayer.getOlSelectionStyle(olStroke);
                    var olProbedStyle = _FeatureLayer.FeatureLayer.getOlProbedStyle(olStroke);
                    var normalStyle = [new ol.style.Style({
                        image: new ol.style.Circle({
                            fill: fillEnabled ? olFill : undefined, stroke: strokeEnabled ? olStroke : undefined,
                            radius: screenRadius
                        })
                    })];
                    var unselectedStyle = [new ol.style.Style({
                        image: new ol.style.Circle({
                            fill: fillEnabled ? olFillFaded : undefined, stroke: strokeEnabled ? olStrokeFaded : undefined,
                            radius: screenRadius
                        })
                    })];
                    var selectedStyle = (strokeEnabled || fillEnabled) && [new ol.style.Style({
                        image: new ol.style.Circle({
                            stroke: olSelectionStyle[0].getStroke(),
                            radius: screenRadius
                        }),
                        zIndex: olSelectionStyle[0].getZIndex()
                    })];
                    var probedStyle = (strokeEnabled || fillEnabled) && [new ol.style.Style({
                        image: new ol.style.Circle({
                            stroke: olProbedStyle[0].getStroke(),
                            radius: screenRadius
                        }),
                        zIndex: olProbedStyle[0].getZIndex()
                    }), new ol.style.Style({
                        image: new ol.style.Circle({
                            stroke: olProbedStyle[1].getStroke(),
                            radius: screenRadius
                        }),
                        zIndex: olProbedStyle[1].getZIndex()
                    })];
                    var feature = this.source.getFeatureById(record.id);
                    if (feature) {
                        var metaStyle = {};
                        metaStyle.normalStyle = normalStyle;
                        metaStyle.unselectedStyle = unselectedStyle;
                        metaStyle.selectedStyle = selectedStyle;
                        metaStyle.probedStyle = probedStyle;
                        feature.setProperties(metaStyle);
                    }
                    zOrder++;
                }
            } catch (err) {
                _didIteratorError3 = true;
                _iteratorError3 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion3 && _iterator3.return) {
                        _iterator3.return();
                    }
                } finally {
                    if (_didIteratorError3) {
                        throw _iteratorError3;
                    }
                }
            }
        }
    }]);

    return ScatterPlotLayer;
}(_GlyphLayer3.default);

_Layer2.default.registerClass("weave.visualization.plotters::ScatterPlotPlotter", ScatterPlotLayer, [weavejs.api.core.ILinkableObjectWithNewProperties]);
exports.default = ScatterPlotLayer;

},{"../../../utils/StandardLib":41,"./FeatureLayer":19,"./GlyphLayer":21,"./Layer":25,"lodash":"lodash","openlayers":"openlayers"}],27:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _Layer2 = require("./Layer");

var _Layer3 = _interopRequireDefault(_Layer2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

var TileLayer = function (_Layer) {
    _inherits(TileLayer, _Layer);

    function TileLayer(parent, layerName) {
        _classCallCheck(this, TileLayer);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TileLayer).call(this, parent, layerName));

        _this.olLayer = new ol.layer.Tile();
        _this.servicePath = _this.layerPath.push("service", null);
        _this.oldProviderName = null;
        _this.servicePath.addCallback(_this, _this.updateTileSource, true);
        _this.projectionPath.addCallback(_this, _this.updateValidExtents, true);
        return _this;
    }

    _createClass(TileLayer, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "updateValidExtents",
        value: function updateValidExtents() {
            var proj = ol.proj.get(this.projectionPath.getState() || "EPSG:3857");
            if (proj) this.olLayer.setExtent(proj.getExtent());else console.log('invalid proj -> no extent');
        }
    }, {
        key: "getCustomWMSSource",
        value: function getCustomWMSSource() {
            var customWMSPath = this.servicePath;
            if (customWMSPath.push("wmsURL").getType()) {
                var url = customWMSPath.getState("wmsURL");
                var attributions = customWMSPath.getState("creditInfo");
                var projection = customWMSPath.getState("tileProjectionSRS");
                return new ol.source.XYZ({
                    url: url, attributions: attributions, projection: projection
                });
            }
        }
    }, {
        key: "getModestMapsSource",
        value: function getModestMapsSource() {
            var providerNamePath = this.servicePath.push("providerName");
            if (providerNamePath.getType()) {
                var providerName = providerNamePath.getState();
                if (providerName === this.oldProviderName) {
                    return undefined;
                }
                switch (providerName) {
                    case "Stamen WaterColor":
                        return new ol.source.Stamen({ layer: "watercolor" });
                    case "Stamen Toner":
                        return new ol.source.Stamen({ layer: "toner" });
                    case "Open MapQuest Aerial":
                        return new ol.source.MapQuest({ layer: "sat" });
                    case "Open MapQuest":
                        return new ol.source.MapQuest({ layer: "osm" });
                    case "Open Street Map":
                        return new ol.source.OSM({ wrapX: false });
                    case "Blue Marble Map":
                        return new ol.source.TileWMS({ url: "http://neowms.sci.gsfc.nasa.gov/wms/wms", wrapX: false });
                    default:
                        return null;
                }
            }
        }
    }, {
        key: "updateTileSource",
        value: function updateTileSource() {
            var serviceDriverName = this.servicePath.getType();
            var newLayer = null;
            switch (serviceDriverName) {
                case "weave.services.wms::ModestMapsWMS":
                    newLayer = this.getModestMapsSource();
                    break;
                case "weave.services.wms::CustomWMS":
                    newLayer = this.getCustomWMSSource();
                    break;
                default:
                    newLayer = null;
            }
            if (newLayer !== undefined) {
                this.source = newLayer;
            }
        }
    }]);

    return TileLayer;
}(_Layer3.default);

_Layer3.default.registerClass("weave.visualization.plotters::WMSPlotter", TileLayer, [weavejs.api.core.ILinkableObjectWithNewProperties]);
exports.default = TileLayer;

},{"./Layer":25,"openlayers":"openlayers"}],28:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _jquery = require("jquery");

var _jquery2 = _interopRequireDefault(_jquery);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../typings/jquery/jquery.d.ts"/>
///<reference path="../../../typings/weave/WeavePath.d.ts"/>

var PanCluster = function (_ol$control$Control) {
    _inherits(PanCluster, _ol$control$Control);

    function PanCluster(optOptions) {
        _classCallCheck(this, PanCluster);

        var options = optOptions || {};
        var parent = (0, _jquery2.default)("\n\t\t<div style=\"background-color: rgba(0,0,0,0)\" class=\"ol-unselectable ol-control panCluster\">\n\t\t\t<table style=\"font-size:75%\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td></td><td class=\"ol-control\" style=\"position:relative\"><button class=\"panCluster N\">N</button></td><td></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"ol-control\" style=\"position:relative\"><button class=\"panCluster W\">W</button></td>\n\t\t\t\t\t<td class=\"ol-control\" style=\"position:relative\"><button class=\"panCluster X fa fa-arrows-alt\"></button></td>\n\t\t\t\t\t<td class=\"ol-control\" style=\"position:relative\"><button class=\"panCluster E\">E</button></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td></td><td class=\"ol-control\" style=\"position:relative\"><button class=\"panCluster S\">S</button></td><td></td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>");
        var directions = {
            N: [0, 1],
            E: [1, 0],
            S: [0, -1],
            W: [-1, 0],
            X: [null, null]
        };

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PanCluster).call(this, { element: parent[0], target: options.target }));

        var self = _this;
        var pan = function pan(xSign, ySign) {
            var panPercent = 0.3;
            var map = self.getMap();
            var view = map.getView();
            var extent = view.calculateExtent(map.getSize());
            var extentWidth = Math.abs(extent[0] - extent[2]);
            var extentHeight = Math.abs(extent[1] - extent[3]);
            var center = view.getCenter();
            center[0] += extentWidth * xSign * panPercent;
            center[1] += extentHeight * ySign * panPercent;
            view.setCenter(center);
        };
        var zoomExtent = function zoomExtent() {
            var map = self.getMap();
            var view = map.getView();
            var extent = view.get("extent") || view.getProjection().getExtent();
            var size = map.getSize();
            view.fit(extent, size);
        };
        for (var direction in directions) {
            var xSign = directions[direction][0];
            var ySign = directions[direction][1];
            var button = parent.find(".panCluster." + direction);
            if (xSign !== null) {
                button.click(pan.bind(_this, xSign, ySign));
            } else {
                button.click(zoomExtent.bind(_this));
            }
        }
        return _this;
    }

    return PanCluster;
}(ol.control.Control);

exports.default = PanCluster;

},{"jquery":"jquery","openlayers":"openlayers"}],29:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _FeatureLayer = require("./Layers/FeatureLayer");

var _FeatureLayer2 = _interopRequireDefault(_FeatureLayer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../typings/jquery/jquery.d.ts"/>
///<reference path="../../../typings/weave/WeavePath.d.ts"/>

var ProbeInteraction = function (_ol$interaction$Point) {
    _inherits(ProbeInteraction, _ol$interaction$Point);

    function ProbeInteraction(tool) {
        _classCallCheck(this, ProbeInteraction);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ProbeInteraction).call(this, { handleMoveEvent: ProbeInteraction.prototype.handleMoveEvent }));

        _this.tool = tool;
        return _this;
    }

    _createClass(ProbeInteraction, [{
        key: "setMap",
        value: function setMap(map) {
            _get(Object.getPrototypeOf(ProbeInteraction.prototype), "setMap", this).call(this, map);
            var element = map.getTargetElement();
            map.getTargetElement().addEventListener('mouseout', this.handleOutEvent.bind(this));
        }
    }, {
        key: "onFeatureAtPixel",
        value: function onFeatureAtPixel(feature, layer) {
            var zIndex = layer.getZIndex();
            if (zIndex > this.topZIndex) {
                var weaveLayerObject = layer.get("layerObject");
                this.topKeySet = weaveLayerObject.probeKeySet && weaveLayerObject.probeKeySet.getObject() || this.topKeySet;
                this.topZIndex = zIndex;
                this.topKeyString = feature.getId().toString();
                this.topLayer = weaveLayerObject;
            }
        }
    }, {
        key: "pixelToKey",
        value: function pixelToKey(pixel) {
            var map = this.getMap();
            this.topKeySet = null;
            this.topZIndex = -Infinity;
            this.topLayer = null;
            this.topKeyString = null;
            var topKey = undefined;
            map.forEachFeatureAtPixel(pixel, this.onFeatureAtPixel, this, ProbeInteraction.layerFilter);
            if (this.topKeyString && this.topKeySet) {
                topKey = weavejs.WeaveAPI.QKeyManager.stringToQKey(this.topKeyString);
                this.topKeySet.replaceKeys([topKey]);
            }
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = map.getLayers().getArray()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var layer = _step.value;

                    if (!ProbeInteraction.layerFilter(layer)) continue;
                    var weaveLayerObject = layer.get("layerObject");
                    var keySet = weaveLayerObject.probeKeySet && weaveLayerObject.probeKeySet.getObject();
                    if (keySet && keySet != this.topKeySet) {
                        keySet.clearKeys();
                    }
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            return topKey;
        }
    }, {
        key: "handleMoveEvent",
        value: function handleMoveEvent(event) {
            var key = this.pixelToKey(event.pixel);
            var toolTipState = {};
            if (key) {
                var browserEvent = event.originalEvent;
                toolTipState.showToolTip = true;
                toolTipState.title = _FeatureLayer2.default.getToolTipTitle(key);
                toolTipState.columnNamesToValue = _FeatureLayer2.default.getToolTipData(key, this.topLayer.getToolTipColumns());
                var _ref = [browserEvent.clientX, browserEvent.clientY];
                toolTipState.x = _ref[0];
                toolTipState.y = _ref[1];
            } else {
                toolTipState.showToolTip = false;
            }
            this.tool.props.toolTip.setState(toolTipState);
        }
    }, {
        key: "handleOutEvent",
        value: function handleOutEvent(event) {
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
                for (var _iterator2 = this.getMap().getLayers().getArray()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                    var layer = _step2.value;

                    if (!ProbeInteraction.layerFilter(layer)) continue;
                    var weaveLayerObject = layer.get("layerObject");
                    var keySet = weaveLayerObject.probeKeySet && weaveLayerObject.probeKeySet.getObject();
                    if (keySet) {
                        keySet.clearKeys();
                    }
                }
            } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion2 && _iterator2.return) {
                        _iterator2.return();
                    }
                } finally {
                    if (_didIteratorError2) {
                        throw _iteratorError2;
                    }
                }
            }

            var toolTipState = {};
            toolTipState.showToolTip = false;
            this.tool.props.toolTip.setState(toolTipState);
        }
    }], [{
        key: "layerFilter",
        value: function layerFilter(layer) {
            return layer.get("selectable");
        }
    }]);

    return ProbeInteraction;
}(ol.interaction.Pointer);

exports.default = ProbeInteraction;

},{"./Layers/FeatureLayer":19,"openlayers":"openlayers"}],30:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.getTooltipContent = getTooltipContent;

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _react = require("react");

var React = _interopRequireWildcard(_react);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/weave/WeavePath.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>
/// <reference path="../../typings/react/react.d.ts"/>

function getTooltipContent(columnNamesToValue, title, nameFormat, valueFormat, titleFormat, toolTipClass, columnNamesToColor) {
    var _this = this;

    nameFormat = nameFormat || _.identity;
    valueFormat = valueFormat || _.identity;
    titleFormat = titleFormat || _.identity;
    toolTipClass = toolTipClass || "c3-tooltip";
    var template = "";
    var columnNames = Object.keys(columnNamesToValue);
    if (columnNames.length) {
        template += "<table class='" + toolTipClass + "'>" + titleFormat(title ? "<tr><th colspan='2'>" + title + "</th></tr>" : "");
        columnNames.forEach(function (columnName) {
            template += "<tr>";
            template += "<td class='name'>";
            if (columnNamesToColor && columnNamesToColor[columnName]) {
                template += "<span style=" + "'background-color': " + _this.state.columnNamesToColor[columnName] + "/>";
            }
            template += "<div style='display':'inline'>" + nameFormat(columnName) + "</div></td>";
            template += "<td class='value'>" + valueFormat(columnNamesToValue[columnName]) + "</td>";
            template += "</tr>";
        });
        template += "</table>";
    }
    return template;
}

var ToolTip = function (_React$Component) {
    _inherits(ToolTip, _React$Component);

    function ToolTip(props) {
        _classCallCheck(this, ToolTip);

        var _this2 = _possibleConstructorReturn(this, Object.getPrototypeOf(ToolTip).call(this, props));

        _this2.nameFormat = _this2.props.nameFormat || _.identity;
        _this2.valueFormat = _this2.props.valueFormat || _.identity;
        _this2.titleFormat = _this2.props.titleFormat || _.identity;
        _this2.toolTipClass = _this2.props.toolTipClass || "c3-tooltip";
        _this2.tooltipContainerClass = _this2.props.tooltipContainerClass || "c3-tooltip-container";
        _this2.state = {
            x: 0,
            y: 0,
            title: "",
            columnNamesToValue: {},
            columnNamesToColor: {},
            showToolTip: false
        };
        _this2.containerStyle = {
            position: "absolute",
            pointerEvents: "none",
            display: "block"
        };
        return _this2;
    }

    _createClass(ToolTip, [{
        key: "componentDidMount",
        value: function componentDidMount() {
            //this.element = ReactDOM.findDOMNode(this);
        }
    }, {
        key: "getToolTipHtml",
        value: function getToolTipHtml() {
            return this.element.innerHTML;
        }
    }, {
        key: "render",
        value: function render() {
            var _this3 = this;

            if (!(this.element && this.state.showToolTip)) {
                return React.createElement("div", { ref: function ref(c) {
                        _this3.element = c;
                    } });
            } else {
                var tableRows = [];
                this.containerStyle.display = "block";
                var container = this.element.parentNode;
                var rect = container.getBoundingClientRect();
                var left = window.pageXOffset + rect.left;
                var top = window.pageYOffset + rect.top;
                this.containerStyle.left = this.state.x - left;
                this.containerStyle.top = this.state.y - top;
                var columnNames = Object.keys(this.state.columnNamesToValue);
                if (columnNames.length) {
                    tableRows = columnNames.map(function (columnName) {
                        var colorSpan = _this3.state.columnNamesToColor[columnName] ? React.createElement("span", { style: { backgroundColor: _this3.state.columnNamesToColor[columnName] } }) : null;
                        return React.createElement(
                            "tr",
                            { key: columnName },
                            React.createElement(
                                "td",
                                { className: "name" },
                                colorSpan,
                                React.createElement(
                                    "div",
                                    { style: { display: "inline" } },
                                    _this3.nameFormat(columnName)
                                )
                            ),
                            React.createElement(
                                "td",
                                { className: "value" },
                                _this3.valueFormat(_this3.state.columnNamesToValue[columnName])
                            )
                        );
                    });
                }
                return React.createElement(
                    "div",
                    { style: this.containerStyle, ref: function ref(c) {
                            _this3.element = c;
                        }, className: this.tooltipContainerClass },
                    React.createElement(
                        "table",
                        { className: this.toolTipClass },
                        React.createElement(
                            "tbody",
                            null,
                            React.createElement(
                                "tr",
                                null,
                                React.createElement(
                                    "th",
                                    { colSpan: 2 },
                                    this.state.title ? this.titleFormat(this.state.title) : ""
                                )
                            ),
                            tableRows
                        )
                    )
                );
            }
        }
    }]);

    return ToolTip;
}(React.Component);

exports.default = ToolTip;

},{"lodash":"lodash","react":"react"}],31:[function(require,module,exports){
"use strict";

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _AbstractC3Tool2 = require("./AbstractC3Tool");

var _AbstractC3Tool3 = _interopRequireDefault(_AbstractC3Tool2);

var _WeaveTool = require("../WeaveTool");

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _d = require("d3");

var d3 = _interopRequireWildcard(_d);

var _FormatUtils = require("../utils/FormatUtils");

var _FormatUtils2 = _interopRequireDefault(_FormatUtils);

var _c = require("c3");

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../typings/c3/c3.d.ts"/>
///<reference path="../../typings/d3/d3.d.ts"/>
///<reference path="../../typings/lodash/lodash.d.ts"/>
///<reference path="../../typings/react/react.d.ts"/>
///<reference path="../../typings/weave/WeavePath.d.ts"/>
///<reference path="../utils/StandardLib.ts"/>
/// <reference path="../../typings/weave/weavejs.d.ts"/>
/// <reference path="../../typings/weave/Weave.d.ts"/>

var WeaveC3Barchart = function (_AbstractC3Tool) {
    _inherits(WeaveC3Barchart, _AbstractC3Tool);

    function WeaveC3Barchart(props) {
        _classCallCheck(this, WeaveC3Barchart);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveC3Barchart).call(this, props));

        _this.keyToIndex = {};
        _this.indexToKey = {};
        _this.yAxisValueToLabel = {};
        _this.xAxisValueToLabel = {};
        _this.c3Config = {
            size: {
                width: _this.props.style.width,
                height: _this.props.style.height
            },
            padding: {
                top: 20,
                bottom: 20
            },
            data: {
                json: [],
                type: "bar",
                xSort: false,
                selection: {
                    enabled: true,
                    multiple: true,
                    draggable: true
                },
                labels: {
                    format: function format(v, id, i, j) {
                        if (_this.showValueLabels) {
                            return v;
                        } else {
                            return "";
                        }
                    }
                },
                order: null,
                color: function color(_color, d) {
                    if (_this.heightColumnNames.length === 1 && d.hasOwnProperty("index")) {
                        // find the corresponding index of numericRecords in stringRecords
                        var id = _this.indexToKey[d.index];
                        var index = _.pluck(_this.stringRecords, "id").indexOf(id);
                        return _this.stringRecords[index] ? _this.stringRecords[index]["color"] : "#C0CDD1";
                    } else {
                        return _color || "#C0CDD1";
                    }
                },
                onclick: function onclick(d) {
                    var event = _this.chart.internal.d3.event;
                    if (!(event.ctrlKey || event.metaKey) && d && d.hasOwnProperty("index")) {
                        _this.toolPath.selection_keyset.setKeys([_this.indexToKey[d.index]]);
                    }
                },
                onselected: function onselected(d) {
                    _this.flag = true;
                    if (d && d.hasOwnProperty("index")) {
                        _this.toolPath.selection_keyset.addKeys([_this.indexToKey[d.index]]);
                    }
                },
                onunselected: function onunselected(d) {
                    _this.flag = true;
                    if (d && d.hasOwnProperty("index")) {
                        _this.toolPath.selection_keyset.removeKeys([_this.indexToKey[d.index]]);
                    }
                },
                onmouseover: function onmouseover(d) {
                    if (d && d.hasOwnProperty("index")) {
                        _this.toolPath.probe_keyset.setKeys([]);
                        var columnNamesToValue = {};
                        var columnNamesToColor = {};
                        _this.heightColumnNames.forEach(function (column, index) {
                            columnNamesToValue[_this.heightColumnsLabels[index]] = _this.numericRecords[d.index][column];
                            if (_this.heightColumnNames.length > 1) {
                                var color = _StandardLib2.default.interpolateColor(index / (_this.heightColumnNames.length - 1), _this.colorRamp);
                                columnNamesToColor[_this.heightColumnsLabels[index]] = "#" + _StandardLib2.default.decimalToHex(color);
                            }
                        });
                        var title = _this.stringRecords[d.index]["xLabel"];
                        _this.props.toolTip.setState({
                            x: _this.chart.internal.d3.event.pageX,
                            y: _this.chart.internal.d3.event.pageY,
                            showToolTip: true,
                            title: title,
                            columnNamesToValue: columnNamesToValue,
                            columnNamesToColor: columnNamesToColor
                        });
                        _this.toolPath.probe_keyset.setKeys([_this.indexToKey[d.index]]);
                    }
                },
                onmouseout: function onmouseout(d) {
                    if (d && d.hasOwnProperty("index")) {
                        _this.toolPath.probe_keyset.setKeys([]);
                        _this.props.toolTip.setState({
                            showToolTip: false
                        });
                    }
                }
            },
            axis: {
                x: {
                    type: "category",
                    label: {
                        text: "",
                        position: "outer-center"
                    },
                    tick: {
                        rotate: -45,
                        culling: {
                            max: null
                        },
                        multiline: false,
                        format: function format(num) {
                            if (_this.stringRecords && _this.stringRecords[num]) {
                                if (_this.element && _this.props.style.height > 0) {
                                    var labelHeight = _this.props.style.height * 0.2 / Math.cos(45 * (Math.PI / 180));
                                    var labelString = _this.stringRecords[num]["xLabel"];
                                    if (labelString) {
                                        var stringSize = _StandardLib2.default.getTextWidth(labelString, "14pt Helvetica Neue");
                                        var adjustmentCharacters = labelString.length - Math.floor(labelString.length * (labelHeight / stringSize));
                                        return adjustmentCharacters > 0 ? labelString.substring(0, labelString.length - adjustmentCharacters - 3) + "..." : labelString;
                                    } else {
                                        return "";
                                    }
                                } else {
                                    return _this.stringRecords[num]["xLabel"];
                                }
                            } else {
                                return "";
                            }
                        }
                    }
                },
                y: {
                    show: true,
                    label: {
                        text: "",
                        position: "outer-middle"
                    },
                    tick: {
                        fit: false,
                        multiline: false,
                        format: function format(num) {
                            if (_this.yLabelColumnPath && _this.yLabelColumnDataType !== "number") {
                                return _this.yAxisValueToLabel[num] || "";
                            } else if (_this.groupingMode === "percentStack") {
                                return d3.format(".0%")(num);
                            } else {
                                return String(_FormatUtils2.default.defaultNumberFormatting(num));
                            }
                        }
                    }
                },
                y2: {
                    show: false,
                    label: {
                        text: "",
                        position: "outer-middle"
                    },
                    tick: {
                        fit: false,
                        multiline: false,
                        format: function format(num) {
                            if (_this.yLabelColumnPath && _this.yLabelColumnDataType !== "number") {
                                return _this.yAxisValueToLabel[num] || "";
                            } else if (_this.groupingMode === "percentStack") {
                                return d3.format(".0%")(num);
                            } else {
                                return String(_FormatUtils2.default.defaultNumberFormatting(num));
                            }
                        }
                    }
                },
                rotated: false
            },
            tooltip: {
                format: {
                    title: function title(num) {
                        if (_this.stringRecords && _this.stringRecords[num]) {
                            return _this.stringRecords[num]["xLabel"];
                        } else {
                            return "";
                        }
                    },
                    name: function name(_name, ratio, id, index) {
                        var labelIndex = _this.heightColumnNames.indexOf(_name);
                        return _this.heightColumnsLabels ? _this.heightColumnsLabels[labelIndex] : "";
                    }
                },
                show: false
            },
            grid: {
                x: {
                    show: true
                },
                y: {
                    show: true
                }
            },
            bindto: null,
            bar: {
                width: {
                    ratio: 0.8
                }
            },
            legend: {
                show: false
            },
            onrendered: function onrendered() {
                _this.busy = false;
                _this.updateStyle();
            }
        };
        return _this;
    }

    _createClass(WeaveC3Barchart, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "handleClick",
        value: function handleClick(event) {
            if (!this.flag) {
                this.toolPath.selection_keyset.setKeys([]);
            }
            this.flag = false;
        }
    }, {
        key: "mirrorVertical",
        value: function mirrorVertical() {
            var temp = this.c3Config.data.keys.value[0];
            if (this.c3Config.axis.y.show == true) {
                this.c3Config.axis.y2.show = true;
                this.c3Config.axis.y.show = false;
                this.c3Config.data.axes = _defineProperty({}, temp, 'y2');
                this.c3Config.axis.y2.label = this.c3Config.axis.y.label;
            } else {
                this.c3Config.axis.y.show = true;
                this.c3Config.axis.y2.show = false;
                this.c3Config.data.axes = _defineProperty({}, temp, 'y');
                this.c3Config.axis.y.label = this.c3Config.axis.y2.label;
            }
            this.dataChanged();
            this.generate();
        }
    }, {
        key: "rotateAxes",
        value: function rotateAxes() {
            this.c3Config.axis.rotated = this.paths.horizontalMode.getState();
            this.generate();
            // setTimeout(() => {
            //   this.busy = true;
            //   c3.generate(this.c3Config);
            // }, 10);
        }
    }, {
        key: "axisChanged",
        value: function axisChanged() {
            if (!this.chart || this.busy) return _StandardLib2.default.debounce(this, 'axisChanged');
            var xLabel = this.paths.xAxis.push("overrideAxisName").getState() || "Sorted by " + this.paths.sortColumn.getObject().getMetadata('title');
            var yLabel = this.paths.yAxis.push("overrideAxisName").getState() || (this.heightColumnsLabels ? this.heightColumnsLabels.join(", ") : "");
            if (!this.showXAxisLabel) {
                xLabel = " ";
            }
            if (this.c3Config.axis.y.show) {
                this.chart.axis.labels({
                    x: xLabel,
                    y: yLabel
                });
            } else {
                this.chart.axis.labels({
                    x: xLabel,
                    y2: yLabel
                });
            }
            this.axisLabelsChanged();
            this.c3Config.axis.x.label = { text: xLabel, position: "outer-center" };
            this.c3Config.axis.y.label = { text: yLabel, position: "outer-middle" };
            this.generate();
        }
    }, {
        key: "axisLabelsChanged",
        value: function axisLabelsChanged() {
            var width = this.chart.internal.width;
            var textHeight = _StandardLib2.default.getTextHeight("test", "14pt Helvetica Neue");
            var xLabelsToShow = Math.floor(width / textHeight);
            xLabelsToShow = Math.max(2, xLabelsToShow);
            this.c3Config.axis.x.tick.culling = { max: xLabelsToShow };
        }
    }, {
        key: "handleShowValueLabels",
        value: function handleShowValueLabels() {
            if (!this.chart) return;
            this.showValueLabels = this.paths.showValueLabels.getState();
            this.chart.flush();
        }
    }, {
        key: "updateColumns",
        value: function updateColumns() {
            this.heightColumnNames = [];
            this.heightColumnsLabels = [];
            var lhm = this.paths.heightColumns.getObject();
            var columns = lhm.getObjects();
            var names = lhm.getNames();
            for (var idx in columns) {
                var column = columns[idx];
                var name = names[idx];
                var title = column.getMetadata('title');
                this.heightColumnsLabels.push(title);
                this.heightColumnNames.push(name);
            }
        }
    }, {
        key: "dataChanged",
        value: function dataChanged() {
            var _this2 = this;

            if (!this.chart || this.busy) return _StandardLib2.default.debounce(this, 'dataChanged');
            this.updateColumns();
            var heightColumns = this.paths.heightColumns.getChildren();
            var numericMapping = {
                sort: this.paths.sortColumn,
                xLabel: this.paths.labelColumn
            };
            var stringMapping = {
                sort: this.paths.sortColumn,
                color: this.paths.colorColumn,
                xLabel: this.paths.labelColumn
            };
            heightColumns.forEach(function (column, idx) {
                var name = column.getPath().pop();
                numericMapping[name] = column; // all height columns as numeric value for the chart
                if (idx === 0) {
                    _this2.yLabelColumnPath = column;
                    stringMapping["yLabel"] = column; // only using the first column to label the y axis
                    numericMapping["yLabel"] = column;
                }
            });
            this.yLabelColumnDataType = this.yLabelColumnPath.getObject().getMetadata('dataType');
            this.numericRecords = this.paths.plotter.retrieveRecords(numericMapping, { keySet: this.paths.filteredKeySet, dataType: "number" });
            if (!this.numericRecords.length) return;
            this.stringRecords = this.paths.plotter.retrieveRecords(stringMapping, { keySet: this.paths.filteredKeySet, dataType: "string" });
            this.records = _.zip(this.numericRecords, this.stringRecords);
            //this.records = _.sortByOrder(this.records, ["sort", "id"], ['asc', 'asc']);
            this.records = _.sortBy(this.records, function (record) {
                return record[0]["sort"];
            });
            if (this.c3Config.axis.y.show == false) {
                this.records = this.records.reverse();
            }
            if (this.records.length) {
                ;

                var _$unzip = _.unzip(this.records);

                var _$unzip2 = _slicedToArray(_$unzip, 2);

                this.numericRecords = _$unzip2[0];
                this.stringRecords = _$unzip2[1];
            }this.yAxisValueToLabel = {};
            this.xAxisValueToLabel = {};
            this.keyToIndex = {};
            this.indexToKey = {};
            this.numericRecords.forEach(function (record, index) {
                if (record) {
                    _this2.keyToIndex[record["id"]] = index;
                    _this2.indexToKey[index] = record["id"];
                }
            });
            this.stringRecords.forEach(function (record, index) {
                var numericRecord = _this2.numericRecords[index];
                if (numericRecord) {
                    _this2.yAxisValueToLabel[numericRecord["yLabel"]] = record["yLabel"];
                    _this2.xAxisValueToLabel[numericRecord["xLabel"]] = record["xLabel"];
                }
            });
            this.groupingMode = this.paths.groupingMode.getState();
            //var horizontalMode = this.paths.plotter.push("horizontalMode").getState();
            // set axis rotation mode
            //this.chart.load({axes: { rotated: horizontalMode }});
            if (this.groupingMode === "stack") {
                this.chart.groups([this.heightColumnNames]);
            } else if (this.groupingMode === "group") {
                this.chart.groups([]);
            } else if (this.groupingMode === "percentStack") {
                this.chart.groups([this.heightColumnNames]);
            }
            if (this.groupingMode === "percentStack" && this.heightColumnNames.length > 1) {
                // normalize the height columns to be percentages.
                var newValues = this.numericRecords.map(function (record) {
                    var heights;
                    if (record) {
                        heights = _.pick(record, _this2.heightColumnNames);
                        var sum = 0;
                        _.keys(heights).forEach(function (key) {
                            sum += heights[key];
                        });
                        _.keys(heights).forEach(function (key) {
                            heights[key] = heights[key] / sum;
                        });
                    }
                    return heights;
                });
                this.numericRecords = newValues;
            }
            ;
            var keys = { x: "", value: [] };
            // if label column is specified
            if (this.paths.labelColumn.getState().length) {
                keys.x = "xLabel";
            }
            keys.value = this.heightColumnNames;
            var colors = {};
            if (this.heightColumnNames.length > 1) {
                this.colorRamp = this.paths.chartColors.getState();
                this.heightColumnNames.map(function (name, index) {
                    var color = _StandardLib2.default.interpolateColor(index / (_this2.heightColumnNames.length - 1), _this2.colorRamp);
                    colors[name] = "#" + _StandardLib2.default.decimalToHex(color);
                });
            }
            var data = _.cloneDeep(this.c3Config.data);
            data.json = this.numericRecords;
            data.colors = colors;
            data.keys = keys;
            data.unload = true;
            this.c3Config.data = data;
            this.busy = true;
            this.chart.load(data);
        }
    }, {
        key: "updateStyle",
        value: function updateStyle() {
            var _this3 = this;

            if (!this.chart || !this.heightColumnNames) return;
            d3.select(this.element).selectAll("path").style("opacity", 1).style("stroke", "black").style("stroke-width", "1px").style("stroke-opacity", 0.5);
            var selectedKeys = this.toolPath.selection_keyset.getKeys();
            var probedKeys = this.toolPath.probe_keyset.getKeys();
            var selectedIndices = selectedKeys.map(function (key) {
                return Number(_this3.keyToIndex[key]);
            });
            var probedIndices = probedKeys.map(function (key) {
                return Number(_this3.keyToIndex[key]);
            });
            var keys = Object.keys(this.keyToIndex);
            var indices = keys.map(function (key) {
                return Number(_this3.keyToIndex[key]);
            });
            var unselectedIndices = _.difference(indices, selectedIndices);
            unselectedIndices = _.difference(unselectedIndices, probedIndices);
            this.heightColumnNames.forEach(function (item) {
                var paths = d3.selectAll("g").filter(".c3-shapes-" + item + ".c3-bars").selectAll("path");
                var texts = d3.selectAll("g").filter(".c3-texts-" + item).selectAll("text");
                if (selectedIndices.length) {
                    _this3.customSelectorStyle(unselectedIndices, paths, { opacity: 0.3, "stroke-opacity": 0.0 });
                    _this3.customSelectorStyle(selectedIndices, paths, { opacity: 1.0, "stroke-opacity": 1.0 });
                    _this3.customSelectorStyle(unselectedIndices, texts, { "fill-opacity": 0.3 });
                    _this3.customSelectorStyle(selectedIndices, texts, { "fill-opacity": 1.0 });
                } else if (!probedIndices.length) {
                    _this3.customSelectorStyle(indices, paths, { opacity: 1.0, "stroke-opacity": 0.5 });
                    _this3.customSelectorStyle(indices, texts, { "fill-opacity": 1.0 });
                }
            });
            if (selectedIndices.length) this.chart.select(this.heightColumnNames, selectedIndices, true);else if (!probedIndices.length) this.chart.select(this.heightColumnNames, [], true);
        }
    }, {
        key: "generate",
        value: function generate() {
            this.busy = true;
            this.chart = (0, _c.generate)(this.c3Config);
        }
    }, {
        key: "resize",
        value: function resize(width, height) {
            if (this.paths.labelColumn.getState().length) {
                this.c3Config.axis.x.height = height * 0.2;
            } else {
                this.c3Config.axis.x.height = null;
            }
            this.c3Config.size = { width: width, height: height };
            this.generate();
            if (this.paths.labelColumn.getState().length) {
                //TODO: For now we have no choice by to update axis for label spacing after generate,
                //so we can get new width and then update label spacing appropriately, but this
                //then requires another call to generate. We may want to try and calculate this
                //width ourselves to save the extra generate call in axisChanged()
                this.axisChanged();
            }
        }
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            this.element.addEventListener("click", this.handleClick.bind(this));
            this.showXAxisLabel = false;
            var plotterPath = this.toolPath.pushPlotter("plot");
            var mapping = [{ name: "plotter", path: plotterPath, callbacks: null }, { name: "heightColumns", path: plotterPath.push("heightColumns"), callbacks: [this.dataChanged, this.axisChanged] }, { name: "labelColumn", path: plotterPath.push("labelColumn"), callbacks: [this.dataChanged, this.axisChanged] }, { name: "sortColumn", path: plotterPath.push("sortColumn"), callbacks: [this.dataChanged, this.axisChanged] }, { name: "colorColumn", path: plotterPath.push("colorColumn"), callbacks: this.dataChanged }, { name: "chartColors", path: plotterPath.push("chartColors"), callbacks: this.dataChanged }, { name: "groupingMode", path: plotterPath.push("groupingMode"), callbacks: this.dataChanged }, { name: "horizontalMode", path: plotterPath.push("horizontalMode"), callbacks: this.rotateAxes }, { name: "showValueLabels", path: plotterPath.push("showValueLabels"), callbacks: this.handleShowValueLabels }, { name: "xAxis", path: this.toolPath.pushPlotter("xAxis"), callbacks: this.axisChanged }, { name: "yAxis", path: this.toolPath.pushPlotter("yAxis"), callbacks: this.axisChanged }, { name: "filteredKeySet", path: plotterPath.push("filteredKeySet"), callbacks: this.dataChanged }, { name: "selectionKeySet", path: this.toolPath.selection_keyset, callbacks: this.updateStyle }, { name: "probeKeySet", path: this.toolPath.probe_keyset, callbacks: this.updateStyle }];
            this.initializePaths(mapping);
            this.paths.filteredKeySet.getObject().setColumnKeySources([this.paths.sortColumn.getObject()]);
            this.c3Config.bindto = this.element;
            if (this.paths.labelColumn.getState().length) {
                this.c3Config.axis.x.height = this.props.style.height * 0.2;
            }
            this.generate();
        }
    }]);

    return WeaveC3Barchart;
}(_AbstractC3Tool3.default);

exports.default = WeaveC3Barchart;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::CompoundBarChartTool", WeaveC3Barchart);
//Weave.registerClass("weavejs.tools.CompoundBarChartTool", WeaveC3Barchart, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"../utils/FormatUtils":40,"../utils/StandardLib":41,"./AbstractC3Tool":15,"c3":"c3","d3":"d3","lodash":"lodash"}],32:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _WeaveTool = require("../WeaveTool");

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _ui = require("../react-ui/ui");

var _ui2 = _interopRequireDefault(_ui);

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

var _reactVendorPrefix = require("react-vendor-prefix");

var Prefixer = _interopRequireWildcard(_reactVendorPrefix);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // <reference path="../../typings/d3/d3.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>
///<reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/weave/WeavePath.d.ts"/>
///<reference path="../react-ui/ui.tsx"/>
///<reference path="../../typings/react/react-dom.d.ts"/>

var SHAPE_TYPE_CIRCLE = "circle";
var SHAPE_TYPE_SQUARE = "square";
var SHAPE_TYPE_LINE = "line";

var WeaveC3BarChartLegend = function (_React$Component) {
    _inherits(WeaveC3BarChartLegend, _React$Component);

    function WeaveC3BarChartLegend(props) {
        _classCallCheck(this, WeaveC3BarChartLegend);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveC3BarChartLegend).call(this, props));

        _this.toolPath = props.toolPath;
        _this.plotterPath = _this.toolPath.pushPlotter("plot");
        _this.colorRampPath = _this.plotterPath.push("chartColors");
        _this.columnsPath = _this.plotterPath.push("columns");
        _this.maxColumnsPath = _this.plotterPath.push("maxColumns");
        _this.filteredKeySet = _this.plotterPath.push("filteredKeySet");
        _this.state = { selected: [], probed: [] };
        _this.spanStyle = { textAlign: "left", verticalAlign: "middle", overflow: "hidden", whiteSpace: "nowrap", textOverflow: "ellipsis", paddingLeft: 5, userSelect: "none" };
        return _this;
    }

    _createClass(WeaveC3BarChartLegend, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "setupCallbacks",
        value: function setupCallbacks() {
            this.maxColumnsPath.addCallback(this, this.forceUpdate);
            this.filteredKeySet.addCallback(this, this.forceUpdate);
            this.plotterPath.push("shapeSize").addCallback(this, this.forceUpdate);
        }
        //getSelectedBins():number[] {
        //
        //}
        //getProbedBins():number[] {
        //
        //}

    }, {
        key: "handleClick",
        value: function handleClick(label, temp) {}
    }, {
        key: "handleProbe",
        value: function handleProbe(bin, mouseOver) {}
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            this.setupCallbacks();
        }
    }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate() {}
    }, {
        key: "drawContinuousPlot",
        value: function drawContinuousPlot() {}
    }, {
        key: "selectionKeysChanged",
        value: function selectionKeysChanged() {}
    }, {
        key: "probeKeysChanged",
        value: function probeKeysChanged() {}
    }, {
        key: "visualizationChanged",
        value: function visualizationChanged() {}
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {}
    }, {
        key: "getInteractionStyle",
        value: function getInteractionStyle(bin) {
            var selectedStyle = {
                width: "100%",
                flex: 1.0,
                borderWidth: 0,
                borderColor: "black",
                borderStyle: "solid",
                opacity: 1.0
            };
            return selectedStyle;
        }
    }, {
        key: "render",
        value: function render() {
            var _this2 = this;

            var width = this.props.style.width;
            var height = this.props.style.height;
            var shapeSize = this.plotterPath.getState("shapeSize");
            this.numberOfLabels = this.columnsPath.getState().length;
            var maxColumns = 1; //TODO: This should really be "this.maxColumnsPath.getState();" but only supporting 1 column for now
            var columnFlex = 1.0 / maxColumns;
            var extraBins = this.numberOfLabels % maxColumns == 0 ? 0 : maxColumns - this.numberOfLabels % maxColumns;
            var ramp = this.colorRampPath.getState();
            var labels = this.columnsPath.getState().map(function (column) {
                var columnName = column.objectName;
                return _this2.columnsPath.push(columnName).getObject().getMetadata('title');
            });
            var finalElements = [];
            var prefixerStyle = Prefixer.prefix({ styles: this.spanStyle }).styles;
            for (var j = 0; j < maxColumns; j++) {
                var element = [];
                var elements = [];
                for (var i = 0; i < this.numberOfLabels + extraBins; i++) {
                    if (i % maxColumns == j) {
                        if (i < this.numberOfLabels) {
                            element.push(React.createElement(
                                _ui2.default.HBox,
                                { key: i, style: this.getInteractionStyle(i), onClick: this.handleClick.bind(this, i), onMouseOver: this.handleProbe.bind(this, i, true), onMouseOut: this.handleProbe.bind(this, i, false) },
                                React.createElement(
                                    _ui2.default.HBox,
                                    { style: { width: shapeSize, position: "relative", padding: "0px 0px 0px 0px" } },
                                    React.createElement(
                                        "svg",
                                        { style: { position: "absolute" }, width: "100%", height: "100%" },
                                        React.createElement("rect", { x: 0, y: 10, height: "80%", width: shapeSize, style: { fill: "#" + _StandardLib2.default.decimalToHex(_StandardLib2.default.interpolateColor(_StandardLib2.default.normalize(i, 0, this.numberOfLabels - 1), ramp)), stroke: "black", strokeOpacity: 0.5 } })
                                    )
                                ),
                                React.createElement(
                                    _ui2.default.HBox,
                                    { style: { width: "100%", flex: 0.8, alignItems: "center" } },
                                    React.createElement(
                                        "span",
                                        { style: prefixerStyle },
                                        labels[i]
                                    )
                                )
                            ));
                        } else {
                            element.push(React.createElement(_ui2.default.HBox, { key: i, style: { width: "100%", flex: 1.0 } }));
                        }
                    }
                }
                {
                    this.props.style.width > this.props.style.height * 2 ? elements.push(React.createElement(
                        _ui2.default.HBox,
                        { key: i, style: { width: "100%", flex: columnFlex } },
                        element
                    )) : elements.push(React.createElement(
                        _ui2.default.VBox,
                        { key: i, style: { height: "100%", flex: columnFlex } },
                        element
                    ));
                }
                finalElements[j] = elements;
            }
            return React.createElement(
                "div",
                { style: { width: "100%", height: "100%", padding: "0px 5px 0px 5px" } },
                React.createElement(
                    _ui2.default.VBox,
                    { style: { height: "100%", flex: 1.0, overflow: "hidden" } },
                    React.createElement(
                        _ui2.default.HBox,
                        { style: { width: "100%", flex: 0.1, alignItems: "center" } },
                        React.createElement(
                            "span",
                            { style: prefixerStyle },
                            "Bar color"
                        )
                    ),
                    this.props.style.width > this.props.style.height * 2 ? React.createElement(
                        _ui2.default.HBox,
                        { style: { width: "100%", flex: 0.9 } },
                        " ",
                        finalElements
                    ) : React.createElement(
                        _ui2.default.VBox,
                        { style: { height: "100%", flex: 0.9 } },
                        " ",
                        finalElements
                    )
                )
            );
        }
    }, {
        key: "title",
        get: function get() {
            return (this.toolPath.getType('panelTitle') ? this.toolPath.getState('panelTitle') : '') || this.toolPath.getPath().pop();
        }
    }]);

    return WeaveC3BarChartLegend;
}(React.Component);

exports.default = WeaveC3BarChartLegend;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::BarChartLegendTool", WeaveC3BarChartLegend);
//Weave.registerClass("weavejs.tools.ColorBinLegendTool", WeaveC3ColorLegend, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"../react-ui/ui":14,"../utils/StandardLib":41,"react":"react","react-vendor-prefix":"react-vendor-prefix"}],33:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _WeaveTool = require("../WeaveTool");

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _d = require("d3");

var d3 = _interopRequireWildcard(_d);

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _ui = require("../react-ui/ui");

var _ui2 = _interopRequireDefault(_ui);

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

var _reactVendorPrefix = require("react-vendor-prefix");

var Prefixer = _interopRequireWildcard(_reactVendorPrefix);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // <reference path="../../typings/d3/d3.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>
///<reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/weave/WeavePath.d.ts"/>
///<reference path="../react-ui/ui.tsx"/>
///<reference path="../../typings/react/react-dom.d.ts"/>

var SHAPE_TYPE_CIRCLE = "circle";
var SHAPE_TYPE_SQUARE = "square";
var SHAPE_TYPE_LINE = "line";

var WeaveC3ColorLegend = function (_React$Component) {
    _inherits(WeaveC3ColorLegend, _React$Component);

    function WeaveC3ColorLegend(props) {
        _classCallCheck(this, WeaveC3ColorLegend);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveC3ColorLegend).call(this, props));

        _this.toolPath = props.toolPath;
        _this.plotterPath = _this.toolPath.pushPlotter("plot");
        _this.dynamicColorColumnPath = _this.plotterPath.push("dynamicColorColumn", null);
        _this.binningDefinition = _this.dynamicColorColumnPath.push("internalDynamicColumn", null, "binningDefinition", null);
        _this.binnedColumnPath = _this.dynamicColorColumnPath.push("internalDynamicColumn", null);
        _this.maxColumnsPath = _this.plotterPath.push("maxColumns");
        _this.filteredKeySet = _this.plotterPath.push("filteredKeySet");
        _this.selectionKeySet = _this.toolPath.push("selectionKeySet");
        _this.probeKeySet = _this.toolPath.push("probeKeySet");
        _this.state = { selected: [], probed: [] };
        _this.selectedBins = [];
        _this.spanStyle = {
            textAlign: "left",
            verticalAlign: "middle",
            overflow: "hidden",
            whiteSpace: "nowrap",
            textOverflow: "ellipsis",
            paddingLeft: 5,
            userSelect: "none"
        };
        return _this;
    }

    _createClass(WeaveC3ColorLegend, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "setupCallbacks",
        value: function setupCallbacks() {
            this.dynamicColorColumnPath.addCallback(this, this.forceUpdate);
            this.maxColumnsPath.addCallback(this, this.forceUpdate);
            this.filteredKeySet.addCallback(this, this.forceUpdate);
            this.plotterPath.push("shapeSize").addCallback(this, this.forceUpdate);
            this.binnedColumnPath.addCallback(this, this.forceUpdate);
            this.toolPath.selection_keyset.addCallback(this, this.forceUpdate);
            this.toolPath.probe_keyset.addCallback(this, this.forceUpdate);
        }
    }, {
        key: "getBinIndexFromKey",
        value: function getBinIndexFromKey(key) {
            return this.binnedColumnPath.getObject().getValueFromKey(key, Number);
        }
    }, {
        key: "getSelectedBins",
        value: function getSelectedBins() {
            var _this2 = this;

            var keys = this.toolPath.selection_keyset.getKeys();
            var selectedBins = [];
            keys.forEach(function (key) {
                selectedBins.push(_this2.getBinIndexFromKey(key));
            });
            return _.unique(selectedBins);
        }
    }, {
        key: "getProbedBins",
        value: function getProbedBins() {
            var _this3 = this;

            var keys = this.toolPath.probe_keyset.getKeys();
            var probedBins = [];
            keys.forEach(function (key) {
                probedBins.push(_this3.getBinIndexFromKey(key));
            });
            return _.unique(probedBins);
        }
    }, {
        key: "handleClick",
        value: function handleClick(bin, event) {
            var binnedKeys = this.binnedColumnPath.getObject()._binnedKeysArray;
            //setKeys
            if (_.contains(this.selectedBins, bin)) {
                var currentSelection = this.toolPath.selection_keyset.getKeys();
                currentSelection = _.difference(currentSelection, binnedKeys[bin]);
                this.toolPath.selection_keyset.setKeys(currentSelection);
                _.remove(this.selectedBins, function (value) {
                    return value == bin;
                });
            } else {
                if (event.ctrlKey || event.metaKey) {
                    this.toolPath.selection_keyset.addKeys(binnedKeys[bin]);
                    this.selectedBins.push(bin);
                } else {
                    this.toolPath.selection_keyset.setKeys(binnedKeys[bin]);
                    this.selectedBins = [bin];
                }
            }
        }
    }, {
        key: "handleProbe",
        value: function handleProbe(bin, mouseOver) {
            if (mouseOver) {
                var binnedKeys = this.binnedColumnPath.getObject()._binnedKeysArray;
                this.toolPath.probe_keyset.setKeys(binnedKeys[bin]);
            } else {
                this.toolPath.probe_keyset.setKeys([]);
            }
        }
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            this.setupCallbacks();
        }
    }, {
        key: "getInteractionStyle",
        value: function getInteractionStyle(bin) {
            var probed = this.getProbedBins().indexOf(bin) >= 0;
            var selected = this.getSelectedBins().indexOf(bin) >= 0;
            var borderAlpha;
            if (probed) borderAlpha = 1;else if (selected) borderAlpha = 0.5;else borderAlpha = 0;
            return {
                width: "100%",
                flex: 1.0,
                borderColor: _StandardLib2.default.rgba(0, 0, 0, borderAlpha),
                borderStyle: "solid",
                borderWidth: 1
            };
        }
    }, {
        key: "render",
        value: function render() {
            if (this.numberOfBins) {
                //Binned plot case
                var width = this.props.style.width;
                var height = this.props.style.height;
                var shapeSize = this.plotterPath.getState("shapeSize");
                var shapeType = this.plotterPath.getState("shapeType");
                var maxColumns = 1; //TODO: This should really be "this.maxColumnsPath.getState();" but only supporting 1 column for now
                var columnFlex = 1.0 / maxColumns;
                var extraBins = this.numberOfBins % maxColumns == 0 ? 0 : maxColumns - this.numberOfBins % maxColumns;
                var ramp = this.dynamicColorColumnPath.getState("ramp");
                var yScale = d3.scale.linear().domain([0, this.numberOfBins + 1]).range([0, height]);
                var yMap = function yMap(d) {
                    return yScale(d);
                };
                shapeSize = _.max([1, _.min([shapeSize, height / this.numberOfBins])]);
                var r = shapeSize / 100 * height / this.numberOfBins / 2;
                var bc = this.binnedColumnPath.getObject();
                var textLabelFunction = bc.deriveStringFromNumber.bind(bc);
                var finalElements = [];
                var prefixerStyle = Prefixer.prefix({ styles: this.spanStyle }).styles;
                for (var j = 0; j < maxColumns; j++) {
                    switch (shapeType) {
                        case SHAPE_TYPE_CIRCLE:
                            {
                                var element = [];
                                var elements = [];
                                for (var i = 0; i < this.numberOfBins + extraBins; i++) {
                                    if (i % maxColumns == j) {
                                        if (i < this.numberOfBins) {
                                            element.push(React.createElement(
                                                _ui2.default.HBox,
                                                { key: i, style: this.getInteractionStyle(i), onClick: this.handleClick.bind(this, i), onMouseOver: this.handleProbe.bind(this, i, true), onMouseOut: this.handleProbe.bind(this, i, false) },
                                                React.createElement(
                                                    _ui2.default.HBox,
                                                    { style: { width: "100%", flex: 0.2, minWidth: 10, position: "relative", padding: "0px 0px 0px 0px" } },
                                                    React.createElement(
                                                        "svg",
                                                        { style: { position: "absolute" }, viewBox: "0 0 100 100", width: "100%", height: "100%" },
                                                        React.createElement("circle", { cx: "50%", cy: "50%", r: "45%", style: {
                                                                fill: "#" + _StandardLib2.default.decimalToHex(_StandardLib2.default.interpolateColor(_StandardLib2.default.normalize(i, 0, this.numberOfBins - 1), ramp)),
                                                                stroke: "black",
                                                                strokeOpacity: 0.5
                                                            } })
                                                    )
                                                ),
                                                React.createElement(
                                                    _ui2.default.HBox,
                                                    { style: { width: "100%", flex: 0.8, alignItems: "center" } },
                                                    React.createElement(
                                                        "span",
                                                        { style: prefixerStyle },
                                                        textLabelFunction(i)
                                                    )
                                                )
                                            ));
                                        } else {
                                            element.push(React.createElement(_ui2.default.HBox, { key: i, style: { width: "100%", flex: 1.0 } }));
                                        }
                                    }
                                }
                                if (this.props.style.width > this.props.style.height * 2) {
                                    elements.push(React.createElement(
                                        _ui2.default.HBox,
                                        { key: i, style: { width: "100%", flex: columnFlex } },
                                        " ",
                                        element,
                                        " "
                                    ));
                                } else {
                                    elements.push(React.createElement(
                                        _ui2.default.VBox,
                                        { key: i, style: { height: "100%", flex: columnFlex } },
                                        " ",
                                        element,
                                        " "
                                    ));
                                }
                                finalElements[j] = elements;
                            }
                            break;
                        case SHAPE_TYPE_SQUARE:
                            break;
                        case SHAPE_TYPE_LINE:
                            break;
                    }
                }
                return React.createElement(
                    "div",
                    { style: { width: "100%", height: "100%", padding: "0px 5px 0px 5px" } },
                    React.createElement(
                        _ui2.default.VBox,
                        { style: { height: "100%", flex: 1.0, overflow: "hidden" } },
                        React.createElement(
                            _ui2.default.HBox,
                            { style: { width: "100%", flex: 0.1, alignItems: "center" } },
                            React.createElement(
                                "span",
                                { style: prefixerStyle },
                                this.dynamicColorColumnPath.getObject().getMetadata('title')
                            )
                        ),
                        this.props.style.width > this.props.style.height * 2 ? React.createElement(
                            _ui2.default.HBox,
                            { style: { width: "100%", flex: 0.9 } },
                            " ",
                            finalElements,
                            " "
                        ) : React.createElement(
                            _ui2.default.VBox,
                            { style: { height: "100%", flex: 0.9 } },
                            " ",
                            finalElements,
                            " "
                        )
                    )
                );
            } else {
                //Continuous plot case
                return React.createElement("svg", null);
            }
        }
    }, {
        key: "title",
        get: function get() {
            return (this.toolPath.getType('panelTitle') ? this.toolPath.getState('panelTitle') : '') || this.toolPath.getPath().pop();
        }
    }, {
        key: "numberOfBins",
        get: function get() {
            return this.binnedColumnPath.getObject().numberOfBins;
        }
    }]);

    return WeaveC3ColorLegend;
}(React.Component);

exports.default = WeaveC3ColorLegend;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::ColorBinLegendTool", WeaveC3ColorLegend);
//Weave.registerClass("weavejs.tools.ColorBinLegendTool", WeaveC3ColorLegend, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"../react-ui/ui":14,"../utils/StandardLib":41,"d3":"d3","lodash":"lodash","react":"react","react-vendor-prefix":"react-vendor-prefix"}],34:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _AbstractC3Tool2 = require("./AbstractC3Tool");

var _AbstractC3Tool3 = _interopRequireDefault(_AbstractC3Tool2);

var _WeaveTool = require("../WeaveTool");

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _d = require("d3");

var d3 = _interopRequireWildcard(_d);

var _FormatUtils = require("../utils/FormatUtils");

var _FormatUtils2 = _interopRequireDefault(_FormatUtils);

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

var _c = require("c3");

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../typings/c3/c3.d.ts"/>
///<reference path="../../typings/d3/d3.d.ts"/>
///<reference path="../../typings/lodash/lodash.d.ts"/>
///<reference path="../../typings/react/react.d.ts"/>
///<reference path="../../typings/weave/WeavePath.d.ts"/>

var WeaveC3Histogram = function (_AbstractC3Tool) {
    _inherits(WeaveC3Histogram, _AbstractC3Tool);

    function WeaveC3Histogram(props) {
        _classCallCheck(this, WeaveC3Histogram);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveC3Histogram).call(this, props));

        _this.busy = false;
        _this.idToRecord = {};
        _this.keyToIndex = {};
        _this.indexToKey = {};
        _this.c3Config = {
            size: {
                width: _this.props.style.width,
                height: _this.props.style.height
            },
            padding: {
                top: 20,
                bottom: 20,
                right: 30
            },
            data: {
                columns: [],
                selection: {
                    enabled: true,
                    multiple: true,
                    draggable: true
                },
                type: "bar",
                color: function color(_color, d) {
                    if (d && d.hasOwnProperty("index")) {
                        var decColor;
                        if (_this.c3Config.axis.y2.show) {
                            //handle case where labels need to be reversed for chart flip
                            var temp = _this.histData.length - 1;
                            decColor = _this.paths.fillStyle.push("color").getObject("internalDynamicColumn", null).getColorFromDataValue(temp - d.index).toString(16);
                        } else {
                            decColor = _this.paths.fillStyle.push("color").getObject("internalDynamicColumn", null).getColorFromDataValue(d.index).toString(16);
                        }
                        return "#" + _StandardLib2.default.decimalToHex(decColor);
                    }
                    return "#C0CDD1";
                },
                onclick: function onclick(d) {
                    var event = _this.chart.internal.d3;
                    if (!(event.ctrlKey || event.metaKey) && d && d.hasOwnProperty("index")) {
                        var selectedIds = _this.paths.binnedColumn.getObject().getKeysFromBinIndex(d.index).map(function (qKey) {
                            return _this.toolPath.qkeyToString(qKey);
                        });
                        _this.toolPath.selection_keyset.setKeys(selectedIds);
                    }
                },
                onselected: function onselected(d) {
                    _this.flag = true;
                    if (d && d.hasOwnProperty("index")) {
                        var selectedIds = _this.paths.binnedColumn.getObject().getKeysFromBinIndex(d.index).map(function (qKey) {
                            return _this.toolPath.qkeyToString(qKey);
                        });
                        _this.toolPath.selection_keyset.addKeys(selectedIds);
                    }
                },
                onunselected: function onunselected(d) {
                    _this.flag = true;
                    if (d && d.hasOwnProperty("index")) {
                        var unSelectedIds = _this.paths.binnedColumn.getObject().getKeysFromBinIndex(d.index).map(function (qKey) {
                            return _this.toolPath.qkeyToString(qKey);
                        });
                        _this.toolPath.selection_keyset.removeKeys(unSelectedIds);
                    }
                },
                onmouseover: function onmouseover(d) {
                    if (d && d.hasOwnProperty("index")) {
                        var selectedIds = _this.paths.binnedColumn.getObject().getKeysFromBinIndex(d.index).map(function (qKey) {
                            return _this.toolPath.qkeyToString(qKey);
                        });
                        _this.toolPath.probe_keyset.setKeys(selectedIds);
                    }
                },
                onmouseout: function onmouseout(d) {
                    if (d && d.hasOwnProperty("index")) {
                        _this.toolPath.probe_keyset.setKeys([]);
                    }
                }
            },
            bindto: _this.element,
            legend: {
                show: false
            },
            axis: {
                x: {
                    type: "category",
                    label: {
                        text: "",
                        position: "outer-center"
                    },
                    tick: {
                        rotate: -45,
                        multiline: false,
                        format: function format(num) {
                            if (_this.element && _this.props.style.height > 0) {
                                var labelHeight = _this.props.style.height * 0.2 / Math.cos(45 * (Math.PI / 180));
                                var labelString;
                                if (_this.c3Config.axis.y2.show) {
                                    //handle case where labels need to be reversed
                                    var temp = _this.histData.length - 1;
                                    labelString = _this.paths.binnedColumn.getObject().deriveStringFromNumber(temp - num);
                                } else {
                                    labelString = _this.paths.binnedColumn.getObject().deriveStringFromNumber(num);
                                }
                                if (labelString) {
                                    var stringSize = _StandardLib2.default.getTextWidth(labelString, "14pt Helvetica Neue");
                                    var adjustmentCharacters = labelString.length - Math.floor(labelString.length * (labelHeight / stringSize));
                                    return adjustmentCharacters > 0 ? labelString.substring(0, labelString.length - adjustmentCharacters - 3) + "..." : labelString;
                                } else {
                                    return "";
                                }
                            } else {
                                return _this.paths.binnedColumn.getObject().deriveStringFromNumber(num);
                            }
                        }
                    }
                },
                y: {
                    show: true,
                    label: {
                        text: "",
                        position: "outer-middle"
                    },
                    tick: {
                        fit: false,
                        format: function format(num) {
                            return String(_FormatUtils2.default.defaultNumberFormatting(num));
                        }
                    }
                },
                y2: {
                    show: false,
                    label: {
                        text: "",
                        position: "outer-middle"
                    },
                    tick: {
                        fit: false,
                        format: function format(num) {
                            return String(_FormatUtils2.default.defaultNumberFormatting(num));
                        }
                    }
                },
                rotated: false
            },
            tooltip: {
                format: {
                    title: function title(num) {
                        return _this.paths.binnedColumn.getObject().deriveStringFromNumber(num);
                    },
                    name: function name(_name, ratio, id, index) {
                        return _this.getYAxisLabel();
                    }
                }
            },
            grid: {
                x: {
                    show: true
                },
                y: {
                    show: true
                }
            },
            bar: {
                width: {
                    ratio: 0.95
                }
            },
            onrendered: function onrendered() {
                _this.updateStyle();
            }
        };
        return _this;
    }

    _createClass(WeaveC3Histogram, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "handleClick",
        value: function handleClick(event) {
            if (!this.flag) {
                this.toolPath.selection_keyset.setKeys([]);
            }
            this.flag = false;
        }
    }, {
        key: "rotateAxes",
        value: function rotateAxes() {
            //this.c3Config.axis.rotated = true;
            //this.forceUpdate();
        }
    }, {
        key: "getYAxisLabel",
        value: function getYAxisLabel() {
            var overrideAxisName = this.paths.yAxis.push("overrideAxisName").getState();
            if (overrideAxisName) {
                return overrideAxisName;
            } else {
                if (this.paths.columnToAggregate.getState().length) {
                    switch (this.paths.aggregationMethod.getState()) {
                        case "count":
                            return "Number of records";
                        case "sum":
                            return "Sum of " + this.paths.columnToAggregate.getObject().getMetadata('title');
                        case "mean":
                            return "Mean of " + this.paths.columnToAggregate.getObject().getMetadata('title');
                    }
                } else {
                    return "Number of records";
                }
            }
        }
    }, {
        key: "mirrorVertical",
        value: function mirrorVertical() {
            var temp = "height";
            if (this.c3Config.axis.y.show == true) {
                this.c3Config.axis.y2.show = true;
                this.c3Config.axis.y.show = false;
                this.c3Config.data.axes = _defineProperty({}, temp, 'y2');
                this.c3Config.axis.y2.label = this.c3Config.axis.y.label;
            } else {
                this.c3Config.axis.y.show = true;
                this.c3Config.axis.y2.show = false;
                this.c3Config.data.axes = _defineProperty({}, temp, 'y');
                this.c3Config.axis.y.label = this.c3Config.axis.y2.label;
            }
            this.chart = (0, _c.generate)(this.c3Config);
            this._dataChanged();
        }
    }, {
        key: "_axisChanged",
        value: function _axisChanged() {
            if (!this.chart) return;
            if (this.busy) return;
            var xLabel = this.paths.xAxis.getState("overrideAxisName") || this.paths.binnedColumn.getObject().getMetadata('title');
            if (!this.showXAxisLabel) {
                xLabel = " ";
            }
            this.chart.axis.labels({
                x: xLabel,
                y: this.getYAxisLabel.bind(this)()
            });
        }
    }, {
        key: "updateStyle",
        value: function updateStyle() {
            if (!this.chart) return;
            d3.select(this.element).selectAll("path").style("opacity", 1).style("stroke", "black").style("stroke-width", "1px").style("stroke-opacity", 0.5);
            var selectedKeys = this.toolPath.selection_keyset.getKeys();
            var probedKeys = this.toolPath.probe_keyset.getKeys();
            var selectedRecords = _.filter(this.numericRecords, function (record) {
                return _.includes(selectedKeys, record["id"]);
            });
            var probedRecords = _.filter(this.numericRecords, function (record) {
                return _.includes(probedKeys, record["id"]);
            });
            var selectedBinIndices = _.pluck(_.uniq(selectedRecords, 'binnedColumn'), 'binnedColumn');
            var probedBinIndices = _.pluck(_.uniq(probedRecords, 'binnedColumn'), 'binnedColumn');
            var binIndices = _.pluck(_.uniq(this.numericRecords, 'binnedColumn'), 'binnedColumn');
            var unselectedBinIndices = _.difference(binIndices, selectedBinIndices);
            unselectedBinIndices = _.difference(unselectedBinIndices, probedBinIndices);
            if (selectedBinIndices.length) {
                this.customStyle(unselectedBinIndices, "path", ".c3-shape", { opacity: 0.3, "stroke-opacity": 0.0 });
                this.customStyle(selectedBinIndices, "path", ".c3-shape", { opacity: 1.0, "stroke-opacity": 1.0 });
            } else if (!probedBinIndices.length) {
                this.customStyle(binIndices, "path", ".c3-shape", { opacity: 1.0, "stroke-opacity": 0.5 });
                this.chart.select(this.heightColumnNames, [], true);
            }
        }
    }, {
        key: "_dataChanged",
        value: function _dataChanged() {
            var _this2 = this;

            if (!this.chart) return;
            if (this.busy) {
                return;
            }
            var numericMapping = {
                binnedColumn: this.paths.binnedColumn,
                columnToAggregate: this.paths.columnToAggregate
            };
            var stringMapping = {
                binnedColumn: this.paths.binnedColumn
            };
            this.binnedColumnDataType = this.paths.binnedColumn.getObject().getMetadata('dataType');
            this.numericRecords = this.paths.plotter.retrieveRecords(numericMapping, { keySet: this.paths.filteredKeySet, dataType: "number" });
            this.stringRecords = this.paths.plotter.retrieveRecords(stringMapping, { keySet: this.paths.filteredKeySet, dataType: "string" });
            this.idToRecord = {};
            this.keyToIndex = {};
            this.indexToKey = {};
            this.numericRecords.forEach(function (record, index) {
                _this2.idToRecord[record["id"]] = record;
                _this2.keyToIndex[record["id"]] = index;
                _this2.indexToKey[index] = record["id"];
            });
            this.numberOfBins = this.paths.binnedColumn.getObject().numberOfBins;
            this.histData = [];
            // this._columnToAggregatePath.getObject().getInternalColumn();
            var columnToAggregateNameIsDefined = this.paths.columnToAggregate.getState().length > 0;
            for (var iBin = 0; iBin < this.numberOfBins; iBin++) {
                var recordsInBin = _.filter(this.numericRecords, { binnedColumn: iBin });
                if (recordsInBin) {
                    var obj = { height: 0 };
                    if (columnToAggregateNameIsDefined) {
                        obj.height = this.getAggregateValue(recordsInBin, "columnToAggregate", this.paths.aggregationMethod.getState());
                        this.histData.push(obj);
                    } else {
                        obj.height = this.getAggregateValue(recordsInBin, "binnedColumn", "count");
                        this.histData.push(obj);
                    }
                }
            }
            var keys = { value: ["height"] };
            if (this.c3Config.axis.y2.show) {
                this.histData = this.histData.reverse();
            }
            this._axisChanged();
            this.busy = true;
            this.c3Config.data.json = this.histData;
            this.c3Config.data.keys = keys;
            this.chart.load({ json: this.histData, keys: keys, unload: true, done: function done() {
                    _this2.busy = false;
                } });
        }
    }, {
        key: "getAggregateValue",
        value: function getAggregateValue(records, columnToAggregateName, aggregationMethod) {
            var count = 0;
            var sum = 0;
            if (!Array.isArray(records)) {
                return 0;
            }
            records.forEach(function (record) {
                count++;
                sum += record[columnToAggregateName];
            });
            if (aggregationMethod === "mean") {
                return sum / count; // convert sum to mean
            }
            if (aggregationMethod === "count") {
                return count; // use count of finite values
            }
            // sum
            return sum;
        }
    }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate() {
            // TODO avoid calling generate at each componentDidUpdate
            this.c3Config.size = { width: this.props.style.width, height: this.props.style.height };
            if (this.paths.binnedColumn.push("internalDynamicColumn").getState().length) {
                this.c3Config.axis.x.height = this.props.style.height * 0.2;
            } else {
                this.c3Config.axis.x.height = null;
            }
            this.chart = (0, _c.generate)(this.c3Config);
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            /* Cleanup callbacks */
            //this.teardownCallbacks();
            this.chart.destroy();
        }
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            this.element.addEventListener("click", this.handleClick.bind(this));
            this.showXAxisLabel = false;
            var axisChanged = _.debounce(this._axisChanged.bind(this), 100);
            var dataChanged = _.debounce(this._dataChanged.bind(this), 100);
            var plotterPath = this.toolPath.pushPlotter("plot");
            var mapping = [{ name: "plotter", path: plotterPath, callbacks: null }, { name: "binnedColumn", path: plotterPath.push("binnedColumn"), callbacks: [dataChanged, axisChanged] }, { name: "columnToAggregate", path: plotterPath.push("columnToAggregate"), callbacks: dataChanged }, { name: "aggregationMethod", path: plotterPath.push("aggregationMethod"), callbacks: [dataChanged, axisChanged] }, { name: "fillStyle", path: plotterPath.push("fillStyle"), callbacks: dataChanged }, { name: "lineStyle", path: plotterPath.push("lineStyle"), callbacks: dataChanged }, { name: "xAxis", path: this.toolPath.pushPlotter("xAxis"), callbacks: axisChanged }, { name: "yAxis", path: this.toolPath.pushPlotter("yAxis"), callbacks: axisChanged }, { name: "filteredKeySet", path: plotterPath.push("filteredKeySet"), callbacks: dataChanged }, { name: "selectionKeySet", path: this.toolPath.selection_keyset, callbacks: this.updateStyle }, { name: "probeKeySet", path: this.toolPath.probe_keyset, callbacks: this.updateStyle }];
            this.initializePaths(mapping);
            this.paths.filteredKeySet.getObject().setSingleKeySource(this.paths.fillStyle.getObject('color', 'internalDynamicColumn'));
            this.c3Config.bindto = this.element;
            if (this.paths.binnedColumn.push("internalDynamicColumn").getState().length) {
                this.c3Config.axis.x.height = this.props.style.height * 0.2;
            }
            this.chart = (0, _c.generate)(this.c3Config);
        }
    }]);

    return WeaveC3Histogram;
}(_AbstractC3Tool3.default);

exports.default = WeaveC3Histogram;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::HistogramTool", WeaveC3Histogram);
//Weave.registerClass("weavejs.tools.HistogramTool", WeaveC3Histogram, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"../utils/FormatUtils":40,"../utils/StandardLib":41,"./AbstractC3Tool":15,"c3":"c3","d3":"d3","lodash":"lodash"}],35:[function(require,module,exports){
"use strict";

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _AbstractC3Tool2 = require("./AbstractC3Tool");

var _AbstractC3Tool3 = _interopRequireDefault(_AbstractC3Tool2);

var _WeaveTool = require("../WeaveTool");

var _d = require("d3");

var d3 = _interopRequireWildcard(_d);

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _FormatUtils = require("../utils/FormatUtils");

var _FormatUtils2 = _interopRequireDefault(_FormatUtils);

var _c = require("c3");

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../typings/c3/c3.d.ts"/>
///<reference path="../../typings/d3/d3.d.ts"/>
///<reference path="../../typings/lodash/lodash.d.ts"/>
///<reference path="../../typings/react/react.d.ts"/>
///<reference path="../../typings/weave/WeavePath.d.ts"/>

var WeaveC3LineChart = function (_AbstractC3Tool) {
    _inherits(WeaveC3LineChart, _AbstractC3Tool);

    function WeaveC3LineChart(props) {
        _classCallCheck(this, WeaveC3LineChart);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveC3LineChart).call(this, props));

        _this.keyToIndex = {};
        _this.indexToKey = {};
        _this.yAxisValueToLabel = {};
        return _this;
    }

    _createClass(WeaveC3LineChart, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "_selectionKeysChanged",
        value: function _selectionKeysChanged() {
            var _this2 = this;

            if (!this.chart) return;
            var selectedKeys = this.toolPath.selection_keyset.getKeys();
            var probedKeys = this.toolPath.probe_keyset.getKeys();
            var selectedIndices = selectedKeys.map(function (key) {
                return Number(_this2.keyToIndex[key]);
            });
            var probedIndices = probedKeys.map(function (key) {
                return Number(_this2.keyToIndex[key]);
            });
            var keys = Object.keys(this.keyToIndex);
            var indices = keys.map(function (key) {
                return Number(_this2.keyToIndex[key]);
            });
            var unselectedIndices = _.difference(indices, selectedIndices);
            unselectedIndices = _.difference(unselectedIndices, probedIndices);
            if (selectedIndices.length) {
                //unfocus all circles
                d3.select(this.element).selectAll("circle").filter(".c3-shape").style("opacity", "0.1");
                var filtered = d3.select(this.element).selectAll("g").filter(".c3-chart-line").selectAll("circle").filter(".c3-shape");
                selectedIndices.forEach(function (index) {
                    //custom style for circles on selected lines
                    var circleCount = filtered[index] ? filtered[index].length : 0;
                    var selectedCircles = _.range(0, circleCount);
                    selectedCircles.forEach(function (i) {
                        filtered[index][i].style.opacity = "1.0";
                        filtered[index][i].style.strokeOpacity = "1.0";
                    });
                });
                this.customStyle(unselectedIndices, "path", ".c3-shape.c3-line", { opacity: 0.1 });
                this.customStyle(selectedIndices, "path", ".c3-shape.c3-line", { opacity: 1.0 });
                this.chart.select(["y"], selectedIndices, true);
            } else if (!probedIndices.length) {
                //focus all circles
                d3.select(this.element).selectAll("circle").filter(".c3-shape").style({ opacity: 1.0, "stroke-opacity": 0.0 });
                this.customStyle(indices, "path", ".c3-shape.c3-line", { opacity: 1.0 });
                this.chart.select(["y"], [], true);
            }
        }
    }, {
        key: "_probedKeysChanged",
        value: function _probedKeysChanged() {
            var _this3 = this;

            var selectedKeys = this.toolPath.probe_keyset.getKeys();
            var selectedIndices = selectedKeys.map(function (key) {
                return Number(_this3.keyToIndex[key]);
            });
            var keys = Object.keys(this.keyToIndex);
            var indices = keys.map(function (key) {
                return Number(_this3.keyToIndex[key]);
            });
            var unselectedIndices = _.difference(indices, selectedIndices);
            if (selectedIndices.length) {
                //unfocus all circles
                d3.select(this.element).selectAll("circle").filter(".c3-shape").style({ opacity: 0.1, "stroke-opacity": 0.0 });
                var filtered = d3.select(this.element).selectAll("g").filter(".c3-chart-line").selectAll("circle").filter(".c3-shape");
                selectedIndices.forEach(function (index) {
                    //custom style for circles on probed lines
                    var circleCount = filtered[index] ? filtered[index].length : 0;
                    var selectedCircles = _.range(0, circleCount);
                    selectedCircles.forEach(function (i) {
                        filtered[index][i].style.opacity = "1.0";
                        filtered[index][i].style.strokeOpacity = "0.0";
                    });
                });
                this.customStyle(unselectedIndices, "path", ".c3-shape.c3-line", { opacity: 0.1 });
                this.customStyle(selectedIndices, "path", ".c3-shape.c3-line", { opacity: 1.0 });
                this._selectionKeysChanged();
            } else {
                this._selectionKeysChanged();
            }
        }
    }, {
        key: "_updateStyle",
        value: function _updateStyle() {
            d3.select(this.element).selectAll("circle").style("opacity", 1).style("stroke", "black").style("stroke-opacity", 0.0);
        }
    }, {
        key: "mirrorVertical",
        value: function mirrorVertical() {
            var temp = {};
            if (this.c3Config.axis.y.show == true) {
                this.stringRecords.forEach(function (record) {
                    temp[record["id"].toString()] = 'y2';
                });
                this.c3Config.axis.y2.show = true;
                this.c3Config.axis.y.show = false;
                this.c3Config.data.axes = temp;
                this.c3Config.axis.y2.label = this.c3Config.axis.y.label;
            } else {
                this.stringRecords.forEach(function (record) {
                    temp[record["id"].toString()] = 'y';
                });
                this.c3Config.axis.y.show = true;
                this.c3Config.axis.y2.show = false;
                this.c3Config.data.axes = temp;
                this.c3Config.axis.y.label = this.c3Config.axis.y2.label;
            }
            this.chart = (0, _c.generate)(this.c3Config);
            this._dataChanged();
        }
    }, {
        key: "_dataChanged",
        value: function _dataChanged() {
            var _this4 = this;

            this.columnLabels = [];
            this.columnNames = [];
            var children = this.paths.columns.getChildren();
            this.yLabelColumnPath = children[0];
            var numericMapping = {
                columns: children,
                yLabel: this.yLabelColumnPath
            };
            var stringMapping = {
                columns: children,
                line: {
                    //alpha: this._lineStylePath.push("alpha"),
                    color: this.paths.lineStyle.push("color")
                },
                yLabel: this.yLabelColumnPath
            };
            for (var idx in children) {
                var child = children[idx];
                var title = child.getObject().getMetadata('title');
                var name = child.getPath().pop();
                this.columnLabels.push(title);
                this.columnNames.push(name);
            }
            this.numericRecords = this.paths.plotter.retrieveRecords(numericMapping, { keySet: this.paths.filteredKeySet, dataType: "number" });
            this.stringRecords = this.paths.plotter.retrieveRecords(stringMapping, { keySet: this.paths.filteredKeySet, dataType: "string" });
            this.records = _.zip(this.numericRecords, this.stringRecords);
            this.records = _.sortBy(this.records, [0, "id"]);
            if (this.records.length) {
                ;

                var _$unzip = _.unzip(this.records);

                var _$unzip2 = _slicedToArray(_$unzip, 2);

                this.numericRecords = _$unzip2[0];
                this.stringRecords = _$unzip2[1];
            }this.keyToIndex = {};
            this.indexToKey = {};
            this.yAxisValueToLabel = {};
            this.numericRecords.forEach(function (record, index) {
                _this4.keyToIndex[record["id"]] = index;
                _this4.indexToKey[index] = record["id"];
            });
            this.stringRecords.forEach(function (record, index) {
                var numericRecord = _this4.numericRecords[index];
                _this4.yAxisValueToLabel[numericRecord["yLabel"]] = record["yLabel"];
            });
            var columns = [];
            columns = this.numericRecords.map(function (record) {
                var tempArr = [];
                tempArr.push(record["id"]);
                _.keys(record["columns"]).forEach(function (key) {
                    tempArr.push(record["columns"][key]);
                });
                return tempArr;
            });
            this.colors = {};
            this.stringRecords.forEach(function (record) {
                _this4.colors[record["id"]] = record["line"]["color"] || "#C0CDD1";
            });
            var chartType = "line";
            if (this.paths.plotter.push("curveType").getState() === "double") {
                chartType = "spline";
            }
            if (this.c3Config.axis.y2.show) {
                columns.forEach(function (column, index, array) {
                    var temp = [];
                    temp.push(column.shift());
                    column = column.reverse();
                    column.forEach(function (item) {
                        temp.push(item);
                    });
                    array[index] = temp;
                });
            }
            this.chart.load({ columns: columns, colors: this.colors, type: chartType, unload: true });
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            /* Cleanup callbacks */
            //this.teardownCallbacks();
            this.chart.destroy();
        }
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            var _this5 = this;

            this.element.addEventListener("click", this.handleClick.bind(this));
            var dataChanged = _.debounce(this._dataChanged.bind(this), 100);
            var selectionKeySetChanged = this._selectionKeysChanged.bind(this);
            var probeKeySetChanged = _.debounce(this._probedKeysChanged.bind(this), 100);
            var plotterPath = this.toolPath.pushPlotter("plot");
            var mapping = [{ name: "plotter", path: plotterPath, callbacks: null }, { name: "columns", path: plotterPath.push("columns"), callbacks: dataChanged }, { name: "lineStyle", path: plotterPath.push("lineStyle"), callbacks: dataChanged }, { name: "curveType", path: plotterPath.push("curveType"), callbacks: dataChanged }, { name: "filteredKeySet", path: plotterPath.push("filteredKeySet"), callbacks: dataChanged }, { name: "selectionKeySet", path: this.toolPath.selection_keyset, callbacks: selectionKeySetChanged }, { name: "probeKeySet", path: this.toolPath.probe_keyset, callbacks: probeKeySetChanged }];
            this.initializePaths(mapping);
            this.paths.filteredKeySet.getObject().setColumnKeySources(this.paths.columns.getObject().getObjects());
            this.c3Config = {
                size: {
                    width: this.props.style.width,
                    height: this.props.style.height
                },
                padding: {
                    top: 20,
                    bottom: 20
                },
                data: {
                    columns: [],
                    xSort: false,
                    selection: {
                        enabled: true,
                        multiple: true,
                        draggable: true
                    },
                    onclick: function onclick(d) {
                        var event = _this5.chart.internal.d3.event;
                        if (!(event.ctrlKey || event.metaKey) && d && d.hasOwnProperty("index")) {
                            _this5.toolPath.selection_keyset.setKeys([d.id]);
                        }
                    },
                    onselected: function onselected(d) {
                        _this5.flag = true;
                        if (d && d.hasOwnProperty("index")) {
                            _this5.toolPath.selection_keyset.addKeys([d.id]);
                        }
                    },
                    onunselected: function onunselected(d) {
                        _this5.flag = true;
                        if (d && d.hasOwnProperty("index")) {
                            _this5.toolPath.selection_keyset.removeKeys([d.id]);
                        }
                    },
                    onmouseover: function onmouseover(d) {
                        if (d && d.hasOwnProperty("index")) {
                            _this5.toolPath.probe_keyset.setKeys([d.id]);
                        }
                        var columnNamesToValue = {};
                        _this5.columnLabels.forEach(function (label, index, array) {
                            columnNamesToValue[label] = _this5.numericRecords[d.index]["columns"][index];
                        });
                        _this5.props.toolTip.setState({
                            x: _this5.chart.internal.d3.event.pageX,
                            y: _this5.chart.internal.d3.event.pageY,
                            showToolTip: true,
                            columnNamesToValue: columnNamesToValue
                        });
                    },
                    onmouseout: function onmouseout(d) {
                        if (d && d.hasOwnProperty("index")) {
                            _this5.toolPath.probe_keyset.setKeys([]);
                            _this5.props.toolTip.setState({
                                showToolTip: false
                            });
                        }
                    }
                },
                tooltip: {
                    show: false
                },
                grid: {
                    x: {
                        show: true
                    },
                    y: {
                        show: true
                    }
                },
                axis: {
                    x: {
                        tick: {
                            multiline: false,
                            rotate: 0,
                            format: function format(d) {
                                if (_this5.c3Config.axis.y2.show) {
                                    //handle case where labels need to be reversed
                                    var temp = _this5.columnLabels.length - 1;
                                    return _this5.columnLabels[temp - d];
                                } else {
                                    return _this5.columnLabels[d];
                                }
                            }
                        }
                    },
                    y: {
                        show: true,
                        tick: {
                            multiline: true,
                            format: function format(num) {
                                if (_this5.yLabelColumnPath && _this5.yLabelColumnPath.getValue("this.getMetadata('dataType')") !== "number") {
                                    return _this5.yAxisValueToLabel[num] || "";
                                } else {
                                    return String(_FormatUtils2.default.defaultNumberFormatting(num));
                                }
                            }
                        }
                    },
                    y2: {
                        show: false,
                        min: null,
                        max: null,
                        tick: {
                            multiline: true,
                            format: function format(num) {
                                if (_this5.yLabelColumnPath && _this5.yLabelColumnPath.getObject().getMetadata('dataType') !== "number") {
                                    return _this5.yAxisValueToLabel[num] || "";
                                } else {
                                    return String(_FormatUtils2.default.defaultNumberFormatting(num));
                                }
                            }
                        }
                    }
                },
                bindto: this.element,
                legend: {
                    show: false
                },
                onrendered: this._updateStyle.bind(this)
            };
            this.chart = (0, _c.generate)(this.c3Config);
        }
    }, {
        key: "handleClick",
        value: function handleClick(event) {
            if (!this.flag) {
                this.toolPath.selection_keyset.setKeys([]);
            }
            this.flag = false;
        }
    }]);

    return WeaveC3LineChart;
}(_AbstractC3Tool3.default);

exports.default = WeaveC3LineChart;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::LineChartTool", WeaveC3LineChart);
//Weave.registerClass("weavejs.tools.LineChartTool", WeaveC3LineChart, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"../utils/FormatUtils":40,"./AbstractC3Tool":15,"c3":"c3","d3":"d3","lodash":"lodash"}],36:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _AbstractC3Tool2 = require("./AbstractC3Tool");

var _AbstractC3Tool3 = _interopRequireDefault(_AbstractC3Tool2);

var _WeaveTool = require("../WeaveTool");

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _c = require("c3");

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/c3/c3.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>
/// <reference path="../../typings/d3/d3.d.ts"/>
/// <reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/weave/WeavePath.d.ts"/>

;

var WeaveC3PieChart = function (_AbstractC3Tool) {
    _inherits(WeaveC3PieChart, _AbstractC3Tool);

    function WeaveC3PieChart(props) {
        _classCallCheck(this, WeaveC3PieChart);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveC3PieChart).call(this, props));
    }

    _createClass(WeaveC3PieChart, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "selectionKeysChanged",
        value: function selectionKeysChanged() {
            if (!this.chart) return;
            var keys = this.toolPath.selection_keyset.getKeys();
            if (keys.length) {
                this.chart.focus(keys);
            } else {
                this.chart.focus();
            }
        }
    }, {
        key: "probedKeysChanged",
        value: function probedKeysChanged() {
            var keys = this.toolPath.probe_keyset.getKeys();
            if (keys.length) {
                this.chart.focus(keys);
            } else {
                this.selectionKeysChanged();
            }
        }
    }, {
        key: "updateStyle",
        value: function updateStyle() {}
    }, {
        key: "handleClick",
        value: function handleClick(event) {
            if (!this.flag) {
                this.toolPath.selection_keyset.setKeys([]);
            }
            this.flag = false;
        }
    }, {
        key: "dataChanged",
        value: function dataChanged() {
            var _this2 = this;

            if (!this.chart) return;
            var numericMapping = {
                data: this.paths.data
            };
            var stringMapping = {
                fill: {
                    color: this.paths.fillStyle.push("color")
                },
                line: {},
                label: this.paths.label
            };
            this.numericRecords = this.paths.plotter.retrieveRecords(numericMapping, { keySet: this.paths.filteredKeySet, dataType: "number" });
            this.stringRecords = this.paths.plotter.retrieveRecords(stringMapping, { keySet: this.paths.filteredKeySet, dataType: "string" });
            this.keyToIndex = {};
            this.indexToKey = {};
            this.numericRecords.forEach(function (record, index) {
                _this2.indexToKey[index] = record["id"];
                _this2.keyToIndex[record["id"]] = index;
            });
            var columns = [];
            columns = this.numericRecords.map(function (record) {
                var tempArr = [record["id"], record["data"]];
                return tempArr;
            });
            var chartType = "pie";
            if (this.paths.plotter.getState("innerRadius") > 0) {
                chartType = "donut";
            }
            this.colors = {};
            this.stringRecords.forEach(function (record) {
                _this2.colors[record["id"]] = record["fill"]["color"] || "#C0CDD1";
            });
            this.chart.load({
                columns: columns,
                type: chartType,
                colors: this.colors,
                unload: true
            });
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            /* Cleanup callbacks */
            //this.teardownCallbacks();
            this.chart.destroy();
        }
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            var _this3 = this;

            this.element.addEventListener("click", this.handleClick.bind(this));
            var dataChanged = _.debounce(this.dataChanged.bind(this), 100);
            var selectionKeySetChanged = this.selectionKeysChanged.bind(this);
            var probeKeySetChanged = _.debounce(this.probedKeysChanged.bind(this), 100);
            var plotterPath = this.toolPath.pushPlotter("plot");
            var manifest = [{ name: "plotter", path: plotterPath, callbacks: null }, { name: "data", path: plotterPath.push("data"), callbacks: dataChanged }, { name: "label", path: plotterPath.push("label"), callbacks: dataChanged }, { name: "fillStyle", path: plotterPath.push("fill"), callbacks: dataChanged }, { name: "lineStyle", path: plotterPath.push("line"), callbacks: dataChanged }, { name: "innerRadius", path: plotterPath.push("innerRadius"), callbacks: dataChanged }, { name: "filteredKeySet", path: plotterPath.push("filteredKeySet"), callbacks: dataChanged }, { name: "selectionKeySet", path: this.toolPath.selection_keyset, callbacks: selectionKeySetChanged }, { name: "probeKeySet", path: this.toolPath.probe_keyset, callbacks: probeKeySetChanged }];
            this.initializePaths(manifest);
            this.paths.filteredKeySet.getObject().setSingleKeySource(this.paths.data.getObject());
            this.c3Config = {
                size: {
                    width: this.props.style.width,
                    height: this.props.style.height
                },
                bindto: this.element,
                padding: {
                    top: 20,
                    bottom: 20,
                    right: 30
                },
                tooltip: {
                    show: false
                },
                data: {
                    columns: [],
                    selection: {
                        enabled: true,
                        multiple: true,
                        draggable: true
                    },
                    type: "pie",
                    onclick: function onclick(d) {
                        var event = _this3.chart.internal.d3.event;
                        if (!(event.ctrlKey || event.metaKey) && d && d.hasOwnProperty("index")) {
                            _this3.toolPath.selection_keyset.setKeys([_this3.indexToKey[d.index]]);
                        }
                    },
                    onselected: function onselected(d) {
                        if (d && d.hasOwnProperty("index")) {
                            _this3.toolPath.selection_keyset.addKeys([_this3.indexToKey[d.index]]);
                        }
                    },
                    onunselected: function onunselected(d) {
                        if (d && d.hasOwnProperty("data")) {
                            // d has a different structure than "onselected" argument
                            _this3.toolPath.selection_keyset.setKeys([]);
                        }
                    },
                    onmouseover: function onmouseover(d) {
                        if (d && d.hasOwnProperty("index")) {
                            var columnNamesToValue = {};
                            columnNamesToValue[_this3.paths.data.getObject().getMetadata("title")] = d.value;
                            _this3.toolPath.probe_keyset.setKeys([_this3.indexToKey[d.index]]);
                            _this3.props.toolTip.setState({
                                showToolTip: true,
                                x: _this3.chart.internal.d3.event.pageX,
                                y: _this3.chart.internal.d3.event.pageY,
                                columnNamesToValue: columnNamesToValue
                            });
                        }
                    },
                    onmouseout: function onmouseout(d) {
                        if (d && d.hasOwnProperty("index")) {
                            _this3.toolPath.probe_keyset.setKeys([]);
                            _this3.props.toolTip.setState({
                                showToolTip: false
                            });
                        }
                    }
                },
                pie: {
                    label: {
                        show: true,
                        format: function format(value, ratio, id) {
                            if (_this3.stringRecords && _this3.stringRecords.length) {
                                var record = _this3.stringRecords[_this3.keyToIndex[id]];
                                if (record && record["label"]) {
                                    return record["label"];
                                }
                                return String(value);
                            }
                        }
                    }
                },
                donut: {
                    label: {
                        show: true,
                        format: function format(value, ratio, id) {
                            if (_this3.stringRecords && _this3.stringRecords.length) {
                                var record = _this3.stringRecords[_this3.keyToIndex[id]];
                                if (record && record["label"]) {
                                    return record["label"];
                                }
                                return String(value);
                            }
                        }
                    }
                },
                legend: {
                    show: false
                },
                onrendered: this.updateStyle.bind(this)
            };
            this.chart = (0, _c.generate)(this.c3Config);
        }
    }]);

    return WeaveC3PieChart;
}(_AbstractC3Tool3.default);

exports.default = WeaveC3PieChart;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::PieChartTool", WeaveC3PieChart);
//Weave.registerClass("weavejs.tools.PieChartTool", WeaveC3PieChart, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"./AbstractC3Tool":15,"c3":"c3","lodash":"lodash"}],37:[function(require,module,exports){
"use strict";

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _AbstractC3Tool2 = require("./AbstractC3Tool");

var _AbstractC3Tool3 = _interopRequireDefault(_AbstractC3Tool2);

var _WeaveTool = require("../WeaveTool");

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _d = require("d3");

var d3 = _interopRequireWildcard(_d);

var _FormatUtils = require("../utils/FormatUtils");

var _FormatUtils2 = _interopRequireDefault(_FormatUtils);

var _c = require("c3");

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../typings/c3/c3.d.ts"/>
///<reference path="../../typings/d3/d3.d.ts"/>
///<reference path="../../typings/lodash/lodash.d.ts"/>
///<reference path="../../typings/react/react.d.ts"/>
///<reference path="../../typings/weave/WeavePath.d.ts"/>
/// <reference path="../../typings/react/react-dom.d.ts"/>

/* private
 * @param records array or records
 * @param attributes array of attributes to be normalized
 */

var WeaveC3ScatterPlot = function (_AbstractC3Tool) {
    _inherits(WeaveC3ScatterPlot, _AbstractC3Tool);

    function WeaveC3ScatterPlot(props) {
        _classCallCheck(this, WeaveC3ScatterPlot);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveC3ScatterPlot).call(this, props));

        _this.keyToIndex = {};
        _this.indexToKey = {};
        _this.yAxisValueToLabel = {};
        _this.xAxisValueToLabel = {};
        return _this;
    }

    _createClass(WeaveC3ScatterPlot, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "normalizeRecords",
        value: function normalizeRecords(records, attributes) {
            // to avoid computing the stats at each iteration.
            var columnStatsCache = {};
            attributes.forEach(function (attr) {
                columnStatsCache[attr] = {
                    min: _.min(_.pluck(records, attr)),
                    max: _.max(_.pluck(records, attr))
                };
            });
            return records.map(function (record) {
                var obj = {};
                attributes.forEach(function (attr) {
                    var min = columnStatsCache[attr].min;
                    var max = columnStatsCache[attr].max;
                    if (!min) min = 0;
                    if (max - min === 0) {
                        return 0;
                    }
                    if (record[attr]) {
                        // console.log( (record[attr] - min) / (max - min));
                        obj[attr] = (record[attr] - min) / (max - min);
                    } else {
                        // if any of the value above is null then
                        // we can't normalize
                        obj[attr] = null;
                    }
                });
                return obj;
            });
        }
    }, {
        key: "mirrorVertical",
        value: function mirrorVertical() {
            var temp = "y";
            if (this.c3Config.axis.y.show == true) {
                this.c3Config.axis.y2.show = true;
                this.c3Config.axis.y.show = false;
                this.c3Config.data.axes = _defineProperty({}, temp, 'y2');
                this.c3Config.axis.y2.label = this.c3Config.axis.y.label;
            } else {
                this.c3Config.axis.y.show = true;
                this.c3Config.axis.y2.show = false;
                this.c3Config.data.axes = _defineProperty({}, temp, 'y');
                this.c3Config.axis.y.label = this.c3Config.axis.y2.label;
            }
            this.dataChanged();
            this.generate();
        }
    }, {
        key: "axisChanged",
        value: function axisChanged() {
            if (this.busy) {
                this.busy++;
                return;
            }
            if (this.c3Config.axis.y.show) {
                this.chart.axis.labels({
                    x: this.paths.xAxis.getState("overrideAxisName") || this.paths.dataX.getObject().getMetadata('title'),
                    y: this.paths.yAxis.getState("overrideAxisName") || this.paths.dataY.getObject().getMetadata('title')
                });
            } else {
                this.chart.axis.labels({
                    x: this.paths.xAxis.getState("overrideAxisName") || this.paths.dataX.getObject().getMetadata('title'),
                    y2: this.paths.yAxis.getState("overrideAxisName") || this.paths.dataY.getObject().getMetadata('title')
                });
            }
            this.axisLabelsChanged();
            this.generate();
        }
    }, {
        key: "axisLabelsChanged",
        value: function axisLabelsChanged() {
            var chartWidth = this.chart.internal.width;
            var textHeight = _StandardLib2.default.getTextHeight("test", "14pt Helvetica Neue");
            var xLabelsToShow = Math.floor(chartWidth / textHeight);
            xLabelsToShow = Math.max(2, xLabelsToShow);
            this.c3Config.axis.x.tick.culling = { max: xLabelsToShow };
        }
    }, {
        key: "dataChanged",
        value: function dataChanged() {
            var _this2 = this;

            if (this.busy) {
                this.busy++;
                return;
            }
            var numericMapping = {
                point: {
                    x: this.paths.dataX,
                    y: this.paths.dataY
                },
                size: this.paths.sizeBy
            };
            var stringMapping = {
                point: {
                    x: this.paths.dataX,
                    y: this.paths.dataY
                },
                fill: {
                    //alpha: this._fillStylePath.push("alpha"),
                    color: this.paths.fill.push("color")
                },
                line: {
                    //alpha: this._lineStylePath.push("alpha"),
                    color: this.paths.line.push("color")
                }
            };
            this.dataXType = this.paths.dataX.getObject().getMetadata('dataType');
            this.dataYType = this.paths.dataY.getObject().getMetadata('dataType');
            this.numericRecords = this.paths.plotter.retrieveRecords(numericMapping, { keySet: this.paths.filteredKeySet, dataType: "number" });
            this.stringRecords = this.paths.plotter.retrieveRecords(stringMapping, { keySet: this.paths.filteredKeySet, dataType: "string" });
            this.records = _.zip(this.numericRecords, this.stringRecords);
            this.records = _.sortByOrder(this.records, ["size", "id"], ["desc", "asc"]);
            if (this.c3Config.axis.y.show == false) {
                this.records = this.records.reverse();
            }
            if (this.records.length) {
                ;

                var _$unzip = _.unzip(this.records);

                var _$unzip2 = _slicedToArray(_$unzip, 2);

                this.numericRecords = _$unzip2[0];
                this.stringRecords = _$unzip2[1];
            }this.keyToIndex = {};
            this.indexToKey = {};
            this.yAxisValueToLabel = {};
            this.xAxisValueToLabel = {};
            this.numericRecords.forEach(function (record, index) {
                _this2.keyToIndex[record["id"]] = index;
                _this2.indexToKey[index] = record["id"];
            });
            this.stringRecords.forEach(function (record, index) {
                _this2.xAxisValueToLabel[_this2.numericRecords[index]["point"]["x"]] = record["point"]["x"];
                _this2.yAxisValueToLabel[_this2.numericRecords[index]["point"]["y"]] = record["point"]["y"];
            });
            this.normalizedRecords = this.normalizeRecords(this.numericRecords, ["size"]);
            this.plotterState = this.paths.plotter.getUntypedState ? this.paths.plotter.getUntypedState() : this.paths.plotter.getState();
            this.normalizedPointSizes = this.normalizedRecords.map(function (normalizedRecord) {
                if (_this2.plotterState && _this2.plotterState.sizeBy) {
                    var minScreenRadius = _this2.plotterState.minScreenRadius;
                    var maxScreenRadius = _this2.plotterState.maxScreenRadius;
                    return (normalizedRecord && normalizedRecord["size"] ? minScreenRadius + normalizedRecord["size"] * (maxScreenRadius - minScreenRadius) : _this2.plotterState.defaultScreenRadius) || 3;
                } else {
                    return _this2.plotterState.defaultScreenRadius || 3;
                }
            });
            this.axisChanged();
            this.busy = 1;
            this.generate();
        }
    }, {
        key: "handleClick",
        value: function handleClick(event) {
            if (!this.flag) {
                this.toolPath.selection_keyset.setKeys([]);
            }
            this.flag = false;
        }
    }, {
        key: "updateStyle",
        value: function updateStyle() {
            var _this3 = this;

            if (!this.chart) return;
            d3.select(this.element).selectAll("circle").style("opacity", 1).style("stroke", "black").style("stroke-opacity", 0.0);
            var selectedKeys = this.toolPath.selection_keyset.getKeys();
            var probedKeys = this.toolPath.probe_keyset.getKeys();
            var selectedIndices = selectedKeys.map(function (key) {
                return Number(_this3.keyToIndex[key]);
            });
            var probedIndices = probedKeys.map(function (key) {
                return Number(_this3.keyToIndex[key]);
            });
            var keys = Object.keys(this.keyToIndex);
            var indices = keys.map(function (key) {
                return Number(_this3.keyToIndex[key]);
            });
            var unselectedIndices = _.difference(indices, selectedIndices);
            unselectedIndices = _.difference(unselectedIndices, probedIndices);
            if (probedIndices.length) {
                this.customStyle(probedIndices, "circle", ".c3-shape", { opacity: 1.0, "stroke-opacity": 0.0 });
            }
            if (selectedIndices.length) {
                this.customStyle(unselectedIndices, "circle", ".c3-shape", { opacity: 0.3, "stroke-opacity": 0.0 });
                this.customStyle(selectedIndices, "circle", ".c3-shape", { opacity: 1.0, "stroke-opacity": 1.0 });
                this.chart.select(["y"], selectedIndices, true);
            } else if (!probedIndices.length) {
                this.customStyle(indices, "circle", ".c3-shape", { opacity: 1.0, "stroke-opacity": 0.0 });
                this.chart.select(["y"], [], true);
            }
        }
    }, {
        key: "generate",
        value: function generate() {
            var _this4 = this;

            this.chart = (0, _c.generate)(this.c3Config);
            this.chart.load({ data: _.pluck(this.numericRecords, "point"), unload: true, done: function done() {
                    if (_this4.busy > 1) {
                        _this4.busy = 0;
                        _this4.dataChanged();
                    } else {
                        _this4.busy = 0;
                    }
                } });
        }
    }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate() {
            //console.log("resizing");
            //var start = Date.now();
            if (this.c3Config.size.width != this.props.style.width || this.c3Config.size.height != this.props.style.height) {
                this.c3Config.axis.x.height = this.props.style.height * 0.2;
                this.c3Config.size = { width: this.props.style.width, height: this.props.style.height };
                this.chart = (0, _c.generate)(this.c3Config);
                this.axisChanged();
            }
            //var end = Date.now();
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            /* Cleanup callbacks */
            //this.teardownCallbacks();
            this.chart.destroy();
        }
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            var _this5 = this;

            this.element.addEventListener("click", this.handleClick.bind(this));
            var axisChanged = this.axisChanged.bind(this);
            var dataChanged = this.dataChanged.bind(this);
            var plotterPath = this.toolPath.pushPlotter("plot");
            var mapping = [{ name: "plotter", path: plotterPath, callbacks: dataChanged }, { name: "dataX", path: plotterPath.push("dataX"), callbacks: [dataChanged, axisChanged] }, { name: "dataY", path: plotterPath.push("dataY"), callbacks: [dataChanged, axisChanged] }, { name: "sizeBy", path: plotterPath.push("sizeBy"), callbacks: dataChanged }, { name: "fill", path: plotterPath.push("fill"), callbacks: [dataChanged] }, { name: "line", path: plotterPath.push("line"), callbacks: dataChanged }, { name: "xAxis", path: this.toolPath.pushPlotter("xAxis"), callbacks: axisChanged }, { name: "yAxis", path: this.toolPath.pushPlotter("yAxis"), callbacks: axisChanged }, { name: "filteredKeySet", path: plotterPath.push("filteredKeySet"), callbacks: dataChanged }, { name: "selectionKeySet", path: this.toolPath.selection_keyset, callbacks: this.updateStyle }, { name: "probeKeySet", path: this.toolPath.probe_keyset, callbacks: this.updateStyle }];
            this.initializePaths(mapping);
            this.paths.filteredKeySet.getObject().setColumnKeySources([this.paths.dataX.getObject(), this.paths.dataY.getObject()]);
            this.c3Config = {
                size: {
                    height: this.props.style.height,
                    width: this.props.style.width
                },
                bindto: this.element,
                padding: {
                    top: 20,
                    bottom: 20
                },
                data: {
                    rows: [],
                    x: "x",
                    xSort: false,
                    type: "scatter",
                    selection: {
                        enabled: true,
                        multiple: true,
                        draggable: true
                    },
                    color: function color(_color, d) {
                        if (_this5.stringRecords && d.hasOwnProperty("index")) {
                            // find the corresponding index of numericRecords in stringRecords
                            var id = _this5.indexToKey[d.index];
                            var index = _.pluck(_this5.stringRecords, "id").indexOf(id);
                            var record = _this5.stringRecords[index];
                            return record && record["fill"] && record["fill"]["color"] ? record["fill"]["color"] : "#000000";
                        }
                        return "#000000";
                    },
                    onclick: function onclick(d) {
                        var event = _this5.chart.internal.d3.event;
                        if (!(event.ctrlKey || event.metaKey) && d && d.hasOwnProperty("index")) {
                            _this5.toolPath.selection_keyset.setKeys([_this5.indexToKey[d.index]]);
                        }
                    },
                    onselected: function onselected(d) {
                        _this5.flag = true;
                        if (d && d.hasOwnProperty("index")) {
                            _this5.toolPath.selection_keyset.addKeys([_this5.indexToKey[d.index]]);
                        }
                    },
                    onunselected: function onunselected(d) {
                        _this5.flag = true;
                        if (d && d.hasOwnProperty("index")) {
                            _this5.toolPath.selection_keyset.removeKeys([_this5.indexToKey[d.index]]);
                        }
                    },
                    onmouseover: function onmouseover(d) {
                        if (d && d.hasOwnProperty("index")) {
                            _this5.toolPath.probe_keyset.setKeys([]);
                            var columnNamesToValue = {};
                            var xValue = _this5.numericRecords[d.index]["point"]["x"];
                            if (xValue) {
                                columnNamesToValue[_this5.paths.dataX.getObject().getMetadata('title')] = xValue;
                            }
                            var yValue = _this5.numericRecords[d.index]["point"]["y"];
                            if (yValue) {
                                columnNamesToValue[_this5.paths.dataY.getObject().getMetadata('title')] = yValue;
                            }
                            var sizeByValue = _this5.numericRecords[d.index]["size"];
                            if (sizeByValue) {
                                columnNamesToValue[_this5.paths.sizeBy.getObject().getMetadata('title')] = sizeByValue;
                            }
                            _this5.toolPath.probe_keyset.setKeys([_this5.indexToKey[d.index]]);
                            _this5.props.toolTip.setState({
                                x: _this5.chart.internal.d3.event.pageX,
                                y: _this5.chart.internal.d3.event.pageY,
                                showToolTip: true,
                                columnNamesToValue: columnNamesToValue
                            });
                        }
                    },
                    onmouseout: function onmouseout(d) {
                        if (d && d.hasOwnProperty("index")) {
                            _this5.toolPath.probe_keyset.setKeys([]);
                            _this5.props.toolTip.setState({
                                showToolTip: false
                            });
                        }
                    }
                },
                legend: {
                    show: false
                },
                axis: {
                    x: {
                        label: {
                            text: "",
                            position: "outer-center"
                        },
                        tick: {
                            format: function format(num) {
                                if (_this5.paths.dataX && _this5.xAxisValueToLabel && _this5.dataXType !== "number") {
                                    return _this5.xAxisValueToLabel[num] || "";
                                } else {
                                    return String(_FormatUtils2.default.defaultNumberFormatting(num));
                                }
                            },
                            rotate: -45,
                            culling: {
                                max: null
                            },
                            fit: false //,
                        }
                    },
                    y: {
                        show: true,
                        label: {
                            text: "",
                            position: "outer-middle"
                        },
                        tick: {
                            format: function format(num) {
                                if (_this5.paths.dataY && _this5.yAxisValueToLabel && _this5.dataYType !== "number") {
                                    return _this5.yAxisValueToLabel[num] || "";
                                } else {
                                    return String(_FormatUtils2.default.defaultNumberFormatting(num));
                                }
                            }
                        }
                    },
                    y2: {
                        show: false,
                        label: {
                            text: "",
                            position: "outer-middle"
                        },
                        tick: {
                            format: function format(num) {
                                if (_this5.paths.dataY && _this5.yAxisValueToLabel && _this5.dataYType !== "number") {
                                    return _this5.yAxisValueToLabel[num] || "";
                                } else {
                                    return String(_FormatUtils2.default.defaultNumberFormatting(num));
                                }
                            }
                        }
                    }
                },
                grid: {
                    x: {
                        show: true
                    },
                    y: {
                        show: true
                    }
                },
                tooltip: {
                    format: {
                        title: function title(num) {
                            return _this5.paths.xAxis.getState("overrideAxisName") || _this5.paths.dataX.getObject().getMetadata('title');
                        },
                        name: function name(_name, ratio, id, index) {
                            return _this5.paths.yAxis.getState("overrideAxisName") || _this5.paths.dataY.getObject().getMetadata('title');
                        }
                    },
                    show: false
                },
                point: {
                    r: function r(d) {
                        if (d.hasOwnProperty("index")) {
                            return _this5.normalizedPointSizes[d.index];
                        }
                    }
                },
                onrendered: this.updateStyle.bind(this)
            };
            this.c3Config.axis.x.height = this.props.style.height * 0.2;
            this.chart = (0, _c.generate)(this.c3Config);
        }
    }]);

    return WeaveC3ScatterPlot;
}(_AbstractC3Tool3.default);

exports.default = WeaveC3ScatterPlot;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::ScatterPlotTool", WeaveC3ScatterPlot);
//Weave.registerClass("weavejs.tools.ScatterPlotTool", WeaveC3ScatterPlot, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"../utils/FormatUtils":40,"../utils/StandardLib":41,"./AbstractC3Tool":15,"c3":"c3","d3":"d3","lodash":"lodash"}],38:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _WeaveTool = require("../WeaveTool");

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _ReactBootStrapTable = require("../react-bootstrap-datatable/ReactBootStrapTable");

var _ReactBootStrapTable2 = _interopRequireDefault(_ReactBootStrapTable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/lodash/lodash.d.ts"/>
/// <reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/react/react-dom.d.ts"/>
/// <reference path="../../typings/weave/WeavePath.d.ts"/>

var WeaveReactTable = function (_React$Component) {
    _inherits(WeaveReactTable, _React$Component);

    function WeaveReactTable(props) {
        _classCallCheck(this, WeaveReactTable);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveReactTable).call(this, props));

        _this.toolPath = props.toolPath;
        _this.columnsPath = _this.toolPath.push("columns");
        _this.state = {
            data: []
        };
        return _this;
    }

    _createClass(WeaveReactTable, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            this.columnsPath.addCallback(this, this.dataChanged, true);
            this.toolPath.push("filteredKeySet").addCallback(this, this.dataChanged, true);
            this.toolPath.push("selectionKeySet").addCallback(this, this.forceUpdate, true);
            this.toolPath.probe_keyset.addCallback(this, this.forceUpdate, true);
            this.toolPath.getObject("filteredKeySet").setColumnKeySources(this.toolPath.getObject("columns").getObjects());
        }
    }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate() {}
    }, {
        key: "dataChanged",
        value: function dataChanged() {
            this.setState({
                data: this.columnsPath.retrieveRecords(this.columnsPath.getNames(), this.toolPath.push("filteredKeySet"))
            });
        }
        // customFormat(cell, row) {
        //     if(typeof cell === "number") {
        //         return round(cell, 2)
        //     } else {
        //         return cell;
        //     }
        // }

    }, {
        key: "handleProbe",
        value: function handleProbe(id) {
            this.toolPath.probe_keyset.setKeys(id);
        }
    }, {
        key: "handleSelection",
        value: function handleSelection(id) {
            this.toolPath.push("selectionKeySet", null).setKeys(id);
        }
    }, {
        key: "render",
        value: function render() {
            var columns = {};
            columns["id"] = "Key";
            this.columnsPath.getChildren().forEach(function (columnPath) {
                columns[columnPath.getPath().pop()] = columnPath.getObject().getMetadata('title');
            });
            return React.createElement(_ReactBootStrapTable2.default, { columnTitles: columns, rows: this.state.data, idProperty: "id", height: this.props.style.height, striped: true, hover: true, bordered: true, condensed: true, selectedIds: this.toolPath.push("selectionKeySet", null).getKeys(), probedIds: this.toolPath.probe_keyset.getKeys(), onProbe: this.handleProbe.bind(this), onSelection: this.handleSelection.bind(this), showIdColumn: false });
        }
    }, {
        key: "title",
        get: function get() {
            return (this.toolPath.getType('panelTitle') ? this.toolPath.getState('panelTitle') : '') || this.toolPath.getPath().pop();
        }
    }]);

    return WeaveReactTable;
}(React.Component);

exports.default = WeaveReactTable;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::TableTool", WeaveReactTable);
//Weave.registerClass("weavejs.tools.TableTool", WeaveReactTable, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"../react-bootstrap-datatable/ReactBootStrapTable":5,"react":"react"}],39:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _WeaveTool = require("../WeaveTool");

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _ui = require("../react-ui/ui");

var _ui2 = _interopRequireDefault(_ui);

var _reactBootstrap = require("react-bootstrap");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../typings/lodash/lodash.d.ts"/>
///<reference path="../../typings/react/react.d.ts"/>
///<reference path="../../typings/react-bootstrap/react-bootstrap.d.ts"/>
///<reference path="../../typings/weave/WeavePath.d.ts"/>
///<reference path="../utils/StandardLib.ts"/>

//TODO: This is a hack to allow react to be imported in generated JSX. Without this, import is missing and render encounters an exception
var stub = React;
var sessionStateMenuStyle = { display: "flex", flex: 1, height: "100%", flexDirection: "column", overflow: "auto" };
var sessionStateComboBoxStyle = { display: "flex", flex: 1, height: "100%", flexDirection: "column" };

var SessionStateMenuTool = function (_React$Component) {
    _inherits(SessionStateMenuTool, _React$Component);

    function SessionStateMenuTool(props) {
        _classCallCheck(this, SessionStateMenuTool);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(SessionStateMenuTool).call(this, props));

        _this.toolPath = _this.props.toolPath;
        _this.toolPath.push("choices").addCallback(_this, _this.forceUpdate);
        _this.toolPath.push("selectedChoice").addCallback(_this, _this.forceUpdate);
        _this.toolPath.push("layoutMode").addCallback(_this, _this.forceUpdate);
        return _this;
    }

    _createClass(SessionStateMenuTool, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {}
    }, {
        key: "handleItemClick",
        value: function handleItemClick(index, event) {
            this.toolPath.state("selectedChoice", this.choices.getNames()[index]);
            var targets = this.toolPath.push("targets");
            var choice = this.choices.getState(index);
            targets.forEach(choice, function (value, key) {
                this.push(key, null).state(value);
            });
        }
    }, {
        key: "render",
        value: function render() {
            var _this2 = this;

            this.choices = this.toolPath.push("choices");
            var selectedChoice = this.toolPath.getState("selectedChoice");
            var layoutMode = this.toolPath.getState("layoutMode");
            var menus = this.choices.getNames().map(function (choice, index) {
                if (layoutMode === "ComboBox") {
                    return choice === selectedChoice ? React.createElement(
                        _reactBootstrap.MenuItem,
                        { active: true, key: index, onSelect: _this2.handleItemClick.bind(_this2, index) },
                        choice
                    ) : React.createElement(
                        _reactBootstrap.MenuItem,
                        { key: index, onSelect: _this2.handleItemClick.bind(_this2, index) },
                        choice
                    );
                } else {
                    return choice === selectedChoice ? React.createElement(
                        _reactBootstrap.ListGroupItem,
                        { active: true, key: index, onClick: _this2.handleItemClick.bind(_this2, index) },
                        choice
                    ) : React.createElement(
                        _reactBootstrap.ListGroupItem,
                        { key: index, onClick: _this2.handleItemClick.bind(_this2, index) },
                        choice
                    );
                }
            });
            var container;
            if (layoutMode === "ComboBox") {
                container = React.createElement(
                    _ui2.default.VBox,
                    { style: { height: "100%", flex: 1.0, alignItems: "center" } },
                    React.createElement(
                        _reactBootstrap.DropdownButton,
                        { title: selectedChoice, id: "dropdown-" + this.toolPath.getState("class") },
                        menus
                    )
                );
            } else {
                container = React.createElement(
                    _reactBootstrap.ListGroup,
                    null,
                    menus
                );
            }
            return React.createElement(
                "div",
                { style: layoutMode === "ComboBox" ? sessionStateComboBoxStyle : sessionStateMenuStyle },
                container
            );
        }
    }]);

    return SessionStateMenuTool;
}(React.Component);

exports.default = SessionStateMenuTool;

(0, _WeaveTool.registerToolImplementation)("weave.ui::SessionStateMenuTool", SessionStateMenuTool);
//Weave.registerClass("weavejs.tools.SessionStateMenuTool", SessionStateMenuTool, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"../react-ui/ui":14,"react":"react","react-bootstrap":"react-bootstrap"}],40:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /// <reference path="../../typings/d3/d3.d.ts"/>

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _d = require("d3");

var d3 = _interopRequireWildcard(_d);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var FormatUtils = function () {
    function FormatUtils() {
        _classCallCheck(this, FormatUtils);
    }

    _createClass(FormatUtils, null, [{
        key: "defaultNumberFormatting",

        // this function returns the default number formating.
        // for number values, we round them to at most 4 decimal places
        // unless the number is very small, in which case we just return it
        value: function defaultNumberFormatting(x) {
            if (x < 0.0001) {
                return x;
            } else {
                return d3.round(x, 4);
            }
        }
    }]);

    return FormatUtils;
}();

exports.default = FormatUtils;

},{"d3":"d3"}],41:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /// <reference path="../../typings/lodash/lodash.d.ts"/>

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var StandardLib = function () {
    function StandardLib() {
        _classCallCheck(this, StandardLib);
    }

    _createClass(StandardLib, null, [{
        key: "rgba",

        /**
         * Generates an "rgba()" string for CSS.
         * @param r A number between 0 and 255.
         * @param g A number between 0 and 255.
         * @param b A number between 0 and 255.
         * @param a A number between 0 and 1.
         */
        value: function rgba(r, g, b, a) {
            return "rgba(" + r + "," + g + "," + b + "," + a + ")";
        }
        /**
         * Use this as a temporary solution before we use Weave.registerClass().
         */

    }, {
        key: "debounce",
        value: function debounce(target, methodName) {
            var delay = arguments.length <= 2 || arguments[2] === undefined ? 20 : arguments[2];

            if (target[methodName] === Object.getPrototypeOf(target)[methodName]) target[methodName] = _.debounce(target[methodName].bind(target), delay);
            target[methodName]();
        }
        /**
           * Searches for the first nested object with matching properties
           * @param roo The root Object.
           * @param match Either an Object with properties to match, or a Function that checks for a match.
         *
         * @returns returns an object with the matching properties
           */

    }, {
        key: "findDeep",
        value: function findDeep(root, match) {
            if (typeof match !== "function") {
                match = _.matches(match);
            }
            if (match(root)) {
                return root;
            }
            if ((typeof root === "undefined" ? "undefined" : _typeof(root)) == "object") {
                var key;
                for (key in root) {
                    var found = this.findDeep(root[key], match);
                    if (found) return found;
                }
            }
        }
        /**
          * Adds undefined values to new state for properties in
          * current state not found in new state.
          */

    }, {
        key: "includeMissingPropertyPlaceholders",
        value: function includeMissingPropertyPlaceholders(currentState, newState) {
            var key;
            for (key in currentState) {
                if (!newState.hasOwnProperty(key)) {
                    newState[key] = undefined;
                }
            }
            return newState;
        }
        /**
          * Calculates an interpolated color for a normalized value.
          * @param normValue A Number between 0 and 1.
          * @param colors An Array or list of colors to interpolate between.  Normalized values of 0 and 1 will be mapped to the first and last colors.
          * @return An interpolated color associated with the given normValue based on the list of color values.
          */

    }, {
        key: "interpolateColor",
        value: function interpolateColor(normValue) {
            for (var _len = arguments.length, colors = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                colors[_key - 1] = arguments[_key];
            }

            // handle an array of colors as the second parameter
            if (colors.length === 1 && Array.isArray(colors[0])) {
                colors = colors[0];
            }
            // handle invalid parameters
            if (normValue < 0 || normValue > 1 || colors.length === 0) {
                return NaN;
            }
            // find the min and max colors we want to interpolate between
            var maxIndex = Math.floor(colors.length - 1);
            var leftIndex = Math.floor(maxIndex * normValue);
            var rightIndex = Math.floor(leftIndex + 1);
            // handle boundary condition
            if (rightIndex === colors.length) {
                return parseInt(colors[leftIndex], 16);
            }
            var minColor = colors[leftIndex];
            var maxColor = colors[rightIndex];
            // normalize the norm value between the two norm values associated with the surrounding colors
            normValue = normValue * maxIndex - leftIndex;
            var percentLeft = 1 - normValue; // relevance of minColor
            var percentRight = normValue; // relevance of maxColor
            var R = 0xFF0000;
            var G = 0x00FF00;
            var B = 0x0000FF;
            return percentLeft * (minColor & R) + percentRight * (maxColor & R) & R | percentLeft * (minColor & G) + percentRight * (maxColor & G) & G | percentLeft * (minColor & B) + percentRight * (maxColor & B) & B;
        }
        /**
        * This function converts a decimal number to a 6 digit hexadecimal string
        * @param dec A decimal number
        * @return the hexadecimal value of the decimal number
        */

    }, {
        key: "decimalToHex",
        value: function decimalToHex(dec) {
            return _.padLeft(dec.toString(16), 6, "0");
        }
        /**
         * This function return the normalized value between a range
         * if no range is provided, the default range will be 0 and 1
         *
         * @param value The value to be normalized
         * @param min the range min value
         * @param max the range max value
         */

    }, {
        key: "normalize",
        value: function normalize(value, min, max) {
            if (!min) {
                min = 0;
            }
            if (!max) {
                max = 1;
            }
            return (value - min) / (max - min);
        }
        /**
         *  This function takes merges an object into another
         *
         * @param into {object} the object to merge into
         * @param obj {obj} the object to merge from
         */

    }, {
        key: "merge",
        value: function merge(into, obj) {
            var attr;
            for (attr in obj) {
                into[attr] = obj[attr];
            }
        }
        /**
         * Temporary polyfill workaround for String.startsWith
         * for projects that are targetting es5
         *
         *  determines whether a string begins with the characters of another string, returning true or false as appropriate.
         *
         * @param str {string} the str string in which to search for in str.startsWith
         * @param searchString {string} The characters to be searched for at the start of this string.
         * @param position {number?} Optional. The position in this string at which to begin searching for searchString; defaults to 0.
         *
         * @returns true or false
         *
         */

    }, {
        key: "startsWith",
        value: function startsWith(str, searchString, position) {
            position = position || 0;
            return str.indexOf(searchString, position) === position;
        }
    }, {
        key: "resolveRelative",
        value: function resolveRelative(path, base) {
            // Upper directory
            if (StandardLib.startsWith(path, "../")) {
                return StandardLib.resolveRelative(path.slice(3), base.replace(/\/[^\/]*$/, ""));
            }
            // Relative to the root
            if (StandardLib.startsWith(path, "/")) {
                var match = base.match(/(\w*:\/\/)?[^\/]*\//) || [base];
                return match[0] + path.slice(1);
            }
            //relative to the current directory
            return base.replace(/\/[^\/]*$/, "") + "/" + path;
        }
    }, {
        key: "getDataBounds",
        value: function getDataBounds(column) {
            return {
                min: _.min(column),
                max: _.max(column)
            };
        }
        /**
         *
         *   This function return and object whose keys are url
         *   parameters and value
         */

    }, {
        key: "getUrlParams",
        value: function getUrlParams() {
            var queryParams = {};
            var query = window.location.search.substring(1);
            if (!query) {
                return {};
            }
            var vars = query.split("&");
            for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split("=");
                if (typeof queryParams[pair[0]] === "undefined") {
                    queryParams[pair[0]] = decodeURIComponent(pair[1]);
                } else if (typeof queryParams[pair[0]] === "string") {
                    var arr = [queryParams[pair[0]], decodeURIComponent(pair[1])];
                    queryParams[pair[0]] = arr;
                } else {
                    queryParams[pair[0]].push(decodeURIComponent(pair[1]));
                }
            }
            return queryParams;
        }
        /**
         *
         * This function returns the width of a text string,
         * in pixels, based on its font style
         */

    }, {
        key: "getTextWidth",
        value: function getTextWidth(text, font) {
            // create a dummy canvas element to perform the calculation
            var canvas = document.createElement("canvas");
            var context = canvas.getContext("2d");
            context.font = font;
            var metrics = context.measureText(text);
            return metrics.width;
        }
    }, {
        key: "getTextHeight",
        value: function getTextHeight(text, font) {
            var body = document.getElementsByTagName("body")[0];
            var dummy = document.createElement("div");
            var dummyText = document.createTextNode("M");
            dummy.appendChild(dummyText);
            dummy.setAttribute("style", font);
            body.appendChild(dummy);
            var result = dummy.offsetHeight;
            body.removeChild(dummy);
            return result;
        }
    }]);

    return StandardLib;
}();

exports.default = StandardLib;

},{"lodash":"lodash"}]},{},[4])(4)
});
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmN0c1xcVG9vbE92ZXJsYXkudHN4Iiwic3JjdHNcXFdlYXZlTGF5b3V0TWFuYWdlci50c3giLCJzcmN0c1xcV2VhdmVUb29sLnRzeCIsInNyY3RzXFxXZWF2ZVVJLnRzeCIsInNyY3RzXFxyZWFjdC1ib290c3RyYXAtZGF0YXRhYmxlXFxSZWFjdEJvb3RTdHJhcFRhYmxlLnRzeCIsInNyY3RzXFxyZWFjdC1ib290c3RyYXAtZGF0YXRhYmxlXFxUYWJsZUJvZHkudHN4Iiwic3JjdHNcXHJlYWN0LWJvb3RzdHJhcC1kYXRhdGFibGVcXFRhYmxlSGVhZC50c3giLCJzcmN0c1xccmVhY3QtYm9vdHN0cmFwLWRhdGF0YWJsZVxcVGFibGVSb3cudHN4Iiwic3JjdHNcXHJlYWN0LWZsZXhpYmxlLWxheW91dFxcTGF5b3V0LnRzeCIsInNyY3RzXFxyZWFjdC1mbGV4aWJsZS1sYXlvdXRcXFJlc2l6ZXIudHN4Iiwic3JjdHNcXHJlYWN0LWZsZXhpYmxlLWxheW91dFxcUmVzaXplck92ZXJsYXkudHN4Iiwic3JjdHNcXHJlYWN0LXVpXFxIQm94LnRzeCIsInNyY3RzXFxyZWFjdC11aVxcVkJveC50c3giLCJzcmN0c1xccmVhY3QtdWlcXHVpLnRzeCIsInNyY3RzXFx0b29sc1xcQWJzdHJhY3RDM1Rvb2wudHN4Iiwic3JjdHNcXHRvb2xzXFxPcGVuTGF5ZXJzTWFwVG9vbC50c3giLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXERyYWdTZWxlY3Rpb24udHMiLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXEludGVyYWN0aW9uTW9kZUNsdXN0ZXIudHMiLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXExheWVyc1xcRmVhdHVyZUxheWVyLnRzIiwic3JjdHNcXHRvb2xzXFxPcGVuTGF5ZXJzTWFwXFxMYXllcnNcXEdlb21ldHJ5TGF5ZXIudHMiLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXExheWVyc1xcR2x5cGhMYXllci50cyIsInNyY3RzXFx0b29sc1xcT3BlbkxheWVyc01hcFxcTGF5ZXJzXFxJbWFnZUdseXBoQ2FjaGUudHMiLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXExheWVyc1xcSW1hZ2VHbHlwaExheWVyLnRzIiwic3JjdHNcXHRvb2xzXFxPcGVuTGF5ZXJzTWFwXFxMYXllcnNcXExhYmVsTGF5ZXIudHMiLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXExheWVyc1xcTGF5ZXIudHMiLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXExheWVyc1xcU2NhdHRlclBsb3RMYXllci50cyIsInNyY3RzXFx0b29sc1xcT3BlbkxheWVyc01hcFxcTGF5ZXJzXFxUaWxlTGF5ZXIudHMiLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXFBhbkNsdXN0ZXIudHMiLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXFByb2JlSW50ZXJhY3Rpb24udHMiLCJzcmN0c1xcdG9vbHNcXHRvb2x0aXAudHN4Iiwic3JjdHNcXHRvb2xzXFx3ZWF2ZS1jMy1iYXJjaGFydC50c3giLCJzcmN0c1xcdG9vbHNcXHdlYXZlLWMzLWJhcmNoYXJ0bGVnZW5kLnRzeCIsInNyY3RzXFx0b29sc1xcd2VhdmUtYzMtY29sb3JsZWdlbmQudHN4Iiwic3JjdHNcXHRvb2xzXFx3ZWF2ZS1jMy1oaXN0b2dyYW0udHN4Iiwic3JjdHNcXHRvb2xzXFx3ZWF2ZS1jMy1saW5lY2hhcnQudHN4Iiwic3JjdHNcXHRvb2xzXFx3ZWF2ZS1jMy1waWVjaGFydC50c3giLCJzcmN0c1xcdG9vbHNcXHdlYXZlLWMzLXNjYXR0ZXJwbG90LnRzeCIsInNyY3RzXFx0b29sc1xcd2VhdmUtcmVhY3QtdGFibGUudHN4Iiwic3JjdHNcXHRvb2xzXFx3ZWF2ZS1zZXNzaW9uLXN0YXRlLW1lbnUudHN4Iiwic3JjdHNcXHV0aWxzXFxGb3JtYXRVdGlscy50cyIsInNyY3RzXFx1dGlsc1xcU3RhbmRhcmRMaWIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7O0lDRVksQUFBSyxBQUFNLEFBQU87Ozs7Ozs7Ozs7QUFFOUIsdUJBQTZDO0FBQ3pDLEFBQVUsZ0JBQUUsQUFBTTtBQUNsQixBQUFPLGFBQUUsQUFBRTtBQUNYLEFBQU0sWUFBRSxBQUFDO0FBQ1QsQUFBUyxlQUFFLEFBQVk7QUFDdkIsQUFBYyxvQkFBRSxBQUFTO0FBQ3pCLEFBQVEsY0FBRSxBQUFPO0FBQ2pCLEFBQVUsZ0JBQUUsQUFBUTtBQUNwQixBQUFhLG1CQUFFLEFBQU0sQUFDeEIsQUFBQyxBQVNGO0NBbEJNLEFBQWdCOzs7OztBQW9CbEIseUJBQVksQUFBdUI7OzttR0FDekIsQUFBSyxBQUFDLEFBQUM7O0FBQ2IsQUFBSSxjQUFDLEFBQUssUUFBRztBQUNULEFBQUssbUJBQUUsQUFBZ0IsQUFDMUIsQUFBQyxBQUNOLEFBQUMsQUFFRCxBQUFNO1VBTkY7Ozs7Ozs7QUFPQSxBQUFNLG1CQUFDLEFBQUMsQUFBRyw2QkFBQyxBQUFLLEFBQUMsT0FBQyxBQUFJLEtBQUMsQUFBSyxNQUFDLEFBQUssQUFBQyxBQUFFLEFBQUMsQUFDM0MsQUFBQyxBQUNMLEFBQUMsQUFFRDs7Ozs7RUFkMEIsQUFBSyxNQUFDLEFBQVM7O2tCQWMxQixBQUFXLEFBQUM7Ozs7Ozs7Ozs7Ozs7SUM5QmYsQUFBSyxBQUFNLEFBQU8sQUFDdkI7Ozs7SUFBSyxBQUFRLEFBQU0sQUFBVyxBQUM5Qjs7OztJQUFLLEFBQUMsQUFBTSxBQUFRLEFBQ3BCLEFBQU0sQUFBTSxBQUFnQyxBQUc1QyxBQUFlLEFBQU0sQUFBMkIsQUFDaEQsQUFBa0IsQUFBTSxBQUE4QixBQUN0RCxBQUFrQixBQUFNLEFBQThCLEFBQ3RELEFBQXFCLEFBQU0sQUFBaUMsQUFDNUQsQUFBZ0IsQUFBTSxBQUE0QixBQUNsRCxBQUFlLEFBQU0sQUFBMkIsQUFDaEQsQUFBZ0Is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LEFBQUMsQUFBQztBQUNwRCxBQUFNLG1CQUFDLEFBQU8sUUFBQyxBQUFLLEFBQUMsQUFDekIsQUFBQyxBQUdELEFBQU8sQUFBYTs7OztzQ0FBQyxBQUFXLE1BQUUsQUFBVztBQUN6QyxnQkFBSSxBQUFJLE9BQUcsQUFBUSxTQUFDLEFBQW9CLHFCQUFDLEFBQU0sQUFBQyxRQUFDLEFBQUMsQUFBQyxBQUFDO0FBQ3BELGdCQUFJLEFBQUssUUFBRyxBQUFRLFNBQUMsQUFBYSxjQUFDLEFBQUssQUFBQyxBQUFDO0FBQzFDLGdCQUFJLEFBQVMsWUFBRyxBQUFRLFNBQUMsQUFBYyxlQUFDLEFBQUcsQUFBQyxBQUFDO0FBQzdDLEFBQUssa0JBQUMsQUFBVyxZQUFDLEFBQVMsQUFBQyxBQUFDO0FBQzdCLEFBQUssa0JBQUMsQUFBWSxhQUFDLEFBQU8sU0FBRSxBQUFJLEFBQUMsQUFBQztBQUNsQyxBQUFJLGlCQUFDLEFBQVcsWUFBQyxBQUFLLEFBQUMsQUFBQztBQUN4QixnQkFBSSxBQUFNLFNBQUcsQUFBSyxNQUFDLEFBQVksQUFBQztBQUNoQyxBQUFJLGlCQUFDLEFBQVcsWUFBQyxBQUFLLEFBQUMsQUFBQztBQUN4QixBQUFNLG1CQUFDLEFBQU0sQUFBQyxBQUNsQixBQUFDLEFBQ0wsQUFBQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC5kLnRzXCIvPlxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuY29uc3QgdG9vbE92ZXJsYXlTdHlsZTpSZWFjdC5DU1NQcm9wZXJ0aWVzID0ge1xuICAgIGJhY2tncm91bmQ6IFwiIzAwMFwiLFxuICAgIG9wYWNpdHk6IC4yLFxuICAgIHpJbmRleDogMyxcbiAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgIGJhY2tncm91bmRDbGlwOiBcInBhZGRpbmdcIixcbiAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsXG4gICAgcG9pbnRlckV2ZW50czogXCJub25lXCJcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVRvb2xPdmVybGF5UHJvcHMgZXh0ZW5kcyBSZWFjdC5Qcm9wczxUb29sT3ZlcmxheT4ge1xuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVRvb2xPdmVybGF5U3RhdGUge1xuICAgIHN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xufVxuY2xhc3MgVG9vbE92ZXJsYXkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SVRvb2xPdmVybGF5UHJvcHMsIElUb29sT3ZlcmxheVN0YXRlPiB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczpJVG9vbE92ZXJsYXlQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBzdHlsZTogdG9vbE92ZXJsYXlTdHlsZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIDxkaXYgc3R5bGU9e3RoaXMuc3RhdGUuc3R5bGV9Lz47XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb29sT3ZlcmxheTtcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC1kb20uZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL3dlYXZlL1dlYXZlLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy93ZWF2ZS93ZWF2ZWpzLmQudHNcIi8+XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuL3JlYWN0LWZsZXhpYmxlLWxheW91dC9MYXlvdXRcIjtcbmltcG9ydCB7TGF5b3V0U3RhdGV9IGZyb20gXCIuL3JlYWN0LWZsZXhpYmxlLWxheW91dC9MYXlvdXRcIjtcbmltcG9ydCBDdXN0b21TZWFyY2hUb29sIGZyb20gXCIuL0N1c3RvbVNlYXJjaFRvb2xcIjtcbmltcG9ydCBXZWF2ZUMzQmFyY2hhcnQgZnJvbSBcIi4vdG9vbHMvd2VhdmUtYzMtYmFyY2hhcnRcIjtcbmltcG9ydCBXZWF2ZUMzU2NhdHRlclBsb3QgZnJvbSBcIi4vdG9vbHMvd2VhdmUtYzMtc2NhdHRlcnBsb3RcIjtcbmltcG9ydCBXZWF2ZUMzQ29sb3JMZWdlbmQgZnJvbSBcIi4vdG9vbHMvd2VhdmUtYzMtY29sb3JsZWdlbmRcIjtcbmltcG9ydCBXZWF2ZUMzQmFyQ2hhcnRMZWdlbmQgZnJvbSBcIi4vdG9vbHMvd2VhdmUtYzMtYmFyY2hhcnRsZWdlbmRcIlxuaW1wb3J0IFdlYXZlQzNMaW5lQ2hhcnQgZnJvbSBcIi4vdG9vbHMvd2VhdmUtYzMtbGluZWNoYXJ0XCI7XG5pbXBvcnQgV2VhdmVDM1BpZUNoYXJ0IGZyb20gXCIuL3Rvb2xzL3dlYXZlLWMzLXBpZWNoYXJ0XCI7XG5pbXBvcnQgV2VhdmVDM0hpc3RvZ3JhbSBmcm9tIFwiLi90b29scy93ZWF2ZS1jMy1oaXN0b2dyYW1cIjtcbmltcG9ydCBTZXNzaW9uU3RhdGVNZW51VG9vbCBmcm9tIFwiLi90b29scy93ZWF2ZS1zZXNzaW9uLXN0YXRlLW1lbnVcIjtcbmltcG9ydCBXZWF2ZU9wZW5MYXllcnNNYXAgZnJvbSBcIi4vdG9vbHMvT3BlbkxheWVyc01hcFRvb2xcIjtcbmltcG9ydCBXZWF2ZVJlYWN0VGFibGUgZnJvbSBcIi4vdG9vbHMvd2VhdmUtcmVhY3QtdGFibGVcIjtcblxuLy8gVGVtcG9yYXJ5IHNvbHV0aW9uXG4vLyBiZWNhdXNlIHR5cGVzY3JpcHQgcmVtb3Zlc1xuLy8gdW51c2VkIGltcG9ydHNcbnZhciB2MTphbnkgPSBbXG5cdFdlYXZlQzNCYXJjaGFydCxcblx0V2VhdmVDM1NjYXR0ZXJQbG90LFxuXHRXZWF2ZUMzQ29sb3JMZWdlbmQsXG4gICAgV2VhdmVDM0JhckNoYXJ0TGVnZW5kLFxuXHRXZWF2ZUMzTGluZUNoYXJ0LFxuXHRXZWF2ZUMzUGllQ2hhcnQsXG5cdFdlYXZlQzNIaXN0b2dyYW0sXG5cdFNlc3Npb25TdGF0ZU1lbnVUb29sLFxuXHRXZWF2ZU9wZW5MYXllcnNNYXAsXG5cdFdlYXZlUmVhY3RUYWJsZVxuXTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy9pbXBvcnQgQ3VzdG9tU2VhcmNoVG9vbCBmcm9tIFwiLi9vdXR0cy9DdXN0b21TZWFyY2hUb29sLmpzeFwiO1xuaW1wb3J0IHtXZWF2ZVRvb2wsIGdldFRvb2xJbXBsZW1lbnRhdGlvbn0gZnJvbSBcIi4vV2VhdmVUb29sXCI7XG5pbXBvcnQgVG9vbE92ZXJsYXkgZnJvbSBcIi4vVG9vbE92ZXJsYXlcIjtcbmltcG9ydCBTdGFuZGFyZExpYiBmcm9tIFwiLi91dGlscy9TdGFuZGFyZExpYlwiO1xuY29uc3QgTEFZT1VUOnN0cmluZyA9IFwiTGF5b3V0XCI7XG5cbmNvbnN0IExFRlQ6c3RyaW5nID0gXCJsZWZ0XCI7XG5jb25zdCBSSUdIVDpzdHJpbmcgPSBcInJpZ2h0XCI7XG5jb25zdCBUT1A6c3RyaW5nID0gXCJ0b3BcIjtcbmNvbnN0IEJPVFRPTTpzdHJpbmcgPSBcImJvdHRvbVwiO1xuY29uc3QgVkVSVElDQUw6c3RyaW5nID0gXCJ2ZXJ0aWNhbFwiO1xuY29uc3QgSE9SSVpPTlRBTDpzdHJpbmcgPSBcImhvcml6b250YWxcIjtcblxuY29uc3QgVE9PTE9WRVJMQVk6c3RyaW5nID0gXCJ0b29sb3ZlcmxheVwiO1xuXG5kZWNsYXJlIHR5cGUgUG9pbnQgPSB7XG4gICAgeD86IG51bWJlcjtcbiAgICB5PzogbnVtYmVyO1xuICAgIHI/OiBudW1iZXI7XG4gICAgdGhldGE/OiBudW1iZXI7XG59O1xuXG5kZWNsYXJlIHR5cGUgUG9sYXJQb2ludCA9IHtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xufTtcblxuaW50ZXJmYWNlIElXZWF2ZUxheW91dE1hbmFnZXJQcm9wcyBleHRlbmRzIFJlYWN0LlByb3BzPFdlYXZlTGF5b3V0TWFuYWdlcj4ge1xuICAgIHdlYXZlOldlYXZlXG59XG5cbmludGVyZmFjZSBJV2VhdmVMYXlvdXRNYW5hZ2VyU3RhdGUge1xuXG59XG5cbmNsYXNzIFdlYXZlTGF5b3V0TWFuYWdlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJV2VhdmVMYXlvdXRNYW5hZ2VyUHJvcHMsIElXZWF2ZUxheW91dE1hbmFnZXJTdGF0ZT4ge1xuXG4gICAgcHJpdmF0ZSBlbGVtZW50OkhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgd2VhdmU6V2VhdmU7XG4gICAgcHJpdmF0ZSBtYXJnaW46bnVtYmVyO1xuICAgIHByaXZhdGUgX2ZvcmNlVXBkYXRlOigpID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSBkaXJ0eTpib29sZWFuO1xuICAgIHByaXZhdGUgdG9vbERyYWdnZWQ6c3RyaW5nW107XG4gICAgcHJpdmF0ZSB0b29sT3ZlcjpzdHJpbmdbXTtcbiAgICBwcml2YXRlIGRyb3Bab25lOnN0cmluZztcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczpJV2VhdmVMYXlvdXRNYW5hZ2VyUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLndlYXZlID0gdGhpcy5wcm9wcy53ZWF2ZSB8fCBuZXcgV2VhdmUoKTtcbiAgICAgICAgdGhpcy53ZWF2ZS5wYXRoKExBWU9VVCkucmVxdWVzdChcIkZsZXhpYmxlTGF5b3V0XCIpO1xuICAgICAgICB0aGlzLm1hcmdpbiA9IDg7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKTp2b2lkIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5fZm9yY2VVcGRhdGUgPSBfLnRocm90dGxlKCgpID0+IHsgdGhpcy5kaXJ0eSA9IHRydWU7IHRoaXMuZm9yY2VVcGRhdGUoKTsgfSwgMzApKTtcbiAgICAgICAgdGhpcy53ZWF2ZS5yb290LmNoaWxkTGlzdENhbGxiYWNrcy5hZGRHcm91cGVkQ2FsbGJhY2sodGhpcywgXy5kZWJvdW5jZSh0aGlzLmZvcmNlVXBkYXRlLmJpbmQodGhpcyksIDApLCB0cnVlKTtcbiAgICAgICAgdGhpcy53ZWF2ZS5wYXRoKExBWU9VVCkuYWRkQ2FsbGJhY2sodGhpcywgXy5kZWJvdW5jZSh0aGlzLmZvcmNlVXBkYXRlLmJpbmQodGhpcyksIDApLCB0cnVlKTtcbiAgICAgICAgdGhpcy53ZWF2ZS5wYXRoKExBWU9VVCkuc3RhdGUodGhpcy5zaW1wbGlmeVN0YXRlKHRoaXMud2VhdmUucGF0aChMQVlPVVQpLmdldFN0YXRlKCkpKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpOnZvaWQge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLl9mb3JjZVVwZGF0ZSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCk6dm9pZCB7XG4gICAgICAgIGlmKFdlYXZlLmRldGVjdENoYW5nZSh0aGlzLCB0aGlzLndlYXZlLmdldE9iamVjdChMQVlPVVQpKSB8fCB0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICAvLyBkaXJ0eSBmbGFnIHRvIHRyaWdnZXIgcmVuZGVyIG9uIHdpbmRvdyByZXNpemVcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vXy5kZWJvdW5jZSh0aGlzLmZvcmNlVXBkYXRlLmJpbmQodGhpcyksIDApKCk7XG4gICAgICAgICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzYXZlU3RhdGUobmV3U3RhdGU6TGF5b3V0U3RhdGUpOnZvaWQge1xuICAgICAgICBuZXdTdGF0ZSA9IHRoaXMuc2ltcGxpZnlTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgIG5ld1N0YXRlLmZsZXggPSAxO1xuICAgICAgICB0aGlzLndlYXZlLnBhdGgoTEFZT1VUKS5zdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgIC8vIHRlbXBvcmFyeSBoYWNrIGJlY2F1c2Ugd2VhdmVcbiAgICAgICAgLy8gZG9lc24ndCBwcm9wZXJseSBjYWxsYmFjayBmb3JjZVVwZGF0ZVxuICAgICAgICAvL3RoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICB9XG5cbiAgICBvbkRyYWdTdGFydChpZDpzdHJpbmdbXSwgZXZlbnQ6UmVhY3QuTW91c2VFdmVudCk6dm9pZCB7XG4gICAgICAgIHRoaXMudG9vbERyYWdnZWQgPSBpZDtcbiAgICAgICAgdmFyIHRvb2xSZWYgPSBpZFswXTsgLy8gdG9vbE5hbWUgYXMgdXNlZCBpbiB0aGUgcmVmIGZvciB0aGUgd2VhdmUgdG9vbC5cbiAgICAgICAgdmFyIGVsZW1lbnQgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnNbdG9vbFJlZl0pO1xuXG4gICAgICAgIC8vIGhhY2sgYmVjYXVzZSBkYXRhVHJhbnNmZXIgZG9lc24ndCBleGlzdCBvbiB0eXBlIGV2ZW50XG4gICAgICAgIChldmVudCBhcyBhbnkpLmRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UoZWxlbWVudCwgMCwgMCk7XG4gICAgICAgIChldmVudCBhcyBhbnkpLmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L2h0bWwnLCBudWxsKTtcbiAgICB9XG5cbiAgICBoaWRlT3ZlcmxheSgpOnZvaWQge1xuICAgICAgICB2YXIgdG9vbE92ZXJsYXlTdHlsZSA9IF8uY2xvbmUoKHRoaXMucmVmc1tUT09MT1ZFUkxBWV0gYXMgVG9vbE92ZXJsYXkpLnN0YXRlLnN0eWxlKTtcbiAgICAgICAgdG9vbE92ZXJsYXlTdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgdG9vbE92ZXJsYXlTdHlsZS5sZWZ0ID0gdG9vbE92ZXJsYXlTdHlsZS50b3AgPSB0b29sT3ZlcmxheVN0eWxlLndpZHRoID0gdG9vbE92ZXJsYXlTdHlsZS5oZWlnaHQgPSAwO1xuICAgICAgICAodGhpcy5yZWZzW1RPT0xPVkVSTEFZXSBhcyBUb29sT3ZlcmxheSkuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc3R5bGU6IHRvb2xPdmVybGF5U3R5bGVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25EcmFnRW5kKCk6dm9pZCB7XG4gICAgICAgIGlmKHRoaXMudG9vbERyYWdnZWQgJiYgdGhpcy50b29sT3Zlcikge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQodGhpcy50b29sRHJhZ2dlZCwgdGhpcy50b29sT3ZlciwgdGhpcy5kcm9wWm9uZSk7XG4gICAgICAgICAgICB0aGlzLnRvb2xEcmFnZ2VkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZHJvcFpvbmUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5oaWRlT3ZlcmxheSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25EcmFnT3Zlcih0b29sT3ZlcjpzdHJpbmdbXSwgZXZlbnQ6UmVhY3QuTW91c2VFdmVudCk6dm9pZCB7XG4gICAgICAgIGlmKCF0aGlzLnRvb2xEcmFnZ2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYoXy5pc0VxdWFsKHRoaXMudG9vbERyYWdnZWQsIHRvb2xPdmVyKSkge1xuICAgICAgICAgICAgLy8gaGlkZSB0aGUgb3ZlcmxheSBpZiBob3ZlcmluZyBvdmVyIHRoZSB0b29sIGJlaW5nIGRyYWdnZWRcbiAgICAgICAgICAgIHRoaXMudG9vbE92ZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5oaWRlT3ZlcmxheSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvb2xOb2RlID0gKHRoaXMucmVmc1tMQVlPVVRdIGFzIExheW91dCkuZ2V0RE9NTm9kZUZyb21JZCh0b29sT3Zlcik7XG4gICAgICAgIHZhciB0b29sTm9kZVBvc2l0aW9uID0gdG9vbE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgdmFyIHRvb2xPdmVybGF5U3R5bGUgPSBfLmNsb25lKCh0aGlzLnJlZnNbVE9PTE9WRVJMQVldIGFzIFRvb2xPdmVybGF5KS5zdGF0ZS5zdHlsZSk7XG4gICAgICAgIHZhciBkcm9wWm9uZSA9IHRoaXMuZ2V0RHJvcFpvbmUodG9vbE92ZXIsIGV2ZW50KTtcbiAgICAgICAgdG9vbE92ZXJsYXlTdHlsZS5sZWZ0ID0gdG9vbE5vZGVQb3NpdGlvbi5sZWZ0O1xuICAgICAgICB0b29sT3ZlcmxheVN0eWxlLnRvcCA9IHRvb2xOb2RlUG9zaXRpb24udG9wO1xuICAgICAgICB0b29sT3ZlcmxheVN0eWxlLndpZHRoID0gdG9vbE5vZGVQb3NpdGlvbi53aWR0aDtcbiAgICAgICAgdG9vbE92ZXJsYXlTdHlsZS5oZWlnaHQgPSB0b29sTm9kZVBvc2l0aW9uLmhlaWdodDtcbiAgICAgICAgdG9vbE92ZXJsYXlTdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG5cbiAgICAgICAgaWYoZHJvcFpvbmUgPT09IExFRlQpIHtcbiAgICAgICAgICAgIHRvb2xPdmVybGF5U3R5bGUud2lkdGggPSB0b29sTm9kZVBvc2l0aW9uLndpZHRoIC8gMjtcbiAgICAgICAgfSBlbHNlIGlmKGRyb3Bab25lID09PSBSSUdIVCkge1xuICAgICAgICAgICAgdG9vbE92ZXJsYXlTdHlsZS5sZWZ0ID0gdG9vbE5vZGVQb3NpdGlvbi5sZWZ0ICsgdG9vbE5vZGVQb3NpdGlvbi53aWR0aCAvIDI7XG4gICAgICAgICAgICB0b29sT3ZlcmxheVN0eWxlLndpZHRoID0gdG9vbE5vZGVQb3NpdGlvbi53aWR0aCAvIDI7XG4gICAgICAgIH0gZWxzZSBpZihkcm9wWm9uZSA9PT0gQk9UVE9NKSB7XG4gICAgICAgICAgICB0b29sT3ZlcmxheVN0eWxlLnRvcCA9IHRvb2xOb2RlUG9zaXRpb24udG9wICsgdG9vbE5vZGVQb3NpdGlvbi5oZWlnaHQgLyAyO1xuICAgICAgICAgICAgdG9vbE92ZXJsYXlTdHlsZS5oZWlnaHQgPSB0b29sTm9kZVBvc2l0aW9uLmhlaWdodCAvIDI7XG4gICAgICAgIH0gZWxzZSBpZihkcm9wWm9uZSA9PT0gVE9QKSB7XG4gICAgICAgICAgICB0b29sT3ZlcmxheVN0eWxlLmhlaWdodCA9IHRvb2xOb2RlUG9zaXRpb24uaGVpZ2h0IC8gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkcm9wWm9uZSAhPT0gdGhpcy5kcm9wWm9uZSB8fCAhXy5pc0VxdWFsKHRvb2xPdmVyLCB0aGlzLnRvb2xPdmVyKSkge1xuICAgICAgICAgICAgKHRoaXMucmVmc1tUT09MT1ZFUkxBWV0gYXMgVG9vbE92ZXJsYXkpLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzdHlsZTogdG9vbE92ZXJsYXlTdHlsZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyb3Bab25lID0gZHJvcFpvbmU7XG4gICAgICAgIHRoaXMudG9vbE92ZXIgPSB0b29sT3ZlcjtcbiAgICB9XG5cbiAgICBnZXREcm9wWm9uZShpZDpzdHJpbmdbXSwgZXZlbnQ6UmVhY3QuTW91c2VFdmVudCk6c3RyaW5nIHtcbiAgICAgICAgaWYodGhpcy50b29sRHJhZ2dlZCkge1xuICAgICAgICAgICAgaWYoIV8uaXNFcXVhbCh0aGlzLnRvb2xEcmFnZ2VkLCBpZCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9vbE5vZGUgPSAodGhpcy5yZWZzW0xBWU9VVF0gYXMgTGF5b3V0KS5nZXRET01Ob2RlRnJvbUlkKGlkKTtcbiAgICAgICAgICAgICAgICB2YXIgdG9vbE5vZGVQb3NpdGlvbiA9IHRvb2xOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlcjpQb2ludCA9IHtcbiAgICAgICAgICAgICAgICAgICAgeDogKHRvb2xOb2RlUG9zaXRpb24ucmlnaHQgLSB0b29sTm9kZVBvc2l0aW9uLmxlZnQpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgeTogKHRvb2xOb2RlUG9zaXRpb24uYm90dG9tIC0gdG9vbE5vZGVQb3NpdGlvbi50b3ApIC8gMlxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgbW91c2VQb3NSZWxhdGl2ZVRvQ2VudGVyOlBvaW50ID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiBldmVudC5jbGllbnRYIC0gKHRvb2xOb2RlUG9zaXRpb24ubGVmdCArIGNlbnRlci54KSxcbiAgICAgICAgICAgICAgICAgICAgeTogZXZlbnQuY2xpZW50WSAtICh0b29sTm9kZVBvc2l0aW9uLnRvcCArIGNlbnRlci55KVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgbW91c2VOb3JtOlBvaW50ID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiAobW91c2VQb3NSZWxhdGl2ZVRvQ2VudGVyLngpIC8gKHRvb2xOb2RlUG9zaXRpb24ud2lkdGggLyAyKSxcbiAgICAgICAgICAgICAgICAgICAgeTogKG1vdXNlUG9zUmVsYXRpdmVUb0NlbnRlci55KSAvICh0b29sTm9kZVBvc2l0aW9uLmhlaWdodCAvIDIpXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBtb3VzZVBvbGFyQ29vcmQ6UG9pbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHI6IE1hdGguc3FydChtb3VzZU5vcm0ueCAqIG1vdXNlTm9ybS54ICsgbW91c2VOb3JtLnkgKiBtb3VzZU5vcm0ueSksXG4gICAgICAgICAgICAgICAgICAgIHRoZXRhOiBNYXRoLmF0YW4yKG1vdXNlTm9ybS55LCBtb3VzZU5vcm0ueClcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIHpvbmVzOnN0cmluZ1tdID0gW1JJR0hULCBCT1RUT00sIExFRlQsIFRPUF07XG5cbiAgICAgICAgICAgICAgICB2YXIgem9uZUluZGV4Om51bWJlciA9IE1hdGgucm91bmQoKG1vdXNlUG9sYXJDb29yZC50aGV0YSAvICgyICogTWF0aC5QSSkgKiA0KSArIDQpICUgNDtcblxuICAgICAgICAgICAgICAgIGlmKG1vdXNlUG9sYXJDb29yZC5yIDwgMC4zNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gem9uZXNbem9uZUluZGV4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaW1wbGlmeVN0YXRlKHN0YXRlOkxheW91dFN0YXRlKTpMYXlvdXRTdGF0ZSB7XG4gICAgXHRpZiAoIXN0YXRlKVxuICAgIFx0XHRyZXR1cm4ge307XG4gICAgICAgIHZhciBjaGlsZHJlbjpMYXlvdXRTdGF0ZVtdID0gc3RhdGUuY2hpbGRyZW47XG5cbiAgICAgICAgaWYgKCFjaGlsZHJlbikge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2ltcGxpZnlTdGF0ZShjaGlsZHJlblswXSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2ltcGxlQ2hpbGRyZW46TGF5b3V0U3RhdGVbXSA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZDpMYXlvdXRTdGF0ZSA9IHRoaXMuc2ltcGxpZnlTdGF0ZShjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICBpZiAoY2hpbGQuY2hpbGRyZW4gJiYgY2hpbGQuZGlyZWN0aW9uID09PSBzdGF0ZS5kaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRDaGlsZHJlbjpMYXlvdXRTdGF0ZVtdID0gY2hpbGQuY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGNoaWxkQ2hpbGRyZW4ubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZENoaWxkOkxheW91dFN0YXRlID0gY2hpbGRDaGlsZHJlbltpaV07XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ2hpbGQuZmxleCAqPSBjaGlsZC5mbGV4O1xuICAgICAgICAgICAgICAgICAgICBzaW1wbGVDaGlsZHJlbi5wdXNoKGNoaWxkQ2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNpbXBsZUNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmNoaWxkcmVuID0gc2ltcGxlQ2hpbGRyZW47XG4gICAgICAgIHZhciB0b3RhbFNpemVDaGlsZHJlbjpudW1iZXIgPSBfLnN1bShfLm1hcChjaGlsZHJlbiwgXCJmbGV4XCIpKTtcblxuICAgICAgICAvL1NjYWxlIGZsZXggdmFsdWVzIGJldHdlZW4gMCBhbmQgMSBzbyB0aGV5IHN1bSB0byAxLCBhdm9pZGluZyBhbiBhcHBhcmVudFxuICAgICAgICAvL2ZsZXggYnVnIHdoZXJlIHNwYWNlIGlzIGxvc3QgaWYgc3VtIG9mIGZsZXggdmFsdWVzIGlzIGxlc3MgdGhhbiAxLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzdGF0ZS5jaGlsZHJlbltpXS5mbGV4ID0gU3RhbmRhcmRMaWIubm9ybWFsaXplKHN0YXRlLmNoaWxkcmVuW2ldLmZsZXgsIDAsIHRvdGFsU2l6ZUNoaWxkcmVuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICB1cGRhdGVMYXlvdXQodG9vbERyYWdnZWQ6c3RyaW5nW10sIHRvb2xEcm9wcGVkT246c3RyaW5nW10sIGRyb3Bab25lOnN0cmluZykge1xuXG4gICAgICAgIGlmKCF0aGlzLnRvb2xEcmFnZ2VkIHx8ICF0aGlzLnRvb2xPdmVyIHx8ICF0aGlzLmRyb3Bab25lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmV3U3RhdGU6TGF5b3V0U3RhdGUgPSBfLmNsb25lRGVlcCh0aGlzLndlYXZlLnBhdGgoTEFZT1VUKS5nZXRTdGF0ZSgpKTtcbiAgICAgICAgdmFyIHNyYzpMYXlvdXRTdGF0ZSA9IFN0YW5kYXJkTGliLmZpbmREZWVwKG5ld1N0YXRlLCB7aWQ6IHRvb2xEcmFnZ2VkfSk7XG4gICAgICAgIHZhciBkZXN0OkxheW91dFN0YXRlID0gU3RhbmRhcmRMaWIuZmluZERlZXAobmV3U3RhdGUsIHtpZDogdG9vbERyb3BwZWRPbn0pO1xuICAgICAgICBpZihfLmlzRXF1YWwoc3JjLmlkLCBkZXN0LmlkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoZHJvcFpvbmUgPT09IFwiY2VudGVyXCIpIHtcbiAgICAgICAgICAgIHZhciBzcmNJZCA9IHNyYy5pZDtcbiAgICAgICAgICAgIHNyYy5pZCA9IGRlc3QuaWQ7XG4gICAgICAgICAgICBkZXN0LmlkID0gc3JjSWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgc3JjUGFyZW50QXJyYXk6TGF5b3V0U3RhdGVbXSA9IFN0YW5kYXJkTGliLmZpbmREZWVwKG5ld1N0YXRlLCAob2JqOkxheW91dFN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKSAmJiBvYmouaW5kZXhPZihzcmMpID49IDA7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc3JjUGFyZW50QXJyYXkuc3BsaWNlKHNyY1BhcmVudEFycmF5LmluZGV4T2Yoc3JjKSwgMSk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSBkZXN0LmlkO1xuICAgICAgICAgICAgZGVzdC5kaXJlY3Rpb24gPSAoZHJvcFpvbmUgPT09IFRPUCB8fCBkcm9wWm9uZSA9PT0gQk9UVE9NKSA/IFZFUlRJQ0FMIDogSE9SSVpPTlRBTDtcblxuICAgICAgICAgICAgZGVzdC5jaGlsZHJlbiA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB0b29sRHJhZ2dlZCxcbiAgICAgICAgICAgICAgICAgICAgZmxleDogMC41XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB0b29sRHJvcHBlZE9uLFxuICAgICAgICAgICAgICAgICAgICBmbGV4OiAwLjVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYoZHJvcFpvbmUgPT09IEJPVFRPTSB8fCBkcm9wWm9uZSA9PT0gUklHSFQpIHtcbiAgICAgICAgICAgICAgICBkZXN0LmNoaWxkcmVuLnJldmVyc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNhdmVTdGF0ZShuZXdTdGF0ZSk7XG4gICAgfVxuXG4gICAgcmVuZGVyICgpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuOkxheW91dFN0YXRlW10gPSBbXTtcbiAgICAgICAgdmFyIG5ld1N0YXRlOkxheW91dFN0YXRlID0gdGhpcy53ZWF2ZS5wYXRoKExBWU9VVCkuZ2V0U3RhdGUoKTtcblxuICAgICAgICB2YXIgcGF0aHM6V2VhdmVQYXRoW10gPSB0aGlzLndlYXZlLnBhdGgoKS5nZXRDaGlsZHJlbigpO1xuICAgICAgICB2YXIgcmVjdDpDbGllbnRSZWN0O1xuICAgICAgICBpZih0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgcGF0aHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXRoOldlYXZlUGF0aCA9IHBhdGhzW2ldO1xuICAgICAgICAgICAgdmFyIGltcGw6c3RyaW5nfEZ1bmN0aW9uID0gcGF0aC5nZXRUeXBlKCk7XG4gICAgICAgICAgICBpZihpbXBsID09PSBcIndlYXZlLnZpc3VhbGl6YXRpb24udG9vbHM6OkV4dGVybmFsVG9vbFwiICYmIHBhdGguZ2V0VHlwZShcInRvb2xDbGFzc1wiKSkge1xuICAgICAgICAgICAgICAgIGltcGwgPSBwYXRoLmdldFN0YXRlKFwidG9vbENsYXNzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGltcGwgPT09IFwid2VhdmVqcy5jb3JlLkxpbmthYmxlSGFzaE1hcFwiICYmIHBhdGguZ2V0VHlwZShcImNsYXNzXCIpKVxuICAgICAgICAgICAgaW1wbCA9IHBhdGguZ2V0U3RhdGUoXCJjbGFzc1wiKTtcbiAgICAgICAgICAgIGltcGwgPSBnZXRUb29sSW1wbGVtZW50YXRpb24oaW1wbCBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgdmFyIHRvb2xOYW1lOnN0cmluZyA9IHBhdGguZ2V0UGF0aCgpWzBdO1xuICAgICAgICAgICAgdmFyIG5vZGU6RWxlbWVudDtcbiAgICAgICAgICAgIHZhciB0b29sUmVjdDpDbGllbnRSZWN0O1xuICAgICAgICAgICAgdmFyIHRvb2xQb3NpdGlvbjpSZWFjdC5DU1NQcm9wZXJ0aWVzO1xuICAgICAgICAgICAgaWYoaW1wbCkge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMucmVmc1tMQVlPVVRdICYmIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9ICh0aGlzLnJlZnNbTEFZT1VUXSBhcyBMYXlvdXQpLmdldERPTU5vZGVGcm9tSWQocGF0aC5nZXRQYXRoKCkpO1xuICAgICAgICAgICAgICAgICAgICBpZihub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sUmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sUG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0b29sUmVjdC50b3AgLSByZWN0LnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB0b29sUmVjdC5sZWZ0IC0gcmVjdC5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0b29sUmVjdC5yaWdodCAtIHRvb2xSZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0b29sUmVjdC5ib3R0b20gLSB0b29sUmVjdC50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKDxXZWF2ZVRvb2wgcmVmPXt0b29sTmFtZX0ga2V5PXt0b29sTmFtZX0gdG9vbFBhdGg9e3BhdGh9IHN0eWxlPXt0b29sUG9zaXRpb259XG4gICAgICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9e3RoaXMub25EcmFnT3Zlci5iaW5kKHRoaXMsIHBhdGguZ2V0UGF0aCgpKX0gb25EcmFnU3RhcnQ9e3RoaXMub25EcmFnU3RhcnQuYmluZCh0aGlzLCBwYXRoLmdldFBhdGgoKSl9IG9uRHJhZ0VuZD17dGhpcy5vbkRyYWdFbmQuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgLz4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IHJlZj17KGVsdCkgPT4geyB0aGlzLmVsZW1lbnQgPSBlbHQ7IH19IHN0eWxlPXt7d2lkdGg6IFwiMTAwJVwiLCBoZWlnaHQ6IFwiMTAwJVwiLCBkaXNwbGF5OiBcImZsZXhcIiwgcG9zaXRpb246IFwicmVsYXRpdmVcIn19PlxuICAgICAgICAgICAgICAgICAgICA8TGF5b3V0IGtleT17TEFZT1VUfSByZWY9e0xBWU9VVH0gc3RhdGU9e18uY2xvbmVEZWVwKG5ld1N0YXRlKX0gb25TdGF0ZUNoYW5nZT17dGhpcy5zYXZlU3RhdGUuYmluZCh0aGlzKX0vPlxuICAgICAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICAgICAgICAgIDxUb29sT3ZlcmxheSByZWY9e1RPT0xPVkVSTEFZfS8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGV4cG9ydCBkZWZhdWx0IFdlYXZlTGF5b3V0TWFuYWdlcjtcbiIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvcmVhY3QvcmVhY3QtZG9tLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvcmVhY3QtdmVuZG9yLXByZWZpeC9yZWFjdC12ZW5kb3ItcHJlZml4LmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL3JlYWN0LWJvb3RzdHJhcC9yZWFjdC1ib290c3RyYXAuZC50c1wiLz5cblxuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB1aSBmcm9tIFwiLi9yZWFjdC11aS91aVwiO1xuaW1wb3J0ICogYXMgVmVuZG9yUHJlZml4IGZyb20gXCJyZWFjdC12ZW5kb3ItcHJlZml4XCI7XG5pbXBvcnQgU3RhbmRhcmRMaWIgZnJvbSBcIi4vdXRpbHMvU3RhbmRhcmRMaWJcIjtcbmltcG9ydCB7R2x5cGhpY29ufSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwXCI7XG5pbXBvcnQge0NTU1Byb3BlcnRpZXN9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtJVmlzVG9vbCwgSVZpc1Rvb2xQcm9wcywgSVZpc1Rvb2xTdGF0ZX0gZnJvbSBcIi4vdG9vbHMvSVZpc1Rvb2xcIjtcbmltcG9ydCBUb29sVGlwIGZyb20gXCIuL3Rvb2xzL3Rvb2x0aXBcIjtcbmltcG9ydCB7SVRvb2xUaXBQcm9wcywgSVRvb2xUaXBTdGF0ZX0gZnJvbSBcIi4vdG9vbHMvdG9vbHRpcFwiO1xuXG5jb25zdCB0b29sUmVnaXN0cnk6e1tuYW1lOnN0cmluZ106IEZ1bmN0aW9ufSA9IHt9O1xuXG5kZWNsYXJlIHR5cGUgSVRvb2xUaXAgPSBSZWFjdC5Db21wb25lbnQ8SVRvb2xUaXBQcm9wcywgSVRvb2xUaXBTdGF0ZT47XG5cbmNvbnN0IGdyYWJiZXJTdHlsZTpDU1NQcm9wZXJ0aWVzID0ge1xuICAgIHdpZHRoOiBcIjE2XCIsXG4gICAgaGVpZ2h0OiBcIjE2XCIsXG4gICAgY3Vyc29yOiBcIm1vdmVcIixcbiAgICBiYWNrZ3JvdW5kOiBcInVybChodHRwOi8vcGxhY2Vob2xkLml0LzMyeDMyKVwiXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJUb29sSW1wbGVtZW50YXRpb24oYXNDbGFzc05hbWU6c3RyaW5nLCBqc0NsYXNzOkZ1bmN0aW9uKSB7XG4gICAgdG9vbFJlZ2lzdHJ5W2FzQ2xhc3NOYW1lXSA9IGpzQ2xhc3M7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb29sSW1wbGVtZW50YXRpb24oYXNDbGFzc05hbWU6c3RyaW5nKTpGdW5jdGlvbiB7XG4gICAgcmV0dXJuIHRvb2xSZWdpc3RyeVthc0NsYXNzTmFtZV07XG59XG5cbmludGVyZmFjZSBJV2VhdmVUb29sUHJvcHMgZXh0ZW5kcyBSZWFjdC5Qcm9wczxXZWF2ZVRvb2w+IHtcbiAgICB0b29sUGF0aDpXZWF2ZVBhdGg7XG4gICAgdG9vbENsYXNzPzpzdHJpbmc7XG4gICAgc3R5bGU6Q1NTUHJvcGVydGllcztcbiAgICBvbkRyYWdTdGFydDpSZWFjdC5Nb3VzZUV2ZW50O1xuICAgIG9uRHJhZ0VuZDpSZWFjdC5Nb3VzZUV2ZW50O1xuICAgIG9uRHJhZ092ZXI6UmVhY3QuTW91c2VFdmVudDtcbn1cblxuaW50ZXJmYWNlIElXZWF2ZVRvb2xTdGF0ZSB7XG5cbn1cblxuZXhwb3J0IGNsYXNzIFdlYXZlVG9vbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJV2VhdmVUb29sUHJvcHMsIElXZWF2ZVRvb2xTdGF0ZT4ge1xuXG4gICAgcHJpdmF0ZSB0b29sUGF0aDpXZWF2ZVBhdGg7XG4gICAgcHJpdmF0ZSBUb29sQ2xhc3M6YW55O1xuICAgIHByaXZhdGUgdG9vbDpJVmlzVG9vbDtcbiAgICBwcml2YXRlIHRvb2xXaWR0aDpudW1iZXI7XG4gICAgcHJpdmF0ZSB0b29sSGVpZ2h0Om51bWJlcjtcbiAgICBwcml2YXRlIHRvb2xUaXA6SVRvb2xUaXA7XG4gICAgcHJpdmF0ZSB0aXRsZUJhckhlaWdodDogbnVtYmVyO1xuICAgIHByaXZhdGUgdGl0bGVCYXI6UmVhY3QuQ29tcG9uZW50PElUaXRsZUJhclByb3BzLCBJVGl0bGVCYXJTdGF0ZT47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczpJV2VhdmVUb29sUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnRvb2xQYXRoID0gdGhpcy5wcm9wcy50b29sUGF0aDtcbiAgICAgICAgdmFyIHRvb2xUeXBlOnN0cmluZyA9IHRoaXMudG9vbFBhdGggPyB0aGlzLnRvb2xQYXRoLmdldFR5cGUoKSA6IHRoaXMucHJvcHMudG9vbENsYXNzO1xuICAgICAgICBpZih0b29sVHlwZSA9PT0gXCJ3ZWF2ZS52aXN1YWxpemF0aW9uLnRvb2xzOjpFeHRlcm5hbFRvb2xcIiAmJiB0aGlzLnRvb2xQYXRoLmdldFR5cGUoXCJ0b29sQ2xhc3NcIikpIHtcbiAgICAgICAgICAgIHRvb2xUeXBlID0gdGhpcy50b29sUGF0aC5nZXRTdGF0ZShcInRvb2xDbGFzc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0b29sVHlwZSA9PT0gXCJ3ZWF2ZWpzLmNvcmUuTGlua2FibGVIYXNoTWFwXCIgJiYgdGhpcy50b29sUGF0aC5nZXRUeXBlKFwiY2xhc3NcIikpXG4gICAgICAgICAgICB0b29sVHlwZSA9IHRoaXMudG9vbFBhdGguZ2V0U3RhdGUoXCJjbGFzc1wiKTtcbiAgICAgICAgdGhpcy5Ub29sQ2xhc3MgPSBnZXRUb29sSW1wbGVtZW50YXRpb24odG9vbFR5cGUpO1xuICAgICAgICB0aGlzLnRpdGxlQmFySGVpZ2h0ID0gMjU7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKTp2b2lkIHtcbiAgICAgICAgLy8gaWYodGhpcy50b29sUGF0aCkge1xuICAgICAgICAvLyAgICAgdGhpcy50b29sUGF0aC5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLmZvcmNlVXBkYXRlKTtcbiAgICAgICAgLy8gfVxuICAgIH1cblxuICAgIGdldCB0aXRsZSgpOnN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2wgPyB0aGlzLnRvb2wudGl0bGUgOiBcIlwiO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIHRvb2xIZWlnaHQ6bnVtYmVyID0gdGhpcy5wcm9wcy5zdHlsZSA/IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0IC0gdGhpcy50aXRsZUJhckhlaWdodCA6IDMyMDtcbiAgICAgICAgdmFyIHRvb2xXaWR0aDpudW1iZXIgPSB0aGlzLnByb3BzLnN0eWxlID8gdGhpcy5wcm9wcy5zdHlsZS53aWR0aCA6IDMyMDtcblxuICAgICAgICB2YXIgcmVhY3RUb29sOmFueTtcbiAgICAgICAgaWYgKFJlYWN0LkNvbXBvbmVudC5pc1Byb3RvdHlwZU9mKHRoaXMuVG9vbENsYXNzKSkge1xuICAgICAgICAgICAgcmVhY3RUb29sID0gUmVhY3QuY3JlYXRlRWxlbWVudCh0aGlzLlRvb2xDbGFzcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwidG9vbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY6IChjOklWaXNUb29sKSA9PiB7IHRoaXMudG9vbCA9IGM7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xQYXRoOiB0aGlzLnRvb2xQYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBoZWlnaHQ6IHRvb2xIZWlnaHQsIHdpZHRoOiB0b29sV2lkdGggfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbFRpcDogdGhpcy50b29sVGlwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dWkuVkJveCBzdHlsZT17dGhpcy5wcm9wcy5zdHlsZX0gb25Nb3VzZUVudGVyPXsoKSA9PiB7IHRoaXMudGl0bGVCYXIuc2V0U3RhdGUoeyBzaG93Q29udHJvbHM6IHRydWUgfSk7IH19IG9uTW91c2VMZWF2ZT17KCkgPT4geyB0aGlzLnRpdGxlQmFyLnNldFN0YXRlKHsgc2hvd0NvbnRyb2xzOiBmYWxzZSB9KTsgfX0gb25EcmFnT3Zlcj17dGhpcy5wcm9wcy5vbkRyYWdPdmVyfSBvbkRyYWdFbmQ9e3RoaXMucHJvcHMub25EcmFnRW5kfT5cbiAgICAgICAgICAgICAgICA8VGl0bGVCYXIgcmVmPXsoYzpSZWFjdC5Db21wb25lbnQ8SVRpdGxlQmFyUHJvcHMsIElUaXRsZUJhclN0YXRlPikgPT4geyB0aGlzLnRpdGxlQmFyID0gYzsgfSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXt0aGlzLnByb3BzLm9uRHJhZ1N0YXJ0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZUJhckhlaWdodD17dGhpcy50aXRsZUJhckhlaWdodH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMudGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6IHRvb2xXaWR0aCwgaGVpZ2h0OiB0b29sSGVpZ2h0fX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6IFwiMTAwJVwiLCBoZWlnaHQ6IFwiMTAwJVwiLCBtYXhIZWlnaHQ6IFwiMTAwJVwifX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFjdFRvb2xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDxUb29sVGlwIHJlZj17KGM6UmVhY3QuQ29tcG9uZW50PElUb29sVGlwUHJvcHMsIElUb29sVGlwU3RhdGU+KSA9PiB7IHRoaXMudG9vbFRpcCA9IGMgfX0vPlxuICAgICAgICAgICAgPC91aS5WQm94Pik7XG4gICAgfVxufVxuXG5pbnRlcmZhY2UgSVRpdGxlQmFyUHJvcHMgZXh0ZW5kcyBSZWFjdC5Qcm9wczxUaXRsZUJhcj4ge1xuICAgIG9uRHJhZ1N0YXJ0OlJlYWN0Lk1vdXNlRXZlbnQ7XG4gICAgdGl0bGVCYXJIZWlnaHQ6bnVtYmVyO1xuICAgIHRpdGxlOnN0cmluZztcbn1cblxuaW50ZXJmYWNlIElUaXRsZUJhclN0YXRlIHtcbiAgICBzaG93Q29udHJvbHM6IGJvb2xlYW47XG59XG5cbmNsYXNzIFRpdGxlQmFyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElUaXRsZUJhclByb3BzLCBJVGl0bGVCYXJTdGF0ZT4ge1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6SVRpdGxlQmFyUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgc2hvd0NvbnRyb2xzOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciB3aW5kb3dCYXI6Q1NTUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5wcm9wcy50aXRsZUJhckhlaWdodCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5zdGF0ZS5zaG93Q29udHJvbHMgPyBcIiNmOGY4ZjhcIjogXCJcIlxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciB0aXRsZVN0eWxlOkNTU1Byb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBjdXJzb3I6IFwibW92ZVwiLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnByb3BzLnRpdGxlQmFySGVpZ2h0LFxuICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxuICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgIHRleHRPdmVyZmxvdzogXCJlbGxpcHNpc1wiLFxuICAgICAgICAgICAgcGFkZGluZ1RvcDogXCIzXCJcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdHJhbnNpdGlvbnM6Q1NTUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIHZpc2liaWxpdHk6IHRoaXMuc3RhdGUuc2hvd0NvbnRyb2xzID8gXCJ2aXNpYmxlXCIgOiBcImhpZGRlblwiLFxuICAgICAgICAgICAgb3BhY2l0eTogdGhpcy5zdGF0ZS5zaG93Q29udHJvbHMgPyAwLjcgOiAwLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogdGhpcy5zdGF0ZS5zaG93Q29udHJvbHMgPyBcInZpc2liaWxpeSAwcyAwLjFzLCBvcGFjaXR5IDAuMXMgbGluZWFyXCIgOiBcInZpc2liaWxpdHkgMHMgMC4xcywgb3BhY2l0eSAwLjFzIGxpbmVhclwiXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGxlZnRDb250cm9sczpDU1NQcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgbWFyZ2luTGVmdDogNSxcbiAgICAgICAgICAgIG1hcmdpblRvcDogMixcbiAgICAgICAgICAgIHdpZHRoOiAyMFxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciByaWdodENvbnRyb2xzOkNTU1Byb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBtYXJnaW5Ub3A6IDIsXG4gICAgICAgICAgICB3aWR0aDogMzhcbiAgICAgICAgfTtcblxuICAgICAgICBTdGFuZGFyZExpYi5tZXJnZShsZWZ0Q29udHJvbHMsIHRyYW5zaXRpb25zKTtcbiAgICAgICAgU3RhbmRhcmRMaWIubWVyZ2UocmlnaHRDb250cm9scywgdHJhbnNpdGlvbnMpO1xuXG4gICAgICAgIHJldHVybihcbiAgICAgICAgICAgIDx1aS5IQm94IHJlZj1cImhlYWRlclwiIHN0eWxlPXt3aW5kb3dCYXJ9IGRyYWdnYWJsZT17dHJ1ZX0gb25EcmFnU3RhcnQ9e3RoaXMucHJvcHMub25EcmFnU3RhcnR9PlxuICAgICAgICAgICAgey8qPHVpLkhCb3ggc3R5bGU9e1ZlbmRvclByZWZpeC5wcmVmaXgoe3N0eWxlczogbGVmdENvbnRyb2xzfSkuc3R5bGVzfT5cbiAgICAgICAgICAgIDxHbHlwaGljb24gZ2x5cGg9XCJjb2dcIi8+XG4gICAgICAgICAgICA8L3VpLkhCb3g+Ki99XG4gICAgICAgICAgICA8c3BhbiBzdHlsZT17dGl0bGVTdHlsZX0+e3RoaXMucHJvcHMudGl0bGV9PC9zcGFuPlxuICAgICAgICAgICAgey8qPHVpLkhCb3ggc3R5bGU9e1ZlbmRvclByZWZpeC5wcmVmaXgoe3N0eWxlczogcmlnaHRDb250cm9sc30pLnN0eWxlc30+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7bWFyZ2luUmlnaHQ6IDV9fT5cbiAgICAgICAgICAgIDxHbHlwaGljb24gZ2x5cGg9XCJ1bmNoZWNrZWRcIi8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3ttYXJnaW5SaWdodDogNX19PlxuICAgICAgICAgICAgPEdseXBoaWNvbiBnbHlwaD1cInJlbW92ZVwiLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC91aS5IQm94PiovfVxuICAgICAgICAgICAgPC91aS5IQm94PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2pzemlwL2pzemlwLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvcmVhY3QvcmVhY3QtZG9tLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZS5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3Mvd2VhdmUvd2VhdmVqcy5kLnRzXCIvPlxuXG5pbXBvcnQgV2VhdmVMYXlvdXRNYW5hZ2VyIGZyb20gXCIuL1dlYXZlTGF5b3V0TWFuYWdlclwiO1xuaW1wb3J0IFdlYXZlQzNCYXJjaGFydCBmcm9tIFwiLi90b29scy93ZWF2ZS1jMy1iYXJjaGFydFwiO1xuaW1wb3J0IFdlYXZlQzNTY2F0dGVyUGxvdCBmcm9tIFwiLi90b29scy93ZWF2ZS1jMy1zY2F0dGVycGxvdFwiO1xuaW1wb3J0IFdlYXZlQzNDb2xvckxlZ2VuZCBmcm9tIFwiLi90b29scy93ZWF2ZS1jMy1jb2xvcmxlZ2VuZFwiO1xuaW1wb3J0IFdlYXZlQzNCYXJDaGFydExlZ2VuZCBmcm9tIFwiLi90b29scy93ZWF2ZS1jMy1iYXJjaGFydGxlZ2VuZFwiO1xuaW1wb3J0IFdlYXZlQzNMaW5lQ2hhcnQgZnJvbSBcIi4vdG9vbHMvd2VhdmUtYzMtbGluZWNoYXJ0XCI7XG5pbXBvcnQgV2VhdmVDM1BpZUNoYXJ0IGZyb20gXCIuL3Rvb2xzL3dlYXZlLWMzLXBpZWNoYXJ0XCI7XG5pbXBvcnQgV2VhdmVDM0hpc3RvZ3JhbSBmcm9tIFwiLi90b29scy93ZWF2ZS1jMy1oaXN0b2dyYW1cIjtcbmltcG9ydCBXZWF2ZU9wZW5MYXllcnNNYXAgZnJvbSBcIi4vdG9vbHMvT3BlbkxheWVyc01hcFRvb2xcIjtcbmltcG9ydCBXZWF2ZVJlYWN0VGFibGUgZnJvbSBcIi4vdG9vbHMvd2VhdmUtcmVhY3QtdGFibGVcIjtcbmltcG9ydCBTZXNzaW9uU3RhdGVNZW51VG9vbCBmcm9tIFwiLi90b29scy93ZWF2ZS1zZXNzaW9uLXN0YXRlLW1lbnVcIjtcbmltcG9ydCBTdGFuZGFyZExpYiBmcm9tIFwiLi91dGlscy9TdGFuZGFyZExpYlwiO1xuaW1wb3J0IEpTWmlwIGZyb20gXCJqc3ppcFwiO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcblxuLypnbG9iYWwgV2VhdmUsIHdlYXZlanMqL1xudmFyIHN0dWI6YW55ID0gUmVhY3Q7XG53ZWF2ZWpzLnV0aWwuSlMuSlNaaXAgPSBKU1ppcDtcbi8vIHZhciBXZWF2ZVVJID0ge1xuLy8gICAgIExheW91dDogV2VhdmVMYXlvdXRNYW5hZ2VyLFxuLy8gICAgIEJhcmNoYXJ0OiBXZWF2ZUMzQmFyY2hhcnQsXG4vLyAgICAgU2NhdHRlclBsb3Q6IFdlYXZlQzNTY2F0dGVyUGxvdCxcbi8vICAgICBDb2xvckxlZ2VuZDogV2VhdmVDM0NvbG9yTGVnZW5kLFxuLy8gICAgIExpbmVDaGFydDogV2VhdmVDM0xpbmVDaGFydCxcbi8vICAgICBQaWVDaGFydDogV2VhdmVDM1BpZUNoYXJ0LFxuLy8gICAgIEhpc3RvZ3JhbTogV2VhdmVDM0hpc3RvZ3JhbSxcbi8vICAgICBNYXA6IFdlYXZlT3BlbkxheWVyc01hcCxcbi8vICAgICBEYXRhVGFibGU6IFdlYXZlUmVhY3RUYWJsZSxcbi8vICAgICBNZW51VG9vbDogU2Vzc2lvblN0YXRlTWVudVRvb2wsXG4vLyAgICAgZ2V0VXJsUGFyYW1zOiBTdGFuZGFyZExpYi5nZXRVcmxQYXJhbXMsXG4vLyAgICAgbG9hZExheW91dDogZnVuY3Rpb24od2VhdmUsIGZpbGVOYW1lLCB0YXJnZXRFbHRJZCwgY2FsbGJhY2spIHtcbi8vXG4vLyAgICAgICAgIGZ1bmN0aW9uIHJlbmRlcigpIHtcbi8vICAgICAgICAgICAgIFJlYWN0RE9NLnJlbmRlcihcbi8vICAgICAgICAgICAgICAgICA8V2VhdmVVSS5MYXlvdXQgd2VhdmU9e3dlYXZlfS8+LFxuLy8gICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhcmdldEVsdElkKSxcbi8vICAgICAgICAgICAgICAgICBjYWxsYmFja1xuLy8gICAgICAgICAgICAgKTtcbi8vICAgICAgICAgfVxuLy9cbi8vICAgICAgICAgd2VhdmVqcy5jb3JlLldlYXZlQXJjaGl2ZS5sb2FkVXJsKHdlYXZlLCBmaWxlTmFtZSkudGhlbihyZW5kZXIsIGUgPT4ge1xuLy8gICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKVxuLy8gICAgICAgICB9KTtcbi8vXG4vLyAgICAgfVxuLy8gfTtcbi8vXG4vLyAvLyBuYW1lc3BhY2UgV2VhdmVVSVxuLy8gZXhwb3J0IGRlZmF1bHQgV2VhdmVVSTtcblxuZXhwb3J0IHZhciBMYXlvdXQgPSBXZWF2ZUxheW91dE1hbmFnZXI7XG5leHBvcnQgdmFyIEJhcmNoYXJ0ID0gV2VhdmVDM0JhcmNoYXJ0O1xuZXhwb3J0IHZhciBTY2F0dGVyUGxvdCA9IFdlYXZlQzNTY2F0dGVyUGxvdDtcbmV4cG9ydCB2YXIgQ29sb3JMZWdlbmQgPSBXZWF2ZUMzQ29sb3JMZWdlbmQ7XG5leHBvcnQgdmFyIEJhckNoYXJ0TGVnZW5kID0gV2VhdmVDM0JhckNoYXJ0TGVnZW5kO1xuZXhwb3J0IHZhciBMaW5lQ2hhcnQgPSBXZWF2ZUMzTGluZUNoYXJ0O1xuZXhwb3J0IHZhciBQaWVDaGFydCA9IFdlYXZlQzNQaWVDaGFydDtcbmV4cG9ydCB2YXIgSGlzdG9ncmFtID0gV2VhdmVDM0hpc3RvZ3JhbTtcbmV4cG9ydCB2YXIgTWFwID0gV2VhdmVPcGVuTGF5ZXJzTWFwO1xuZXhwb3J0IHZhciBEYXRhVGFibGUgPSBXZWF2ZVJlYWN0VGFibGU7XG5leHBvcnQgdmFyIE1lbnVUb29sID0gU2Vzc2lvblN0YXRlTWVudVRvb2w7XG5leHBvcnQgdmFyIGdldFVybFBhcmFtcyA9IFN0YW5kYXJkTGliLmdldFVybFBhcmFtcztcblxuZXhwb3J0IHZhciBsb2FkTGF5b3V0ID0gZnVuY3Rpb24od2VhdmU6V2VhdmUsIGZpbGVOYW1lOnN0cmluZywgdGFyZ2V0RWx0SWQ6c3RyaW5nLCBjYWxsYmFjazooKSA9PiB2b2lkKSB7XG5cbiAgICBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIFJlYWN0RE9NLnJlbmRlcihcbiAgICAgICAgICAgIDxMYXlvdXQgd2VhdmU9e3dlYXZlfS8+LFxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0RWx0SWQpLFxuICAgICAgICAgICAgY2FsbGJhY2tcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpZih3ZWF2ZSkge1xuICAgICAgICBpZighZmlsZU5hbWUpIHtcbiAgICAgICAgICAgIHJlbmRlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2VhdmVqcy5jb3JlLldlYXZlQXJjaGl2ZS5sb2FkVXJsKHdlYXZlLCBmaWxlTmFtZSkudGhlbihyZW5kZXIsIChlOkVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiTWlzc2luZyBXZWF2ZSBpbnN0YW5jZSFcIilcbiAgICB9XG59O1xuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0LWJvb3RzdHJhcC9yZWFjdC1ib290c3RyYXAuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1RhYmxlfSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCBUYWJsZUhlYWQgZnJvbSBcIi4vVGFibGVIZWFkXCI7XG5pbXBvcnQgVGFibGVCb2R5IGZyb20gXCIuL1RhYmxlQm9keVwiO1xuaW1wb3J0IHtJUm93fSBmcm9tIFwiLi9UYWJsZVJvd1wiO1xuaW1wb3J0IHtJQ29sdW1uVGl0bGVzfSBmcm9tIFwiLi9UYWJsZUhlYWRcIjtcblxuaW50ZXJmYWNlIElSZWFjdEJvb3RzdHJhcFRhYmxlUHJvcHMgZXh0ZW5kcyBSZWFjdC5Qcm9wczxSZWFjdEJvb3RzdHJhcFRhYmxlPiB7XG4gICAgc3RyaXBlZD86Ym9vbGVhbjtcbiAgICBib3JkZXJlZD86Ym9vbGVhbjtcbiAgICBjb25kZW5zZWQ/OmJvb2xlYW47XG4gICAgaG92ZXI/OmJvb2xlYW47XG4gICAgcm93czpJUm93W107XG4gICAgY29sdW1uVGl0bGVzOklDb2x1bW5UaXRsZXM7XG4gICAgaGVpZ2h0Om51bWJlcnxzdHJpbmc7XG4gICAgc29ydGFibGU/OmJvb2xlYW47XG4gICAgaWRQcm9wZXJ0eTpzdHJpbmc7XG4gICAgc2VsZWN0ZWRJZHM6c3RyaW5nW107XG4gICAgcHJvYmVkSWRzOnN0cmluZ1tdO1xuICAgIG9uUHJvYmU/OihpZDpzdHJpbmdbXSkgPT4gdm9pZDtcbiAgICBvblNlbGVjdGlvbj86KGlkOnN0cmluZ1tdKSA9PiB2b2lkO1xuICAgIHNob3dJZENvbHVtbjpib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgSVJlYWN0Qm9vdFN0cmFwVGFibGVTdGF0ZSB7XG4gICAgcHJvYmVkSWRzPzpzdHJpbmdbXTtcbiAgICBzZWxlY3RlZElkcz86c3RyaW5nW107XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlYWN0Qm9vdHN0cmFwVGFibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SVJlYWN0Qm9vdHN0cmFwVGFibGVQcm9wcywgSVJlYWN0Qm9vdFN0cmFwVGFibGVTdGF0ZT4ge1xuXG4gICAgcHJpdmF0ZSB0YWJsZUhlYWQ6VGFibGVIZWFkO1xuICAgIHByaXZhdGUgdGFibGVCb2R5OlRhYmxlQm9keTtcbiAgICBwcml2YXRlIGtleURvd246Ym9vbGVhbjtcbiAgICBwcml2YXRlIHNoaWZ0RG93bjpib29sZWFuO1xuICAgIHByaXZhdGUgZmlyc3RJbmRleDpudW1iZXI7XG4gICAgcHJpdmF0ZSBzZWNvbmRJbmRleDpudW1iZXI7XG4gICAgcHJpdmF0ZSBsYXN0Q2xpY2tlZDpzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczpJUmVhY3RCb290c3RyYXBUYWJsZVByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHByb2JlZElkczogW10sXG4gICAgICAgICAgICBzZWxlY3RlZElkczogW11cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VPdmVyKGlkOnN0cmluZywgc3RhdHVzOmJvb2xlYW4pIHtcblxuICAgICAgICB2YXIgcHJvYmVkSWRzOnN0cmluZ1tdID0gdGhpcy5zdGF0ZS5wcm9iZWRJZHMuc2xpY2UoMCk7XG5cbiAgICAgICAgLy8gZmluZCB0aGUgc2VsZWN0ZWQgcmVjb3JkIGxvY2F0aW9uXG4gICAgICAgIHZhciBrZXlMb2NhdGlvbjpudW1iZXIgPSBwcm9iZWRJZHMuaW5kZXhPZihpZCk7XG4gICAgICAgIGlmKCFzdGF0dXMgJiYga2V5TG9jYXRpb24gPiAtMSkge1xuICAgICAgICAgICAgcHJvYmVkSWRzLnNwbGljZShrZXlMb2NhdGlvbiwgMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9iZWRJZHMucHVzaChpZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLnByb3BzLm9uUHJvYmUpIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25Qcm9iZShwcm9iZWRJZHMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgcHJvYmVkSWRzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uQ2xpY2soaWQ6c3RyaW5nLCBldmVudDpSZWFjdC5Nb3VzZUV2ZW50KSB7XG4gICAgICAgIHZhciBzZWxlY3RlZElkczpzdHJpbmdbXSA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJZHMuc2xpY2UoMCk7XG5cblxuICAgICAgICAvLyBpbiBzaW5nbGUgc2VsZWN0aW9uIG1vZGUsXG4gICAgICAgIC8vIG9yIGN0cmwvY21kIHNlbGNlY3Rpb24gbW9kZVxuICAgICAgICAvLyBhbHJlYWR5IHNlbGVjdGVkIGtleXMgZ2V0IHVuc2VsZWN0ZWRcblxuICAgICAgICAvLyBmaW5kIHRoZSBzZWxlY3RlZCByZWNvcmQgbG9jYXRpb25cbiAgICAgICAgdmFyIGtleUxvY2F0aW9uOm51bWJlciA9IHNlbGVjdGVkSWRzLmluZGV4T2YoaWQpO1xuXG4gICAgICAgIC8vIG11bHRpcGxlIHNlbGVjdGlvblxuICAgICAgICBpZigoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgdGhlIHJlY29yZCBpcyBhbHJlYWR5IGluIHRoZSBzZWxlY3Rpb25cbiAgICAgICAgICAgIC8vIHdlIHJlbW92ZSBpdFxuICAgICAgICAgICAgaWYoa2V5TG9jYXRpb24gPiAtMSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZElkcy5zcGxpY2Uoa2V5TG9jYXRpb24sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkSWRzLnB1c2goaWQpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmxhc3RDbGlja2VkID0gaWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaGlmdCBzZWxlY3Rpb25cbiAgICAgICAgZWxzZSBpZihldmVudC5zaGlmdEtleSkge1xuICAgICAgICAgICAgc2VsZWN0ZWRJZHMgPSBbXTtcbiAgICAgICAgICAgIGlmKCF0aGlzLmxhc3RDbGlja2VkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhcnQ6bnVtYmVyID0gXy5maW5kSW5kZXgodGhpcy5wcm9wcy5yb3dzLCAocm93OklSb3cpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvd1tcImlkXCJdID09IHRoaXMubGFzdENsaWNrZWQ7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgZW5kOm51bWJlciA9IF8uZmluZEluZGV4KHRoaXMucHJvcHMucm93cywgKHJvdzpJUm93KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByb3dbXCJpZFwiXSA9PSBpZDtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIGlmKHN0YXJ0ID4gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0ZW1wOm51bWJlciA9IHN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICBzdGFydCA9IGVuZDtcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gdGVtcDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmb3IodmFyIGk6bnVtYmVyID0gc3RhcnQ7IGkgPD0gZW5kOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJZHMucHVzaCh0aGlzLnByb3BzLnJvd3NbaV1bXCJpZFwiXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBzaW5nbGUgc2VsZWN0aW9uXG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gaWYgdGhlcmUgd2FzIG9ubHkgb25lIHJlY29yZCBzZWxlY3RlZFxuICAgICAgICAgICAgLy8gYW5kIHdlIGFyZSBjbGlja2luZyBvbiBpdCBhZ2FpbiwgdGhlbiB3ZSB3YW50IHRvXG4gICAgICAgICAgICAvLyBjbGVhciB0aGUgc2VsZWN0aW9uLlxuICAgICAgICAgICAgaWYoc2VsZWN0ZWRJZHMubGVuZ3RoID09IDEgJiYgc2VsZWN0ZWRJZHNbMF0gPT0gaWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJZHMgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RDbGlja2VkID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZElkcyA9IFtpZF07XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0Q2xpY2tlZCA9IGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5wcm9wcy5vblNlbGVjdGlvbikge1xuICAgICAgICAgICAgdGhpcy5wcm9wcy5vblNlbGVjdGlvbihzZWxlY3RlZElkcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHNlbGVjdGVkSWRzXG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgcmVuZGVyKCkge1xuXG4gICAgICAgIHZhciB0YWJsZUNvbnRhaW5lcjpSZWFjdC5DU1NQcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBcImF1dG9cIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMucHJvcHMuaGVpZ2h0XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkSWRzOnN0cmluZ1tdO1xuICAgICAgICB2YXIgcHJvYmVkSWRzOnN0cmluZ1tdO1xuXG4gICAgICAgIGlmKHRoaXMucHJvcHMuc2VsZWN0ZWRJZHMpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkSWRzID0gdGhpcy5wcm9wcy5zZWxlY3RlZElkcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGVjdGVkSWRzID0gdGhpcy5zdGF0ZS5zZWxlY3RlZElkcztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRoaXMucHJvcHMucHJvYmVkSWRzKSB7XG4gICAgICAgICAgICBwcm9iZWRJZHMgPSB0aGlzLnByb3BzLnByb2JlZElkcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb2JlZElkcyA9IHRoaXMuc3RhdGUucHJvYmVkSWRzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3RhYmxlQ29udGFpbmVyfT5cbiAgICAgICAgICAgICAgICA8VGFibGUga2V5PVwidGFibGVcIiByZWY9XCJ0YWJsZVwiIHN0cmlwZWQ9e3RoaXMucHJvcHMuc3RyaXBlZH0gYm9yZGVyZWQ9e3RoaXMucHJvcHMuYm9yZGVyZWR9IGNvbmRlbnNlZD17dGhpcy5wcm9wcy5jb25kZW5zZWR9IGhvdmVyPXt0cnVlfT5cbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlSGVhZCBrZXk9XCJoZWFkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9eyhjOlRhYmxlSGVhZCkgPT4ge3RoaXMudGFibGVIZWFkID0gYzt9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtblRpdGxlcz17dGhpcy5wcm9wcy5jb2x1bW5UaXRsZXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRQcm9wZXJ0eT17dGhpcy5wcm9wcy5pZFByb3BlcnR5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dJZENvbHVtbj17dGhpcy5wcm9wcy5zaG93SWRDb2x1bW59Lz5cbiAgICAgICAgICAgICAgICAgICAgPFRhYmxlQm9keSBrZXk9XCJib2R5XCIgcmVmPXsoYzpUYWJsZUJvZHkpID0+IHt0aGlzLnRhYmxlQm9keSA9IGM7fX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZFByb3BlcnR5PXt0aGlzLnByb3BzLmlkUHJvcGVydHl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9e3RoaXMub25Nb3VzZU92ZXIuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLm9uQ2xpY2suYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3dzPXt0aGlzLnByb3BzLnJvd3N9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRJZHM9e3NlbGVjdGVkSWRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2JlZElkcz17cHJvYmVkSWRzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dJZENvbHVtbj17dGhpcy5wcm9wcy5zaG93SWRDb2x1bW59Lz5cbiAgICAgICAgICAgICAgICA8L1RhYmxlPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0LWJvb3RzdHJhcC9yZWFjdC1ib290c3RyYXAuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1RhYmxlfSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwXCI7XG5pbXBvcnQgVGFibGVSb3cgZnJvbSBcIi4vVGFibGVSb3dcIjtcbmltcG9ydCB7SVJvd30gZnJvbSBcIi4vVGFibGVSb3dcIjtcblxuaW50ZXJmYWNlIElUYWJsZUJvZHlQcm9wcyBleHRlbmRzIFJlYWN0LlByb3BzPFRhYmxlQm9keT4ge1xuICAgIHJvd3M6SVJvd1tdO1xuICAgIGlkUHJvcGVydHk6c3RyaW5nO1xuICAgIHNlbGVjdGVkSWRzOnN0cmluZ1tdO1xuICAgIHByb2JlZElkczpzdHJpbmdbXTtcbiAgICBvbk1vdXNlT3ZlcjooaWQ6c3RyaW5nLCBzdGF0dXM6Ym9vbGVhbikgPT4gdm9pZDtcbiAgICBvbkNsaWNrOihpZDpzdHJpbmcpID0+IHZvaWQ7XG4gICAgc2hvd0lkQ29sdW1uOmJvb2xlYW5cbn1cblxuaW50ZXJmYWNlIElUYWJsZUJvZHlTdGF0ZSB7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGVCb2R5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElUYWJsZUJvZHlQcm9wcywgSVRhYmxlQm9keVN0YXRlPiB7XG5cbiAgICBwcml2YXRlIHRhYmxlUm93czp7W2lkOnN0cmluZ106IFRhYmxlUm93fTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOklUYWJsZUJvZHlQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy50YWJsZVJvd3MgPSB7fTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgfVxuXG4gICAgcmVuZGVyKCk6SlNYLkVsZW1lbnQge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5yb3dzLm1hcCgocm93OklSb3csIGluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxUYWJsZVJvd1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZj17KHRhYmxlUm93OlRhYmxlUm93KSA9PiB7IHRoaXMudGFibGVSb3dzW3Jvd1t0aGlzLnByb3BzLmlkUHJvcGVydHldXSA9IHRhYmxlUm93IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbk1vdXNlT3Zlcj17dGhpcy5wcm9wcy5vbk1vdXNlT3Zlci5iaW5kKHRoaXMsIHJvd1t0aGlzLnByb3BzLmlkUHJvcGVydHldKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLnByb3BzLm9uQ2xpY2suYmluZCh0aGlzLCByb3dbdGhpcy5wcm9wcy5pZFByb3BlcnR5XSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRQcm9wZXJ0eT17dGhpcy5wcm9wcy5pZFByb3BlcnR5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdz17cm93fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2JlZD17dGhpcy5wcm9wcy5wcm9iZWRJZHMuaW5kZXhPZihyb3dbdGhpcy5wcm9wcy5pZFByb3BlcnR5XSkgPiAtMX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZD17dGhpcy5wcm9wcy5zZWxlY3RlZElkcy5pbmRleE9mKHJvd1t0aGlzLnByb3BzLmlkUHJvcGVydHldKSA+IC0xfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dJZENvbHVtbj17dGhpcy5wcm9wcy5zaG93SWRDb2x1bW59XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+O1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0LWJvb3RzdHJhcC9yZWFjdC1ib290c3RyYXAuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1RhYmxlfSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUNvbHVtblRpdGxlcyB7XG4gICAgW2NvbHVtbklkOiBzdHJpbmddIDogc3RyaW5nXG59XG5cbmludGVyZmFjZSBJVGFibGVIZWFkUHJvcHMgZXh0ZW5kcyBSZWFjdC5Qcm9wczxUYWJsZUhlYWQ+IHtcbiAgICBjb2x1bW5UaXRsZXM6SUNvbHVtblRpdGxlcztcbiAgICBzaG93SWRDb2x1bW46Ym9vbGVhbjtcbiAgICBpZFByb3BlcnR5OnN0cmluZztcbn1cblxuaW50ZXJmYWNlIElUYWJsZUhlYWRTdGF0ZSB7XG5cbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGVIZWFkIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElUYWJsZUhlYWRQcm9wcywgSVRhYmxlSGVhZFN0YXRlPiB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczpJVGFibGVIZWFkUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgIH1cblxuICAgIHJlbmRlcigpOkpTWC5FbGVtZW50IHtcblxuICAgICAgICB2YXIgaGVhZGVyczpKU1guRWxlbWVudFtdID0gW107XG5cbiAgICAgICAgdmFyIGtleXM6c3RyaW5nW10gPSBPYmplY3Qua2V5cyh0aGlzLnByb3BzLmNvbHVtblRpdGxlcyk7XG4gICAgICAgIGlmKCF0aGlzLnByb3BzLnNob3dJZENvbHVtbikge1xuICAgICAgICAgICAga2V5cy5zcGxpY2Uoa2V5cy5pbmRleE9mKHRoaXMucHJvcHMuaWRQcm9wZXJ0eSksIDEpO1xuICAgICAgICB9XG4gICAgICAgIGhlYWRlcnMgPSBrZXlzLm1hcCgoY29sdW1uSWQ6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gPHRoIGtleT17Y29sdW1uSWR9Pnt0aGlzLnByb3BzLmNvbHVtblRpdGxlc1tjb2x1bW5JZF19PC90aD47XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dGhlYWQgY2xhc3NOYW1lPVwidGFibGUtaGVhZGVyXCI+XG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QtYm9vdHN0cmFwL3JlYWN0LWJvb3RzdHJhcC5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QtdmVuZG9yLXByZWZpeC9yZWFjdC12ZW5kb3ItcHJlZml4LmQudHNcIi8+XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtUYWJsZX0gZnJvbSBcInJlYWN0LWJvb3RzdHJhcFwiO1xuaW1wb3J0IHtDU1NQcm9wZXJ0aWVzfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBTdGFuZGFyZExpYiBmcm9tIFwiLi4vdXRpbHMvU3RhbmRhcmRMaWJcIjtcbmltcG9ydCAqIGFzIFByZWZpeGVyIGZyb20gXCJyZWFjdC12ZW5kb3ItcHJlZml4XCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcblxuZXhwb3J0IGludGVyZmFjZSBJUm93IHtcbiAgICBbY29sdW1uSWQ6c3RyaW5nXTogc3RyaW5nXG59O1xuXG5pbnRlcmZhY2UgSVRhYmxlUm93UHJvcHMgZXh0ZW5kcyBSZWFjdC5Qcm9wczxUYWJsZVJvdz4ge1xuICAgIHJvdzpJUm93O1xuICAgIGlkUHJvcGVydHk6c3RyaW5nO1xuICAgIG9uTW91c2VPdmVyOigpID0+IHZvaWQ7XG4gICAgb25DbGljazooKSA9PiB2b2lkO1xuICAgIHByb2JlZDpib29sZWFuO1xuICAgIHNlbGVjdGVkOmJvb2xlYW47XG4gICAgc2hvd0lkQ29sdW1uOmJvb2xlYW47XG59XG5cbmludGVyZmFjZSBJVGFibGVSb3dTdGF0ZSB7XG59XG5cbmNvbnN0IGJhc2VTdHlsZTpDU1NQcm9wZXJ0aWVzID0ge1xuICAgIHVzZXJTZWxlY3Q6IFwibm9uZVwiXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUYWJsZVJvdyBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJVGFibGVSb3dQcm9wcywgSVRhYmxlUm93U3RhdGU+IHtcblxuICAgIHByaXZhdGUgc2VsZWN0ZWRTdHlsZTpDU1NQcm9wZXJ0aWVzO1xuICAgIHByaXZhdGUgY2xlYXI6Q1NTUHJvcGVydGllcztcbiAgICBwcml2YXRlIHByb2JlZFN0eWxlOkNTU1Byb3BlcnRpZXM7XG4gICAgcHJpdmF0ZSBwcm9iZWRBbmRTZWxlY3RlZDpDU1NQcm9wZXJ0aWVzO1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6SVRhYmxlUm93UHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0ZWRTdHlsZSA9IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjODBDQ0ZGXCJcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmNsZWFyID0ge307XG5cbiAgICAgICAgdGhpcy5wcm9iZWRBbmRTZWxlY3RlZCA9IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCIjOTlENkZGXCJcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnByb2JlZFN0eWxlID0ge1xuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBcInJnYmEoMTUzLCAyMTQsIDI1NSwgMC40KVwiXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzOklUYWJsZVJvd1Byb3BzLCBuZXh0U3RhdGU6SVRhYmxlUm93U3RhdGUpIHtcbiAgICAgICAgLy8gb25seSB1cGRhdGUgdGhlIHJvdyBpZiB0aGUga2V5IGhhcyBjaGFuZ2VkXG4gICAgICAgIHJldHVybiAodGhpcy5wcm9wcy5zZWxlY3RlZCAhPSBuZXh0UHJvcHMuc2VsZWN0ZWQpIHx8XG4gICAgICAgICAgICAgICAodGhpcy5wcm9wcy5wcm9iZWQgIT0gbmV4dFByb3BzLnByb2JlZCkgfHxcbiAgICAgICAgICAgICAgICghXy5pc0VxdWFsKHRoaXMucHJvcHMucm93LCBuZXh0UHJvcHMucm93KSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCk6SlNYLkVsZW1lbnQge1xuICAgICAgICB2YXIgc3R5bGUgPSB7fVxuICAgICAgICB2YXIgc2VsZWN0ZWQ6Ym9vbGVhbiA9IHRoaXMucHJvcHMuc2VsZWN0ZWQ7XG4gICAgICAgIHZhciBwcm9iZWQ6Ym9vbGVhbiA9IHRoaXMucHJvcHMucHJvYmVkO1xuXG4gICAgICAgIGlmKHNlbGVjdGVkICYmIHByb2JlZCkge1xuICAgICAgICAgICAgc3R5bGUgPSB0aGlzLnByb2JlZEFuZFNlbGVjdGVkO1xuICAgICAgICB9XG4gICAgICAgIGlmKHNlbGVjdGVkICYmICFwcm9iZWQpIHtcbiAgICAgICAgICAgIHN0eWxlID0gdGhpcy5zZWxlY3RlZFN0eWxlO1xuICAgICAgICB9XG4gICAgICAgIGlmKCFzZWxlY3RlZCAmJiBwcm9iZWQpIHtcbiAgICAgICAgICAgIHN0eWxlID0gdGhpcy5wcm9iZWRTdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBpZighc2VsZWN0ZWQgJiYgIXByb2JlZCkge1xuICAgICAgICAgICAgc3R5bGUgPSB0aGlzLmNsZWFyO1xuICAgICAgICB9XG5cbiAgICAgICAgU3RhbmRhcmRMaWIubWVyZ2Uoc3R5bGUsIGJhc2VTdHlsZSk7XG5cbiAgICAgICAgdmFyIGNlbGxzOkpTWC5FbGVtZW50W10gPSBbXTtcblxuICAgICAgICB2YXIga2V5czpzdHJpbmdbXSA9IE9iamVjdC5rZXlzKHRoaXMucHJvcHMucm93KTtcbiAgICAgICAgaWYoIXRoaXMucHJvcHMuc2hvd0lkQ29sdW1uKSB7XG4gICAgICAgICAgICBrZXlzLnNwbGljZShrZXlzLmluZGV4T2YodGhpcy5wcm9wcy5pZFByb3BlcnR5KSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgY2VsbHMgPSBrZXlzLm1hcCgoa2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDx0ZCBrZXk9e2tleX0+e3RoaXMucHJvcHMucm93W2tleV19PC90ZD47XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dHIgc3R5bGU9e1ByZWZpeGVyLnByZWZpeCh7c3R5bGVzOiBzdHlsZX0pLnN0eWxlc30gb25Nb3VzZU92ZXI9e3RoaXMucHJvcHMub25Nb3VzZU92ZXIuYmluZCh0aGlzLCB0cnVlKX0gb25Nb3VzZU91dD17dGhpcy5wcm9wcy5vbk1vdXNlT3Zlci5iaW5kKHRoaXMsIGZhbHNlKX0gb25DbGljaz17dGhpcy5wcm9wcy5vbkNsaWNrLmJpbmQodGhpcyl9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY2VsbHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICApXG4gICAgfVxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC1kb20uZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0LXZlbmRvci1wcmVmaXgvcmVhY3QtdmVuZG9yLXByZWZpeC5kLnRzXCIvPlxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0ICogYXMgVmVuZG9yUHJlZml4IGZyb20gXCJyZWFjdC12ZW5kb3ItcHJlZml4XCI7XG5pbXBvcnQgU3RhbmRhcmRMaWIgZnJvbSBcIi4uL3V0aWxzL1N0YW5kYXJkTGliXCI7XG5pbXBvcnQgUmVzaXplciBmcm9tIFwiLi9SZXNpemVyXCI7XG5pbXBvcnQgUmVzaXplck92ZXJsYXkgZnJvbSBcIi4vUmVzaXplck92ZXJsYXlcIjtcblxuY29uc3QgUkVTSVpFUk9WRVJMQVk6c3RyaW5nID0gXCJyZXNpemVyXCI7XG5jb25zdCBIT1JJWk9OVEFMOnN0cmluZyA9IFwiaG9yaXpvbnRhbFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIExheW91dFN0YXRlIHtcbiAgICBpZD86IHN0cmluZ1tdO1xuICAgIGNoaWxkcmVuPzogTGF5b3V0U3RhdGVbXTtcbiAgICBkaXJlY3Rpb24/OiBzdHJpbmc7XG4gICAgZmxleD86IG51bWJlclxufVxuXG5leHBvcnQgaW50ZXJmYWNlIExheW91dFByb3BzIGV4dGVuZHMgUmVhY3QuUHJvcHM8TGF5b3V0PiB7XG4gICAgc3RhdGU6IExheW91dFN0YXRlO1xuICAgIG9uU3RhdGVDaGFuZ2U6IEZ1bmN0aW9uO1xuICAgIHBhbmUxPzogc3RyaW5nO1xuICAgIHBhbmUyPzpzdHJpbmc7XG4gICAgd2VhdmU/OiBhbnlcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGF5b3V0IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PExheW91dFByb3BzLCBMYXlvdXRTdGF0ZT4ge1xuXG4gICAgcHVibGljIHN0YXRlOkxheW91dFN0YXRlO1xuXG4gICAgcHJpdmF0ZSBtaW5TaXplOiBudW1iZXI7XG4gICAgcHJpdmF0ZSBkcmFnZ2luZzogYm9vbGVhbjtcblxuICAgIHByaXZhdGUgYm91bmRNb3VzZVVwOiBhbnk7XG4gICAgcHJpdmF0ZSBib3VuZE1vdXNlRG93bjogYW55O1xuICAgIHByaXZhdGUgYm91bmRNb3VzZU1vdmU6IGFueTtcblxuICAgIHByaXZhdGUgcGFuZWxEcmFnZ2luZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50O1xuXG4gICAgcHJpdmF0ZSBjaGlsZE5hbWVzOnN0cmluZ1tdO1xuICAgIHByaXZhdGUgcmVzaXplck5hbWVzOnN0cmluZ1tdO1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6IExheW91dFByb3BzLCBzdGF0ZTogTGF5b3V0U3RhdGUpIHtcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0YXRlKTtcbiAgICAgICAgdmFyIHBzID0gcHJvcHMuc3RhdGUgfHwge307XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7aWQ6IHBzLmlkLCBkaXJlY3Rpb246IHBzLmRpcmVjdGlvbiwgY2hpbGRyZW46IHBzLmNoaWxkcmVuLCBmbGV4OiBwcy5mbGV4fTtcbiAgICAgICAgdGhpcy5taW5TaXplID0gMTY7XG4gICAgICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpOiB2b2lkIHtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMuYm91bmRNb3VzZVVwID0gdGhpcy5vbk1vdXNlVXAuYmluZCh0aGlzKSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuYm91bmRNb3VzZURvd24gPSB0aGlzLm9uTW91c2VEb3duLmJpbmQodGhpcykpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLmJvdW5kTW91c2VNb3ZlID0gdGhpcy5vbk1vdXNlTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wczogTGF5b3V0UHJvcHMpOiB2b2lkIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoU3RhbmRhcmRMaWIuaW5jbHVkZU1pc3NpbmdQcm9wZXJ0eVBsYWNlaG9sZGVycyh0aGlzLnN0YXRlLCBuZXh0UHJvcHMuc3RhdGUpKTtcbiAgICB9XG5cbiAgICBjb21wb2VuZW50V2lsbFVubW91bnQoKTogdm9pZCB7XG4gICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuYm91bmRNb3VzZURvd24pO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5ib3VuZE1vdXNlVXApO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlTW92ZVwiLCB0aGlzLmJvdW5kTW91c2VNb3ZlKTtcbiAgICB9XG5cbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGUobmV4dFByb3BzOkxheW91dFByb3BzLCBuZXh0U3RhdGU6TGF5b3V0U3RhdGUpOiBib29sZWFuIHtcbiAgICAgIHJldHVybiAhXy5pc0VxdWFsKHRoaXMuc3RhdGUsIG5leHRTdGF0ZSkgfHwgIV8uaXNFcXVhbCh0aGlzLnN0YXRlLCBuZXh0UHJvcHMuc3RhdGUpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpOnZvaWQge1xuICAgICAgaWYodGhpcy5wcm9wcy5vblN0YXRlQ2hhbmdlICYmIHRoaXMuc3RhdGUpIHtcbiAgICAgICAgdGhpcy5wcm9wcy5vblN0YXRlQ2hhbmdlKHRoaXMuc3RhdGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRET01Ob2RlRnJvbUlkIChpZDpzdHJpbmdbXSk6IEVsZW1lbnQge1xuICAgICAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5nZXRDb21wb25lbnRGcm9tSWQoaWQpO1xuICAgICAgICBpZihjb21wb25lbnQpIHtcbiAgICAgICAgICByZXR1cm4gY29tcG9uZW50LmVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldENvbXBvbmVudEZyb21JZCAoaWQ6c3RyaW5nW10pOiBMYXlvdXQge1xuICAgICAgaWYodGhpcy5zdGF0ZS5pZCAmJiBfLmlzRXF1YWwodGhpcy5zdGF0ZS5pZCwgaWQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yKHZhciBpOm51bWJlciA9IDA7IGkgPCB0aGlzLmNoaWxkTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgY29tcG9uZW50OiBMYXlvdXQgPSAodGhpcy5yZWZzW3RoaXMuY2hpbGROYW1lc1tpXV0gYXMgTGF5b3V0KS5nZXRDb21wb25lbnRGcm9tSWQoaWQpO1xuICAgICAgICAgIGlmKGNvbXBvbmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbXBvbmVudDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cblxuXG4gICAgcHJpdmF0ZSBvbk1vdXNlRG93biAoZXZlbnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICAgIHRoaXMucmVzaXplck5hbWVzLmZvckVhY2goKHJlc2l6ZXJOYW1lOnN0cmluZykgPT4ge1xuICAgICAgICAgIHZhciByZXNpemVyOlJlc2l6ZXIgPSB0aGlzLnJlZnNbcmVzaXplck5hbWVdIGFzIFJlc2l6ZXI7XG4gICAgICAgICAgaWYocmVzaXplciAmJiByZXNpemVyLnN0YXRlICYmIHJlc2l6ZXIuc3RhdGUuYWN0aXZlKSB7XG4gICAgICAgICAgICB2YXIgb3ZlcmxheVJhbmdlOm51bWJlcltdID0gdGhpcy5nZXRSZXNpemVyUmFuZ2UocmVzaXplcik7XG4gICAgICAgICAgICBvdmVybGF5UmFuZ2VbMF0gKz0gdGhpcy5taW5TaXplO1xuICAgICAgICAgICAgb3ZlcmxheVJhbmdlWzFdIC09IHRoaXMubWluU2l6ZTtcbiAgICAgICAgICAgICh0aGlzLnJlZnNbUkVTSVpFUk9WRVJMQVldIGFzIFJlc2l6ZXJPdmVybGF5KS5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgIGFjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgcmFuZ2U6IG92ZXJsYXlSYW5nZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIG9uTW91c2VNb3ZlKGV2ZW50Ok1vdXNlRXZlbnQpOnZvaWQge1xuXG4gICAgfVxuXG4gICAgZ2V0UmVzaXplclJhbmdlKHJlc2l6ZXI6UmVzaXplcik6IG51bWJlcltdIHtcbiAgICAgIHZhciBkaXJlY3Rpb246c3RyaW5nID0gcmVzaXplci5wcm9wcy5kaXJlY3Rpb247XG4gICAgICB2YXIgcGFuZTE6TGF5b3V0ID0gdGhpcy5yZWZzW3Jlc2l6ZXIucHJvcHMucGFuZTFdIGFzIExheW91dDtcbiAgICAgIHZhciBwYW5lMjpMYXlvdXQgPSB0aGlzLnJlZnNbcmVzaXplci5wcm9wcy5wYW5lMl0gYXMgTGF5b3V0O1xuXG4gICAgICB2YXIgZWxlbWVudDE6SFRNTEVsZW1lbnQgPSBSZWFjdERPTS5maW5kRE9NTm9kZShwYW5lMSkgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICB2YXIgZWxlbWVudDI6SFRNTEVsZW1lbnQgPSBSZWFjdERPTS5maW5kRE9NTm9kZShwYW5lMikgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAgIHZhciByZWN0OkNsaWVudFJlY3QgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgcGFnZUxlZnQ6bnVtYmVyID0gd2luZG93LnBhZ2VYT2Zmc2V0ICsgcmVjdC5sZWZ0O1xuICAgICAgdmFyIHBhZ2VUb3A6bnVtYmVyID0gd2luZG93LnBhZ2VZT2Zmc2V0ICsgcmVjdC50b3A7XG5cbiAgICAgIGlmKGRpcmVjdGlvbiA9PT0gSE9SSVpPTlRBTCkge1xuICAgICAgICByZXR1cm4gW2VsZW1lbnQxLm9mZnNldExlZnQgKyBwYWdlTGVmdCwgZWxlbWVudDIub2Zmc2V0TGVmdCArIGVsZW1lbnQyLmNsaWVudFdpZHRoICsgcGFnZUxlZnRdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtlbGVtZW50MS5vZmZzZXRUb3AgKyBwYWdlVG9wLCBlbGVtZW50Mi5vZmZzZXRUb3AgKyBlbGVtZW50Mi5jbGllbnRIZWlnaHQgKyBwYWdlVG9wXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VVcCAoZXZlbnQ6TW91c2VFdmVudCkge1xuICAgICAgICB2YXIgbmV3U3RhdGU6TGF5b3V0U3RhdGUgPSBfLmNsb25lRGVlcCh0aGlzLnN0YXRlKTtcblxuICAgICAgICB0aGlzLnJlc2l6ZXJOYW1lcy5mb3JFYWNoKHJlc2l6ZXJOYW1lID0+IHtcbiAgICAgICAgICAgIHZhciByZXNpemVyOlJlc2l6ZXIgPSB0aGlzLnJlZnNbcmVzaXplck5hbWVdIGFzIFJlc2l6ZXI7XG4gICAgICAgICAgICB2YXIgcmVzaXplck92ZXJsYXk6UmVzaXplck92ZXJsYXkgPSB0aGlzLnJlZnNbUkVTSVpFUk9WRVJMQVldIGFzIFJlc2l6ZXJPdmVybGF5O1xuXG4gICAgICAgICAgICBpZiAocmVzaXplciAmJiByZXNpemVyLnN0YXRlICYmIHJlc2l6ZXIuc3RhdGUuYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJhbmdlOm51bWJlcltdID0gdGhpcy5nZXRSZXNpemVyUmFuZ2UocmVzaXplcik7XG4gICAgICAgICAgICAgICAgdmFyIGJlZ2luOm51bWJlciA9IHJhbmdlWzBdO1xuICAgICAgICAgICAgICAgIHZhciBlbmQ6bnVtYmVyID0gcmFuZ2VbMV07XG4gICAgICAgICAgICAgICAgdmFyIG1vdXNlUG9zOm51bWJlciA9IHRoaXMuc3RhdGUuZGlyZWN0aW9uID09PSBIT1JJWk9OVEFMID8gZXZlbnQucGFnZVggOiBldmVudC5wYWdlWTtcbiAgICAgICAgICAgICAgICB2YXIgc2l6ZTpudW1iZXIgPSB0aGlzLnN0YXRlLmRpcmVjdGlvbiA9PT0gSE9SSVpPTlRBTCA/IHRoaXMuZWxlbWVudC5jbGllbnRXaWR0aCA6IHRoaXMuZWxlbWVudC5jbGllbnRIZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICBtb3VzZVBvcyA9IE1hdGgubWF4KGJlZ2luICsgdGhpcy5taW5TaXplLCBNYXRoLm1pbihtb3VzZVBvcywgZW5kIC0gdGhpcy5taW5TaXplKSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgcmVmMTpzdHJpbmcgPSByZXNpemVyLnByb3BzLnBhbmUxO1xuICAgICAgICAgICAgICAgIHZhciByZWYyOnN0cmluZyA9IHJlc2l6ZXIucHJvcHMucGFuZTI7XG5cbiAgICAgICAgICAgICAgICB2YXIgcGFuZTE6IExheW91dCA9IHRoaXMucmVmc1tyZWYxXSBhcyBMYXlvdXQ7XG4gICAgICAgICAgICAgICAgdmFyIHBhbmUyOiBMYXlvdXQgPSB0aGlzLnJlZnNbcmVmMl0gYXMgTGF5b3V0O1xuXG5cbiAgICAgICAgICAgICAgICB2YXIgaW5kZXgxOm51bWJlciA9IHRoaXMuY2hpbGROYW1lcy5pbmRleE9mKHJlZjEpO1xuICAgICAgICAgICAgICAgIHZhciBpbmRleDI6bnVtYmVyID0gdGhpcy5jaGlsZE5hbWVzLmluZGV4T2YocmVmMik7XG5cbiAgICAgICAgICAgICAgICB2YXIgZmxleDE6bnVtYmVyID0gKG1vdXNlUG9zIC0gYmVnaW4pIC8gc2l6ZTtcbiAgICAgICAgICAgICAgICB2YXIgZmxleDI6IG51bWJlciA9IChlbmQgLSBtb3VzZVBvcykgLyBzaXplO1xuXG4gICAgICAgICAgICAgICAgbmV3U3RhdGUuY2hpbGRyZW5baW5kZXgxXS5mbGV4ID0gZmxleDE7XG4gICAgICAgICAgICAgICAgbmV3U3RhdGUuY2hpbGRyZW5baW5kZXgyXS5mbGV4ID0gZmxleDI7XG5cbiAgICAgICAgICAgICAgICBwYW5lMS5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgZmxleDogZmxleDFcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHBhbmUyLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgZmxleDogZmxleDJcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHJlc2l6ZXIuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXNpemVyT3ZlcmxheS5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKG5ld1N0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucGFuZWxEcmFnZ2luZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGhhbmRsZVN0YXRlQ2hhbmdlKGNoaWxkUmVmOnN0cmluZywgbmV3U3RhdGU6TGF5b3V0U3RhdGUpOiB2b2lkIHtcbiAgICAgICAgdmFyIHN0YXRlQ29weTpMYXlvdXRTdGF0ZSA9IF8uY2xvbmVEZWVwKHRoaXMuc3RhdGUpO1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmNoaWxkTmFtZXMuaW5kZXhPZihjaGlsZFJlZik7XG5cbiAgICAgICAgc3RhdGVDb3B5LmNoaWxkcmVuW2luZGV4XSA9IG5ld1N0YXRlO1xuICAgICAgICB0aGlzLnNldFN0YXRlKHN0YXRlQ29weSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLmNoaWxkTmFtZXMgPSBbXTtcbiAgICAgICAgdGhpcy5yZXNpemVyTmFtZXMgPSBbXTtcbiAgICAgICAgdmFyIHN0eWxlOmFueSA9IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiZmxleFwiLFxuICAgICAgICAgICAgZmxleDogdGhpcy5zdGF0ZS5mbGV4LFxuICAgICAgICAgICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICAgICAgICAgIG91dGxpbmU6IFwibm9uZVwiLFxuICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIixcbiAgICAgICAgICAgIGZsZXhEaXJlY3Rpb246IHRoaXMuc3RhdGUuZGlyZWN0aW9uID09PSBIT1JJWk9OVEFMID8gXCJyb3dcIiA6IFwiY29sdW1uXCJcbiAgICAgICAgfTtcblxuICAgICAgICBpZih0aGlzLnN0YXRlLmRpcmVjdGlvbiA9PT0gSE9SSVpPTlRBTCkge1xuICAgICAgICAgIHN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0eWxlLndpZHRoID0gXCIxMDAlXCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5jaGlsZHJlbiAmJiB0aGlzLnN0YXRlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgdmFyIG5ld0NoaWxkcmVuOkpTWC5FbGVtZW50W10gPSBuZXcgQXJyYXkodGhpcy5zdGF0ZS5jaGlsZHJlbi5sZW5ndGggKiAyIC0gMSk7XG5cbiAgICAgICAgICAgdGhpcy5zdGF0ZS5jaGlsZHJlbi5mb3JFYWNoKChjaGlsZFN0YXRlOkxheW91dFN0YXRlLCBpOm51bWJlcikgPT4ge1xuICAgICAgICAgICAgICB2YXIgcmVmOnN0cmluZyA9IFwiY2hpbGRcIiArIGk7XG4gICAgICAgICAgICAgIHRoaXMuY2hpbGROYW1lc1tpXSA9IHJlZjtcbiAgICAgICAgICAgICAgbmV3Q2hpbGRyZW5baSAqIDJdID0gPExheW91dCBvblN0YXRlQ2hhbmdlPXt0aGlzLmhhbmRsZVN0YXRlQ2hhbmdlLmJpbmQodGhpcywgcmVmKX0gcmVmPXtyZWZ9IHN0YXRlPXtjaGlsZFN0YXRlfSBrZXk9e2kgKiAyfS8+O1xuICAgICAgICAgICB9KTtcblxuICAgICAgICAgICB2YXIgaTpudW1iZXI7XG4gICAgICAgICAgIGZvcihpID0gMTsgaSA8IG5ld0NoaWxkcmVuLmxlbmd0aCAtIDE7IGkgKz0gMikge1xuICAgICAgICAgICAgIHZhciByZXNpemVyTmFtZTpzdHJpbmcgPSBcInJlc2l6ZXJcIiArIChpIC8gMik7XG4gICAgICAgICAgICAgdGhpcy5yZXNpemVyTmFtZXMucHVzaChyZXNpemVyTmFtZSk7XG4gICAgICAgICAgICAgdmFyIHJlc2l6ZXI6SlNYLkVsZW1lbnQgPSA8UmVzaXplciByZWY9e3Jlc2l6ZXJOYW1lfSBrZXk9e2l9IGRpcmVjdGlvbj17dGhpcy5zdGF0ZS5kaXJlY3Rpb259IHBhbmUxPXtuZXdDaGlsZHJlbltpIC0gMV0ucmVmIGFzIHN0cmluZ30gcGFuZTI9e25ld0NoaWxkcmVuW2kgKyAxXS5yZWYgYXMgc3RyaW5nfS8+O1xuICAgICAgICAgICAgIG5ld0NoaWxkcmVuW2ldID0gcmVzaXplcjtcbiAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHByZWZpeGVkOmFueSA9IFZlbmRvclByZWZpeC5wcmVmaXgoe3N0eWxlczogc3R5bGV9KTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiByZWY9eyhlbHQ6RWxlbWVudCkgPT4geyB0aGlzLmVsZW1lbnQgPSBlbHQ7IH19IHN0eWxlPXtwcmVmaXhlZC5zdHlsZXN9PlxuICAgICAgICAgICAgICAgIHtuZXdDaGlsZHJlbn1cbiAgICAgICAgICAgICAgICA8UmVzaXplck92ZXJsYXkgcmVmPXtSRVNJWkVST1ZFUkxBWX0ga2V5PXtSRVNJWkVST1ZFUkxBWX0gZGlyZWN0aW9uPXt0aGlzLnN0YXRlLmRpcmVjdGlvbn0vPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC1kb20uZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0LXZlbmRvci1wcmVmaXgvcmVhY3QtdmVuZG9yLXByZWZpeC5kLnRzXCIvPlxuXG5pbXBvcnQgKiBhcyBWZW5kb3JQcmVmaXggZnJvbSBcInJlYWN0LXZlbmRvci1wcmVmaXhcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IFN0YW5kYXJkTGliIGZyb20gXCIuLi91dGlscy9TdGFuZGFyZExpYlwiO1xuXG5jb25zdCBIT1JJWk9OVEFMOiBzdHJpbmcgPSBcImhvcml6b250YWxcIjtcblxudmFyIHJlc2l6ZXJTdHlsZTogYW55ID0ge307XG5cbnJlc2l6ZXJTdHlsZS5iYXNpYyA9IHtcblx0YmFja2dyb3VuZDogXCIjMDAwXCIsXG4gICAgb3BhY2l0eTogLjEsXG4gICAgekluZGV4OiAxLFxuICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgYmFja2dyb3VuZENsaXA6IFwicGFkZGluZ1wiXG59O1xuXG5yZXNpemVyU3R5bGUudmVydGljYWwgPSB7XG4gICAgaGVpZ2h0OiBcIjRweFwiLFxuICAgIGN1cnNvcjogXCJyb3ctcmVzaXplXCIsXG4gICAgd2lkdGg6IFwiMTAwJVwiXG59O1xuXG5yZXNpemVyU3R5bGUuaG9yaXpvbnRhbCA9IHtcbiAgICB3aWR0aDogXCI0cHhcIixcbiAgICBjdXJzb3I6IFwiY29sLXJlc2l6ZVwiLFxuICAgIGhlaWdodDogXCIxMDAlXCJcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJlc2l6ZXJQcm9wcyBleHRlbmRzIFJlYWN0LlByb3BzPFJlc2l6ZXI+IHtcblx0cmVmOiBzdHJpbmc7XG5cdGtleTogbnVtYmVyO1xuXHRkaXJlY3Rpb246IHN0cmluZztcblx0cGFuZTE6IHN0cmluZztcblx0cGFuZTI6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUmVzaXplclN0YXRlIHtcblx0YWN0aXZlPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzaXplciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJUmVzaXplclByb3BzLCBJUmVzaXplclN0YXRlPiB7XG5cblx0XHRwcml2YXRlIGVsZW1lbnQ6RWxlbWVudDtcblxuXHRcdHByaXZhdGUgYm91bmRNb3VzZURvd246YW55O1xuXG5cdFx0Y29uc3RydWN0b3IocHJvcHM6SVJlc2l6ZXJQcm9wcykge1xuXHRcdFx0c3VwZXIocHJvcHMpO1xuXHRcdFx0dGhpcy5zdGF0ZSA9IHtcblx0XHRcdFx0YWN0aXZlOiBmYWxzZVxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRjb21wb25lbnREaWRNb3VudCAoKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmJvdW5kTW91c2VEb3duID0gdGhpcy5vbk1vdXNlRG93bi5iaW5kKHRoaXMpKTtcblx0XHR9XG5cblx0XHRjb21wb25lbnRXaWxsVW5tb3VudCAoKSB7XG5cdFx0XHR0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmJvdW5kTW91c2VEb3duKTtcblx0XHR9XG5cblx0XHRvbk1vdXNlRG93biAoKSB7XG5cdFx0XHR0aGlzLnNldFN0YXRlKHtcblx0XHRcdFx0YWN0aXZlOnRydWVcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJlbmRlcigpIHtcblx0XHRcdHZhciBkaXJlY3Rpb246c3RyaW5nID0gdGhpcy5wcm9wcy5kaXJlY3Rpb247XG5cdFx0XHR2YXIgc3R5bGU6YW55ID0gcmVzaXplclN0eWxlLmJhc2ljO1xuXG5cdFx0XHRTdGFuZGFyZExpYi5tZXJnZShzdHlsZSwgcmVzaXplclN0eWxlW2RpcmVjdGlvbl0pO1xuXG5cdFx0XHR2YXIgcHJlZml4ZWQgPSBWZW5kb3JQcmVmaXgucHJlZml4KHtzdHlsZXM6IHN0eWxlfSk7XG5cdFx0XHRyZXR1cm4gPHNwYW4gcmVmPXsoZWx0OkVsZW1lbnQpID0+IHsgdGhpcy5lbGVtZW50ID0gZWx0IH19IHN0eWxlPXtwcmVmaXhlZC5zdHlsZXN9Lz47XG5cdFx0fVxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiIC8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC12ZW5kb3ItcHJlZml4L3JlYWN0LXZlbmRvci1wcmVmaXguZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LWRvbS5kLnRzXCIvPlxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCAqIGFzIFZlbmRvclByZWZpeCBmcm9tIFwicmVhY3QtdmVuZG9yLXByZWZpeFwiO1xuaW1wb3J0IFN0YW5kYXJkTGliIGZyb20gXCIuLi91dGlscy9TdGFuZGFyZExpYlwiO1xuY29uc3QgSE9SSVpPTlRBTDogc3RyaW5nID0gXCJob3Jpem9udGFsXCI7XG5cbmNvbnN0IG1vdXNlZXZlbnRzOnN0cmluZ1tdID0gW1wibW91c2VvdmVyXCIsIFwibW91c2VvdXRcIiwgXCJtb3VzZWxlYXZlXCJdO1xuXG52YXIgcmVzaXplclN0eWxlOmFueSA9IHt9O1xuXG5yZXNpemVyU3R5bGUuYmFzaWMgPSB7XG4gICAgYmFja2dyb3VuZDogXCIjMDAwXCIsXG4gICAgb3BhY2l0eTogLjMsXG4gICAgekluZGV4OiAxLFxuICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgYmFja2dyb3VuZENsaXA6IFwicGFkZGluZ1wiLFxuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCJcbn07XG5cbnJlc2l6ZXJTdHlsZS52ZXJ0aWNhbCA9IHtcbiAgICBoZWlnaHQ6IFwiNHB4XCIsXG4gICAgY3Vyc29yOiBcInJvdy1yZXNpemVcIixcbiAgICB3aWR0aDogXCIxMDAlXCJcbn07XG5cbnJlc2l6ZXJTdHlsZS5ob3Jpem9udGFsID0ge1xuICAgIHdpZHRoOiBcIjRweFwiLFxuICAgIGN1cnNvcjogXCJjb2wtcmVzaXplXCIsXG4gICAgaGVpZ2h0OiBcIjEwMCVcIlxufTtcblxuZXhwb3J0IGludGVyZmFjZSBJUmVzaXplck92ZXJsYXlQcm9wcyBleHRlbmRzIFJlYWN0LlByb3BzPFJlc2l6ZXJPdmVybGF5PiB7XG4gICAgcmVmOiBzdHJpbmc7XG4gICAgZGlyZWN0aW9uOiBzdHJpbmdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJUmVzaXplck92ZXJsYXlTdGF0ZSB7XG4gICAgYWN0aXZlPzogYm9vbGVhbjtcbiAgICByYW5nZT86IG51bWJlcltdO1xuICAgIHg/OiBudW1iZXI7XG4gICAgeT86IG51bWJlcjtcbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzaXplck92ZXJsYXkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SVJlc2l6ZXJPdmVybGF5UHJvcHMsIElSZXNpemVyT3ZlcmxheVN0YXRlPiB7XG5cbiAgICBwcml2YXRlIGVsZW1lbnQ6IEVsZW1lbnQ7XG4gICAgcHVibGljIHN0YXRlOiBJUmVzaXplck92ZXJsYXlTdGF0ZTtcblxuICAgIHByaXZhdGUgX29uTW91c2VNb3ZlOiBFdmVudExpc3RlbmVyO1xuICAgIHByaXZhdGUgX3N0b3BFdmVudFByb3BhZ2F0aW9uOiBFdmVudExpc3RlbmVyO1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6IElSZXNpemVyT3ZlcmxheVByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKVxuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgIGFjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgcmFuZ2U6IFtdLFxuICAgICAgICAgIHg6IE5hTixcbiAgICAgICAgICB5OiBOYU5cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vbk1vdXNlTW92ZSA9IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKSwgdHJ1ZSk7XG4gICAgICAgIG1vdXNlZXZlbnRzLmZvckVhY2goKG1vdXNlZXZlbnQ6IHN0cmluZykgPT4gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihtb3VzZWV2ZW50LCB0aGlzLl9zdG9wRXZlbnRQcm9wYWdhdGlvbiA9IHRoaXMuc3RvcEV2ZW50UHJvcGFnYXRpb24uYmluZCh0aGlzKSwgdHJ1ZSkpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMuX29uTW91c2VNb3ZlKVxuICAgICAgICBtb3VzZWV2ZW50cy5mb3JFYWNoKChtb3VzZWV2ZW50KSA9PiBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKG1vdXNlZXZlbnQsIHRoaXMuX3N0b3BFdmVudFByb3BhZ2F0aW9uKSk7XG4gICAgfVxuXG4gICAgc3RvcEV2ZW50UHJvcGFnYXRpb24oZXZlbnQ6IEV2ZW50KSB7XG4gICAgICAgIGlmKHRoaXMuc3RhdGUuYWN0aXZlKSB7XG4gICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VNb3ZlKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmKHRoaXMuc3RhdGUuYWN0aXZlKSB7XG4gICAgICAgICAgICBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHZhciBjb250YWluZXI6RWxlbWVudCA9IHRoaXMuZWxlbWVudC5wYXJlbnROb2RlIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgICB2YXIgcmVjdDpDbGllbnRSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgdmFyIGxlZnQ6IG51bWJlciA9IHdpbmRvdy5wYWdlWE9mZnNldCArIHJlY3QubGVmdDtcbiAgICAgICAgICAgIHZhciB0b3A6IG51bWJlciA9IHdpbmRvdy5wYWdlWU9mZnNldCArIHJlY3QudG9wO1xuICAgICAgICAgICAgdmFyIG1vdXNlUG9zOiBudW1iZXIgPSB0aGlzLnByb3BzLmRpcmVjdGlvbiA9PT0gSE9SSVpPTlRBTCA/IGV2ZW50LnBhZ2VYIDogZXZlbnQucGFnZVk7XG5cbiAgICAgICAgICAgIG1vdXNlUG9zID0gTWF0aC5tYXgodGhpcy5zdGF0ZS5yYW5nZVswXSwgTWF0aC5taW4obW91c2VQb3MsIHRoaXMuc3RhdGUucmFuZ2VbMV0pKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcHMuZGlyZWN0aW9uID09PSBIT1JJWk9OVEFMKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIHg6IG1vdXNlUG9zIC0gbGVmdCxcbiAgICAgICAgICAgICAgICAgICAgeTogTmFOXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB4OiBOYU4sXG4gICAgICAgICAgICAgICAgICAgIHk6IG1vdXNlUG9zIC0gdG9wXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBkaXJlY3Rpb246IHN0cmluZyA9IHRoaXMucHJvcHMuZGlyZWN0aW9uO1xuICAgICAgICB2YXIgc3R5bGU6YW55ID0ge307XG5cbiAgICAgICAgU3RhbmRhcmRMaWIubWVyZ2Uoc3R5bGUsIHJlc2l6ZXJTdHlsZS5iYXNpYyk7XG4gICAgICAgIFN0YW5kYXJkTGliLm1lcmdlKHN0eWxlLCByZXNpemVyU3R5bGVbZGlyZWN0aW9uXSk7XG5cbiAgICAgICAgaWYodGhpcy5zdGF0ZS5hY3RpdmUpIHtcbiAgICAgICAgICAgIHN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgICAgIHN0eWxlLmxlZnQgPSB0aGlzLnN0YXRlLng7XG4gICAgICAgICAgICBzdHlsZS50b3AgPSB0aGlzLnN0YXRlLnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcmVmaXhlZCA9IFZlbmRvclByZWZpeC5wcmVmaXgoeyBzdHlsZXM6IHN0eWxlIH0pO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8c3BhbiByZWY9eyhlbHQ6RWxlbWVudCkgPT4geyB0aGlzLmVsZW1lbnQgPSBlbHQ7IH19IHN0eWxlPXtwcmVmaXhlZC5zdHlsZXN9Lz5cbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC5kLnRzXCIvPlxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSEJveCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxhbnksIGFueT4ge1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6YW55LCBzdGF0ZTphbnkpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIHN0eWxlOmFueSA9IHRoaXMucHJvcHMuc3R5bGUgfHwge307XG4gICAgICAgIHZhciBvdGhlclByb3BzOmFueSA9IHt9O1xuICAgICAgICBmb3IodmFyIGtleSBpbiB0aGlzLnByb3BzKSB7XG4gICAgICAgICAgICBpZihrZXkgIT09IFwic3R5bGVcIikge1xuICAgICAgICAgICAgICAgIG90aGVyUHJvcHNba2V5XSA9IHRoaXMucHJvcHNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN0eWxlID0gc3R5bGUgfHwge307XG4gICAgICAgIHN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgc3R5bGUuZmxleERpcmVjdGlvbiA9IFwicm93XCI7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3N0eWxlfSB7Li4ub3RoZXJQcm9wc30+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICB9XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC5kLnRzXCIvPlxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVkJveCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxhbnksIGFueT4ge1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6YW55LCBzdGF0ZTphbnkpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIHN0eWxlOmFueSA9IHRoaXMucHJvcHMuc3R5bGUgfHwge307XG4gICAgICAgIHZhciBvdGhlclByb3BzOmFueSA9IHt9O1xuICAgICAgICBmb3IodmFyIGtleSBpbiB0aGlzLnByb3BzKSB7XG4gICAgICAgICAgICBpZihrZXkgIT09IFwic3R5bGVcIikge1xuICAgICAgICAgICAgICAgIG90aGVyUHJvcHNba2V5XSA9IHRoaXMucHJvcHNba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgc3R5bGUuZmxleERpcmVjdGlvbiA9IFwiY29sdW1uXCI7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3N0eWxlfSB7Li4ub3RoZXJQcm9wc30+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLmNoaWxkcmVuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIClcbiAgICB9XG59XG4iLCJpbXBvcnQgSEJveCBmcm9tIFwiLi9IQm94XCI7XG5pbXBvcnQgVkJveCBmcm9tIFwiLi9WQm94XCI7XG5cbmV4cG9ydCBkZWZhdWx0IHtcbiAgICBIQm94LFxuICAgIFZCb3hcbn1cbiIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QtZG9tLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9kMy9kMy5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYzMvYzMuZC50c1wiLz5cblxuaW1wb3J0IHtJVmlzVG9vbCwgSVZpc1Rvb2xQcm9wcywgSVZpc1Rvb2xTdGF0ZX0gZnJvbSBcIi4vSVZpc1Rvb2xcIjtcbmltcG9ydCB7Q2hhcnRBUEksIENoYXJ0Q29uZmlndXJhdGlvbn0gZnJvbSBcImMzXCI7XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVRvb2xQYXRocyB7XG4gICAgW25hbWU6c3RyaW5nXSA6IFdlYXZlUGF0aFxufVxuXG5cbmludGVyZmFjZSBQYXRoQ29uZmlnIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgcGF0aDogV2VhdmVQYXRoO1xuICAgIGNhbGxiYWNrcz86IEZ1bmN0aW9ufEZ1bmN0aW9uW107XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFic3RyYWN0QzNUb29sIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElWaXNUb29sUHJvcHMsIElWaXNUb29sU3RhdGU+IGltcGxlbWVudHMgSVZpc1Rvb2wge1xuXG4gICAgcHJvdGVjdGVkIHRvb2xQYXRoOldlYXZlUGF0aDtcbiAgICBwcm90ZWN0ZWQgZWxlbWVudDpIVE1MRWxlbWVudDtcbiAgICBwcm90ZWN0ZWQgcGF0aHM6SVRvb2xQYXRocztcbiAgICBwcm90ZWN0ZWQgY2hhcnQ6Q2hhcnRBUEk7XG4gICAgcHJvdGVjdGVkIGMzQ29uZmlnOkNoYXJ0Q29uZmlndXJhdGlvbjtcblxuICAgIHByaXZhdGUgcHJldmlvdXNXaWR0aDpudW1iZXI7XG4gICAgcHJpdmF0ZSBwcmV2aW91c0hlaWdodDpudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczpJVmlzVG9vbFByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy50b29sUGF0aCA9IHByb3BzLnRvb2xQYXRoO1xuICAgICAgICB0aGlzLnBhdGhzID0ge307XG4gICAgfVxuXG4gICAgZ2V0IHRpdGxlKCk6c3RyaW5nIHtcbiAgICAgICByZXR1cm4gKHRoaXMudG9vbFBhdGguZ2V0VHlwZSgncGFuZWxUaXRsZScpID8gdGhpcy50b29sUGF0aC5nZXRTdGF0ZSgncGFuZWxUaXRsZScpIDogJycpIHx8IHRoaXMudG9vbFBhdGguZ2V0UGF0aCgpLnBvcCgpO1xuICAgIH1cblxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCk6dm9pZCB7XG4gICAgICAgIGlmKHRoaXMuYzNDb25maWcuc2l6ZS53aWR0aCAhPSB0aGlzLnByb3BzLnN0eWxlLndpZHRoIHx8IHRoaXMuYzNDb25maWcuc2l6ZS5oZWlnaHQgIT0gdGhpcy5wcm9wcy5zdHlsZS5oZWlnaHQpIHtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuc2l6ZSA9IHt3aWR0aDogdGhpcy5wcm9wcy5zdHlsZS53aWR0aCwgaGVpZ2h0OiB0aGlzLnByb3BzLnN0eWxlLmhlaWdodH07XG4gICAgICAgICAgICB0aGlzLmNoYXJ0LnJlc2l6ZSh7d2lkdGg6dGhpcy5wcm9wcy5zdHlsZS53aWR0aCwgaGVpZ2h0OnRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0fSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB0aGlzIGZ1bmN0aW9uIGFjY2VwdHMgYW4gYXJyeSBvZiBwYXRoIGNvbmZpZ3VyYXRpb25zXG4gICAgLy8gYSBwYXRoIGNvbmZpZyBpcyBhbiBvYmplY3Qgd2l0aCBhIHBhdGggb2JqZWN0IG5hbWUsIHRoZSB3ZWF2ZSBwYXRoIGFuZCBhblxuICAgIC8vIG9wdGlvbmFsIGNhbGxiYWNrIG9yIGFycmF5IG9mIGNhbGxiYWNrc1xuICAgIGluaXRpYWxpemVQYXRocyhwcm9wZXJ0aWVzOlBhdGhDb25maWdbXSk6dm9pZCB7XG4gICAgICAgIHByb3BlcnRpZXMuZm9yRWFjaCgocGF0aENvbmY6UGF0aENvbmZpZykgPT4ge1xuICAgICAgICAgICAgdGhpcy5wYXRoc1twYXRoQ29uZi5uYW1lXSA9IHBhdGhDb25mLnBhdGg7XG4gICAgICAgICAgICBpZihwYXRoQ29uZi5jYWxsYmFja3MpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2tzOkZ1bmN0aW9uW10gPSBBcnJheS5pc0FycmF5KHBhdGhDb25mLmNhbGxiYWNrcykgPyBwYXRoQ29uZi5jYWxsYmFja3MgYXMgRnVuY3Rpb25bXSA6IFtwYXRoQ29uZi5jYWxsYmFja3MgYXMgRnVuY3Rpb25dO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5mb3JFYWNoKChjYWxsYmFjazpGdW5jdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhdGhzW3BhdGhDb25mLm5hbWVdLmFkZENhbGxiYWNrKHRoaXMsIGNhbGxiYWNrLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGhhbmRsZU1pc3NpbmdTZXNzaW9uU3RhdGVQcm9wZXJ0aWVzKG5ld1N0YXRlOmFueSlcbiAgICB7XG5cbiAgICB9XG5cbiAgICBjdXN0b21TdHlsZShhcnJheTpBcnJheTxudW1iZXI+LCB0eXBlOnN0cmluZywgZmlsdGVyOnN0cmluZywgc3R5bGU6YW55KSB7XG4gICAgICAgIGFycmF5LmZvckVhY2goIChpbmRleCkgPT4ge1xuICAgICAgICBcdHZhciBmaWx0ZXJlZCA9IGQzLnNlbGVjdCh0aGlzLmVsZW1lbnQpLnNlbGVjdEFsbCh0eXBlKS5maWx0ZXIoZmlsdGVyKTtcbiAgICAgICAgXHRpZiAoZmlsdGVyZWQubGVuZ3RoKVxuICAgICAgICBcdFx0ZDMuc2VsZWN0KGZpbHRlcmVkWzBdW2luZGV4XSkuc3R5bGUoc3R5bGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjdXN0b21TZWxlY3RvclN0eWxlKGFycmF5OkFycmF5PG51bWJlcj4sIHNlbGVjdG9yLCBzdHlsZTphbnkpIHtcbiAgICAgICAgYXJyYXkuZm9yRWFjaCggKGluZGV4KSA9PiB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0b3IubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGQzLnNlbGVjdChzZWxlY3RvclswXVtpbmRleF0pLnN0eWxlKHN0eWxlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCk6SlNYLkVsZW1lbnQge1xuICAgICAgICByZXR1cm4gPGRpdiByZWY9eyhjOkhUTUxFbGVtZW50KSA9PiB7dGhpcy5lbGVtZW50ID0gYzt9fSBzdHlsZT17e3dpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcIjEwMCVcIiwgbWF4SGVpZ2h0OiBcIjEwMCVcIn19Lz47XG4gICAgfVxufVxuIiwiLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL29wZW5sYXllcnMvb3BlbmxheWVycy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9qcXVlcnkvanF1ZXJ5LmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LWRvbS5kLnRzXCIvPlxuXG5pbXBvcnQgKiBhcyBvbCBmcm9tIFwib3BlbmxheWVyc1wiO1xuaW1wb3J0ICogYXMgbG9kYXNoIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IGpxdWVyeSBmcm9tIFwianF1ZXJ5XCI7XG5cbmltcG9ydCB7SVZpc1Rvb2wsIElWaXNUb29sUHJvcHMsIElWaXNUb29sU3RhdGV9IGZyb20gXCIuL0lWaXNUb29sXCI7XG5pbXBvcnQge3JlZ2lzdGVyVG9vbEltcGxlbWVudGF0aW9ufSBmcm9tIFwiLi4vV2VhdmVUb29sXCI7XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IExheWVyIGZyb20gXCIuL09wZW5MYXllcnNNYXAvTGF5ZXJzL0xheWVyXCI7XG5pbXBvcnQgRmVhdHVyZUxheWVyIGZyb20gXCIuL09wZW5MYXllcnNNYXAvTGF5ZXJzL0ZlYXR1cmVMYXllclwiO1xuaW1wb3J0IEdlb21ldHJ5TGF5ZXIgZnJvbSBcIi4vT3BlbkxheWVyc01hcC9MYXllcnMvR2VvbWV0cnlMYXllclwiO1xuaW1wb3J0IFRpbGVMYXllciBmcm9tIFwiLi9PcGVuTGF5ZXJzTWFwL0xheWVycy9UaWxlTGF5ZXJcIjtcbmltcG9ydCBJbWFnZUdseXBoTGF5ZXIgZnJvbSBcIi4vT3BlbkxheWVyc01hcC9MYXllcnMvSW1hZ2VHbHlwaExheWVyXCI7XG5pbXBvcnQgU2NhdHRlclBsb3RMYXllciBmcm9tIFwiLi9PcGVuTGF5ZXJzTWFwL0xheWVycy9TY2F0dGVyUGxvdExheWVyXCI7XG5pbXBvcnQgTGFiZWxMYXllciBmcm9tIFwiLi9PcGVuTGF5ZXJzTWFwL0xheWVycy9MYWJlbExheWVyXCI7XG4vKiBlc2xpbnQtZW5hYmxlICovXG5cbmltcG9ydCBQYW5DbHVzdGVyIGZyb20gXCIuL09wZW5MYXllcnNNYXAvUGFuQ2x1c3RlclwiO1xuaW1wb3J0IEludGVyYWN0aW9uTW9kZUNsdXN0ZXIgZnJvbSBcIi4vT3BlbkxheWVyc01hcC9JbnRlcmFjdGlvbk1vZGVDbHVzdGVyXCI7XG5pbXBvcnQgUHJvYmVJbnRlcmFjdGlvbiBmcm9tIFwiLi9PcGVuTGF5ZXJzTWFwL1Byb2JlSW50ZXJhY3Rpb25cIjtcbmltcG9ydCBEcmFnU2VsZWN0aW9uIGZyb20gXCIuL09wZW5MYXllcnNNYXAvRHJhZ1NlbGVjdGlvblwiO1xuLyogZ2xvYmFsIFdlYXZlLCB3ZWF2ZWpzICovXG5cbmRlY2xhcmUgdmFyIFdlYXZlOmFueTtcbmRlY2xhcmUgdmFyIHdlYXZlanM6YW55O1xuXG5jbGFzcyBXZWF2ZU9wZW5MYXllcnNNYXAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SVZpc1Rvb2xQcm9wcywgSVZpc1Rvb2xTdGF0ZT4ge1xuXG5cdGxheWVyczpNYXA8c3RyaW5nLExheWVyPjtcblx0aW50ZXJhY3Rpb25Nb2RlUGF0aDpXZWF2ZVBhdGg7XG5cdG1hcDpvbC5NYXA7XG5cdHpvb21CdXR0b25zOm9sLmNvbnRyb2wuWm9vbTtcblx0c2xpZGVyOm9sLmNvbnRyb2wuWm9vbVNsaWRlcjtcblx0cGFuOlBhbkNsdXN0ZXI7XG5cdG1vdXNlTW9kZUJ1dHRvbnM6SW50ZXJhY3Rpb25Nb2RlQ2x1c3Rlcjtcblx0cGxvdE1hbmFnZXI6V2VhdmVQYXRoO1xuXHRwbG90dGVyc1BhdGg6V2VhdmVQYXRoO1xuXHRsYXllclNldHRpbmdzUGF0aDpXZWF2ZVBhdGg7XG5cdHpvb21Cb3VuZHNQYXRoOldlYXZlUGF0aDtcblxuXHRjZW50ZXJDYWxsYmFja0hhbmRsZTphbnk7XG5cdHJlc29sdXRpb25DYWxsYmFja0hhbmRsZTphbnk7XG5cdHByaXZhdGUgZWxlbWVudDpFbGVtZW50O1xuXHRwcml2YXRlIHRvb2xQYXRoOldlYXZlUGF0aDtcblxuXHRjb25zdHJ1Y3Rvcihwcm9wcylcblx0e1xuXHRcdHN1cGVyKHByb3BzKTtcblx0XHRHZW9tZXRyeUxheWVyOyBUaWxlTGF5ZXI7IEltYWdlR2x5cGhMYXllcjsgU2NhdHRlclBsb3RMYXllcjsgTGFiZWxMYXllcjsvKiBGb3JjZXMgdGhlIGluY2x1c2lvbiBvZiB0aGUgbGF5ZXJzLiAqL1xuXHRcdHRoaXMubGF5ZXJzID0gbmV3IE1hcDxzdHJpbmcsTGF5ZXI+KCk7XG5cdFx0dGhpcy50b29sUGF0aCA9IHByb3BzLnRvb2xQYXRoO1xuXHR9XG5cblx0aGFuZGxlTWlzc2luZ1Nlc3Npb25TdGF0ZVByb3BlcnRpZXMobmV3U3RhdGUpXG5cdHtcblxuXHR9XG5cblx0Y29tcG9uZW50RGlkTW91bnQoKVxuXHR7XG5cdFx0dGhpcy5tYXAgPSBuZXcgb2wuTWFwKHtcblx0XHRcdGludGVyYWN0aW9uczogb2wuaW50ZXJhY3Rpb24uZGVmYXVsdHMoeyBkcmFnUGFuOiBmYWxzZSB9KSxcblx0XHRcdGNvbnRyb2xzOiBbXSxcblx0XHRcdHRhcmdldDogdGhpcy5lbGVtZW50XG5cdFx0fSk7XG5cblx0XHQvKiBTZXR1cCBjdXN0b20gaW50ZXJhY3Rpb25zICovXG5cblx0XHR0aGlzLmludGVyYWN0aW9uTW9kZVBhdGggPSB0aGlzLnRvb2xQYXRoLndlYXZlLnBhdGgoXCJXZWF2ZVByb3BlcnRpZXNcIiwgXCJ0b29sSW50ZXJhY3Rpb25zXCIsIFwiZGVmYXVsdERyYWdNb2RlXCIpO1xuXG5cdFx0bGV0IGRyYWdQYW46IG9sLmludGVyYWN0aW9uLkRyYWdQYW4gPSBuZXcgb2wuaW50ZXJhY3Rpb24uRHJhZ1BhbigpO1xuXHRcdGxldCBkcmFnU2VsZWN0OiBEcmFnU2VsZWN0aW9uID0gbmV3IERyYWdTZWxlY3Rpb24oKTtcblx0XHRsZXQgcHJvYmVJbnRlcmFjdGlvbjogUHJvYmVJbnRlcmFjdGlvbiA9IG5ldyBQcm9iZUludGVyYWN0aW9uKHRoaXMpO1xuXHRcdGxldCBkcmFnWm9vbTogb2wuaW50ZXJhY3Rpb24uRHJhZ1pvb20gPSBuZXcgb2wuaW50ZXJhY3Rpb24uRHJhZ1pvb20oeyBjb25kaXRpb246IG9sLmV2ZW50cy5jb25kaXRpb24uYWx3YXlzIH0pO1xuXG5cdFx0dGhpcy5tYXAuYWRkSW50ZXJhY3Rpb24oZHJhZ1Bhbik7XG5cdFx0dGhpcy5tYXAuYWRkSW50ZXJhY3Rpb24oZHJhZ1NlbGVjdCk7XG5cdFx0dGhpcy5tYXAuYWRkSW50ZXJhY3Rpb24ocHJvYmVJbnRlcmFjdGlvbik7XG5cdFx0dGhpcy5tYXAuYWRkSW50ZXJhY3Rpb24oZHJhZ1pvb20pO1xuXG5cdFx0dGhpcy5pbnRlcmFjdGlvbk1vZGVQYXRoLmFkZENhbGxiYWNrKHRoaXMsICgpID0+IHtcblx0XHRcdGxldCBpbnRlcmFjdGlvbk1vZGUgPSB0aGlzLmludGVyYWN0aW9uTW9kZVBhdGguZ2V0U3RhdGUoKTtcblx0XHRcdGRyYWdQYW4uc2V0QWN0aXZlKGludGVyYWN0aW9uTW9kZSA9PT0gXCJwYW5cIik7XG5cdFx0XHRkcmFnU2VsZWN0LnNldEFjdGl2ZShpbnRlcmFjdGlvbk1vZGUgPT09IFwic2VsZWN0XCIpO1xuXHRcdFx0ZHJhZ1pvb20uc2V0QWN0aXZlKGludGVyYWN0aW9uTW9kZSA9PT0gXCJ6b29tXCIpO1xuXHRcdH0pO1xuXG5cdFx0LyogU2V0dXAgY3VzdG9tIGNvbnRyb2xzICovXG5cblx0XHR0aGlzLnpvb21CdXR0b25zID0gbmV3IG9sLmNvbnRyb2wuWm9vbSgpO1xuXHRcdHRoaXMuc2xpZGVyID0gbmV3IG9sLmNvbnRyb2wuWm9vbVNsaWRlcigpO1xuXHRcdHRoaXMucGFuID0gbmV3IFBhbkNsdXN0ZXIoKTtcblxuXHRcdHRoaXMudG9vbFBhdGgucHVzaChcInNob3dab29tQ29udHJvbHNcIikuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5vblpvb21Db250cm9sVG9nZ2xlLCB0cnVlKTtcblx0XHR0aGlzLnRvb2xQYXRoLnB1c2goXCJzaG93TW91c2VNb2RlQ29udHJvbHNcIikuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5vbk1vdXNlTW9kZUNvbnRyb2xUb2dnbGUsIHRydWUpO1xuXG5cdFx0dGhpcy5tb3VzZU1vZGVCdXR0b25zID0gbmV3IEludGVyYWN0aW9uTW9kZUNsdXN0ZXIoe2ludGVyYWN0aW9uTW9kZVBhdGg6IHRoaXMuaW50ZXJhY3Rpb25Nb2RlUGF0aH0pO1xuXG5cdFx0dGhpcy5wbG90TWFuYWdlciA9IHRoaXMudG9vbFBhdGgucHVzaChcImNoaWxkcmVuXCIsIFwidmlzdWFsaXphdGlvblwiLCBcInBsb3RNYW5hZ2VyXCIpO1xuXG5cdFx0LyogVG9kbyByZXBsYWNlIG92ZXJyaWRlW1gsWV1bTWluLE1heF0gd2l0aCBhIHNpbmdsZSBvdmVycmlkZVpvb21Cb3VuZHMgZWxlbWVudDsgYWx0ZXJuYXRpdmVseSxcblx0XHQgKiBtYWtlIGEgc2V0IG9mIHBhcmFtZXRlcnMgb24gem9vbWJvdW5kcyBpdHNlbGYuICovXG5cblx0XHRmb3IgKGxldCBleHRyZW1lIG9mIFtcIk1pblwiLCBcIk1heFwiXSlcblx0XHRcdGZvciAobGV0IGF4aXMgb2YgW1wiWFwiLCBcIllcIl0pXG5cdFx0XHRcdHRoaXMucGxvdE1hbmFnZXIucHVzaChcIm92ZXJyaWRlXCIgKyBheGlzICsgZXh0cmVtZSkuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5vblZpZXdQYXJhbWV0ZXJzQ2hhbmdlZCk7XG5cblx0XHR0aGlzLnRvb2xQYXRoLnB1c2goXCJwcm9qZWN0aW9uU1JTXCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMub25WaWV3UGFyYW1ldGVyc0NoYW5nZWQsIHRydWUpO1xuXG5cblx0XHR0aGlzLnBsb3R0ZXJzUGF0aCA9IHRoaXMucGxvdE1hbmFnZXIucHVzaChcInBsb3R0ZXJzXCIpO1xuXHRcdHRoaXMubGF5ZXJTZXR0aW5nc1BhdGggPSB0aGlzLnBsb3RNYW5hZ2VyLnB1c2goXCJsYXllclNldHRpbmdzXCIpO1xuXHRcdHRoaXMuem9vbUJvdW5kc1BhdGggPSB0aGlzLnBsb3RNYW5hZ2VyLnB1c2goXCJ6b29tQm91bmRzXCIpO1xuXG5cdFx0dGhpcy5wbG90TWFuYWdlci5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLnJlcXVlc3REZXRhaWwsIHRydWUpO1xuXHRcdHRoaXMucGxvdHRlcnNQYXRoLmdldE9iamVjdCgpLmNoaWxkTGlzdENhbGxiYWNrcy5hZGRJbW1lZGlhdGVDYWxsYmFjayh0aGlzLCB0aGlzLnBsb3R0ZXJzQ2hhbmdlZCwgdHJ1ZSk7XG5cdFx0dGhpcy56b29tQm91bmRzUGF0aC5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLmdldFNlc3Npb25DZW50ZXIsIHRydWUpO1xuXHR9XG5cblx0b25WaWV3UGFyYW1ldGVyc0NoYW5nZWQoKVxuXHR7XG5cdFx0bGV0IGV4dGVudCA9IFtdO1xuXG5cdFx0Zm9yIChsZXQgZXh0cmVtZSBvZiBbXCJNaW5cIiwgXCJNYXhcIl0pXG5cdFx0XHRmb3IgKGxldCBheGlzIG9mIFtcIlhcIiwgXCJZXCJdKVxuXHRcdFx0XHRleHRlbnQucHVzaCh0aGlzLnBsb3RNYW5hZ2VyLnB1c2goXCJvdmVycmlkZVwiICsgYXhpcyArIGV4dHJlbWUpLmdldFN0YXRlKCkpO1xuXG5cdFx0aWYgKCFsb2Rhc2guZXZlcnkoZXh0ZW50LCBOdW1iZXIuaXNGaW5pdGUpKVxuXHRcdHtcblx0XHRcdGV4dGVudCA9IHVuZGVmaW5lZDtcblx0XHR9XG5cblx0XHRsZXQgcHJvamVjdGlvbiA9IHRoaXMudG9vbFBhdGgucHVzaChcInByb2plY3Rpb25TUlNcIikuZ2V0U3RhdGUoKSB8fCBcIkVQU0c6Mzg1N1wiO1xuXHRcdGxldCB2aWV3ID0gbmV3IG9sLlZpZXcoe3Byb2plY3Rpb24sIGV4dGVudH0pO1xuXHRcdHZpZXcuc2V0KFwiZXh0ZW50XCIsIGV4dGVudCk7XG5cblx0XHR0aGlzLmNlbnRlckNhbGxiYWNrSGFuZGxlID0gdmlldy5vbihcImNoYW5nZTpjZW50ZXJcIiwgdGhpcy5zZXRTZXNzaW9uQ2VudGVyLCB0aGlzKTtcblx0XHR0aGlzLnJlc29sdXRpb25DYWxsYmFja0hhbmRsZSA9IHZpZXcub24oXCJjaGFuZ2U6cmVzb2x1dGlvblwiLCB0aGlzLnNldFNlc3Npb25ab29tLCB0aGlzKTtcblx0XHR0aGlzLm1hcC5zZXRWaWV3KHZpZXcpO1xuXG5cdFx0dGhpcy5nZXRTZXNzaW9uQ2VudGVyKCk7XG5cdH1cblxuXHRjb21wb25lbnREaWRVcGRhdGUoKVxuXHR7XG5cdFx0dGhpcy5tYXAudXBkYXRlU2l6ZSgpO1xuXHRcdHZhciB2aWV3cG9ydCA9IHRoaXMubWFwLmdldFZpZXdwb3J0KCk7XG5cdFx0dmFyIHNjcmVlbkJvdW5kcyA9IG5ldyB3ZWF2ZWpzLmdlb20uQm91bmRzMkQoMCwgMCwgdmlld3BvcnQuY2xpZW50V2lkdGgsIHZpZXdwb3J0LmNsaWVudEhlaWdodCk7XG5cdFx0dGhpcy56b29tQm91bmRzUGF0aC5nZXRPYmplY3QoKS5zZXRTY3JlZW5Cb3VuZHMoc2NyZWVuQm91bmRzLCB0cnVlKTtcblx0fVxuXG5cdHVwZGF0ZUNvbnRyb2xQb3NpdGlvbnMoKVxuXHR7XG5cdFx0aWYgKHRoaXMudG9vbFBhdGgucHVzaChcInNob3dab29tQ29udHJvbHNcIikuZ2V0U3RhdGUoKSlcblx0XHR7XG5cdFx0XHRqcXVlcnkodGhpcy5lbGVtZW50KS5maW5kKFwiLm9sLWNvbnRyb2wucGFuQ2x1c3RlclwiKS5jc3Moe3RvcDogXCIwLjVlbVwiLCBsZWZ0OiBcIjAuNWVtXCJ9KTtcblx0XHRcdGpxdWVyeSh0aGlzLmVsZW1lbnQpLmZpbmQoXCIub2wtY29udHJvbC5vbC16b29tXCIpLmNzcyh7dG9wOiBcIjUuNWVtXCIsIGxlZnQ6IFwiMi4wNzVlbVwifSk7XG5cdFx0XHRqcXVlcnkodGhpcy5lbGVtZW50KS5maW5kKFwiLm9sLWNvbnRyb2wub2wtem9vbXNsaWRlclwiKS5jc3Moe3RvcDogXCI5LjI1ZW1cIiwgbGVmdDogXCIyLjA3NWVtXCJ9KTtcblx0XHRcdGpxdWVyeSh0aGlzLmVsZW1lbnQpLmZpbmQoXCIub2wtY29udHJvbC5pTW9kZUNsdXN0ZXJcIikuY3NzKHt0b3A6IFwiMjAuNzVlbVwiLCBsZWZ0OiBcIjAuNmVtXCJ9KTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdGpxdWVyeSh0aGlzLmVsZW1lbnQpLmZpbmQoXCIub2wtY29udHJvbFwiKTtcblx0XHR9XG5cdH1cblxuXG5cdG9uTW91c2VNb2RlQ29udHJvbFRvZ2dsZSgpXG5cdHtcblx0XHRsZXQgc2hvd01vdXNlTW9kZUNvbnRyb2xzID0gdGhpcy50b29sUGF0aC5wdXNoKFwic2hvd01vdXNlTW9kZUNvbnRyb2xzXCIpLmdldFN0YXRlKCk7XG5cdFx0aWYgKHNob3dNb3VzZU1vZGVDb250cm9scylcblx0XHR7XG5cdFx0XHR0aGlzLm1hcC5hZGRDb250cm9sKHRoaXMubW91c2VNb2RlQnV0dG9ucyk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHR0aGlzLm1hcC5yZW1vdmVDb250cm9sKHRoaXMubW91c2VNb2RlQnV0dG9ucyk7XG5cdFx0fVxuXHRcdHRoaXMudXBkYXRlQ29udHJvbFBvc2l0aW9ucygpO1xuXHR9XG5cblxuXHRvblpvb21Db250cm9sVG9nZ2xlKClcblx0e1xuXHRcdGxldCBzaG93Wm9vbUNvbnRyb2xzID0gdGhpcy50b29sUGF0aC5wdXNoKFwic2hvd1pvb21Db250cm9sc1wiKS5nZXRTdGF0ZSgpO1xuXHRcdGlmIChzaG93Wm9vbUNvbnRyb2xzKVxuXHRcdHtcblx0XHRcdHRoaXMubWFwLmFkZENvbnRyb2wodGhpcy5zbGlkZXIpO1xuXHRcdFx0dGhpcy5tYXAuYWRkQ29udHJvbCh0aGlzLnBhbik7XG5cdFx0XHR0aGlzLm1hcC5hZGRDb250cm9sKHRoaXMuem9vbUJ1dHRvbnMpO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0dGhpcy5tYXAucmVtb3ZlQ29udHJvbCh0aGlzLnNsaWRlcik7XG5cdFx0XHR0aGlzLm1hcC5yZW1vdmVDb250cm9sKHRoaXMucGFuKTtcblx0XHRcdHRoaXMubWFwLnJlbW92ZUNvbnRyb2wodGhpcy56b29tQnV0dG9ucyk7XG5cdFx0fVxuXHRcdHRoaXMudXBkYXRlQ29udHJvbFBvc2l0aW9ucygpO1xuXHR9XG5cblx0c2V0U2Vzc2lvbkNlbnRlcigpXG5cdHtcblx0XHR2YXIgW3hDZW50ZXIsIHlDZW50ZXJdID0gdGhpcy5tYXAuZ2V0VmlldygpLmdldENlbnRlcigpO1xuXG5cdFx0dmFyIHpvb21Cb3VuZHMgPSB0aGlzLnpvb21Cb3VuZHNQYXRoLmdldE9iamVjdCgpO1xuXG5cdFx0dmFyIGRhdGFCb3VuZHMgPSBuZXcgd2VhdmVqcy5nZW9tLkJvdW5kczJEKCk7XG5cdFx0em9vbUJvdW5kcy5nZXREYXRhQm91bmRzKGRhdGFCb3VuZHMpO1xuXHRcdGRhdGFCb3VuZHMuc2V0WENlbnRlcih4Q2VudGVyKTtcblx0XHRkYXRhQm91bmRzLnNldFlDZW50ZXIoeUNlbnRlcik7XG5cdFx0em9vbUJvdW5kcy5zZXREYXRhQm91bmRzKGRhdGFCb3VuZHMpO1xuXHR9XG5cblx0c2V0U2Vzc2lvblpvb20oKVxuXHR7XG5cdFx0dmFyIHJlc29sdXRpb24gPSB0aGlzLm1hcC5nZXRWaWV3KCkuZ2V0UmVzb2x1dGlvbigpO1xuXG5cdFx0dmFyIHpvb21Cb3VuZHMgPSB0aGlzLnpvb21Cb3VuZHNQYXRoLmdldE9iamVjdCgpO1xuXG5cdFx0dmFyIGRhdGFCb3VuZHMgPSBuZXcgd2VhdmVqcy5nZW9tLkJvdW5kczJEKCk7XG5cdFx0dmFyIHNjcmVlbkJvdW5kcyA9IG5ldyB3ZWF2ZWpzLmdlb20uQm91bmRzMkQoKTtcblx0XHR6b29tQm91bmRzLmdldERhdGFCb3VuZHMoZGF0YUJvdW5kcyk7XG5cdFx0em9vbUJvdW5kcy5nZXRTY3JlZW5Cb3VuZHMoc2NyZWVuQm91bmRzKTtcblx0XHRkYXRhQm91bmRzLnNldFdpZHRoKHNjcmVlbkJvdW5kcy5nZXRXaWR0aCgpICogcmVzb2x1dGlvbik7XG5cdFx0ZGF0YUJvdW5kcy5zZXRIZWlnaHQoc2NyZWVuQm91bmRzLmdldEhlaWdodCgpICogcmVzb2x1dGlvbik7XG5cdFx0ZGF0YUJvdW5kcy5tYWtlU2l6ZVBvc2l0aXZlKCk7XG5cdFx0em9vbUJvdW5kcy5zZXREYXRhQm91bmRzKGRhdGFCb3VuZHMpO1xuXHR9XG5cblx0Z2V0U2Vzc2lvbkNlbnRlcigpXG5cdHtcblx0XHR2YXIgem9vbUJvdW5kcyA9IHRoaXMuem9vbUJvdW5kc1BhdGguZ2V0T2JqZWN0KCk7XG5cdFx0dmFyIGRhdGFCb3VuZHMgPSBuZXcgd2VhdmVqcy5nZW9tLkJvdW5kczJEKCk7XG5cdFx0em9vbUJvdW5kcy5nZXREYXRhQm91bmRzKGRhdGFCb3VuZHMpO1xuXHRcdHZhciBjZW50ZXIgPSBbZGF0YUJvdW5kcy5nZXRYQ2VudGVyKCksIGRhdGFCb3VuZHMuZ2V0WUNlbnRlcigpXTtcblx0XHR2YXIgc2NhbGUgPSB6b29tQm91bmRzLmdldFhTY2FsZSgpO1xuXHRcdFxuXHRcdHRoaXMubWFwLmdldFZpZXcoKS51bihcImNoYW5nZTpjZW50ZXJcIiwgdGhpcy5zZXRTZXNzaW9uQ2VudGVyLCB0aGlzKTtcblx0XHR0aGlzLm1hcC5nZXRWaWV3KCkudW4oXCJjaGFuZ2U6cmVzb2x1dGlvblwiLCB0aGlzLnNldFNlc3Npb25ab29tLCB0aGlzKTtcblxuXHRcdHRoaXMubWFwLmdldFZpZXcoKS5zZXRDZW50ZXIoY2VudGVyKTtcblx0XHR0aGlzLm1hcC5nZXRWaWV3KCkuc2V0UmVzb2x1dGlvbigxIC8gc2NhbGUpO1xuXG5cdFx0bG9kYXNoLmRlZmVyKCgpID0+IHtcblx0XHRcdHRoaXMubWFwLmdldFZpZXcoKS5vbihcImNoYW5nZTpjZW50ZXJcIiwgdGhpcy5zZXRTZXNzaW9uQ2VudGVyLCB0aGlzKTtcblx0XHRcdHRoaXMubWFwLmdldFZpZXcoKS5vbihcImNoYW5nZTpyZXNvbHV0aW9uXCIsIHRoaXMuc2V0U2Vzc2lvblpvb20sIHRoaXMpO1xuXHRcdH0pO1xuXHR9XG5cdFxuXHRyZXF1ZXN0RGV0YWlsKClcblx0e1xuXHRcdHZhciB6b29tQm91bmRzID0gdGhpcy56b29tQm91bmRzUGF0aC5nZXRPYmplY3QoKTtcblx0XHRmb3IgKHZhciBzZ2Mgb2YgV2VhdmUuZ2V0RGVzY2VuZGFudHModGhpcy50b29sUGF0aC5nZXRPYmplY3QoKSwgd2VhdmVqcy5kYXRhLmNvbHVtbi5TdHJlYW1lZEdlb21ldHJ5Q29sdW1uKSlcblx0XHR7XG5cdFx0XHQvL1RPRE8gLSB0aGlzIGRvZXNuJ3QgaGFuZGxlIGEgZGF0YUJvdW5kcyBvZiBkaWZmZXJlbnQgcHJvamVjdGlvbiB0aGFuIHRoZSBzdHJlYW1lZCBnZW9tZXRyaWVzIGFyZSBpblxuXHRcdFx0c2djLnJlcXVlc3RHZW9tZXRyeURldGFpbEZvclpvb21Cb3VuZHMoem9vbUJvdW5kcyk7XG5cdFx0fVxuXHR9XG5cblx0cGxvdHRlcnNDaGFuZ2VkKClcblx0e1xuXHRcdHZhciBvbGROYW1lcyA9IEFycmF5LmZyb20odGhpcy5sYXllcnMua2V5cygpKTtcblx0XHR2YXIgbmV3TmFtZXMgPSB0aGlzLnBsb3R0ZXJzUGF0aC5nZXROYW1lcygpO1xuXG5cdFx0dmFyIHJlbW92ZWROYW1lcyA9IGxvZGFzaC5kaWZmZXJlbmNlKG9sZE5hbWVzLCBuZXdOYW1lcyk7XG5cdFx0dmFyIGFkZGVkTmFtZXMgPSBsb2Rhc2guZGlmZmVyZW5jZShuZXdOYW1lcywgb2xkTmFtZXMpO1xuXG5cdFx0cmVtb3ZlZE5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdGlmICh0aGlzLmxheWVycy5nZXQobmFtZSkpIHtcblx0XHRcdFx0dGhpcy5sYXllcnMuZ2V0KG5hbWUpLmRpc3Bvc2UoKTtcblx0XHRcdH1cblx0XHRcdHRoaXMubGF5ZXJzLmRlbGV0ZShuYW1lKTtcblx0XHR9LCB0aGlzKTtcblxuXHRcdGFkZGVkTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuXHRcdFx0bGV0IGxheWVyOkxheWVyID0gTGF5ZXIubmV3TGF5ZXIodGhpcywgbmFtZSk7XG5cdFx0XHR0aGlzLmxheWVycy5zZXQobmFtZSwgbGF5ZXIpO1xuXHRcdH0sIHRoaXMpO1xuXHRcdC8qICovXG5cdFx0Zm9yIChsZXQgaWR4IGluIG5ld05hbWVzKVxuXHRcdHtcblx0XHRcdGxldCBsYXllcjpMYXllciA9IHRoaXMubGF5ZXJzLmdldChuZXdOYW1lc1tpZHhdKTtcblxuXHRcdFx0aWYgKCFsYXllciB8fCAhbGF5ZXIub2xMYXllcikge1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0bGF5ZXIub2xMYXllci5zZXRaSW5kZXgoaWR4ICsgMik7XG5cdFx0fVxuXHR9XG5cblx0ZGVzdHJveSgpXG5cdHtcblxuXHR9XG5cblx0cmVuZGVyKCk6SlNYLkVsZW1lbnQge1xuICAgICAgICByZXR1cm4gPGRpdiByZWY9eyhjOkhUTUxFbGVtZW50KSA9PiB7dGhpcy5lbGVtZW50ID0gYzt9fSBzdHlsZT17e3dpZHRoOiBcIjEwMCVcIiwgaGVpZ2h0OiBcIjEwMCVcIn19Lz47XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBXZWF2ZU9wZW5MYXllcnNNYXA7XG5cbnJlZ2lzdGVyVG9vbEltcGxlbWVudGF0aW9uKFwid2VhdmUudmlzdWFsaXphdGlvbi50b29sczo6TWFwVG9vbFwiLCBXZWF2ZU9wZW5MYXllcnNNYXApO1xuIiwiLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi90eXBpbmdzL29wZW5sYXllcnMvb3BlbmxheWVycy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vdHlwaW5ncy9qcXVlcnkvanF1ZXJ5LmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuXG5pbXBvcnQgKiBhcyBvbCBmcm9tIFwib3BlbmxheWVyc1wiO1xuaW1wb3J0ICogYXMgbG9kYXNoIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCBGZWF0dXJlTGF5ZXIgZnJvbSBcIi4vTGF5ZXJzL0ZlYXR1cmVMYXllclwiO1xuaW1wb3J0IE9wZW5MYXllcnNNYXBUb29sIGZyb20gXCIuLi9PcGVuTGF5ZXJzTWFwVG9vbFwiO1xuaW1wb3J0IExheWVyIGZyb20gXCIuL0xheWVycy9MYXllclwiO1xuaW1wb3J0IFByb2JlSW50ZXJhY3Rpb24gZnJvbSBcIi4vUHJvYmVJbnRlcmFjdGlvblwiO1xuXG5kZWNsYXJlIHZhciBXZWF2ZTogYW55O1xuZGVjbGFyZSB2YXIgd2VhdmVqczogYW55O1xuXG5lbnVtIERyYWdTZWxlY3Rpb25Nb2RlIHtcblx0U1VCVFJBQ1QgPSAtMSxcblx0U0VUID0gMCxcblx0QUREID0gMVxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRHJhZ1NlbGVjdGlvbiBleHRlbmRzIG9sLmludGVyYWN0aW9uLkRyYWdCb3hcbntcblx0cHJpdmF0ZSBtYXBUb29sOiBPcGVuTGF5ZXJzTWFwVG9vbDtcblx0cHJpdmF0ZSBtb2RlOiBEcmFnU2VsZWN0aW9uTW9kZTtcblx0cHJpdmF0ZSBfcHJvYmVJbnRlcmFjdGlvbjogUHJvYmVJbnRlcmFjdGlvbjtcblxuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0XHRzdXBlcih7IGJveEVuZENvbmRpdGlvbjogKCkgPT4gdHJ1ZSB9KTtcblxuXHRcdHRoaXMub24oJ2JveHN0YXJ0JywgRHJhZ1NlbGVjdGlvbi5wcm90b3R5cGUub25Cb3hTdGFydCwgdGhpcyk7XG5cdFx0dGhpcy5vbignYm94ZHJhZycsIERyYWdTZWxlY3Rpb24ucHJvdG90eXBlLm9uQm94RHJhZywgdGhpcyk7XG5cdFx0dGhpcy5vbignYm94ZW5kJywgRHJhZ1NlbGVjdGlvbi5wcm90b3R5cGUub25Cb3hFbmQsIHRoaXMpO1xuXHR9XG5cblx0cHJpdmF0ZSBnZXQgcHJvYmVJbnRlcmFjdGlvbigpOlByb2JlSW50ZXJhY3Rpb25cblx0e1xuXHRcdGlmICghdGhpcy5fcHJvYmVJbnRlcmFjdGlvbikge1xuXHRcdFx0Zm9yIChsZXQgaW50ZXJhY3Rpb24gb2YgdGhpcy5nZXRNYXAoKS5nZXRJbnRlcmFjdGlvbnMoKS5nZXRBcnJheSgpKSB7XG5cdFx0XHRcdGlmIChpbnRlcmFjdGlvbiBpbnN0YW5jZW9mIFByb2JlSW50ZXJhY3Rpb24pIHtcblx0XHRcdFx0XHR0aGlzLl9wcm9iZUludGVyYWN0aW9uID0gaW50ZXJhY3Rpb247XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5fcHJvYmVJbnRlcmFjdGlvbjtcblx0fVxuXG5cdG9uQm94U3RhcnQoZXZlbnQ6IGFueSkge1xuXHRcdGlmICh0aGlzLnByb2JlSW50ZXJhY3Rpb24pXG5cdFx0XHR0aGlzLnByb2JlSW50ZXJhY3Rpb24uc2V0QWN0aXZlKGZhbHNlKTtcblxuXHRcdGxldCBkcmFnQm94RXZlbnQ6IG9sLkRyYWdCb3hFdmVudCA9IDxvbC5EcmFnQm94RXZlbnQ+ZXZlbnQ7XG5cblx0XHRsZXQgYnJvd3NlckV2ZW50OiBNb3VzZUV2ZW50ID0gPE1vdXNlRXZlbnQ+ZHJhZ0JveEV2ZW50Lm1hcEJyb3dzZXJFdmVudC5vcmlnaW5hbEV2ZW50O1xuXG5cdFx0aWYgKGJyb3dzZXJFdmVudC5jdHJsS2V5ICYmIGJyb3dzZXJFdmVudC5zaGlmdEtleSlcblx0XHR7XG5cdFx0XHR0aGlzLm1vZGUgPSBEcmFnU2VsZWN0aW9uTW9kZS5TVUJUUkFDVDtcblx0XHR9XG5cdFx0ZWxzZSBpZiAoYnJvd3NlckV2ZW50LmN0cmxLZXkpXG5cdFx0e1xuXHRcdFx0dGhpcy5tb2RlID0gRHJhZ1NlbGVjdGlvbk1vZGUuQUREO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0dGhpcy5tb2RlID0gRHJhZ1NlbGVjdGlvbk1vZGUuU0VUO1xuXHRcdH1cblx0fVxuXG5cdHVwZGF0ZVNlbGVjdGlvbihleHRlbnQpXG5cdHtcblx0XHRsZXQgc2VsZWN0ZWRGZWF0dXJlczogU2V0PHN0cmluZz4gPSBuZXcgU2V0KCk7XG5cdFx0bGV0IHNlbGVjdEZlYXR1cmU6IEZ1bmN0aW9uID0gKGZlYXR1cmUpID0+IHsgc2VsZWN0ZWRGZWF0dXJlcy5hZGQoZmVhdHVyZS5nZXRJZCgpKTsgfTtcblx0XHRsZXQgbWFwVG9vbDogT3BlbkxheWVyc01hcFRvb2wgPSB0aGlzLm1hcFRvb2w7XG5cblx0XHRmb3IgKGxldCBvbExheWVyIG9mIHRoaXMuZ2V0TWFwKCkuZ2V0TGF5ZXJzKCkuZ2V0QXJyYXkoKSkge1xuXHRcdFx0bGV0IHNlbGVjdGFibGU6IGJvb2xlYW4gPSA8Ym9vbGVhbj5vbExheWVyLmdldChcInNlbGVjdGFibGVcIik7XG5cdFx0XHRsZXQgd2VhdmVMYXllcjogTGF5ZXIgPSBvbExheWVyLmdldChcImxheWVyT2JqZWN0XCIpO1xuXG5cdFx0XHRpZiAod2VhdmVMYXllciBpbnN0YW5jZW9mIEZlYXR1cmVMYXllciAmJiBzZWxlY3RhYmxlKSB7XG5cdFx0XHRcdGxldCBrZXlTZXQgPSB3ZWF2ZUxheWVyLnNlbGVjdGlvbktleVNldDtcblx0XHRcdFx0bGV0IHNvdXJjZTogb2wuc291cmNlLlZlY3RvciA9IDxvbC5zb3VyY2UuVmVjdG9yPig8b2wubGF5ZXIuVmVjdG9yPm9sTGF5ZXIpLmdldFNvdXJjZSgpO1xuXG5cdFx0XHRcdHNvdXJjZS5mb3JFYWNoRmVhdHVyZUludGVyc2VjdGluZ0V4dGVudChleHRlbnQsIHNlbGVjdEZlYXR1cmUpO1xuXG5cdFx0XHRcdGxldCBrZXlzID0gQXJyYXkuZnJvbShzZWxlY3RlZEZlYXR1cmVzKTtcblxuXHRcdFx0XHRzd2l0Y2ggKHRoaXMubW9kZSkge1xuXHRcdFx0XHRcdGNhc2UgRHJhZ1NlbGVjdGlvbk1vZGUuU0VUOlxuXHRcdFx0XHRcdFx0a2V5U2V0LnNldEtleXMoa2V5cyk7XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIERyYWdTZWxlY3Rpb25Nb2RlLkFERDpcblx0XHRcdFx0XHRcdGtleVNldC5hZGRLZXlzKGtleXMpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBEcmFnU2VsZWN0aW9uTW9kZS5TVUJUUkFDVDpcblx0XHRcdFx0XHRcdGtleVNldC5yZW1vdmVLZXlzKGtleXMpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRvbkJveERyYWcoZXZlbnQ6YW55KVxuXHR7XG5cdFx0bGV0IGV4dGVudCA9IHRoaXMuZ2V0R2VvbWV0cnkoKS5nZXRFeHRlbnQoKTtcblxuXHRcdHRoaXMudXBkYXRlU2VsZWN0aW9uKGV4dGVudCk7XG5cdH1cblxuXHRvbkJveEVuZChldmVudDphbnkpXG5cdHtcblx0XHRsZXQgZXh0ZW50ID0gdGhpcy5nZXRHZW9tZXRyeSgpLmdldEV4dGVudCgpO1xuXG5cdFx0dGhpcy51cGRhdGVTZWxlY3Rpb24oZXh0ZW50KTtcblx0XHRpZiAodGhpcy5wcm9iZUludGVyYWN0aW9uKVxuXHRcdFx0dGhpcy5wcm9iZUludGVyYWN0aW9uLnNldEFjdGl2ZSh0cnVlKTtcblx0fVxufSIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vdHlwaW5ncy9vcGVubGF5ZXJzL29wZW5sYXllcnMuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL3R5cGluZ3MvanF1ZXJ5L2pxdWVyeS5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cblxuaW1wb3J0ICogYXMgb2wgZnJvbSBcIm9wZW5sYXllcnNcIjtcbmltcG9ydCBqcXVlcnkgZnJvbSBcImpxdWVyeVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbnRlcmFjdGlvbk1vZGVDbHVzdGVyIGV4dGVuZHMgb2wuY29udHJvbC5Db250cm9sIHtcblx0Y29uc3RydWN0b3Iob3B0T3B0aW9ucykge1xuXHRcdHZhciBpbnRlcmFjdGlvbk1vZGVQYXRoID0gb3B0T3B0aW9ucy5pbnRlcmFjdGlvbk1vZGVQYXRoO1xuXHRcdHZhciBvcHRpb25zID0gb3B0T3B0aW9ucyB8fCB7fTtcblx0XHR2YXIgYnV0dG9uVGFibGUgPSBqcXVlcnkoYFxuXHRcdFx0PHRhYmxlIGNsYXNzPVwib2wtdW5zZWxlY3RhYmxlIG9sLWNvbnRyb2wgaU1vZGVDbHVzdGVyXCI+XG5cdFx0XHRcdDx0ciBzdHlsZT1cImZvbnQtc2l6ZTogODAlXCI+XG5cdFx0XHRcdFx0PHRkPjxidXR0b24gY2xhc3M9XCJpTW9kZUNsdXN0ZXIgcGFuIGZhIGZhLWhhbmQtZ3JhYi1vXCI+PC9idXR0b24+PC90ZD5cblx0XHRcdFx0XHQ8dGQ+PGJ1dHRvbiBjbGFzcz1cImlNb2RlQ2x1c3RlciBzZWxlY3QgZmEgZmEtbW91c2UtcG9pbnRlclwiPjwvYnV0dG9uPjwvdGQ+XG5cdFx0XHRcdFx0PHRkPjxidXR0b24gY2xhc3M9XCJpTW9kZUNsdXN0ZXIgem9vbSBmYSBmYS1zZWFyY2gtcGx1c1wiPjwvYnV0dG9uPjwvdGQ+XG5cdFx0XHRcdDwvdHI+XG5cdFx0XHQ8L3RhYmxlPlxuXHRcdGApO1xuXG5cdFx0YnV0dG9uVGFibGUuZmluZChcImJ1dHRvbi5pTW9kZUNsdXN0ZXIucGFuXCIpLmNsaWNrKCgpID0+IGludGVyYWN0aW9uTW9kZVBhdGguc3RhdGUoXCJwYW5cIikpO1xuXHRcdGJ1dHRvblRhYmxlLmZpbmQoXCJidXR0b24uaU1vZGVDbHVzdGVyLnNlbGVjdFwiKS5jbGljaygoKSA9PiBpbnRlcmFjdGlvbk1vZGVQYXRoLnN0YXRlKFwic2VsZWN0XCIpKTtcblx0XHRidXR0b25UYWJsZS5maW5kKFwiYnV0dG9uLmlNb2RlQ2x1c3Rlci56b29tXCIpLmNsaWNrKCgpID0+IGludGVyYWN0aW9uTW9kZVBhdGguc3RhdGUoXCJ6b29tXCIpKTtcblxuXHRcdHN1cGVyKHsgZWxlbWVudDogYnV0dG9uVGFibGVbMF0sIHRhcmdldDogb3B0aW9ucy50YXJnZXQgfSk7XG5cblx0XHRpbnRlcmFjdGlvbk1vZGVQYXRoLmFkZENhbGxiYWNrKHRoaXMsICgpID0+IHtcblx0XHRcdGJ1dHRvblRhYmxlLmZpbmQoXCJidXR0b24uaU1vZGVDbHVzdGVyXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuXHRcdFx0YnV0dG9uVGFibGUuZmluZChcImJ1dHRvbi5pTW9kZUNsdXN0ZXIuXCIgKyBpbnRlcmFjdGlvbk1vZGVQYXRoLmdldFN0YXRlKCkpLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuXHRcdH0sIHRydWUpO1xuXHR9XG59IiwiLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL29wZW5sYXllcnMvb3BlbmxheWVycy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cblxuaW1wb3J0ICogYXMgb2wgZnJvbSBcIm9wZW5sYXllcnNcIjtcbmltcG9ydCAqIGFzIGxvZGFzaCBmcm9tIFwibG9kYXNoXCI7XG5cbmltcG9ydCBMYXllciBmcm9tIFwiLi9MYXllclwiO1xuaW1wb3J0IFN0YW5kYXJkTGliIGZyb20gXCIuLi8uLi8uLi91dGlscy9TdGFuZGFyZExpYlwiO1xuXG5kZWNsYXJlIHZhciB3ZWF2ZTtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEZlYXR1cmVMYXllciBleHRlbmRzIExheWVyIHtcblx0LyogQSBGZWF0dXJlTGF5ZXIgYXNzdW1lcyB0aGF0IGVhY2ggZmVhdHVyZSB3aWxsIGhhdmUgbXVsdGlwbGUgY3VzdG9tIHN0eWxlIHByb3BlcnRpZXMgb24gZWFjaCBmZWF0dXJlLCB3aGljaCBhcmUgbWFuYWdlZCBiYXNlZCBvbiBzZWxlY3Rpb24uICovXG5cdHByaXZhdGUgdXBkYXRlTWV0YVN0eWxlOkZ1bmN0aW9uO1xuXHRwcml2YXRlIGRlYm91bmNlZF91cGRhdGVNZXRhU3R5bGVzOkZ1bmN0aW9uO1xuXG5cdHByaXZhdGUgY2hhbmdlZEl0ZW1zOlNldDxzdHJpbmc+O1xuXHRwcml2YXRlIHByb2JlZFNldDpTZXQ8c3RyaW5nPjtcblx0cHJpdmF0ZSBzZWxlY3RlZFNldDpTZXQ8c3RyaW5nPjtcblx0cHJpdmF0ZSBmaWx0ZXJlZFNldDpTZXQ8c3RyaW5nPjtcblxuXHRwdWJsaWMgc2VsZWN0aW9uS2V5U2V0OldlYXZlUGF0aDtcblx0cHVibGljIHByb2JlS2V5U2V0OldlYXZlUGF0aDtcblx0cHVibGljIGZpbHRlcmVkS2V5U2V0OldlYXZlUGF0aDtcblx0cHJpdmF0ZSB0ZW1wU2VsZWN0YWJsZTpib29sZWFuO1xuXG5cdHNvdXJjZTpvbC5zb3VyY2UuVmVjdG9yO1xuXG5cdGNvbnN0cnVjdG9yKHBhcmVudCwgbGF5ZXJOYW1lKVxuXHR7XG5cdFx0c3VwZXIocGFyZW50LCBsYXllck5hbWUpO1xuXHRcdFxuXHRcdHRoaXMudXBkYXRlTWV0YVN0eWxlID0gdGhpcy51cGRhdGVNZXRhU3R5bGVfdW5ib3VuZC5iaW5kKHRoaXMpO1xuXHRcdHRoaXMuZGVib3VuY2VkX3VwZGF0ZU1ldGFTdHlsZXMgPSBsb2Rhc2guZGVib3VuY2UodGhpcy51cGRhdGVNZXRhU3R5bGVzLmJpbmQodGhpcyksIDApO1xuXG5cdFx0dGhpcy5vbExheWVyID0gbmV3IG9sLmxheWVyLlZlY3RvcigpO1xuXHRcdHRoaXMuc291cmNlID0gbmV3IG9sLnNvdXJjZS5WZWN0b3Ioe3dyYXBYOiBmYWxzZX0pO1xuXG5cdFx0LyogRXZlcnkgZmVhdHVyZSB0aGF0IGlzIGFkZGVkIHNob3VsZCByZWdpc3RlciBhIGhhbmRsZXIgdG8gYXV0b21hdGljYWxseSByZWNvbXB1dGUgdGhlIG1ldGFzdHlsZXMgd2hlbiB0aGUgc3R5bGVzIGNoYW5nZS4gKi9cblx0XHR0aGlzLnNvdXJjZS5vbihcImFkZGZlYXR1cmVcIiwgdGhpcy5vbkZlYXR1cmVBZGQsIHRoaXMpO1xuXG5cdFx0dGhpcy5jaGFuZ2VkSXRlbXMgPSBuZXcgU2V0KCk7XG5cdFx0dGhpcy5wcm9iZWRTZXQgPSBuZXcgU2V0KCk7XG5cdFx0dGhpcy5zZWxlY3RlZFNldCA9IG5ldyBTZXQoKTtcblx0XHR0aGlzLmZpbHRlcmVkU2V0ID0gbmV3IFNldCgpO1xuXG5cdFx0dGhpcy5zZWxlY3Rpb25LZXlTZXQgPSB0aGlzLmxheWVyUGF0aC5zZWxlY3Rpb25fa2V5c2V0O1xuXHRcdHRoaXMucHJvYmVLZXlTZXQgPSB0aGlzLmxheWVyUGF0aC5wcm9iZV9rZXlzZXQ7XG5cdFx0dGhpcy5maWx0ZXJlZEtleVNldCA9IHRoaXMubGF5ZXJQYXRoLnB1c2goXCJmaWx0ZXJlZEtleVNldFwiKTtcblxuXHRcdGxldCBzZWxlY3Rpb25LZXlIYW5kbGVyID0gdGhpcy51cGRhdGVTZXRGcm9tS2V5U2V0LmJpbmQodGhpcywgdGhpcy5zZWxlY3Rpb25LZXlTZXQsIHRoaXMuc2VsZWN0ZWRTZXQpO1xuXHRcdGxldCBwcm9iZUtleUhhbmRsZXIgPSB0aGlzLnVwZGF0ZVNldEZyb21LZXlTZXQuYmluZCh0aGlzLCB0aGlzLnByb2JlS2V5U2V0LCB0aGlzLnByb2JlZFNldCk7XG5cblx0XHR0aGlzLnNlbGVjdGlvbktleVNldC5hZGRLZXlTZXRDYWxsYmFjayhzZWxlY3Rpb25LZXlIYW5kbGVyKTtcblx0XHR0aGlzLnByb2JlS2V5U2V0LmFkZEtleVNldENhbGxiYWNrKHByb2JlS2V5SGFuZGxlcik7XG5cblx0XHR0aGlzLmZpbHRlcmVkS2V5U2V0LmFkZENhbGxiYWNrKHRoaXMsIHRoaXMudXBkYXRlRmlsdGVyZWRLZXlTZXQsIHRydWUpO1xuXHRcdHRoaXMuc2V0dGluZ3NQYXRoLnB1c2goXCJzZWxlY3RhYmxlXCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMudXBkYXRlTWV0YVN0eWxlcyk7XG5cdH1cblxuXHRvbkZlYXR1cmVBZGQodmVjdG9yRXZlbnQpXG5cdHtcblx0XHR2ZWN0b3JFdmVudC5mZWF0dXJlLm9uKFwicHJvcGVydHljaGFuZ2VcIiwgdGhpcy5vbkZlYXR1cmVQcm9wZXJ0eUNoYW5nZSwgdGhpcyk7XG5cdH1cblxuXHRvbkZlYXR1cmVQcm9wZXJ0eUNoYW5nZShvYmplY3RFdmVudClcblx0e1xuXHRcdGxldCBwcm9wZXJ0eU5hbWUgPSBvYmplY3RFdmVudC5rZXk7XG5cblx0XHRpZiAoIWxvZGFzaC5jb250YWlucyhGZWF0dXJlTGF5ZXIuU3R5bGVzLCBwcm9wZXJ0eU5hbWUpKVxuXHRcdHtcblx0XHRcdC8qIFRoZSBwcm9wZXJ0eSB0aGF0IGNoYW5nZWQgaXNuJ3Qgb25lIG9mIG91ciBtZXRhU3R5bGUgcHJvcGVydGllcywgc28gd2UgZG9uJ3QgY2FyZS4gKi9cblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdC8qIFRoZSBwcm9wZXJ0eSB0aGF0IGNoYW5nZWQgd2FzIGEgbWV0YXN0eWxlLCBhbmQgYXMgc3VjaCB0aGUgc3R5bGVzIHNob3VsZCBiZSByZWNvbXB1dGVkICovXG5cdFx0XHR0aGlzLmRlYm91bmNlZF91cGRhdGVNZXRhU3R5bGVzKCk7XG5cdFx0fVxuXHR9XG5cblx0YWJzdHJhY3QgdXBkYXRlU3R5bGVEYXRhKCk6dm9pZDtcblxuXHRnZXRUb29sVGlwQ29sdW1ucygpOiBBcnJheTxhbnk+IC8qIEFycmF5PElBdHRyaWJ1dGVDb2x1bW4+ICovXG5cdHtcblx0XHRyZXR1cm4gW107XG5cdH1cblxuXHQvKiBUT0RPOiBNb3ZlIHRoaXMgaW50byBXZWF2ZVRvb2wgKi9cblx0c3RhdGljIGdldFRvb2xUaXBEYXRhKGtleTphbnkgLyogSVF1YWxpZmllZEtleSAqLywgYWRkaXRpb25hbENvbHVtbnM6QXJyYXk8YW55PiA9IFtdIC8qIEFycmF5PElBdHRyaWJ1dGVDb2x1bW4gKi8pOiB7IFtjb2x1bW5OYW1lOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfSBcblx0e1xuXHRcdGxldCBjb2x1bW5IYXNoTWFwID0gd2VhdmUucm9vdC5nZXRPYmplY3QoXCJQcm9iZWQgQ29sdW1uc1wiKTtcblxuXHRcdHZhciByZXN1bHQ6IHsgW2NvbHVtbk5hbWU6IHN0cmluZ106IHN0cmluZyB8IG51bWJlciB9ID0ge307XG5cblx0XHRmb3IgKGxldCBjaGlsZCBvZiBjb2x1bW5IYXNoTWFwLmdldE9iamVjdHMoKS5jb25jYXQoYWRkaXRpb25hbENvbHVtbnMpKVxuXHRcdHtcblx0XHRcdGxldCB0aXRsZTpzdHJpbmcgPSBjaGlsZC5nZXRNZXRhZGF0YShcInRpdGxlXCIpO1xuXHRcdFx0bGV0IHZhbHVlOnN0cmluZyA9IGNoaWxkLmdldFZhbHVlRnJvbUtleShrZXksIFN0cmluZyk7XG5cdFx0XHRpZiAodmFsdWUpXG5cdFx0XHR7XG5cdFx0XHRcdHJlc3VsdFt0aXRsZV0gPSB2YWx1ZTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyogVE9ETzogTW92ZSB0aGlzIGludG8gV2VhdmVUb29sICovXG5cdHN0YXRpYyBnZXRUb29sVGlwVGl0bGUoa2V5OmFueSAvKiBJUXVhbGlmaWVkS2V5ICovKTogc3RyaW5nXG5cdHtcblx0XHRsZXQgdGl0bGVIYXNoTWFwID0gd2VhdmUucm9vdC5nZXRPYmplY3QoXCJQcm9iZSBIZWFkZXIgQ29sdW1uc1wiKTtcblxuXHRcdHJldHVybiBsb2Rhc2gubWFwKHRpdGxlSGFzaE1hcC5nZXRPYmplY3RzKCksIChkOmFueSkgPT4gZC5nZXRWYWx1ZUZyb21LZXkoa2V5LCBTdHJpbmcpKS5qb2luKFwiLCBcIik7XG5cdH1cblxuXHRzdGF0aWMgdG9Db2xvckFycmF5KGNvbG9yU3RyaW5nLCBhbHBoYSlcblx0e1xuXHRcdHZhciBjb2xvckFycmF5O1xuXHRcdGlmIChjb2xvclN0cmluZ1swXSA9PT0gXCIjXCIpXG5cdFx0e1xuXHRcdFx0Y29sb3JBcnJheSA9IG9sLmNvbG9yLmFzQXJyYXkoY29sb3JTdHJpbmcpO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0Y29sb3JBcnJheSA9IG9sLmNvbG9yLmFzQXJyYXkoXCIjXCIgKyBTdGFuZGFyZExpYi5kZWNpbWFsVG9IZXgoTnVtYmVyKGNvbG9yU3RyaW5nKSkpO1xuXHRcdH1cblxuXHRcdGNvbG9yQXJyYXkgPSBbXS5jb25jYXQoY29sb3JBcnJheSk7IC8qIFNob3VsZCBub3QgYmUgbW9kaWZpZWQgc2luY2UgaXQgaXMgY2FjaGVkIGluIG9sLmNvbG9yLmFzQXJyYXkgKi9cblxuXHRcdGlmICghY29sb3JBcnJheSkge1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cdFx0Y29sb3JBcnJheVszXSA9IE51bWJlcihhbHBoYSk7XG5cdFx0cmV0dXJuIGNvbG9yQXJyYXk7XG5cdH1cblxuXHRzdGF0aWMgdG9Db2xvclJHQkEoY29sb3JTdHJpbmcsIGFscGhhKVxuXHR7XG5cdFx0dmFyIGNvbG9yQXJyYXkgPSBGZWF0dXJlTGF5ZXIudG9Db2xvckFycmF5KGNvbG9yU3RyaW5nLCBhbHBoYSk7XG5cdFx0cmV0dXJuIG9sLmNvbG9yLmFzU3RyaW5nKGNvbG9yQXJyYXkpO1xuXHR9XG5cblx0dXBkYXRlU2V0RnJvbUtleVNldChrZXlTZXQsIHNldCwgZGlmZilcblx0e1xuXHRcdGlmICghdGhpcy5zb3VyY2UpIHJldHVybjsgLy9IQUNLXG5cdFx0XG5cdFx0bGV0IHdhc0VtcHR5ID0gc2V0LnNpemUgPT09IDA7XG5cblx0XHR0aGlzLmNoYW5nZWRJdGVtcy5jbGVhcigpO1xuXG5cdFx0Zm9yIChsZXQga2V5IG9mIGRpZmYuYWRkZWQpXG5cdFx0e1xuXHRcdFx0c2V0LmFkZChrZXkpO1xuXHRcdFx0dGhpcy5jaGFuZ2VkSXRlbXMuYWRkKGtleSk7XG5cdFx0fVxuXG5cdFx0Zm9yIChsZXQga2V5IG9mIGRpZmYucmVtb3ZlZClcblx0XHR7XG5cdFx0XHRzZXQuZGVsZXRlKGtleSk7XG5cdFx0XHR0aGlzLmNoYW5nZWRJdGVtcy5hZGQoa2V5KTtcblx0XHR9XG5cblx0XHRsZXQgaXNFbXB0eSA9IHNldC5zaXplID09PSAwO1xuXG5cdFx0LyogSWYgYSBzZXQgYmVjb21lcyBlbXB0eSBvciBub25lbXB0eSwgd2Ugc2hvdWxkIHJlY29tcHV0ZSBhbGwgdGhlIHN0eWxlcy4gT3RoZXJ3aXNlLCBvbmx5IHJlY29tcHV0ZSB0aGUgc3R5bGVzIG9mIHRoZSBmZWF0dXJlcyB3aGljaCBjaGFuZ2VkLiAqL1xuXHRcdGlmIChpc0VtcHR5ICE9PSB3YXNFbXB0eSlcblx0XHR7XG5cdFx0XHR0aGlzLnVwZGF0ZU1ldGFTdHlsZXMoKTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdHRoaXMuY2hhbmdlZEl0ZW1zLmZvckVhY2goZnVuY3Rpb24gKGZlYXR1cmVJZClcblx0XHRcdHtcblx0XHRcdFx0bGV0IGZlYXR1cmUgPSB0aGlzLnNvdXJjZS5nZXRGZWF0dXJlQnlJZChmZWF0dXJlSWQpO1xuXHRcdFx0XHRpZiAoZmVhdHVyZSlcblx0XHRcdFx0e1xuXHRcdFx0XHRcdHRoaXMudXBkYXRlTWV0YVN0eWxlKGZlYXR1cmUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCB0aGlzKTtcblx0XHR9XG5cdH1cblxuXHR1cGRhdGVGaWx0ZXJlZEtleVNldCgpXG5cdHtcblx0XHRpZiAoIXRoaXMuc291cmNlKSByZXR1cm47IC8vSEFDS1xuXHRcdFxuXHRcdGxldCBzb3VyY2VLZXlzID0gdGhpcy5zb3VyY2UuZ2V0RmVhdHVyZXMoKS5tYXAoZmVhdHVyZSA9PiBmZWF0dXJlLmdldElkKCkpO1xuXG5cdFx0dGhpcy5maWx0ZXJlZFNldC5jbGVhcigpO1xuXG5cdFx0dmFyIGZpbHRlcmVkS2V5cyA9IHRoaXMuZmlsdGVyZWRLZXlTZXQuZmlsdGVyS2V5cyhzb3VyY2VLZXlzKTtcblx0XHRmb3IgKGxldCBrZXkgb2YgZmlsdGVyZWRLZXlzKVxuXHRcdHtcblx0XHRcdHRoaXMuZmlsdGVyZWRTZXQuYWRkKGtleSk7XG5cdFx0fVxuXG5cdFx0dGhpcy51cGRhdGVNZXRhU3R5bGVzKCk7XG5cdH1cblxuXHR1cGRhdGVNZXRhU3R5bGVzKClcblx0e1xuXHRcdGlmICghdGhpcy5zb3VyY2UpIHJldHVybjsgLy9IQUNLXG5cdFx0XG5cdFx0dGhpcy50ZW1wU2VsZWN0YWJsZSA9IHRoaXMuc2V0dGluZ3NQYXRoLnB1c2goXCJzZWxlY3RhYmxlXCIpLmdldFN0YXRlKCk7XG5cblx0XHR0aGlzLnNvdXJjZS5mb3JFYWNoRmVhdHVyZSh0aGlzLnVwZGF0ZU1ldGFTdHlsZSwgdGhpcyk7XG5cdH1cblxuXHR1cGRhdGVNZXRhU3R5bGVfdW5ib3VuZChmZWF0dXJlKVxuXHR7XG5cdFx0bGV0IGlkID0gZmVhdHVyZS5nZXRJZCgpO1xuXHRcdGxldCBudWxsU3R5bGUgPSBuZXcgb2wuc3R5bGUuU3R5bGUoe30pO1xuXHRcdGxldCB1bnNlbGVjdGVkU3R5bGUgPSBmZWF0dXJlLmdldChcInVuc2VsZWN0ZWRTdHlsZVwiKSB8fCBudWxsU3R5bGU7XG5cdFx0bGV0IG5vcm1hbFN0eWxlID0gZmVhdHVyZS5nZXQoXCJub3JtYWxTdHlsZVwiKSB8fCBudWxsU3R5bGU7XG5cdFx0bGV0IHNlbGVjdGVkU3R5bGUgPSBmZWF0dXJlLmdldChcInNlbGVjdGVkU3R5bGVcIikgfHwgbnVsbFN0eWxlO1xuXHRcdGxldCBwcm9iZWRTdHlsZSA9IGZlYXR1cmUuZ2V0KFwicHJvYmVkU3R5bGVcIikgfHwgbnVsbFN0eWxlO1xuXHRcdGxldCB6T3JkZXIgPSBmZWF0dXJlLmdldChcInpPcmRlclwiKSB8fCAwO1xuXHRcdGxldCByZXBsYWNlID0gZmVhdHVyZS5nZXQoXCJyZXBsYWNlXCIpO1xuXHRcdGxldCBuZXdTdHlsZTtcblxuXHRcdGlmICghdGhpcy5maWx0ZXJlZFNldC5oYXMoaWQpKVxuXHRcdHtcblx0XHRcdGZlYXR1cmUuc2V0U3R5bGUobnVsbFN0eWxlKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRpZiAoIXRoaXMudGVtcFNlbGVjdGFibGUpXG5cdFx0e1xuXHRcdFx0ZmVhdHVyZS5zZXRTdHlsZShub3JtYWxTdHlsZSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLnNlbGVjdGVkU2V0LmhhcyhpZCkgJiYgIXRoaXMucHJvYmVkU2V0LmhhcyhpZCkgJiYgdGhpcy5zZWxlY3RlZFNldC5zaXplID4gMClcblx0XHR7XG5cdFx0XHRpZiAocmVwbGFjZSlcblx0XHRcdHtcblx0XHRcdFx0bmV3U3R5bGUgPSB1bnNlbGVjdGVkU3R5bGU7XG5cdFx0XHRcdG5ld1N0eWxlLnNldFpJbmRleCh6T3JkZXIpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0e1xuXHRcdFx0XHRuZXdTdHlsZSA9IFtdLmNvbmNhdCh1bnNlbGVjdGVkU3R5bGUpO1xuXHRcdFx0XHRuZXdTdHlsZVswXS5zZXRaSW5kZXgoek9yZGVyKTtcblx0XHRcdH1cblxuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0bmV3U3R5bGUgPSBbXS5jb25jYXQobm9ybWFsU3R5bGUpO1xuXHRcdFx0bmV3U3R5bGVbMF0uc2V0WkluZGV4KHpPcmRlcik7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuc2VsZWN0ZWRTZXQuaGFzKGlkKSlcblx0XHR7XG5cdFx0XHRpZiAocmVwbGFjZSlcblx0XHRcdHtcblx0XHRcdFx0bmV3U3R5bGUgPSBzZWxlY3RlZFN0eWxlO1xuXHRcdFx0XHRuZXdTdHlsZS5zZXRaSW5kZXgoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgLSAzKTtcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0bmV3U3R5bGUgPSBuZXdTdHlsZS5jb25jYXQoc2VsZWN0ZWRTdHlsZSk7XG5cdFx0XHRcdG5ld1N0eWxlWzBdLnNldFpJbmRleChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiAtIDMpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmICh0aGlzLnByb2JlZFNldC5oYXMoaWQpKVxuXHRcdHtcblx0XHRcdGlmIChyZXBsYWNlKVxuXHRcdFx0e1xuXHRcdFx0XHRuZXdTdHlsZSA9IHByb2JlZFN0eWxlO1xuXHRcdFx0XHRuZXdTdHlsZS5zZXRaSW5kZXgoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0e1xuXHRcdFx0XHRuZXdTdHlsZSA9IG5ld1N0eWxlLmNvbmNhdChwcm9iZWRTdHlsZSk7XG5cdFx0XHRcdG5ld1N0eWxlWzBdLnNldFpJbmRleChOdW1iZXIuTUFYX1NBRkVfSU5URUdFUik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZmVhdHVyZS5zZXRTdHlsZShuZXdTdHlsZSk7XG5cdH1cblxuXHRzdGF0aWMgb2xGaWxsRnJvbVdlYXZlRmlsbChmaWxsLCBmYWRlPylcblx0e1xuXHRcdGlmIChmYWRlID09PSB1bmRlZmluZWQpIGZhZGUgPSAxO1xuXG5cdFx0bGV0IGNvbG9yID0gZmlsbC5jb2xvciAmJiBGZWF0dXJlTGF5ZXIudG9Db2xvckFycmF5KGZpbGwuY29sb3IsIGZpbGwuYWxwaGEgKiBmYWRlKSB8fCBbMCwgMCwgMCwgMF07XG5cdFx0cmV0dXJuIG5ldyBvbC5zdHlsZS5GaWxsKHtjb2xvcn0pO1xuXHR9XG5cblx0c3RhdGljIG9sU3Ryb2tlRnJvbVdlYXZlU3Ryb2tlKHN0cm9rZTphbnksIGZhZGU/Om51bWJlcilcblx0e1xuXHRcdGlmIChmYWRlID09PSB1bmRlZmluZWQpIGZhZGUgPSAxO1xuXG5cdFx0bGV0IGNvbG9yOkFycmF5PG51bWJlcj4gPSBzdHJva2UuY29sb3IgJiYgRmVhdHVyZUxheWVyLnRvQ29sb3JBcnJheShzdHJva2UuY29sb3IsIHN0cm9rZS5hbHBoYSAqIGZhZGUpIHx8IFswLCAwLCAwLCAxXTtcblxuXHRcdGxldCBsaW5lQ2FwOnN0cmluZyA9IHN0cm9rZS5saW5lQ2FwID09PSBcIm5vbmVcIiA/IFwiYnV0dFwiIDogc3Ryb2tlLmxpbmVDYXAgfHwgXCJyb3VuZFwiO1xuXHRcdGxldCBsaW5lSm9pbjpzdHJpbmcgPSBzdHJva2UubGluZUpvaW4gPT09IG51bGwgPyBcInJvdW5kXCIgOiBzdHJva2UubGluZUpvaW4gfHwgXCJyb3VuZFwiO1xuXHRcdGxldCBtaXRlckxpbWl0Om51bWJlciA9IE51bWJlcihzdHJva2UubWl0ZXJMaW1pdCk7XG5cdFx0bGV0IHdpZHRoOm51bWJlciA9IE51bWJlcihzdHJva2Uud2VpZ2h0KTtcblxuXHRcdHJldHVybiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtjb2xvciwgbGluZUNhcCwgbGluZUpvaW4sIG1pdGVyTGltaXQsIHdpZHRofSk7XG5cdH1cblxuXHRzdGF0aWMgZ2V0T2xQcm9iZWRTdHlsZShiYXNlU3Ryb2tlU3R5bGUpXG5cdHtcblx0XHRsZXQgd2lkdGggPSBiYXNlU3Ryb2tlU3R5bGUuZ2V0V2lkdGgoKTtcblxuXHRcdHJldHVybiBbXG5cdFx0XHRcdG5ldyBvbC5zdHlsZS5TdHlsZSh7XG5cdFx0XHRcdFx0c3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcblx0XHRcdFx0XHRcdGNvbG9yOiBbMCwgMCwgMCwgMV0sXG5cdFx0XHRcdFx0XHR3aWR0aDogd2lkdGggKyBGZWF0dXJlTGF5ZXIuUFJPQkVfSEFMT19XSURUSCArIEZlYXR1cmVMYXllci5QUk9CRV9MSU5FX1dJRFRIXG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0ekluZGV4OiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiAtIDJcblx0XHRcdFx0fSksXG5cdFx0XHRcdG5ldyBvbC5zdHlsZS5TdHlsZSh7XG5cdFx0XHRcdFx0c3Ryb2tlOiBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcblx0XHRcdFx0XHRcdGNvbG9yOiBbMjU1LCAyNTUsIDI1NSwgMV0sXG5cdFx0XHRcdFx0XHR3aWR0aDogd2lkdGggKyBGZWF0dXJlTGF5ZXIuUFJPQkVfSEFMT19XSURUSFxuXHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdHpJbmRleDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgLSAxXG5cdFx0XHRcdH0pXG5cdFx0XTtcblx0fVxuXG5cdHN0YXRpYyBnZXRPbFNlbGVjdGlvblN0eWxlKGJhc2VTdHJva2VTdHlsZSlcblx0e1xuXHRcdGxldCB3aWR0aCA9IGJhc2VTdHJva2VTdHlsZS5nZXRXaWR0aCgpO1xuXHRcdGxldCBsaW5lQ2FwID0gYmFzZVN0cm9rZVN0eWxlLmdldExpbmVDYXAoKTtcblx0XHRsZXQgbGluZUpvaW4gPSBiYXNlU3Ryb2tlU3R5bGUuZ2V0TGluZUpvaW4oKTtcblx0XHRsZXQgbWl0ZXJMaW1pdCA9IGJhc2VTdHJva2VTdHlsZS5nZXRNaXRlckxpbWl0KCk7XG5cblx0XHRyZXR1cm4gW25ldyBvbC5zdHlsZS5TdHlsZSh7XG5cdFx0XHRcdHN0cm9rZTogbmV3IG9sLnN0eWxlLlN0cm9rZSh7XG5cdFx0XHRcdFx0Y29sb3I6IFswLCAwLCAwLCAwLjVdLFxuXHRcdFx0XHRcdHdpZHRoOiB3aWR0aCArIEZlYXR1cmVMYXllci5TRUxFQ1RfV0lEVEgsXG5cdFx0XHRcdFx0bGluZUNhcCwgbGluZUpvaW4sIG1pdGVyTGltaXR9KSxcblx0XHRcdFx0ekluZGV4OiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiAtIDRcblx0XHR9KV07XG5cdH1cblxuXHRzdGF0aWMgU0VMRUNUX1dJRFRIOm51bWJlciA9IDU7XG5cdHN0YXRpYyBQUk9CRV9IQUxPX1dJRFRIOm51bWJlciA9IDQ7XG5cdHN0YXRpYyBQUk9CRV9MSU5FX1dJRFRIOm51bWJlciA9IDE7XG5cdHN0YXRpYyBTdHlsZXM6T2JqZWN0ID0ge1xuXHRcdE5PUk1BTDogXCJub3JtYWxTdHlsZVwiLFxuXHRcdFVOU0VMRUNURUQ6IFwidW5zZWxlY3RlZFN0eWxlXCIsIC8qIEZvciB0aGUgY2FzZSB3aGVyZSBhIHNlbGVjdGlvbiBoYXMgYmVlbiBtYWRlIGluIHRoZSBsYXllciBidXQgdGhlIGVsZW1lbnQgaXMgbm90IG9uZSBvZiB0aGVtLiAqL1xuXHRcdFNFTEVDVEVEOiBcInNlbGVjdGVkU3R5bGVcIixcblx0XHRQUk9CRUQ6IFwicHJvYmVkU3R5bGVcIlx0XG5cdH1cbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgTWV0YVN0eWxlUHJvcGVydGllcyB7XG5cdG5vcm1hbFN0eWxlOiBvbC5zdHlsZS5TdHlsZXxBcnJheTxvbC5zdHlsZS5TdHlsZT47XG5cdHVuc2VsZWN0ZWRTdHlsZTogb2wuc3R5bGUuU3R5bGV8QXJyYXk8b2wuc3R5bGUuU3R5bGU+O1xuXHRzZWxlY3RlZFN0eWxlOiBvbC5zdHlsZS5TdHlsZXxBcnJheTxvbC5zdHlsZS5TdHlsZT47XG5cdHByb2JlZFN0eWxlOiBvbC5zdHlsZS5TdHlsZXxBcnJheTxvbC5zdHlsZS5TdHlsZT47XG59O1xuXG5leHBvcnQgZGVmYXVsdCBGZWF0dXJlTGF5ZXI7XG4iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL3R5cGluZ3Mvb3BlbmxheWVycy9vcGVubGF5ZXJzLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuXG5pbXBvcnQgKiBhcyBvbCBmcm9tIFwib3BlbmxheWVyc1wiO1xuaW1wb3J0IHtGZWF0dXJlTGF5ZXIsIE1ldGFTdHlsZVByb3BlcnRpZXN9IGZyb20gXCIuL0ZlYXR1cmVMYXllclwiO1xuaW1wb3J0IExheWVyIGZyb20gXCIuL0xheWVyXCI7XG5cbmRlY2xhcmUgdmFyIHdlYXZlanM6YW55O1xuZGVjbGFyZSB2YXIgV2VhdmU6YW55O1xuXG5jbGFzcyBHZW9tZXRyeUxheWVyIGV4dGVuZHMgRmVhdHVyZUxheWVyIHtcblxuXHRnZW9Kc29uUGFyc2VyOmFueTsgLy9UT0RPIG9sLmZvcm1hdC5HZW9KU09OXG5cdGdlb0NvbHVtblBhdGg6V2VhdmVQYXRoO1xuXHRmaWxsU3R5bGVQYXRoOldlYXZlUGF0aDtcblx0bGluZVN0eWxlUGF0aDpXZWF2ZVBhdGg7XG5cblx0Y29uc3RydWN0b3IocGFyZW50LCBsYXllck5hbWUpXG5cdHtcblx0XHRzdXBlcihwYXJlbnQsIGxheWVyTmFtZSk7XG5cblx0XHR0aGlzLmdlb0pzb25QYXJzZXIgPSBuZXcgb2wuZm9ybWF0Lkdlb0pTT04oKTtcblxuXHRcdHRoaXMuZ2VvQ29sdW1uUGF0aCA9IHRoaXMubGF5ZXJQYXRoLnB1c2goXCJnZW9tZXRyeUNvbHVtblwiKTtcblx0XHR0aGlzLmZpbGxTdHlsZVBhdGggPSB0aGlzLmxheWVyUGF0aC5wdXNoKFwiZmlsbFwiKTtcblx0XHR0aGlzLmxpbmVTdHlsZVBhdGggPSB0aGlzLmxheWVyUGF0aC5wdXNoKFwibGluZVwiKTtcblxuXHRcdHRoaXMuZ2VvQ29sdW1uUGF0aC5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLnVwZGF0ZUdlb21ldHJ5RGF0YSwgdHJ1ZSk7XG5cdFx0dGhpcy5wcm9qZWN0aW9uUGF0aC5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLnVwZGF0ZUdlb21ldHJ5RGF0YSwgdHJ1ZSk7XG5cblx0XHR0aGlzLmZpbGxTdHlsZVBhdGguYWRkQ2FsbGJhY2sodGhpcywgdGhpcy51cGRhdGVTdHlsZURhdGEpO1xuXHRcdHRoaXMubGluZVN0eWxlUGF0aC5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLnVwZGF0ZVN0eWxlRGF0YSwgdHJ1ZSk7XG5cdFx0dGhpcy5maWx0ZXJlZEtleVNldC5nZXRPYmplY3QoKS5zZXRDb2x1bW5LZXlTb3VyY2VzKFt0aGlzLmdlb0NvbHVtblBhdGguZ2V0T2JqZWN0KFwiaW50ZXJuYWxEeW5hbWljQ29sdW1uXCIpXSk7XG5cdH1cblxuXHRoYW5kbGVNaXNzaW5nU2Vzc2lvblN0YXRlUHJvcGVydGllcyhuZXdTdGF0ZSlcblx0e1xuXG5cdH1cblxuXHR1cGRhdGVHZW9tZXRyeURhdGEoKVxuXHR7XG5cdFx0dmFyIHByb2plY3Rpb25TcGVjID0gdGhpcy5nZW9Db2x1bW5QYXRoLmdldE9iamVjdChcImludGVybmFsRHluYW1pY0NvbHVtblwiLCBudWxsKS5nZXRNZXRhZGF0YSgncHJvamVjdGlvbicpO1xuXHRcblx0XHR2YXIgb3V0cHV0UHJvamVjdGlvbiA9IHRoaXMucHJvamVjdGlvblBhdGguZ2V0U3RhdGUoKSB8fCBcIkVQU0c6Mzg1N1wiO1xuXHRcdHZhciBpbnB1dFByb2plY3Rpb24gPSBwcm9qZWN0aW9uU3BlYyB8fCBvdXRwdXRQcm9qZWN0aW9uO1xuXG5cdFx0dGhpcy5zb3VyY2UuY2xlYXIoKTtcblxuXHRcdHZhciBrZXlzID0gdGhpcy5nZW9Db2x1bW5QYXRoLnB1c2goJ2ludGVybmFsRHluYW1pY0NvbHVtbicpLmdldEtleXMoKTtcblx0XHR2YXIgaWRjID0gdGhpcy5nZW9Db2x1bW5QYXRoLmdldE9iamVjdChcImludGVybmFsRHluYW1pY0NvbHVtblwiKTtcblx0XHR2YXIgcmF3R2VvbWV0cmllcyA9IHdlYXZlanMuZGF0YS5Db2x1bW5VdGlscy5nZXRHZW9Kc29uR2VvbWV0cmllcyhpZGMsIGlkYy5rZXlzKTtcblxuXHRcdGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGtleXMubGVuZ3RoOyBpZHgrKylcblx0XHR7XG5cdFx0XHRsZXQgaWQgPSBrZXlzW2lkeF07XG5cblx0XHRcdGxldCBnZW9tZXRyeSA9IHRoaXMuZ2VvSnNvblBhcnNlci5yZWFkR2VvbWV0cnkocmF3R2VvbWV0cmllc1tpZHhdLCB7ZGF0YVByb2plY3Rpb246IGlucHV0UHJvamVjdGlvbiwgZmVhdHVyZVByb2plY3Rpb246IG91dHB1dFByb2plY3Rpb259KTtcblxuXHRcdFx0bGV0IGZlYXR1cmUgPSBuZXcgb2wuRmVhdHVyZSh7Z2VvbWV0cnl9KTtcblx0XHRcdGZlYXR1cmUuc2V0SWQoaWQpO1xuXG5cdFx0XHR0aGlzLnNvdXJjZS5hZGRGZWF0dXJlKGZlYXR1cmUpO1xuXHRcdH1cblxuXHRcdHRoaXMudXBkYXRlU3R5bGVEYXRhKCk7XG5cdFx0dGhpcy51cGRhdGVGaWx0ZXJlZEtleVNldCgpO1xuXHR9XG5cblx0Z2V0VG9vbFRpcENvbHVtbnMoKTogQXJyYXk8YW55PiAvKiBBcnJheTxJQXR0cmlidXRlQ29sdW1uPiAqL1xuXHR7XG5cdFx0bGV0IGFkZGl0aW9uYWxDb2x1bW5zOiBBcnJheTxhbnk+ID0gbmV3IEFycmF5PGFueT4oKTtcblxuXHRcdGZvciAobGV0IGNvbHVtbiBvZiB0aGlzLmZpbGxTdHlsZVBhdGguZ2V0Q2hpbGRyZW4oKS5jb25jYXQodGhpcy5saW5lU3R5bGVQYXRoLmdldENoaWxkcmVuKCkpKVxuXHRcdHtcblx0XHRcdGxldCBpbnRlcm5hbENvbHVtbiA9IHdlYXZlanMuZGF0YS5Db2x1bW5VdGlscy5oYWNrX2ZpbmRJbnRlcm5hbER5bmFtaWNDb2x1bW4oY29sdW1uLmdldE9iamVjdCgpKTtcblx0XHRcdGlmIChpbnRlcm5hbENvbHVtbilcblx0XHRcdFx0YWRkaXRpb25hbENvbHVtbnMucHVzaChpbnRlcm5hbENvbHVtbik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFkZGl0aW9uYWxDb2x1bW5zO1xuXHR9XG5cblxuXHR1cGRhdGVTdHlsZURhdGEoKVxuXHR7XG5cdFx0bGV0IGZpbGxFbmFibGVkID0gdGhpcy5maWxsU3R5bGVQYXRoLnB1c2goXCJlbmFibGVcIikuZ2V0U3RhdGUoKTtcblx0XHRsZXQgc3Ryb2tlRW5hYmxlZCA9IHRoaXMubGluZVN0eWxlUGF0aC5wdXNoKFwiZW5hYmxlXCIpLmdldFN0YXRlKCk7XG5cblx0XHR2YXIgc3R5bGVSZWNvcmRzID0gdGhpcy5sYXllclBhdGgucmV0cmlldmVSZWNvcmRzKHtcblx0XHRcdGZpbGw6IHtcblx0XHRcdFx0Y29sb3I6IHRoaXMuZmlsbFN0eWxlUGF0aC5wdXNoKFwiY29sb3JcIiksXG5cdFx0XHRcdGFscGhhOiB0aGlzLmZpbGxTdHlsZVBhdGgucHVzaChcImFscGhhXCIpLFxuXHRcdFx0XHRpbWFnZVVSTDogdGhpcy5maWxsU3R5bGVQYXRoLnB1c2goXCJpbWFnZVVSTFwiKVxuXHRcdFx0fSxcblx0XHRcdHN0cm9rZToge1xuXHRcdFx0XHRjb2xvcjogdGhpcy5saW5lU3R5bGVQYXRoLnB1c2goXCJjb2xvclwiKSxcblx0XHRcdFx0YWxwaGE6IHRoaXMubGluZVN0eWxlUGF0aC5wdXNoKFwiYWxwaGFcIiksXG5cdFx0XHRcdHdlaWdodDogdGhpcy5saW5lU3R5bGVQYXRoLnB1c2goXCJ3ZWlnaHRcIiksXG5cdFx0XHRcdGxpbmVDYXA6IHRoaXMubGluZVN0eWxlUGF0aC5wdXNoKFwiY2Fwc1wiKSxcblx0XHRcdFx0bGluZUpvaW46IHRoaXMubGluZVN0eWxlUGF0aC5wdXNoKFwiam9pbnRzXCIpLFxuXHRcdFx0XHRtaXRlckxpbWl0OiB0aGlzLmxpbmVTdHlsZVBhdGgucHVzaChcIm1pdGVyTGltaXRcIilcblx0XHRcdH1cblx0XHR9LCB0aGlzLmdlb0NvbHVtblBhdGgucHVzaChcImludGVybmFsRHluYW1pY0NvbHVtblwiKSk7XG5cblx0XHRmb3IgKGxldCByZWNvcmQgb2Ygc3R5bGVSZWNvcmRzKVxuXHRcdHtcblx0XHRcdGxldCBvbFN0cm9rZSA9IEZlYXR1cmVMYXllci5vbFN0cm9rZUZyb21XZWF2ZVN0cm9rZShyZWNvcmQuc3Ryb2tlKTtcblx0XHRcdGxldCBvbEZpbGwgPSBGZWF0dXJlTGF5ZXIub2xGaWxsRnJvbVdlYXZlRmlsbChyZWNvcmQuZmlsbCk7XG5cblx0XHRcdGxldCBvbFN0cm9rZUZhZGVkID0gRmVhdHVyZUxheWVyLm9sU3Ryb2tlRnJvbVdlYXZlU3Ryb2tlKHJlY29yZC5zdHJva2UsIDAuNSk7XG5cdFx0XHRsZXQgb2xGaWxsRmFkZWQgPSBGZWF0dXJlTGF5ZXIub2xGaWxsRnJvbVdlYXZlRmlsbChyZWNvcmQuZmlsbCwgMC41KTtcblxuXHRcdFx0bGV0IG5vcm1hbFN0eWxlID0gW25ldyBvbC5zdHlsZS5TdHlsZSh7XG5cdFx0XHRcdGZpbGw6IGZpbGxFbmFibGVkID8gb2xGaWxsIDogdW5kZWZpbmVkLFxuXHRcdFx0XHRzdHJva2U6IHN0cm9rZUVuYWJsZWQgPyBvbFN0cm9rZSA6IHVuZGVmaW5lZCxcblx0XHRcdFx0ekluZGV4OiAwXG5cdFx0XHR9KV07XG5cblx0XHRcdGxldCB1bnNlbGVjdGVkU3R5bGUgPSBbbmV3IG9sLnN0eWxlLlN0eWxlKHtcblx0XHRcdFx0ZmlsbDogZmlsbEVuYWJsZWQgPyBvbEZpbGwgOiB1bmRlZmluZWQsXG5cdFx0XHRcdHN0cm9rZTogc3Ryb2tlRW5hYmxlZCA/IG9sU3Ryb2tlRmFkZWQgOiB1bmRlZmluZWQsXG5cdFx0XHRcdHpJbmRleDogMFxuXHRcdFx0fSldO1xuXG5cdFx0XHRsZXQgc2VsZWN0ZWRTdHlsZSA9IChzdHJva2VFbmFibGVkIHx8IGZpbGxFbmFibGVkKSAmJiBGZWF0dXJlTGF5ZXIuZ2V0T2xTZWxlY3Rpb25TdHlsZShvbFN0cm9rZSk7XG5cdFx0XHRsZXQgcHJvYmVkU3R5bGUgPSAoc3Ryb2tlRW5hYmxlZCB8fCBmaWxsRW5hYmxlZCkgJiYgRmVhdHVyZUxheWVyLmdldE9sUHJvYmVkU3R5bGUob2xTdHJva2UpO1xuXG5cdFx0XHRsZXQgZmVhdHVyZSA9IHRoaXMuc291cmNlLmdldEZlYXR1cmVCeUlkKHJlY29yZC5pZCk7XG5cblx0XHRcdGlmIChmZWF0dXJlKVxuXHRcdFx0e1xuXHRcdFx0XHRsZXQgbWV0YVN0eWxlOmFueSA9IHt9O1xuXHRcdFx0XHRcblx0XHRcdFx0bWV0YVN0eWxlLm5vcm1hbFN0eWxlID0gbm9ybWFsU3R5bGU7XG5cdFx0XHRcdG1ldGFTdHlsZS51bnNlbGVjdGVkU3R5bGUgPSB1bnNlbGVjdGVkU3R5bGU7XG5cdFx0XHRcdG1ldGFTdHlsZS5zZWxlY3RlZFN0eWxlID0gc2VsZWN0ZWRTdHlsZTtcblx0XHRcdFx0bWV0YVN0eWxlLnByb2JlZFN0eWxlID0gcHJvYmVkU3R5bGU7XG5cblx0XHRcdFx0ZmVhdHVyZS5zZXRQcm9wZXJ0aWVzKG1ldGFTdHlsZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59XG5cbkxheWVyLnJlZ2lzdGVyQ2xhc3MoXCJ3ZWF2ZS52aXN1YWxpemF0aW9uLnBsb3R0ZXJzOjpHZW9tZXRyeVBsb3R0ZXJcIiwgR2VvbWV0cnlMYXllciwgW3dlYXZlanMuYXBpLmNvcmUuSUxpbmthYmxlT2JqZWN0V2l0aE5ld1Byb3BlcnRpZXNdKTtcbmV4cG9ydCBkZWZhdWx0IEdlb21ldHJ5TGF5ZXI7XG4iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL3R5cGluZ3Mvb3BlbmxheWVycy9vcGVubGF5ZXJzLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuXG5pbXBvcnQgRmVhdHVyZUxheWVyIGZyb20gXCIuL0ZlYXR1cmVMYXllclwiO1xuaW1wb3J0ICogYXMgbG9kYXNoIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCAqIGFzIG9sIGZyb20gXCJvcGVubGF5ZXJzXCI7XG5cbmFic3RyYWN0IGNsYXNzIEdseXBoTGF5ZXIgZXh0ZW5kcyBGZWF0dXJlTGF5ZXIge1xuXG5cdGNvbnN0cnVjdG9yKHBhcmVudCwgbGF5ZXJOYW1lKVxuXHR7XG5cdFx0c3VwZXIocGFyZW50LCBsYXllck5hbWUpO1xuXG5cdFx0dGhpcy5wcm9qZWN0aW9uUGF0aC5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLnVwZGF0ZUxvY2F0aW9ucyk7XG5cdFx0dGhpcy5sYXllclBhdGgucHVzaChcInNvdXJjZVByb2plY3Rpb25cIikuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy51cGRhdGVMb2NhdGlvbnMpO1xuXG5cdFx0dGhpcy5sYXllclBhdGgucHVzaChcImRhdGFYXCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMudXBkYXRlTG9jYXRpb25zKTtcblx0XHR0aGlzLmxheWVyUGF0aC5wdXNoKFwiZGF0YVlcIikuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy51cGRhdGVMb2NhdGlvbnMsIHRydWUpO1xuXG5cdFx0dGhpcy5maWx0ZXJlZEtleVNldC5nZXRPYmplY3QoKS5zZXRDb2x1bW5LZXlTb3VyY2VzKFt0aGlzLmxheWVyUGF0aC5wdXNoKFwiZGF0YVhcIikuZ2V0T2JqZWN0KCksIHRoaXMubGF5ZXJQYXRoLnB1c2goXCJkYXRhWVwiKS5nZXRPYmplY3QoKV0pO1xuXHR9XG5cblx0X2dldEZlYXR1cmVJZHMoKSB7XG5cdFx0cmV0dXJuIGxvZGFzaC5tYXAodGhpcy5zb3VyY2UuZ2V0RmVhdHVyZXMoKSwgKGl0ZW06b2wuRmVhdHVyZSkgPT4gaXRlbS5nZXRJZCgpKTtcblx0fVxuXG5cdHN0YXRpYyBfdG9Qb2ludChkYXR1bSwgZmllbGQxLCBmaWVsZDIpIHtcblx0XHRpZiAodHlwZW9mIGRhdHVtID09PSBcIm9iamVjdFwiKVxuXHRcdHtcblx0XHRcdGxldCBmaXJzdFBvbHkgPSBkYXR1bVswXTtcblx0XHRcdHJldHVybiAoZmlyc3RQb2x5LmJvdW5kc1tmaWVsZDFdICsgZmlyc3RQb2x5LmJvdW5kc1tmaWVsZDJdKSAvIDI7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHRyZXR1cm4gZGF0dW07XG5cdFx0fVxuXHR9XG5cblx0dXBkYXRlTG9jYXRpb25zKCkge1xuXHRcdC8qIFVwZGF0ZSBmZWF0dXJlIGxvY2F0aW9ucyAqL1xuXHRcdHZhciByZWNvcmRzID0gdGhpcy5sYXllclBhdGgucmV0cmlldmVSZWNvcmRzKFtcImRhdGFYXCIsIFwiZGF0YVlcIl0sIHRoaXMubGF5ZXJQYXRoLnB1c2goXCJkYXRhWFwiKSk7XG5cblx0XHR2YXIgcmVjb3JkSWRzID0gbG9kYXNoLnBsdWNrKHJlY29yZHMsIFwiaWRcIik7XG5cblx0XHR2YXIgcmVtb3ZlZElkcyA9IGxvZGFzaC5kaWZmZXJlbmNlKHRoaXMuX2dldEZlYXR1cmVJZHMoKSwgcmVjb3JkSWRzKTtcblxuXHRcdHZhciByYXdQcm9qID0gdGhpcy5sYXllclBhdGguZ2V0U3RhdGUoXCJzb3VyY2VQcm9qZWN0aW9uXCIpIHx8IHRoaXMubGF5ZXJQYXRoLmdldE9iamVjdChcImRhdGFYXCIpLmdldE1ldGFkYXRhKFwicHJvamVjdGlvblwiKSB8fCBcIkVQU0c6NDMyNlwiO1xuXHRcdHZhciBtYXBQcm9qID0gdGhpcy5wcm9qZWN0aW9uUGF0aC5nZXRTdGF0ZSgpIHx8IFwiRVBTRzozODU3XCI7XG5cblx0XHRmb3IgKGxldCBpZCBvZiByZW1vdmVkSWRzKVxuXHRcdHtcblx0XHRcdGxldCBmZWF0dXJlID0gdGhpcy5zb3VyY2UuZ2V0RmVhdHVyZUJ5SWQoaWQpO1xuXHRcdFx0dGhpcy5zb3VyY2UucmVtb3ZlRmVhdHVyZShmZWF0dXJlKTtcblx0XHR9XG5cblx0XHRmb3IgKGxldCByZWNvcmQgb2YgcmVjb3Jkcylcblx0XHR7XG5cdFx0XHRsZXQgZmVhdHVyZSA9IHRoaXMuc291cmNlLmdldEZlYXR1cmVCeUlkKHJlY29yZC5pZCk7XG5cblx0XHRcdGlmICghZmVhdHVyZSlcblx0XHRcdHtcblx0XHRcdFx0ZmVhdHVyZSA9IG5ldyBvbC5GZWF0dXJlKHt9KTtcblx0XHRcdFx0ZmVhdHVyZS5zZXRJZChyZWNvcmQuaWQpO1xuXHRcdFx0XHR0aGlzLnNvdXJjZS5hZGRGZWF0dXJlKGZlYXR1cmUpO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgZGF0YVgsIGRhdGFZO1xuXG5cdFx0XHRkYXRhWCA9IEdseXBoTGF5ZXIuX3RvUG9pbnQocmVjb3JkLmRhdGFYLCBcInhNaW5cIiwgXCJ4TWF4XCIpO1xuXHRcdFx0ZGF0YVkgPSBHbHlwaExheWVyLl90b1BvaW50KHJlY29yZC5kYXRhWSwgXCJ5TWluXCIsIFwieU1heFwiKTtcblxuXHRcdFx0bGV0IHBvaW50ID0gbmV3IG9sLmdlb20uUG9pbnQoW2RhdGFYLCBkYXRhWV0pO1xuXHRcdFx0cG9pbnQudHJhbnNmb3JtKHJhd1Byb2osIG1hcFByb2opO1xuXHRcdFx0ZmVhdHVyZS5zZXRHZW9tZXRyeShwb2ludCk7XG5cdFx0fVxuXHRcdHRoaXMudXBkYXRlRmlsdGVyZWRLZXlTZXQoKTtcblx0XHR0aGlzLnVwZGF0ZVN0eWxlRGF0YSgpO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdseXBoTGF5ZXI7XG4iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL3R5cGluZ3Mvb3BlbmxheWVycy9vcGVubGF5ZXJzLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuXG5pbXBvcnQganF1ZXJ5IGZyb20gXCJqcXVlcnlcIjtcblxuY2xhc3MgTWFwMkQ8SzEsSzIsRD4ge1xuXHRwcml2YXRlIF9tYXA6TWFwPEsxLE1hcDxLMixEPj47XG5cdGNvbnN0cnVjdG9yKClcblx0e1xuXHRcdHRoaXMuX21hcCA9IG5ldyBNYXAoKTtcblx0fVxuXG5cdGdldChmaXJzdEtleSwgc2Vjb25kS2V5KVxuXHR7XG5cdFx0bGV0IHNlY29uZE1hcCA9IHRoaXMuX21hcC5nZXQoZmlyc3RLZXkpO1xuXHRcdHJldHVybiBzZWNvbmRNYXAgJiYgc2Vjb25kTWFwLmdldChzZWNvbmRLZXkpO1xuXHR9XG5cblx0c2V0KGZpcnN0S2V5LCBzZWNvbmRLZXksIHZhbHVlKVxuXHR7XG5cdFx0bGV0IHNlY29uZE1hcCA9IHRoaXMuX21hcC5nZXQoZmlyc3RLZXkpO1xuXHRcdGlmICghc2Vjb25kTWFwKVxuXHRcdHtcblx0XHRcdHNlY29uZE1hcCA9IG5ldyBNYXAoKTtcblx0XHRcdHRoaXMuX21hcC5zZXQoZmlyc3RLZXksIHNlY29uZE1hcCk7XG5cdFx0fVxuXG5cdFx0c2Vjb25kTWFwLnNldChzZWNvbmRLZXksIHZhbHVlKTtcblx0fVxufVxuY2xhc3MgSW1hZ2VHbHlwaENhY2hlIHtcblx0cHJpdmF0ZSBiYXNlSW1hZ2VFbGVtZW50czpNYXA8c3RyaW5nLEhUTUxJbWFnZUVsZW1lbnQ+O1xuXHRwcml2YXRlIGNhbnZhc01hcDpNYXAyRDxzdHJpbmcsc3RyaW5nLEhUTUxDYW52YXNFbGVtZW50Pjtcblx0cHJpdmF0ZSBpbWFnZU1hcDpNYXAyRDxzdHJpbmcsc3RyaW5nLEhUTUxJbWFnZUVsZW1lbnQ+O1xuXG5cdGNvbnN0cnVjdG9yKClcblx0e1xuXHRcdHRoaXMuYmFzZUltYWdlRWxlbWVudHMgPSBuZXcgTWFwKCk7XG5cdFx0dGhpcy5jYW52YXNNYXAgPSBuZXcgTWFwMkQ8c3RyaW5nLHN0cmluZyxIVE1MQ2FudmFzRWxlbWVudD4oKTtcblx0XHR0aGlzLmltYWdlTWFwID0gbmV3IE1hcDJEPHN0cmluZyxzdHJpbmcsSFRNTEltYWdlRWxlbWVudD4oKTtcblx0fVxuXG5cdHJlcXVlc3RCYXNlSW1hZ2VFbGVtZW50KHVybCwgY2FsbGJhY2spXG5cdHtcblx0XHRsZXQgaW1hZ2VFbGVtZW50ID0gdGhpcy5iYXNlSW1hZ2VFbGVtZW50cy5nZXQodXJsKTtcblxuXHRcdGlmICghaW1hZ2VFbGVtZW50KVxuXHRcdHtcblx0XHRcdGltYWdlRWxlbWVudCA9IG5ldyBJbWFnZSgpO1xuXHRcdFx0aW1hZ2VFbGVtZW50LnNyYyA9IHVybDtcblx0XHRcdHRoaXMuYmFzZUltYWdlRWxlbWVudHMuc2V0KHVybCwgaW1hZ2VFbGVtZW50KTtcblx0XHR9XG5cblx0XHRpZiAoaW1hZ2VFbGVtZW50LmNvbXBsZXRlKVxuXHRcdHtcblx0XHRcdGNhbGxiYWNrKGltYWdlRWxlbWVudCk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHRqcXVlcnkoaW1hZ2VFbGVtZW50KS5vbmUoXCJsb2FkXCIsICgpID0+IGNhbGxiYWNrKGltYWdlRWxlbWVudCkpO1xuXHRcdH1cblx0fVxuXG5cdGdldENhY2hlZENhbnZhcyh1cmwsIGNvbG9yKVxuXHR7XG5cdFx0bGV0IGNhbnZhcyA9IHRoaXMuY2FudmFzTWFwLmdldCh1cmwsIGNvbG9yKTtcblx0XHRsZXQgZnJlc2hDYW52YXMgPSBmYWxzZTtcblxuXHRcdGlmICghY2FudmFzKVxuXHRcdHtcblx0XHRcdGZyZXNoQ2FudmFzID0gdHJ1ZTtcblx0XHRcdGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG5cdFx0XHR0aGlzLmNhbnZhc01hcC5zZXQodXJsLCBjb2xvciwgY2FudmFzKTtcblx0XHR9XG5cblx0XHRyZXR1cm4ge2NhbnZhcywgZnJlc2hDYW52YXN9O1xuXHR9XG5cblx0cmVxdWVzdERhdGFVcmwodXJsLCBjb2xvciwgY2FsbGJhY2spXG5cdHtcblx0XHRsZXQge2NhbnZhcywgZnJlc2hDYW52YXN9ID0gdGhpcy5nZXRDYWNoZWRDYW52YXModXJsLCBjb2xvcik7XG5cdFx0LyogSWYgZnJlc2hDYW52YXMgaXMgdHJ1ZSwgdGhpcyBtZWFucyB0aGF0IHdlIGp1c3QgY3JlYXRlZCB0aGUgY2FudmFzIGFuZCBoYXZlbid0IHJlbmRlcmVkIHRvIGl0LiBUaW1lIHRvIGRvIHRoYXQuICovXG5cdFx0aWYgKGZyZXNoQ2FudmFzKVxuXHRcdHtcblx0XHRcdHRoaXMucmVxdWVzdEJhc2VJbWFnZUVsZW1lbnQodXJsLCBmdW5jdGlvbiAoaW1hZ2VFbGVtZW50KSB7XG5cdFx0XHRcdFtjYW52YXMuaGVpZ2h0LCBjYW52YXMud2lkdGhdID0gW2ltYWdlRWxlbWVudC5uYXR1cmFsSGVpZ2h0LCBpbWFnZUVsZW1lbnQubmF0dXJhbFdpZHRoXTtcblx0XHRcdFx0bGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cdFx0XHRcdGN0eC5maWxsU3R5bGUgPSBjb2xvcjtcblx0XHRcdFx0Y3R4LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cblx0XHRcdFx0Y3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwiZGVzdGluYXRpb24tYXRvcFwiO1xuXHRcdFx0XHRjdHguZHJhd0ltYWdlKGltYWdlRWxlbWVudCwgMCwgMCk7XG5cblx0XHRcdFx0Y3R4Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9IFwibXVsdGlwbHlcIjtcblx0XHRcdFx0Y3R4LmRyYXdJbWFnZShpbWFnZUVsZW1lbnQsIDAsIDApO1xuXG5cdFx0XHRcdGNhbGxiYWNrKGNhbnZhcy50b0RhdGFVUkwoKSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdGNhbGxiYWNrKGNhbnZhcy50b0RhdGFVUkwoKSk7XG5cdFx0fVxuXHR9XG5cblx0Z2V0SW1hZ2UodXJsLCBjb2xvcilcblx0e1xuXHRcdGxldCBpbWFnZSA9IHRoaXMuaW1hZ2VNYXAuZ2V0KHVybCwgY29sb3IpO1xuXG5cdFx0aWYgKCFpbWFnZSlcblx0XHR7XG5cdFx0XHRpbWFnZSA9IG5ldyBJbWFnZSgpO1xuXHRcdFx0dGhpcy5yZXF1ZXN0RGF0YVVybCh1cmwsIGNvbG9yLCBmdW5jdGlvbiAoZGF0YVVybCkge1xuXHRcdFx0XHRpbWFnZS5zcmMgPSBkYXRhVXJsO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGltYWdlO1xuXHR9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEltYWdlR2x5cGhDYWNoZTtcbiIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy9vcGVubGF5ZXJzL29wZW5sYXllcnMuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL3R5cGluZ3Mvd2VhdmUvV2VhdmVQYXRoLmQudHNcIi8+XG5cbmltcG9ydCBqcXVlcnkgZnJvbSBcImpxdWVyeVwiO1xuaW1wb3J0ICogYXMgb2wgZnJvbSBcIm9wZW5sYXllcnNcIjtcbmltcG9ydCBHbHlwaExheWVyIGZyb20gXCIuL0dseXBoTGF5ZXJcIjtcbmltcG9ydCBGZWF0dXJlTGF5ZXIgZnJvbSBcIi4vRmVhdHVyZUxheWVyXCI7XG5pbXBvcnQgSW1hZ2VHbHlwaENhY2hlIGZyb20gXCIuL0ltYWdlR2x5cGhDYWNoZVwiO1xuaW1wb3J0IExheWVyIGZyb20gXCIuL0xheWVyXCI7XG5cbmRlY2xhcmUgdmFyIHdlYXZlanM6YW55O1xuZGVjbGFyZSB2YXIgV2VhdmU6YW55O1xuXG5jbGFzcyBJbWFnZUdseXBoTGF5ZXIgZXh0ZW5kcyBHbHlwaExheWVyIHtcblxuXHRwcml2YXRlIGltYWdlR2x5cGhDYWNoZTpJbWFnZUdseXBoQ2FjaGU7XG5cdGNvbnN0cnVjdG9yKHBhcmVudCwgbGF5ZXJOYW1lKVxuXHR7XG5cdFx0c3VwZXIocGFyZW50LCBsYXllck5hbWUpO1xuXG5cdFx0dGhpcy5pbWFnZUdseXBoQ2FjaGUgPSBuZXcgSW1hZ2VHbHlwaENhY2hlKCk7XG5cblx0XHR0aGlzLmxheWVyUGF0aC5wdXNoKFwiaW1hZ2VTaXplXCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMudXBkYXRlU3R5bGVEYXRhKTtcblx0XHR0aGlzLmxheWVyUGF0aC5wdXNoKFwiaW1hZ2VVUkxcIikuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy51cGRhdGVTdHlsZURhdGEsIHRydWUpO1xuXHR9XG5cblx0aGFuZGxlTWlzc2luZ1Nlc3Npb25TdGF0ZVByb3BlcnRpZXMobmV3U3RhdGUpIFxuXHR7XG5cblx0fVxuXG5cdHNldEljb25TdHlsZShmZWF0dXJlLCBpbWcsIGljb25TaXplKVxuXHR7XG5cdFx0bGV0IHN0eWxlczphbnkgPSB7fTtcblxuXHRcdGlmICghaW1nLmNvbXBsZXRlIHx8ICFpbWcuc3JjKVxuXHRcdHtcblx0XHRcdGpxdWVyeShpbWcpLm9uZShcImxvYWRcIiwgdGhpcy5zZXRJY29uU3R5bGUuYmluZCh0aGlzLCBmZWF0dXJlLCBpbWcsIGljb25TaXplKSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0bGV0IG1heERpbSA9IE1hdGgubWF4KGltZy5uYXR1cmFsSGVpZ2h0LCBpbWcubmF0dXJhbFdpZHRoKTtcblxuXHRcdGxldCBzY2FsZSA9IGljb25TaXplIC8gbWF4RGltO1xuXG5cdFx0bGV0IGltZ1NpemUgPSBbaW1nLm5hdHVyYWxXaWR0aCwgaW1nLm5hdHVyYWxIZWlnaHRdO1xuXG5cdFx0Zm9yIChsZXQgc3R5bGVQcmVmaXggb2YgW1wibm9ybWFsXCIsIFwic2VsZWN0ZWRcIiwgXCJwcm9iZWRcIiwgXCJ1bnNlbGVjdGVkXCJdKVxuXHRcdHtcblx0XHRcdGxldCBpY29uO1xuXHRcdFx0aWYgKHN0eWxlUHJlZml4ID09PSBcInByb2JlZFwiKVxuXHRcdFx0e1xuXHRcdFx0XHRpY29uID0gbmV3IG9sLnN0eWxlLkljb24oe2ltZywgaW1nU2l6ZSwgc2NhbGU6IHNjYWxlICogMi4wfSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHR7XG5cdFx0XHRcdGljb24gPSBuZXcgb2wuc3R5bGUuSWNvbih7aW1nLCBpbWdTaXplLCBzY2FsZX0pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoc3R5bGVQcmVmaXggPT09IFwidW5zZWxlY3RlZFwiKVxuXHRcdFx0e1xuXHRcdFx0XHRpY29uLnNldE9wYWNpdHkoMSAvIDMpO1xuXHRcdFx0fVxuXG5cdFx0XHRzdHlsZXNbc3R5bGVQcmVmaXggKyBcIlN0eWxlXCJdID0gbmV3IG9sLnN0eWxlLlN0eWxlKHtpbWFnZTogaWNvbn0pO1xuXHRcdH1cblxuXHRcdHN0eWxlcy5yZXBsYWNlID0gdHJ1ZTtcblxuXHRcdGZlYXR1cmUuc2V0UHJvcGVydGllcyhzdHlsZXMpO1xuXHR9XG5cblx0dXBkYXRlU3R5bGVEYXRhKCkge1xuXHRcdC8qIFVwZGF0ZSBmZWF0dXJlIHN0eWxlcyAqL1xuXG5cdFx0dmFyIHJlY29yZHMgPSB0aGlzLmxheWVyUGF0aC5yZXRyaWV2ZVJlY29yZHMoW1wiYWxwaGFcIiwgXCJjb2xvclwiLCBcImltYWdlVVJMXCIsIFwiaW1hZ2VTaXplXCJdLCB0aGlzLmxheWVyUGF0aC5wdXNoKFwiZGF0YVhcIikpO1xuXG5cdFx0Zm9yIChsZXQgcmVjb3JkIG9mIHJlY29yZHMpXG5cdFx0e1xuXHRcdFx0bGV0IGZlYXR1cmUgPSB0aGlzLnNvdXJjZS5nZXRGZWF0dXJlQnlJZChyZWNvcmQuaWQpO1xuXG5cdFx0XHRpZiAoIWZlYXR1cmUpXG5cdFx0XHR7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgaW1hZ2VTaXplID0gTnVtYmVyKHJlY29yZC5pbWFnZVNpemUpO1xuXHRcdFx0bGV0IGNvbG9yID0gRmVhdHVyZUxheWVyLnRvQ29sb3JSR0JBKHJlY29yZC5jb2xvciwgcmVjb3JkLmFscGhhKTtcblxuXHRcdFx0aWYgKCFyZWNvcmQuaW1hZ2VVUkwpXG5cdFx0XHR7XG5cdFx0XHRcdGZlYXR1cmUuc2V0U3R5bGUobnVsbCk7XG5cdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgaW1nID0gdGhpcy5pbWFnZUdseXBoQ2FjaGUuZ2V0SW1hZ2UocmVjb3JkLmltYWdlVVJMLCBjb2xvcik7XG5cblx0XHRcdHRoaXMuc2V0SWNvblN0eWxlKGZlYXR1cmUsIGltZywgaW1hZ2VTaXplKTtcblx0XHR9XG5cdH1cbn1cblxuTGF5ZXIucmVnaXN0ZXJDbGFzcyhcIndlYXZlLnZpc3VhbGl6YXRpb24ucGxvdHRlcnM6OkltYWdlR2x5cGhQbG90dGVyXCIsIEltYWdlR2x5cGhMYXllciwgW3dlYXZlanMuYXBpLmNvcmUuSUxpbmthYmxlT2JqZWN0V2l0aE5ld1Byb3BlcnRpZXNdKTtcbmV4cG9ydCBkZWZhdWx0IEltYWdlR2x5cGhMYXllcjtcbiIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy9vcGVubGF5ZXJzL29wZW5sYXllcnMuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL3R5cGluZ3Mvd2VhdmUvV2VhdmVQYXRoLmQudHNcIi8+XG5cbmltcG9ydCAqIGFzIG9sIGZyb20gXCJvcGVubGF5ZXJzXCI7XG5pbXBvcnQgKiBhcyBsb2Rhc2ggZnJvbSBcImxvZGFzaFwiO1xuXG5pbXBvcnQgU3RhbmRhcmRMaWIgZnJvbSBcIi4uLy4uLy4uL3V0aWxzL1N0YW5kYXJkTGliXCI7XG5pbXBvcnQge0ZlYXR1cmVMYXllciwgTWV0YVN0eWxlUHJvcGVydGllc30gZnJvbSBcIi4vRmVhdHVyZUxheWVyXCI7XG5pbXBvcnQgR2x5cGhMYXllciBmcm9tIFwiLi9HbHlwaExheWVyXCI7XG5pbXBvcnQgTGF5ZXIgZnJvbSBcIi4vTGF5ZXJcIjtcbmltcG9ydCBPcGVuTGF5ZXJzTWFwVG9vbCBmcm9tIFwiLi4vLi4vT3BlbkxheWVyc01hcFRvb2xcIjtcblxuZGVjbGFyZSB2YXIgV2VhdmU6IGFueTtcbmRlY2xhcmUgdmFyIHdlYXZlanM6IGFueTtcblxuY2xhc3MgTGFiZWxMYXllciBleHRlbmRzIEdseXBoTGF5ZXIge1xuXHRwdWJsaWMgYW5nbGU6IGFueSAvKndlYXZlanMuYXBpLmRhdGEuSUF0dHJpYnV0ZUNvbHVtbiovO1xuXHRwdWJsaWMgYm9sZDogYW55IC8qd2VhdmVqcy5hcGkuZGF0YS5JQXR0cmlidXRlQ29sdW1uKi87XG5cdHB1YmxpYyBjb2xvcjogYW55IC8qd2VhdmVqcy5hcGkuZGF0YS5JQXR0cmlidXRlQ29sdW1uKi87XG5cdHB1YmxpYyBmb250OiBhbnkgLyp3ZWF2ZWpzLmFwaS5kYXRhLklBdHRyaWJ1dGVDb2x1bW4qLztcblx0cHVibGljIGhBbGlnbjogYW55IC8qd2VhdmVqcy5hcGkuZGF0YS5JQXR0cmlidXRlQ29sdW1uKi87XG5cdHB1YmxpYyB2QWxpZ246IGFueSAvKndlYXZlanMuYXBpLmRhdGEuSUF0dHJpYnV0ZUNvbHVtbiovO1xuXHRwdWJsaWMgaXRhbGljOiBhbnkgLyp3ZWF2ZWpzLmFwaS5kYXRhLklBdHRyaWJ1dGVDb2x1bW4qLztcblx0cHVibGljIHNpemU6IGFueSAvKndlYXZlanMuYXBpLmRhdGEuSUF0dHJpYnV0ZUNvbHVtbiovO1xuXHRwdWJsaWMgdGV4dDogYW55IC8qd2VhdmVqcy5hcGkuZGF0YS5JQXR0cmlidXRlQ29sdW1uKi87XG5cdHB1YmxpYyB1bmRlcmxpbmU6IGFueSAvKndlYXZlanMuYXBpLmRhdGEuSUF0dHJpYnV0ZUNvbHVtbiovO1xuXG5cdHByaXZhdGUgY29sdW1uczogTWFwPHN0cmluZyxhbnk+O1xuXG5cblx0Y29uc3RydWN0b3IocGFyZW50Ok9wZW5MYXllcnNNYXBUb29sLCBsYXllck5hbWU6c3RyaW5nKVxuXHR7XG5cdFx0c3VwZXIocGFyZW50LCBsYXllck5hbWUpO1xuXG5cdFx0dGhpcy5zaXplID0gdGhpcy5sYXllclBhdGguZ2V0T2JqZWN0KFwic2l6ZVwiKTtcblx0XHR0aGlzLnRleHQgPSB0aGlzLmxheWVyUGF0aC5nZXRPYmplY3QoXCJ0ZXh0XCIpO1xuXHRcdHRoaXMuY29sb3IgPSB0aGlzLmxheWVyUGF0aC5nZXRPYmplY3QoXCJjb2xvclwiKTtcblxuXHRcdHRoaXMuc2l6ZS5hZGRHcm91cGVkQ2FsbGJhY2sodGhpcywgdGhpcy51cGRhdGVTdHlsZURhdGEpXG5cdFx0dGhpcy50ZXh0LmFkZEdyb3VwZWRDYWxsYmFjayh0aGlzLCB0aGlzLnVwZGF0ZVN0eWxlRGF0YSlcblx0XHR0aGlzLmNvbG9yLmFkZEdyb3VwZWRDYWxsYmFjayh0aGlzLCB0aGlzLnVwZGF0ZVN0eWxlRGF0YSwgdHJ1ZSk7XG5cdH1cblxuXHR1cGRhdGVTdHlsZURhdGEoKTp2b2lkIFxuXHR7XG5cdFx0Zm9yIChsZXQga2V5IG9mIHRoaXMudGV4dC5rZXlzKVxuXHRcdHtcblx0XHRcdGxldCBmZWF0dXJlOiBvbC5GZWF0dXJlID0gdGhpcy5zb3VyY2UuZ2V0RmVhdHVyZUJ5SWQoa2V5LnRvU3RyaW5nKCkpO1xuXHRcdFx0aWYgKCFmZWF0dXJlKVxuXHRcdFx0e1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IHRleHQ6IHN0cmluZyA9IHRoaXMudGV4dC5nZXRWYWx1ZUZyb21LZXkoa2V5LCBTdHJpbmcpO1xuXHRcdFx0bGV0IHNpemU6IG51bWJlciA9IHRoaXMuc2l6ZS5nZXRWYWx1ZUZyb21LZXkoa2V5LCBOdW1iZXIpO1xuXHRcdFx0bGV0IGNvbG9yOiBzdHJpbmcgPSB0aGlzLmNvbG9yLmdldFZhbHVlRnJvbUtleShrZXksIFN0cmluZyk7XG5cdFx0XHRsZXQgZm9udDogc3RyaW5nID0gYCR7c2l6ZX1weCBzYW5zLXNlcmlmYDtcblxuXHRcdFx0bGV0IHRleHRDb2xvcjogc3RyaW5nID0gRmVhdHVyZUxheWVyLnRvQ29sb3JSR0JBKGNvbG9yLCAxKTtcblx0XHRcdGxldCBmYWRlZFRleHRDb2xvcjogc3RyaW5nID0gRmVhdHVyZUxheWVyLnRvQ29sb3JSR0JBKGNvbG9yLCAwLjUpO1xuXG5cdFx0XHRsZXQgc2VsZWN0ZWRTdHJva2U6IG9sLnN0eWxlLlN0cm9rZSA9IG5ldyBvbC5zdHlsZS5TdHJva2Uoe1xuXHRcdFx0XHRjb2xvcjogXCJyZ2JhKDEyOCwxMjgsMTI4LDAuNzUpXCIsIHdpZHRoOiAzXG5cdFx0XHR9KTtcblxuXHRcdFx0bGV0IHByb2JlU3Ryb2tlOm9sLnN0eWxlLlN0cm9rZSA9IG5ldyBvbC5zdHlsZS5TdHJva2Uoe2NvbG9yOiBcIndoaXRlXCIsIHdpZHRoOiAyfSk7XG5cblx0XHRcdGxldCBub3JtYWxGaWxsOiBvbC5zdHlsZS5GaWxsID0gbmV3IG9sLnN0eWxlLkZpbGwoeyBjb2xvcjogdGV4dENvbG9yIH0pO1xuXHRcdFx0bGV0IGZhZGVkRmlsbDogb2wuc3R5bGUuRmlsbCA9IG5ldyBvbC5zdHlsZS5GaWxsKHsgY29sb3I6IGZhZGVkVGV4dENvbG9yIH0pO1xuXHRcblx0XHRcdGxldCBub3JtYWxUZXh0ID0gbmV3IG9sLnN0eWxlLlRleHQoeyB0ZXh0LCBmb250LCBmaWxsOiBub3JtYWxGaWxsIH0pO1xuXHRcdFx0bGV0IHByb2JlZFRleHQgPSBuZXcgb2wuc3R5bGUuVGV4dCh7IHRleHQsIGZvbnQsIGZpbGw6IG5vcm1hbEZpbGwsIHN0cm9rZTogcHJvYmVTdHJva2UgfSk7XG5cdFx0XHRsZXQgc2VsZWN0ZWRUZXh0ID0gbmV3IG9sLnN0eWxlLlRleHQoeyB0ZXh0LCBmb250LCBmaWxsOiBub3JtYWxGaWxsLCBzdHJva2U6IHNlbGVjdGVkU3Ryb2tlIH0pO1xuXHRcdFx0bGV0IHVuc2VsZWN0ZWRUZXh0ID0gbmV3IG9sLnN0eWxlLlRleHQoeyB0ZXh0LCBmb250LCBmaWxsOiBmYWRlZEZpbGwgfSk7XG5cblx0XHRcdGxldCBtZXRhU3R5bGU6IGFueSA9IHt9O1xuXG5cdFx0XHRtZXRhU3R5bGUubm9ybWFsU3R5bGUgPSBuZXcgb2wuc3R5bGUuU3R5bGUoeyB0ZXh0OiBub3JtYWxUZXh0IH0pO1xuXHRcdFx0bWV0YVN0eWxlLnVuc2VsZWN0ZWRTdHlsZSA9IG5ldyBvbC5zdHlsZS5TdHlsZSh7IHRleHQ6IHVuc2VsZWN0ZWRUZXh0IH0pO1xuXHRcdFx0bWV0YVN0eWxlLnNlbGVjdGVkU3R5bGUgPSBuZXcgb2wuc3R5bGUuU3R5bGUoe3RleHQ6IHNlbGVjdGVkVGV4dH0pO1xuXHRcdFx0bWV0YVN0eWxlLnByb2JlZFN0eWxlID0gbmV3IG9sLnN0eWxlLlN0eWxlKHsgdGV4dDogcHJvYmVkVGV4dCB9KTtcblx0XHRcdFxuXHRcdFx0bWV0YVN0eWxlLnJlcGxhY2UgPSB0cnVlO1xuXG5cdFx0XHRmZWF0dXJlLnNldFByb3BlcnRpZXMobWV0YVN0eWxlKTtcblx0XHR9XG5cdH1cbn1cblxuTGF5ZXIucmVnaXN0ZXJDbGFzcyhcIndlYXZlLnZpc3VhbGl6YXRpb24ucGxvdHRlcnM6OlRleHRHbHlwaFBsb3R0ZXJcIiwgTGFiZWxMYXllciwgW3dlYXZlanMuYXBpLmNvcmUuSUxpbmthYmxlT2JqZWN0V2l0aE5ld1Byb3BlcnRpZXNdKTtcbmV4cG9ydCBkZWZhdWx0IExhYmVsTGF5ZXI7XG4iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL3R5cGluZ3Mvb3BlbmxheWVycy9vcGVubGF5ZXJzLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuXG5pbXBvcnQgT3BlbkxheWVyc01hcFRvb2wgZnJvbSBcIi4uLy4uL09wZW5MYXllcnNNYXBUb29sXCI7XG5pbXBvcnQgKiBhcyBsb2Rhc2ggZnJvbSBcImxvZGFzaFwiO1xuZGVjbGFyZSB2YXIgd2VhdmVqczphbnk7XG5kZWNsYXJlIHZhciBXZWF2ZTphbnk7XG5cblxuXG5hYnN0cmFjdCBjbGFzcyBMYXllciB7XG5cdHN0YXRpYyBsYXllclJlZ2lzdHJ5Ok1hcDxzdHJpbmcsYW55Pjtcblx0c3RhdGljIHJlZ2lzdGVyQ2xhc3MoYXNDbGFzc05hbWU6c3RyaW5nLCBqc0NsYXNzOmFueSwgaW50ZXJmYWNlcz86QXJyYXk8YW55Pilcblx0e1xuXHRcdGlmICghTGF5ZXIubGF5ZXJSZWdpc3RyeSlcblx0XHR7XG5cdFx0XHRMYXllci5sYXllclJlZ2lzdHJ5ID0gbmV3IE1hcDxzdHJpbmcsYW55PigpO1xuXHRcdH1cblx0XHRMYXllci5sYXllclJlZ2lzdHJ5LnNldChhc0NsYXNzTmFtZSwganNDbGFzcyk7XG5cdH1cblxuXHRzdGF0aWMgbmV3TGF5ZXIocGFyZW50Ok9wZW5MYXllcnNNYXBUb29sLCBsYXllck5hbWU6c3RyaW5nKVxuXHR7XG5cdFx0bGV0IHBhdGg6V2VhdmVQYXRoID0gcGFyZW50LnBsb3R0ZXJzUGF0aC5wdXNoKGxheWVyTmFtZSk7XG5cdFx0bGV0IGxheWVyVHlwZTpzdHJpbmcgPSBwYXRoLmdldFR5cGUoKTtcblx0XHRsZXQgTGF5ZXJDbGFzczphbnkgPSBMYXllci5sYXllclJlZ2lzdHJ5LmdldChsYXllclR5cGUpO1xuXHRcdGlmIChMYXllckNsYXNzKVxuXHRcdHtcblx0XHRcdHJldHVybiBuZXcgTGF5ZXJDbGFzcyhwYXJlbnQsIGxheWVyTmFtZSk7XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblx0aGFuZGxlTWlzc2luZ1Nlc3Npb25TdGF0ZVByb3BlcnRpZXMobmV3U3RhdGUpXG5cdHtcblxuXHR9XG5cblx0bGF5ZXJQYXRoOldlYXZlUGF0aDtcblx0c2V0dGluZ3NQYXRoOldlYXZlUGF0aDtcblx0cHJvamVjdGlvblBhdGg6V2VhdmVQYXRoO1xuXHRsYXllck5hbWU6c3RyaW5nO1xuXHRwYXJlbnQ6YW55O1xuXG5cdF9vbExheWVyOm9sLmxheWVyLkxheWVyO1xuXHRfbGF5ZXJSZWFkeUNhbGxiYWNrczpNYXA8c3RyaW5nLEZ1bmN0aW9uPjtcblxuXG5cdGNvbnN0cnVjdG9yKHBhcmVudCwgbGF5ZXJOYW1lKVxuXHR7XG5cdFx0dGhpcy5sYXllclBhdGggPSBwYXJlbnQucGxvdHRlcnNQYXRoLnB1c2gobGF5ZXJOYW1lKTtcblx0XHR0aGlzLnNldHRpbmdzUGF0aCA9IHBhcmVudC5sYXllclNldHRpbmdzUGF0aC5wdXNoKGxheWVyTmFtZSk7XG5cdFx0dGhpcy5wcm9qZWN0aW9uUGF0aCA9IHBhcmVudC50b29sUGF0aC5wdXNoKFwicHJvamVjdGlvblNSU1wiKTtcblx0XHR0aGlzLnBhcmVudCA9IHBhcmVudDtcblx0XHR0aGlzLmxheWVyTmFtZSA9IGxheWVyTmFtZTtcblx0XHR0aGlzLl9vbExheWVyID0gbnVsbDtcblx0XHR0aGlzLl9sYXllclJlYWR5Q2FsbGJhY2tzID0gbmV3IE1hcDxzdHJpbmcsRnVuY3Rpb24+KCk7XG5cblx0XHR0aGlzLmxpbmtQcm9wZXJ0eSh0aGlzLnNldHRpbmdzUGF0aC5wdXNoKFwiYWxwaGFcIiksIFwib3BhY2l0eVwiKTtcblx0XHR0aGlzLmxpbmtQcm9wZXJ0eSh0aGlzLnNldHRpbmdzUGF0aC5wdXNoKFwidmlzaWJsZVwiKSwgXCJ2aXNpYmxlXCIpO1xuXHRcdHRoaXMubGlua1Byb3BlcnR5KHRoaXMuc2V0dGluZ3NQYXRoLnB1c2goXCJzZWxlY3RhYmxlXCIpLCBcInNlbGVjdGFibGVcIik7XG5cdFx0LyogVE9ETyBtYXggYW5kIG1pbnZpc2libGVzY2FsZSwgbWFwIHRvIG1pbi9tYXggcmVzb2x1dGlvbi4gKi9cblx0fVxuXG5cdGdldCBzb3VyY2UoKSB7XG5cdFx0cmV0dXJuIHRoaXMub2xMYXllciAmJiB0aGlzLm9sTGF5ZXIuZ2V0U291cmNlKCk7XG5cdH1cblxuXHRzZXQgc291cmNlKHZhbHVlKSB7XG5cdFx0dGhpcy5vbExheWVyLnNldFNvdXJjZSh2YWx1ZSk7XG5cdH1cblxuXHQvKiBIYW5kbGVzIGluaXRpYWwgYXBwbHkgb2YgbGlua2VkIHByb3BlcnRpZXMsIGFkZGluZy9yZW1vdmluZyBmcm9tIG1hcCAqL1xuXHRzZXQgb2xMYXllcih2YWx1ZSkge1xuXHRcdHRoaXMuX29sTGF5ZXIgPSB2YWx1ZTtcblxuXHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0dGhpcy5wYXJlbnQubWFwLmFkZExheWVyKHZhbHVlKTtcblxuXHRcdFx0dmFsdWUuc2V0KFwibGF5ZXJPYmplY3RcIiwgdGhpcyk7IC8qIE5lZWQgdG8gc3RvcmUgdGhpcyBiYWNrcmVmICovXG5cblx0XHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0XHRmb3IgKGxldCBuYW1lIG9mIHRoaXMuX2xheWVyUmVhZHlDYWxsYmFja3Mua2V5cygpKSB7XG5cdFx0XHRcdFx0dGhpcy5fbGF5ZXJSZWFkeUNhbGxiYWNrcy5nZXQobmFtZSkoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdGdldCBvbExheWVyKCkge1xuXHRcdHJldHVybiB0aGlzLl9vbExheWVyO1xuXHR9XG5cblx0bGlua1Byb3BlcnR5KHByb3BlcnR5UGF0aDpXZWF2ZVBhdGgsIHByb3BlcnR5TmFtZTpzdHJpbmcsIGluVHJhbnNmb3JtPzpGdW5jdGlvbilcblx0e1xuXHRcdC8qIGNoYW5nZSBpbiBwYXRoIG1vZGlmeWluZyBwcm9wZXJ0eU5hbWUgKi9cblx0XHRpblRyYW5zZm9ybSA9IGluVHJhbnNmb3JtIHx8IGxvZGFzaC5pZGVudGl0eTtcblxuXHRcdHZhciBjYWxsYmFjayA9ICgpID0+IHtcblx0XHRcdFx0aWYgKHRoaXMub2xMYXllcikge1xuXHRcdFx0XHRcdHRoaXMub2xMYXllci5zZXQocHJvcGVydHlOYW1lLCBpblRyYW5zZm9ybShwcm9wZXJ0eVBhdGguZ2V0U3RhdGUoKSkpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0dGhpcy5fbGF5ZXJSZWFkeUNhbGxiYWNrcy5zZXQocHJvcGVydHlOYW1lLCBjYWxsYmFjayk7XG5cblx0XHRwcm9wZXJ0eVBhdGguYWRkQ2FsbGJhY2sodGhpcywgY2FsbGJhY2ssIGZhbHNlLCBmYWxzZSk7XG5cdH1cblxuXHRkaXNwb3NlKClcblx0e1xuXHRcdGlmICh0aGlzLl9vbExheWVyICE9IG51bGwpIHtcblx0XHRcdHRoaXMucGFyZW50Lm1hcC5yZW1vdmVMYXllcih0aGlzLl9vbExheWVyKTtcblx0XHR9XG5cdH1cbn1cbmV4cG9ydCBkZWZhdWx0IExheWVyO1xuIiwiLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL29wZW5sYXllcnMvb3BlbmxheWVycy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cblxuaW1wb3J0ICogYXMgb2wgZnJvbSBcIm9wZW5sYXllcnNcIjtcbmltcG9ydCAqIGFzIGxvZGFzaCBmcm9tIFwibG9kYXNoXCI7XG5cbmltcG9ydCBTdGFuZGFyZExpYiBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvU3RhbmRhcmRMaWJcIjtcbmltcG9ydCB7RmVhdHVyZUxheWVyLCBNZXRhU3R5bGVQcm9wZXJ0aWVzfSBmcm9tIFwiLi9GZWF0dXJlTGF5ZXJcIjtcbmltcG9ydCBHbHlwaExheWVyIGZyb20gXCIuL0dseXBoTGF5ZXJcIjtcbmltcG9ydCBMYXllciBmcm9tIFwiLi9MYXllclwiO1xuXG5kZWNsYXJlIHZhciBXZWF2ZTphbnk7XG5kZWNsYXJlIHZhciB3ZWF2ZWpzOmFueTtcblxuY2xhc3MgU2NhdHRlclBsb3RMYXllciBleHRlbmRzIEdseXBoTGF5ZXIge1xuXG5cdHNpemVCeTpXZWF2ZVBhdGg7XG5cdGZpbGxTdHlsZVBhdGg6V2VhdmVQYXRoO1xuXHRsaW5lU3R5bGVQYXRoOldlYXZlUGF0aDtcblx0bWF4UmFkaXVzUGF0aDpXZWF2ZVBhdGg7XG5cdG1pblJhZGl1c1BhdGg6V2VhdmVQYXRoO1xuXHRkZWZhdWx0UmFkaXVzUGF0aDpXZWF2ZVBhdGg7XG5cblx0Y29uc3RydWN0b3IocGFyZW50LCBsYXllck5hbWUpXG5cdHtcblx0XHRzdXBlcihwYXJlbnQsIGxheWVyTmFtZSk7XG5cblx0XHR0aGlzLnNpemVCeSA9IHRoaXMubGF5ZXJQYXRoLnB1c2goXCJzaXplQnlcIikuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy51cGRhdGVTdHlsZURhdGEsIHRydWUpO1xuXG5cdFx0dGhpcy5maWxsU3R5bGVQYXRoID0gdGhpcy5sYXllclBhdGgucHVzaChcImZpbGxcIikuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy51cGRhdGVTdHlsZURhdGEpO1xuXHRcdHRoaXMubGluZVN0eWxlUGF0aCA9IHRoaXMubGF5ZXJQYXRoLnB1c2goXCJsaW5lXCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMudXBkYXRlU3R5bGVEYXRhKTtcblx0XHR0aGlzLm1heFJhZGl1c1BhdGggPSB0aGlzLmxheWVyUGF0aC5wdXNoKFwibWF4U2NyZWVuUmFkaXVzXCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMudXBkYXRlU3R5bGVEYXRhKTtcblx0XHR0aGlzLm1pblJhZGl1c1BhdGggPSB0aGlzLmxheWVyUGF0aC5wdXNoKFwibWluU2NyZWVuUmFkaXVzXCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMudXBkYXRlU3R5bGVEYXRhKTtcblxuXHRcdHRoaXMuZGVmYXVsdFJhZGl1c1BhdGggPSB0aGlzLmxheWVyUGF0aC5wdXNoKFwiZGVmYXVsdFNjcmVlblJhZGl1c1wiKS5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLnVwZGF0ZVN0eWxlRGF0YSwgdHJ1ZSk7XG5cdH1cblxuXHRoYW5kbGVNaXNzaW5nU2Vzc2lvblN0YXRlUHJvcGVydGllcyhuZXdTdGF0ZSlcblx0e1xuXG5cdH1cblxuXHRnZXRUb29sVGlwQ29sdW1ucygpOiBBcnJheTxhbnk+IC8qIEFycmF5PElBdHRyaWJ1dGVDb2x1bW4+ICovIHtcblx0XHRsZXQgYWRkaXRpb25hbENvbHVtbnM6IEFycmF5PGFueT4gPSBuZXcgQXJyYXk8YW55PigpO1xuXHRcdGxldCBpbnRlcm5hbENvbHVtbjogYW55O1xuXG5cdFx0Zm9yIChsZXQgY29sdW1uIG9mIHRoaXMuZmlsbFN0eWxlUGF0aC5nZXRDaGlsZHJlbigpLmNvbmNhdCh0aGlzLmxpbmVTdHlsZVBhdGguZ2V0Q2hpbGRyZW4oKSkpIHtcblx0XHRcdGludGVybmFsQ29sdW1uID0gd2VhdmVqcy5kYXRhLkNvbHVtblV0aWxzLmhhY2tfZmluZEludGVybmFsRHluYW1pY0NvbHVtbihjb2x1bW4uZ2V0T2JqZWN0KCkpO1xuXHRcdFx0aWYgKGludGVybmFsQ29sdW1uKVxuXHRcdFx0XHRhZGRpdGlvbmFsQ29sdW1ucy5wdXNoKGludGVybmFsQ29sdW1uKTtcblx0XHR9XG5cblx0XHRpbnRlcm5hbENvbHVtbiA9IHdlYXZlanMuZGF0YS5Db2x1bW5VdGlscy5oYWNrX2ZpbmRJbnRlcm5hbER5bmFtaWNDb2x1bW4odGhpcy5zaXplQnkuZ2V0T2JqZWN0KCkpO1xuXHRcdGlmIChpbnRlcm5hbENvbHVtbilcblx0XHRcdGFkZGl0aW9uYWxDb2x1bW5zLnB1c2goaW50ZXJuYWxDb2x1bW4pO1xuXG5cdFx0cmV0dXJuIGFkZGl0aW9uYWxDb2x1bW5zO1xuXHR9XG5cblx0dXBkYXRlU3R5bGVEYXRhKClcblx0e1xuXG5cdFx0bGV0IGZpbGxFbmFibGVkID0gdGhpcy5maWxsU3R5bGVQYXRoLnB1c2goXCJlbmFibGVcIikuZ2V0U3RhdGUoKTtcblx0XHRsZXQgc3Ryb2tlRW5hYmxlZCA9IHRoaXMubGluZVN0eWxlUGF0aC5wdXNoKFwiZW5hYmxlXCIpLmdldFN0YXRlKCk7XG5cblx0XHR2YXIgc3R5bGVSZWNvcmRzOmFueSA9IHRoaXMubGF5ZXJQYXRoLnJldHJpZXZlUmVjb3Jkcyh7XG5cdFx0XHRmaWxsOiB7XG5cdFx0XHRcdGNvbG9yOiB0aGlzLmZpbGxTdHlsZVBhdGgucHVzaChcImNvbG9yXCIpLFxuXHRcdFx0XHRhbHBoYTogdGhpcy5maWxsU3R5bGVQYXRoLnB1c2goXCJhbHBoYVwiKSxcblx0XHRcdFx0aW1hZ2VVUkw6IHRoaXMuZmlsbFN0eWxlUGF0aC5wdXNoKFwiaW1hZ2VVUkxcIilcblx0XHRcdH0sXG5cdFx0XHRzdHJva2U6IHtcblx0XHRcdFx0Y29sb3I6IHRoaXMubGluZVN0eWxlUGF0aC5wdXNoKFwiY29sb3JcIiksXG5cdFx0XHRcdGFscGhhOiB0aGlzLmxpbmVTdHlsZVBhdGgucHVzaChcImFscGhhXCIpLFxuXHRcdFx0XHR3ZWlnaHQ6IHRoaXMubGluZVN0eWxlUGF0aC5wdXNoKFwid2VpZ2h0XCIpLFxuXHRcdFx0XHRsaW5lQ2FwOiB0aGlzLmxpbmVTdHlsZVBhdGgucHVzaChcImNhcHNcIiksXG5cdFx0XHRcdGxpbmVKb2luOiB0aGlzLmxpbmVTdHlsZVBhdGgucHVzaChcImpvaW50c1wiKSxcblx0XHRcdFx0bWl0ZXJMaW1pdDogdGhpcy5saW5lU3R5bGVQYXRoLnB1c2goXCJtaXRlckxpbWl0XCIpXG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR2YXIgc3R5bGVSZWNvcmRzSW5kZXggPSBsb2Rhc2guaW5kZXhCeShzdHlsZVJlY29yZHMsIFwiaWRcIik7XG5cblx0XHR2YXIgc2l6ZUJ5TnVtZXJpYyA9IHRoaXMubGF5ZXJQYXRoLnJldHJpZXZlUmVjb3Jkcyh7c2l6ZUJ5OiB0aGlzLnNpemVCeX0sIHtkYXRhVHlwZTogXCJudW1iZXJcIn0pO1xuXG5cdFx0Zm9yIChsZXQgcmVjb3JkIG9mIHNpemVCeU51bWVyaWMpXG5cdFx0e1xuXHRcdFx0bGV0IGlkID0gcmVjb3JkLmlkO1xuXHRcdFx0bGV0IGZ1bGxSZWNvcmQ6YW55ID0gc3R5bGVSZWNvcmRzSW5kZXhbaWRdO1xuXHRcdFx0aWYgKGZ1bGxSZWNvcmQpXG5cdFx0XHR7XG5cdFx0XHRcdGZ1bGxSZWNvcmQuc2l6ZUJ5ID0gcmVjb3JkLnNpemVCeTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRsZXQgc2l6ZUJ5ID0gbG9kYXNoLnBsdWNrKHN0eWxlUmVjb3JkcywgXCJzaXplQnlcIik7XG5cdFx0bGV0IHNpemVCeU1heCA9IGxvZGFzaC5tYXgoc2l6ZUJ5KTtcblx0XHRsZXQgc2l6ZUJ5TWluID0gbG9kYXNoLm1pbihzaXplQnkpO1xuXHRcdGxldCBhYnNNYXggPSBNYXRoLm1heChNYXRoLmFicyhzaXplQnlNYXgpLCBNYXRoLmFicyhzaXplQnlNaW4pKTtcblx0XHRsZXQgbWluU2NyZWVuUmFkaXVzID0gdGhpcy5taW5SYWRpdXNQYXRoLmdldFN0YXRlKCk7XG5cdFx0bGV0IG1heFNjcmVlblJhZGl1cyA9IHRoaXMubWF4UmFkaXVzUGF0aC5nZXRTdGF0ZSgpO1xuXHRcdGxldCBkZWZhdWx0U2NyZWVuUmFkaXVzID0gdGhpcy5kZWZhdWx0UmFkaXVzUGF0aC5nZXRTdGF0ZSgpO1xuXG5cdFx0c3R5bGVSZWNvcmRzID0gbG9kYXNoLnNvcnRCeU9yZGVyKHN0eWxlUmVjb3JkcywgW1wic2l6ZUJ5XCIsIFwiaWRcIl0sIFtcImRlc2NcIiwgXCJhc2NcIl0pO1xuXG5cdFx0bGV0IHpPcmRlciA9IDA7XG5cblx0XHRmb3IgKGxldCByZWNvcmQgb2Ygc3R5bGVSZWNvcmRzKVxuXHRcdHtcblx0XHRcdGxldCBzY3JlZW5SYWRpdXM7XG5cblx0XHRcdGxldCBub3JtU2l6ZSA9IFN0YW5kYXJkTGliLm5vcm1hbGl6ZShNYXRoLmFicyhyZWNvcmQuc2l6ZUJ5KSwgMCwgYWJzTWF4KTtcblxuXHRcdFx0aWYgKGlzTmFOKG5vcm1TaXplKSB8fCByZWNvcmQuc2l6ZUJ5ID09PSBudWxsKVxuXHRcdFx0e1xuXHRcdFx0XHRzY3JlZW5SYWRpdXMgPSBkZWZhdWx0U2NyZWVuUmFkaXVzO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0e1xuXHRcdFx0XHRzY3JlZW5SYWRpdXMgPSBtaW5TY3JlZW5SYWRpdXMgKyAobm9ybVNpemUgKiAobWF4U2NyZWVuUmFkaXVzIC0gbWluU2NyZWVuUmFkaXVzKSk7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBvbFN0cm9rZSA9IEZlYXR1cmVMYXllci5vbFN0cm9rZUZyb21XZWF2ZVN0cm9rZShyZWNvcmQuc3Ryb2tlKTtcblx0XHRcdGxldCBvbEZpbGwgPSBGZWF0dXJlTGF5ZXIub2xGaWxsRnJvbVdlYXZlRmlsbChyZWNvcmQuZmlsbCk7XG5cblx0XHRcdGxldCBvbFN0cm9rZUZhZGVkID0gRmVhdHVyZUxheWVyLm9sU3Ryb2tlRnJvbVdlYXZlU3Ryb2tlKHJlY29yZC5zdHJva2UsIDAuNSk7XG5cdFx0XHRsZXQgb2xGaWxsRmFkZWQgPSBGZWF0dXJlTGF5ZXIub2xGaWxsRnJvbVdlYXZlRmlsbChyZWNvcmQuZmlsbCwgMC41KTtcblxuXHRcdFx0bGV0IG9sU2VsZWN0aW9uU3R5bGUgPSBGZWF0dXJlTGF5ZXIuZ2V0T2xTZWxlY3Rpb25TdHlsZShvbFN0cm9rZSk7XG5cdFx0XHRsZXQgb2xQcm9iZWRTdHlsZSA9IEZlYXR1cmVMYXllci5nZXRPbFByb2JlZFN0eWxlKG9sU3Ryb2tlKTtcblxuXHRcdFx0bGV0IG5vcm1hbFN0eWxlID0gW25ldyBvbC5zdHlsZS5TdHlsZSh7XG5cdFx0XHRcdGltYWdlOiBuZXcgb2wuc3R5bGUuQ2lyY2xlKHtcblx0XHRcdFx0XHRmaWxsOiBmaWxsRW5hYmxlZCA/IG9sRmlsbCA6IHVuZGVmaW5lZCwgc3Ryb2tlOiBzdHJva2VFbmFibGVkID8gb2xTdHJva2UgOiB1bmRlZmluZWQsXG5cdFx0XHRcdFx0cmFkaXVzOiBzY3JlZW5SYWRpdXNcblx0XHRcdFx0fSlcblx0XHRcdH0pXTtcblxuXHRcdFx0bGV0IHVuc2VsZWN0ZWRTdHlsZSA9IFtuZXcgb2wuc3R5bGUuU3R5bGUoe1xuXHRcdFx0XHRpbWFnZTogbmV3IG9sLnN0eWxlLkNpcmNsZSh7XG5cdFx0XHRcdFx0ZmlsbDogZmlsbEVuYWJsZWQgPyBvbEZpbGxGYWRlZCA6IHVuZGVmaW5lZCwgc3Ryb2tlOiBzdHJva2VFbmFibGVkID8gb2xTdHJva2VGYWRlZCA6IHVuZGVmaW5lZCxcblx0XHRcdFx0XHRyYWRpdXM6IHNjcmVlblJhZGl1c1xuXHRcdFx0XHR9KVxuXHRcdFx0fSldO1xuXG5cdFx0XHRsZXQgc2VsZWN0ZWRTdHlsZSA9IChzdHJva2VFbmFibGVkIHx8IGZpbGxFbmFibGVkKSAmJiBbXG5cdFx0XHRcdG5ldyBvbC5zdHlsZS5TdHlsZSh7XG5cdFx0XHRcdFx0aW1hZ2U6IG5ldyBvbC5zdHlsZS5DaXJjbGUoe1xuXHRcdFx0XHRcdFx0c3Ryb2tlOiBvbFNlbGVjdGlvblN0eWxlWzBdLmdldFN0cm9rZSgpLFxuXHRcdFx0XHRcdFx0cmFkaXVzOiBzY3JlZW5SYWRpdXNcblx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHR6SW5kZXg6IG9sU2VsZWN0aW9uU3R5bGVbMF0uZ2V0WkluZGV4KClcblx0XHRcdFx0fSlcblx0XHRcdF07XG5cblx0XHRcdGxldCBwcm9iZWRTdHlsZSA9IChzdHJva2VFbmFibGVkIHx8IGZpbGxFbmFibGVkKSAmJiBbXG5cdFx0XHRcdG5ldyBvbC5zdHlsZS5TdHlsZSh7XG5cdFx0XHRcdFx0aW1hZ2U6IG5ldyBvbC5zdHlsZS5DaXJjbGUoe1xuXHRcdFx0XHRcdFx0c3Ryb2tlOiBvbFByb2JlZFN0eWxlWzBdLmdldFN0cm9rZSgpLFxuXHRcdFx0XHRcdFx0cmFkaXVzOiBzY3JlZW5SYWRpdXNcblx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHR6SW5kZXg6IG9sUHJvYmVkU3R5bGVbMF0uZ2V0WkluZGV4KClcblx0XHRcdFx0fSksXG5cdFx0XHRcdG5ldyBvbC5zdHlsZS5TdHlsZSh7XG5cdFx0XHRcdFx0aW1hZ2U6IG5ldyBvbC5zdHlsZS5DaXJjbGUoe1xuXHRcdFx0XHRcdFx0c3Ryb2tlOiBvbFByb2JlZFN0eWxlWzFdLmdldFN0cm9rZSgpLFxuXHRcdFx0XHRcdFx0cmFkaXVzOiBzY3JlZW5SYWRpdXNcblx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHR6SW5kZXg6IG9sUHJvYmVkU3R5bGVbMV0uZ2V0WkluZGV4KClcblx0XHRcdFx0fSlcblx0XHRcdF07XG5cblx0XHRcdGxldCBmZWF0dXJlID0gdGhpcy5zb3VyY2UuZ2V0RmVhdHVyZUJ5SWQocmVjb3JkLmlkKTtcblxuXHRcdFx0aWYgKGZlYXR1cmUpXG5cdFx0XHR7XG5cdFx0XHRcdGxldCBtZXRhU3R5bGU6YW55ID0ge307XG5cblx0XHRcdFx0bWV0YVN0eWxlLm5vcm1hbFN0eWxlID0gbm9ybWFsU3R5bGU7XG5cdFx0XHRcdG1ldGFTdHlsZS51bnNlbGVjdGVkU3R5bGUgPSB1bnNlbGVjdGVkU3R5bGU7XG5cdFx0XHRcdG1ldGFTdHlsZS5zZWxlY3RlZFN0eWxlID0gc2VsZWN0ZWRTdHlsZTtcblx0XHRcdFx0bWV0YVN0eWxlLnByb2JlZFN0eWxlID0gcHJvYmVkU3R5bGU7XG5cdFx0XHRcdFxuXHRcdFx0XHRmZWF0dXJlLnNldFByb3BlcnRpZXMobWV0YVN0eWxlKTtcblx0XHRcdH1cblxuXHRcdFx0ek9yZGVyKys7XG5cdFx0fVxuXHR9XG59XG5MYXllci5yZWdpc3RlckNsYXNzKFwid2VhdmUudmlzdWFsaXphdGlvbi5wbG90dGVyczo6U2NhdHRlclBsb3RQbG90dGVyXCIsIFNjYXR0ZXJQbG90TGF5ZXIsIFt3ZWF2ZWpzLmFwaS5jb3JlLklMaW5rYWJsZU9iamVjdFdpdGhOZXdQcm9wZXJ0aWVzXSk7XG5leHBvcnQgZGVmYXVsdCBTY2F0dGVyUGxvdExheWVyO1xuIiwiLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL29wZW5sYXllcnMvb3BlbmxheWVycy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cblxuaW1wb3J0ICogYXMgb2wgZnJvbSBcIm9wZW5sYXllcnNcIjtcbmltcG9ydCBMYXllciBmcm9tIFwiLi9MYXllclwiO1xuXG5kZWNsYXJlIHZhciBXZWF2ZTphbnk7XG5kZWNsYXJlIHZhciB3ZWF2ZWpzOmFueTtcblxuY2xhc3MgVGlsZUxheWVyIGV4dGVuZHMgTGF5ZXIge1xuXG5cdHNlcnZpY2VQYXRoOldlYXZlUGF0aDtcblx0b2xkUHJvdmlkZXJOYW1lOnN0cmluZztcblxuXHRjb25zdHJ1Y3RvcihwYXJlbnQsIGxheWVyTmFtZSlcblx0e1xuXHRcdHN1cGVyKHBhcmVudCwgbGF5ZXJOYW1lKTtcblxuXHRcdHRoaXMub2xMYXllciA9IG5ldyBvbC5sYXllci5UaWxlKCk7XG5cdFx0dGhpcy5zZXJ2aWNlUGF0aCA9IHRoaXMubGF5ZXJQYXRoLnB1c2goXCJzZXJ2aWNlXCIsIG51bGwpO1xuXHRcdHRoaXMub2xkUHJvdmlkZXJOYW1lID0gbnVsbDtcblxuXHRcdHRoaXMuc2VydmljZVBhdGguYWRkQ2FsbGJhY2sodGhpcywgdGhpcy51cGRhdGVUaWxlU291cmNlLCB0cnVlKTtcblx0XHR0aGlzLnByb2plY3Rpb25QYXRoLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMudXBkYXRlVmFsaWRFeHRlbnRzLCB0cnVlKTtcblx0fVxuXG5cdGhhbmRsZU1pc3NpbmdTZXNzaW9uU3RhdGVQcm9wZXJ0aWVzKG5ld1N0YXRlKVxuXHR7XG5cdFx0XG5cdH1cblxuXHR1cGRhdGVWYWxpZEV4dGVudHMoKVxuXHR7XG5cdFx0dmFyIHByb2ogPSBvbC5wcm9qLmdldCh0aGlzLnByb2plY3Rpb25QYXRoLmdldFN0YXRlKCkgfHwgXCJFUFNHOjM4NTdcIik7XG5cdFx0aWYgKHByb2opXG5cdFx0XHR0aGlzLm9sTGF5ZXIuc2V0RXh0ZW50KHByb2ouZ2V0RXh0ZW50KCkpO1xuXHRcdGVsc2Vcblx0XHRcdGNvbnNvbGUubG9nKCdpbnZhbGlkIHByb2ogLT4gbm8gZXh0ZW50Jyk7XG5cdH1cblx0Z2V0Q3VzdG9tV01TU291cmNlKClcblx0e1xuXHRcdHZhciBjdXN0b21XTVNQYXRoID0gdGhpcy5zZXJ2aWNlUGF0aDtcblxuXHRcdGlmIChjdXN0b21XTVNQYXRoLnB1c2goXCJ3bXNVUkxcIikuZ2V0VHlwZSgpKSB7XG5cdFx0XHRsZXQgdXJsID0gY3VzdG9tV01TUGF0aC5nZXRTdGF0ZShcIndtc1VSTFwiKTtcblx0XHRcdGxldCBhdHRyaWJ1dGlvbnMgPSBjdXN0b21XTVNQYXRoLmdldFN0YXRlKFwiY3JlZGl0SW5mb1wiKTtcblx0XHRcdGxldCBwcm9qZWN0aW9uID0gY3VzdG9tV01TUGF0aC5nZXRTdGF0ZShcInRpbGVQcm9qZWN0aW9uU1JTXCIpO1xuXG5cdFx0XHRyZXR1cm4gbmV3IG9sLnNvdXJjZS5YWVooe1xuXHRcdFx0XHR1cmwsIGF0dHJpYnV0aW9ucywgcHJvamVjdGlvblxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0Z2V0TW9kZXN0TWFwc1NvdXJjZSgpXG5cdHtcblx0XHR2YXIgcHJvdmlkZXJOYW1lUGF0aCA9IHRoaXMuc2VydmljZVBhdGgucHVzaChcInByb3ZpZGVyTmFtZVwiKTtcblxuXHRcdGlmIChwcm92aWRlck5hbWVQYXRoLmdldFR5cGUoKSkge1xuXHRcdFx0bGV0IHByb3ZpZGVyTmFtZSA9IHByb3ZpZGVyTmFtZVBhdGguZ2V0U3RhdGUoKTtcblxuXHRcdFx0aWYgKHByb3ZpZGVyTmFtZSA9PT0gdGhpcy5vbGRQcm92aWRlck5hbWUpIHtcblx0XHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHRcdH1cblxuXHRcdFx0c3dpdGNoIChwcm92aWRlck5hbWUpXG5cdFx0XHR7XG5cdFx0XHRcdGNhc2UgXCJTdGFtZW4gV2F0ZXJDb2xvclwiOlxuXHRcdFx0XHRcdHJldHVybiBuZXcgb2wuc291cmNlLlN0YW1lbih7bGF5ZXI6IFwid2F0ZXJjb2xvclwifSk7XG5cdFx0XHRcdGNhc2UgXCJTdGFtZW4gVG9uZXJcIjpcblx0XHRcdFx0XHRyZXR1cm4gbmV3IG9sLnNvdXJjZS5TdGFtZW4oe2xheWVyOiBcInRvbmVyXCJ9KTtcblx0XHRcdFx0Y2FzZSBcIk9wZW4gTWFwUXVlc3QgQWVyaWFsXCI6XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBvbC5zb3VyY2UuTWFwUXVlc3Qoe2xheWVyOiBcInNhdFwifSk7XG5cdFx0XHRcdGNhc2UgXCJPcGVuIE1hcFF1ZXN0XCI6XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBvbC5zb3VyY2UuTWFwUXVlc3Qoe2xheWVyOiBcIm9zbVwifSk7XG5cdFx0XHRcdGNhc2UgXCJPcGVuIFN0cmVldCBNYXBcIjpcblx0XHRcdFx0XHRyZXR1cm4gbmV3IG9sLnNvdXJjZS5PU00oe3dyYXBYOiBmYWxzZX0pO1xuXHRcdFx0XHRjYXNlIFwiQmx1ZSBNYXJibGUgTWFwXCI6XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBvbC5zb3VyY2UuVGlsZVdNUyh7dXJsOiBcImh0dHA6Ly9uZW93bXMuc2NpLmdzZmMubmFzYS5nb3Yvd21zL3dtc1wiLCB3cmFwWDogZmFsc2V9KTtcblx0XHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHR1cGRhdGVUaWxlU291cmNlKClcblx0e1xuXHRcdHZhciBzZXJ2aWNlRHJpdmVyTmFtZSA9IHRoaXMuc2VydmljZVBhdGguZ2V0VHlwZSgpO1xuXHRcdHZhciBuZXdMYXllciA9IG51bGw7XG5cdFx0c3dpdGNoIChzZXJ2aWNlRHJpdmVyTmFtZSlcblx0XHR7XG5cdFx0XHRjYXNlIFwid2VhdmUuc2VydmljZXMud21zOjpNb2Rlc3RNYXBzV01TXCI6XG5cdFx0XHRcdG5ld0xheWVyID0gdGhpcy5nZXRNb2Rlc3RNYXBzU291cmNlKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSBcIndlYXZlLnNlcnZpY2VzLndtczo6Q3VzdG9tV01TXCI6XG5cdFx0XHRcdG5ld0xheWVyID0gdGhpcy5nZXRDdXN0b21XTVNTb3VyY2UoKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRuZXdMYXllciA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKG5ld0xheWVyICE9PSB1bmRlZmluZWQpXG5cdFx0e1xuXHRcdFx0dGhpcy5zb3VyY2UgPSBuZXdMYXllcjtcblx0XHR9XG5cdH1cbn1cblxuTGF5ZXIucmVnaXN0ZXJDbGFzcyhcIndlYXZlLnZpc3VhbGl6YXRpb24ucGxvdHRlcnM6OldNU1Bsb3R0ZXJcIiwgVGlsZUxheWVyLCBbd2VhdmVqcy5hcGkuY29yZS5JTGlua2FibGVPYmplY3RXaXRoTmV3UHJvcGVydGllc10pO1xuZXhwb3J0IGRlZmF1bHQgVGlsZUxheWVyO1xuXG5cbiIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vdHlwaW5ncy9vcGVubGF5ZXJzL29wZW5sYXllcnMuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL3R5cGluZ3MvanF1ZXJ5L2pxdWVyeS5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cblxuaW1wb3J0ICogYXMgb2wgZnJvbSBcIm9wZW5sYXllcnNcIjtcbmltcG9ydCBqcXVlcnkgZnJvbSBcImpxdWVyeVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYW5DbHVzdGVyIGV4dGVuZHMgb2wuY29udHJvbC5Db250cm9sIHtcblx0Y29uc3RydWN0b3Iob3B0T3B0aW9ucz8pIHtcblx0XHR2YXIgb3B0aW9ucyA9IG9wdE9wdGlvbnMgfHwge307XG5cdFx0bGV0IHBhcmVudCA9IGpxdWVyeShgXG5cdFx0PGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMClcIiBjbGFzcz1cIm9sLXVuc2VsZWN0YWJsZSBvbC1jb250cm9sIHBhbkNsdXN0ZXJcIj5cblx0XHRcdDx0YWJsZSBzdHlsZT1cImZvbnQtc2l6ZTo3NSVcIj5cblx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdDx0ZD48L3RkPjx0ZCBjbGFzcz1cIm9sLWNvbnRyb2xcIiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlXCI+PGJ1dHRvbiBjbGFzcz1cInBhbkNsdXN0ZXIgTlwiPk48L2J1dHRvbj48L3RkPjx0ZD48L3RkPlxuXHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHQ8dHI+XG5cdFx0XHRcdFx0PHRkIGNsYXNzPVwib2wtY29udHJvbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmVcIj48YnV0dG9uIGNsYXNzPVwicGFuQ2x1c3RlciBXXCI+VzwvYnV0dG9uPjwvdGQ+XG5cdFx0XHRcdFx0PHRkIGNsYXNzPVwib2wtY29udHJvbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmVcIj48YnV0dG9uIGNsYXNzPVwicGFuQ2x1c3RlciBYIGZhIGZhLWFycm93cy1hbHRcIj48L2J1dHRvbj48L3RkPlxuXHRcdFx0XHRcdDx0ZCBjbGFzcz1cIm9sLWNvbnRyb2xcIiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlXCI+PGJ1dHRvbiBjbGFzcz1cInBhbkNsdXN0ZXIgRVwiPkU8L2J1dHRvbj48L3RkPlxuXHRcdFx0XHQ8L3RyPlxuXHRcdFx0XHQ8dHI+XG5cdFx0XHRcdFx0PHRkPjwvdGQ+PHRkIGNsYXNzPVwib2wtY29udHJvbFwiIHN0eWxlPVwicG9zaXRpb246cmVsYXRpdmVcIj48YnV0dG9uIGNsYXNzPVwicGFuQ2x1c3RlciBTXCI+UzwvYnV0dG9uPjwvdGQ+PHRkPjwvdGQ+XG5cdFx0XHRcdDwvdHI+XG5cdFx0XHQ8L3RhYmxlPlxuXHRcdDwvZGl2PmApO1xuXG5cdFx0dmFyIGRpcmVjdGlvbnMgPSB7XG5cdFx0XHROOiBbMCwgMV0sXG5cdFx0XHRFOiBbMSwgMF0sXG5cdFx0XHRTOiBbMCwgLTFdLFxuXHRcdFx0VzogWy0xLCAwXSxcblx0XHRcdFg6IFtudWxsLCBudWxsXVxuXHRcdH07XG5cblx0XHRzdXBlcih7IGVsZW1lbnQ6IHBhcmVudFswXSwgdGFyZ2V0OiBvcHRpb25zLnRhcmdldCB9KTtcblxuXHRcdGxldCBzZWxmID0gdGhpcztcblxuXHRcdGxldCBwYW4gPSBmdW5jdGlvbih4U2lnbiwgeVNpZ24pIHtcblx0XHRcdGxldCBwYW5QZXJjZW50ID0gMC4zO1xuXHRcdFx0bGV0IG1hcCA9IHNlbGYuZ2V0TWFwKCk7XG5cdFx0XHRsZXQgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG5cdFx0XHRsZXQgZXh0ZW50ID0gdmlldy5jYWxjdWxhdGVFeHRlbnQobWFwLmdldFNpemUoKSk7XG5cblx0XHRcdGxldCBleHRlbnRXaWR0aCA9IE1hdGguYWJzKGV4dGVudFswXSAtIGV4dGVudFsyXSk7XG5cdFx0XHRsZXQgZXh0ZW50SGVpZ2h0ID0gTWF0aC5hYnMoZXh0ZW50WzFdIC0gZXh0ZW50WzNdKTtcblxuXHRcdFx0bGV0IGNlbnRlciA9IHZpZXcuZ2V0Q2VudGVyKCk7XG5cblx0XHRcdGNlbnRlclswXSArPSBleHRlbnRXaWR0aCAqIHhTaWduICogcGFuUGVyY2VudDtcblx0XHRcdGNlbnRlclsxXSArPSBleHRlbnRIZWlnaHQgKiB5U2lnbiAqIHBhblBlcmNlbnQ7XG5cblx0XHRcdHZpZXcuc2V0Q2VudGVyKGNlbnRlcik7XG5cdFx0fTtcblxuXHRcdGxldCB6b29tRXh0ZW50ID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRsZXQgbWFwID0gc2VsZi5nZXRNYXAoKTtcblx0XHRcdGxldCB2aWV3ID0gbWFwLmdldFZpZXcoKTtcblx0XHRcdGxldCBleHRlbnQgPSB2aWV3LmdldChcImV4dGVudFwiKSB8fCB2aWV3LmdldFByb2plY3Rpb24oKS5nZXRFeHRlbnQoKTtcblx0XHRcdGxldCBzaXplID0gbWFwLmdldFNpemUoKTtcblx0XHRcdHZpZXcuZml0KGV4dGVudCwgc2l6ZSk7XG5cdFx0fTtcblxuXHRcdGZvciAobGV0IGRpcmVjdGlvbiBpbiBkaXJlY3Rpb25zKSB7XG5cdFx0XHRsZXQgeFNpZ24gPSBkaXJlY3Rpb25zW2RpcmVjdGlvbl1bMF07XG5cdFx0XHRsZXQgeVNpZ24gPSBkaXJlY3Rpb25zW2RpcmVjdGlvbl1bMV07XG5cblx0XHRcdGxldCBidXR0b24gPSBwYXJlbnQuZmluZChcIi5wYW5DbHVzdGVyLlwiICsgZGlyZWN0aW9uKTtcblxuXHRcdFx0aWYgKHhTaWduICE9PSBudWxsKSB7XG5cdFx0XHRcdGJ1dHRvbi5jbGljayhwYW4uYmluZCh0aGlzLCB4U2lnbiwgeVNpZ24pKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRidXR0b24uY2xpY2soem9vbUV4dGVudC5iaW5kKHRoaXMpKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn0iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL3R5cGluZ3Mvb3BlbmxheWVycy9vcGVubGF5ZXJzLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi90eXBpbmdzL2pxdWVyeS9qcXVlcnkuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL3R5cGluZ3Mvd2VhdmUvV2VhdmVQYXRoLmQudHNcIi8+XG5cbmltcG9ydCAqIGFzIG9sIGZyb20gXCJvcGVubGF5ZXJzXCI7XG5pbXBvcnQgKiBhcyBsb2Rhc2ggZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0IEZlYXR1cmVMYXllciBmcm9tIFwiLi9MYXllcnMvRmVhdHVyZUxheWVyXCI7XG5pbXBvcnQgT3BlbkxheWVyc01hcFRvb2wgZnJvbSBcIi4uL09wZW5MYXllcnNNYXBUb29sXCI7XG5pbXBvcnQge0lUb29sVGlwU3RhdGV9IGZyb20gXCIuLi90b29sdGlwXCI7XG5cbmRlY2xhcmUgdmFyIFdlYXZlOmFueTtcbmRlY2xhcmUgdmFyIHdlYXZlanM6YW55O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9iZUludGVyYWN0aW9uIGV4dGVuZHMgb2wuaW50ZXJhY3Rpb24uUG9pbnRlclxue1xuXHRwcml2YXRlIHRvcEtleVN0cmluZzogc3RyaW5nO1xuXHRwcml2YXRlIHRvcFpJbmRleDogbnVtYmVyO1xuXHRwcml2YXRlIHRvcEtleVNldDogYW55O1xuXHRwcml2YXRlIHRvcExheWVyOiBGZWF0dXJlTGF5ZXI7XG5cdHByaXZhdGUgdG9vbDogT3BlbkxheWVyc01hcFRvb2w7XG5cblx0Y29uc3RydWN0b3IodG9vbDpPcGVuTGF5ZXJzTWFwVG9vbClcblx0e1xuXHRcdHN1cGVyKHtoYW5kbGVNb3ZlRXZlbnQ6IFByb2JlSW50ZXJhY3Rpb24ucHJvdG90eXBlLmhhbmRsZU1vdmVFdmVudH0pO1xuXHRcdHRoaXMudG9vbCA9IHRvb2w7XG5cdH1cblxuXHRzZXRNYXAobWFwOm9sLk1hcClcblx0e1xuXHRcdHN1cGVyLnNldE1hcChtYXApO1xuXHRcdGxldCBlbGVtZW50OiBFbGVtZW50ID0gbWFwLmdldFRhcmdldEVsZW1lbnQoKTtcblxuXHRcdG1hcC5nZXRUYXJnZXRFbGVtZW50KCkuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLmhhbmRsZU91dEV2ZW50LmJpbmQodGhpcykpO1xuXHR9XG5cblx0cHJpdmF0ZSBvbkZlYXR1cmVBdFBpeGVsKGZlYXR1cmU6IG9sLkZlYXR1cmUsIGxheWVyOiBvbC5sYXllci5MYXllcik6dm9pZFxuXHR7XG5cdFx0bGV0IHpJbmRleDogbnVtYmVyID0gbGF5ZXIuZ2V0WkluZGV4KCk7XG5cblxuXHRcdGlmICh6SW5kZXggPiB0aGlzLnRvcFpJbmRleClcblx0XHR7XG5cdFx0XHRsZXQgd2VhdmVMYXllck9iamVjdDogRmVhdHVyZUxheWVyID0gbGF5ZXIuZ2V0KFwibGF5ZXJPYmplY3RcIik7XG5cdFx0XHR0aGlzLnRvcEtleVNldCA9IHdlYXZlTGF5ZXJPYmplY3QucHJvYmVLZXlTZXQgJiYgd2VhdmVMYXllck9iamVjdC5wcm9iZUtleVNldC5nZXRPYmplY3QoKSB8fCB0aGlzLnRvcEtleVNldDtcblx0XHRcdHRoaXMudG9wWkluZGV4ID0gekluZGV4O1xuXHRcdFx0dGhpcy50b3BLZXlTdHJpbmcgPSBmZWF0dXJlLmdldElkKCkudG9TdHJpbmcoKTtcblx0XHRcdHRoaXMudG9wTGF5ZXIgPSB3ZWF2ZUxheWVyT2JqZWN0O1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgc3RhdGljIGxheWVyRmlsdGVyKGxheWVyOm9sLmxheWVyLkJhc2UpOmJvb2xlYW5cblx0e1xuXHRcdHJldHVybiBsYXllci5nZXQoXCJzZWxlY3RhYmxlXCIpO1xuXHR9XG5cblx0cHJpdmF0ZSBwaXhlbFRvS2V5KHBpeGVsOm9sLlBpeGVsKTphbnlcblx0e1xuXHRcdGxldCBtYXA6IG9sLk1hcCA9IHRoaXMuZ2V0TWFwKCk7XG5cblx0XHR0aGlzLnRvcEtleVNldCA9IG51bGw7XG5cdFx0dGhpcy50b3BaSW5kZXggPSAtSW5maW5pdHk7XG5cdFx0dGhpcy50b3BMYXllciA9IG51bGw7XG5cdFx0dGhpcy50b3BLZXlTdHJpbmcgPSBudWxsO1xuXHRcdGxldCB0b3BLZXk6IGFueSAvKklRdWFsaWZpZWRLZXkgKi87XG5cdFx0XG5cdFx0bWFwLmZvckVhY2hGZWF0dXJlQXRQaXhlbChwaXhlbCwgdGhpcy5vbkZlYXR1cmVBdFBpeGVsLCB0aGlzLCBQcm9iZUludGVyYWN0aW9uLmxheWVyRmlsdGVyKTtcblxuXG5cblx0XHRpZiAodGhpcy50b3BLZXlTdHJpbmcgJiYgdGhpcy50b3BLZXlTZXQpXG5cdFx0e1xuXHRcdFx0dG9wS2V5ID0gd2VhdmVqcy5XZWF2ZUFQSS5RS2V5TWFuYWdlci5zdHJpbmdUb1FLZXkodGhpcy50b3BLZXlTdHJpbmcpO1xuXHRcdFx0dGhpcy50b3BLZXlTZXQucmVwbGFjZUtleXMoW3RvcEtleV0pO1xuXHRcdH1cblx0XHRcblx0XHRmb3IgKGxldCBsYXllciBvZiBtYXAuZ2V0TGF5ZXJzKCkuZ2V0QXJyYXkoKSlcblx0XHR7XG5cdFx0XHRpZiAoIVByb2JlSW50ZXJhY3Rpb24ubGF5ZXJGaWx0ZXIobGF5ZXIpKSBjb250aW51ZTtcblx0XHRcdGxldCB3ZWF2ZUxheWVyT2JqZWN0OiBGZWF0dXJlTGF5ZXIgPSBsYXllci5nZXQoXCJsYXllck9iamVjdFwiKTtcblx0XHRcdGxldCBrZXlTZXQ6YW55ID0gd2VhdmVMYXllck9iamVjdC5wcm9iZUtleVNldCAmJiB3ZWF2ZUxheWVyT2JqZWN0LnByb2JlS2V5U2V0LmdldE9iamVjdCgpO1xuXHRcdFx0aWYgKGtleVNldCAmJiBrZXlTZXQgIT0gdGhpcy50b3BLZXlTZXQpXG5cdFx0XHR7XG5cdFx0XHRcdGtleVNldC5jbGVhcktleXMoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gdG9wS2V5O1xuXHR9XG5cblx0cHJpdmF0ZSBoYW5kbGVNb3ZlRXZlbnQoZXZlbnQ6b2wuTWFwQnJvd3NlckV2ZW50KVxuXHR7XG5cdFx0bGV0IGtleTphbnkgLypJUXVhbGlmaWVkS2V5Ki8gPSB0aGlzLnBpeGVsVG9LZXkoZXZlbnQucGl4ZWwpO1xuXHRcdGxldCB0b29sVGlwU3RhdGU6IElUb29sVGlwU3RhdGUgPSB7fTtcblxuXHRcdGlmIChrZXkpIHtcblx0XHRcdGxldCBicm93c2VyRXZlbnQ6IE1vdXNlRXZlbnQgPSA8TW91c2VFdmVudD4oZXZlbnQub3JpZ2luYWxFdmVudCk7XG5cblx0XHRcdHRvb2xUaXBTdGF0ZS5zaG93VG9vbFRpcCA9IHRydWU7XG5cdFx0XHR0b29sVGlwU3RhdGUudGl0bGUgPSBGZWF0dXJlTGF5ZXIuZ2V0VG9vbFRpcFRpdGxlKGtleSk7XG5cdFx0XHR0b29sVGlwU3RhdGUuY29sdW1uTmFtZXNUb1ZhbHVlID0gRmVhdHVyZUxheWVyLmdldFRvb2xUaXBEYXRhKGtleSwgdGhpcy50b3BMYXllci5nZXRUb29sVGlwQ29sdW1ucygpKTtcblx0XHRcdFt0b29sVGlwU3RhdGUueCwgdG9vbFRpcFN0YXRlLnldID0gW2Jyb3dzZXJFdmVudC5jbGllbnRYLCBicm93c2VyRXZlbnQuY2xpZW50WV07XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHR0b29sVGlwU3RhdGUuc2hvd1Rvb2xUaXAgPSBmYWxzZTtcblx0XHR9XG5cblx0XHR0aGlzLnRvb2wucHJvcHMudG9vbFRpcC5zZXRTdGF0ZSh0b29sVGlwU3RhdGUpO1xuXHR9XG5cblx0aGFuZGxlT3V0RXZlbnQoZXZlbnQ6TW91c2VFdmVudClcblx0e1xuXHRcdGZvciAobGV0IGxheWVyIG9mIHRoaXMuZ2V0TWFwKCkuZ2V0TGF5ZXJzKCkuZ2V0QXJyYXkoKSkge1xuXHRcdFx0aWYgKCFQcm9iZUludGVyYWN0aW9uLmxheWVyRmlsdGVyKGxheWVyKSkgY29udGludWU7XG5cdFx0XHRsZXQgd2VhdmVMYXllck9iamVjdDogRmVhdHVyZUxheWVyID0gbGF5ZXIuZ2V0KFwibGF5ZXJPYmplY3RcIik7XG5cdFx0XHRsZXQga2V5U2V0OiBhbnkgPSB3ZWF2ZUxheWVyT2JqZWN0LnByb2JlS2V5U2V0ICYmIHdlYXZlTGF5ZXJPYmplY3QucHJvYmVLZXlTZXQuZ2V0T2JqZWN0KCk7XG5cdFx0XHRpZiAoa2V5U2V0KSB7XG5cdFx0XHRcdGtleVNldC5jbGVhcktleXMoKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRsZXQgdG9vbFRpcFN0YXRlOiBJVG9vbFRpcFN0YXRlID0ge307XG5cdFx0dG9vbFRpcFN0YXRlLnNob3dUb29sVGlwID0gZmFsc2U7XG5cdFx0dGhpcy50b29sLnByb3BzLnRvb2xUaXAuc2V0U3RhdGUodG9vbFRpcFN0YXRlKTtcblx0fVxufSIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cblxuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRvb2x0aXBDb250ZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uTmFtZXNUb1ZhbHVlOntbY29sdW1uTmFtZTpzdHJpbmddOiBzdHJpbmd8bnVtYmVyfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlPzpzdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lRm9ybWF0PzpGdW5jdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlRm9ybWF0PzpGdW5jdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlRm9ybWF0PzpGdW5jdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xUaXBDbGFzcz86c3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uTmFtZXNUb0NvbG9yPzp7W2NvbHVtbk5hbWU6c3RyaW5nXTogc3RyaW5nfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApOnN0cmluZ1xue1xuICAgIG5hbWVGb3JtYXQgPSBuYW1lRm9ybWF0IHx8IF8uaWRlbnRpdHk7XG4gICAgdmFsdWVGb3JtYXQgPSB2YWx1ZUZvcm1hdCB8fCBfLmlkZW50aXR5O1xuICAgIHRpdGxlRm9ybWF0ID0gdGl0bGVGb3JtYXQgfHwgXy5pZGVudGl0eTtcbiAgICB0b29sVGlwQ2xhc3MgPSB0b29sVGlwQ2xhc3MgfHwgXCJjMy10b29sdGlwXCI7XG5cbiAgICB2YXIgdGVtcGxhdGU6c3RyaW5nID0gXCJcIjtcblxuICAgIHZhciBjb2x1bW5OYW1lczpzdHJpbmdbXSA9IE9iamVjdC5rZXlzKGNvbHVtbk5hbWVzVG9WYWx1ZSk7XG4gICAgaWYoY29sdW1uTmFtZXMubGVuZ3RoKSB7XG4gICAgICAgIHRlbXBsYXRlICs9IFwiPHRhYmxlIGNsYXNzPSdcIiArIHRvb2xUaXBDbGFzcyArIFwiJz5cIiArICB0aXRsZUZvcm1hdCgodGl0bGUgPyBcIjx0cj48dGggY29sc3Bhbj0nMic+XCIgKyB0aXRsZSArIFwiPC90aD48L3RyPlwiIDogXCJcIikpXG5cbiAgICAgICAgY29sdW1uTmFtZXMuZm9yRWFjaCgoY29sdW1uTmFtZTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHRlbXBsYXRlICs9IFwiPHRyPlwiO1xuICAgICAgICAgICAgdGVtcGxhdGUgKz0gXCI8dGQgY2xhc3M9J25hbWUnPlwiO1xuICAgICAgICAgICAgaWYoY29sdW1uTmFtZXNUb0NvbG9yICYmIGNvbHVtbk5hbWVzVG9Db2xvcltjb2x1bW5OYW1lXSl7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGUgKz0gXCI8c3BhbiBzdHlsZT1cIiArIFwiJ2JhY2tncm91bmQtY29sb3InOiBcIiArIHRoaXMuc3RhdGUuY29sdW1uTmFtZXNUb0NvbG9yW2NvbHVtbk5hbWVdICsgXCIvPlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVtcGxhdGUgKz0gXCI8ZGl2IHN0eWxlPSdkaXNwbGF5JzonaW5saW5lJz5cIiArIG5hbWVGb3JtYXQoY29sdW1uTmFtZSkgKyBcIjwvZGl2PjwvdGQ+XCI7XG4gICAgICAgICAgICB0ZW1wbGF0ZSArPSBcIjx0ZCBjbGFzcz0ndmFsdWUnPlwiICsgdmFsdWVGb3JtYXQoY29sdW1uTmFtZXNUb1ZhbHVlW2NvbHVtbk5hbWVdKSArIFwiPC90ZD5cIjtcbiAgICAgICAgICAgIHRlbXBsYXRlICs9IFwiPC90cj5cIjtcbiAgICAgICAgfSk7XG4gICAgICAgIHRlbXBsYXRlICs9IFwiPC90YWJsZT5cIjtcbiAgICB9XG5cbiAgICByZXR1cm4gdGVtcGxhdGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVRvb2xUaXBQcm9wcyBleHRlbmRzIFJlYWN0LlByb3BzPFRvb2xUaXA+e1xuICAgIHRvb2xUaXBDbGFzcz86c3RyaW5nO1xuICAgIHRvb2x0aXBDb250YWluZXJDbGFzcz86c3RyaW5nO1xuICAgIG5hbWVGb3JtYXQ/OkZ1bmN0aW9uO1xuICAgIHZhbHVlRm9ybWF0PzpGdW5jdGlvbjtcbiAgICB0aXRsZUZvcm1hdD86RnVuY3Rpb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVRvb2xUaXBTdGF0ZSB7XG4gICAgeD86bnVtYmVyO1xuICAgIHk/Om51bWJlcjtcbiAgICB0aXRsZT86c3RyaW5nO1xuICAgIGNvbHVtbk5hbWVzVG9WYWx1ZT86e1tjb2x1bW5OYW1lOnN0cmluZ106IHN0cmluZ3xudW1iZXJ9O1xuICAgIGNvbHVtbk5hbWVzVG9Db2xvcj86e1tjb2x1bW5OYW1lOnN0cmluZ106IHN0cmluZ307XG4gICAgc2hvd1Rvb2xUaXA/OmJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvb2xUaXAgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SVRvb2xUaXBQcm9wcywgSVRvb2xUaXBTdGF0ZT4ge1xuXG4gICAgcHJpdmF0ZSBuYW1lRm9ybWF0OkZ1bmN0aW9uO1xuICAgIHByaXZhdGUgdmFsdWVGb3JtYXQ6RnVuY3Rpb247XG4gICAgcHJpdmF0ZSB0aXRsZUZvcm1hdDpGdW5jdGlvbjtcbiAgICBwcml2YXRlIHRvb2xUaXBDbGFzczpzdHJpbmc7XG4gICAgcHJpdmF0ZSB0b29sdGlwQ29udGFpbmVyQ2xhc3M6c3RyaW5nO1xuICAgIHByaXZhdGUgY29udGFpbmVyU3R5bGU6UmVhY3QuQ1NTUHJvcGVydGllcztcbiAgICBwcml2YXRlIGVsZW1lbnQ6SFRNTEVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczpJVG9vbFRpcFByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLm5hbWVGb3JtYXQgPSB0aGlzLnByb3BzLm5hbWVGb3JtYXQgfHwgXy5pZGVudGl0eTtcbiAgICAgICAgdGhpcy52YWx1ZUZvcm1hdCA9IHRoaXMucHJvcHMudmFsdWVGb3JtYXQgfHwgXy5pZGVudGl0eTtcbiAgICAgICAgdGhpcy50aXRsZUZvcm1hdCA9IHRoaXMucHJvcHMudGl0bGVGb3JtYXQgfHwgXy5pZGVudGl0eTtcbiAgICAgICAgdGhpcy50b29sVGlwQ2xhc3MgPSB0aGlzLnByb3BzLnRvb2xUaXBDbGFzcyB8fCBcImMzLXRvb2x0aXBcIjtcbiAgICAgICAgdGhpcy50b29sdGlwQ29udGFpbmVyQ2xhc3MgPSB0aGlzLnByb3BzLnRvb2x0aXBDb250YWluZXJDbGFzcyB8fCBcImMzLXRvb2x0aXAtY29udGFpbmVyXCI7XG5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIHg6IDAsXG4gICAgICAgICAgICB5OiAwLFxuICAgICAgICAgICAgdGl0bGU6IFwiXCIsXG4gICAgICAgICAgICBjb2x1bW5OYW1lc1RvVmFsdWU6IHt9LFxuICAgICAgICAgICAgY29sdW1uTmFtZXNUb0NvbG9yOiB7fSxcbiAgICAgICAgICAgIHNob3dUb29sVGlwOiBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb250YWluZXJTdHlsZSA9IHtcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgICAgICAgICBwb2ludGVyRXZlbnRzOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGRpc3BsYXk6IFwiYmxvY2tcIixcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAvL3RoaXMuZWxlbWVudCA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpO1xuICAgIH1cblxuICAgIGdldFRvb2xUaXBIdG1sKCk6c3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5pbm5lckhUTUw7XG4gICAgfVxuXG4gICAgcmVuZGVyKCk6SlNYLkVsZW1lbnQge1xuXG4gICAgICAgIGlmKCEodGhpcy5lbGVtZW50ICYmIHRoaXMuc3RhdGUuc2hvd1Rvb2xUaXApKSB7XG4gICAgICAgICAgICByZXR1cm4gPGRpdiByZWY9eyhjOkhUTUxFbGVtZW50KSA9PiB7IHRoaXMuZWxlbWVudCA9IGMgfX0+PC9kaXY+O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHRhYmxlUm93czpKU1guRWxlbWVudFtdID0gW107XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lclN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cbiAgICAgICAgICAgIHZhciBjb250YWluZXI6YW55ID0gdGhpcy5lbGVtZW50LnBhcmVudE5vZGUgYXMgRWxlbWVudDtcbiAgICAgICAgICAgIHZhciByZWN0OkNsaWVudFJlY3QgPSBjb250YWluZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICB2YXIgbGVmdDogbnVtYmVyID0gd2luZG93LnBhZ2VYT2Zmc2V0ICsgcmVjdC5sZWZ0O1xuICAgICAgICAgICAgdmFyIHRvcDogbnVtYmVyID0gd2luZG93LnBhZ2VZT2Zmc2V0ICsgcmVjdC50b3A7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lclN0eWxlLmxlZnQgPSB0aGlzLnN0YXRlLnggLSBsZWZ0O1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXJTdHlsZS50b3AgPSB0aGlzLnN0YXRlLnkgLSB0b3A7XG5cbiAgICAgICAgICAgIHZhciBjb2x1bW5OYW1lczpzdHJpbmdbXSA9IE9iamVjdC5rZXlzKHRoaXMuc3RhdGUuY29sdW1uTmFtZXNUb1ZhbHVlKTtcbiAgICAgICAgICAgIGlmKGNvbHVtbk5hbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRhYmxlUm93cyA9IGNvbHVtbk5hbWVzLm1hcCgoY29sdW1uTmFtZTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yU3BhbjpKU1guRWxlbWVudCA9IHRoaXMuc3RhdGUuY29sdW1uTmFtZXNUb0NvbG9yW2NvbHVtbk5hbWVdID8gKDxzcGFuIHN0eWxlPXt7YmFja2dyb3VuZENvbG9yOiB0aGlzLnN0YXRlLmNvbHVtbk5hbWVzVG9Db2xvcltjb2x1bW5OYW1lXX19Lz4pIDogKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHRyIGtleT17Y29sdW1uTmFtZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwibmFtZVwiPntjb2xvclNwYW59PGRpdiBzdHlsZT17e2Rpc3BsYXk6XCJpbmxpbmVcIn19Pnt0aGlzLm5hbWVGb3JtYXQoY29sdW1uTmFtZSl9PC9kaXY+PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJ2YWx1ZVwiPnt0aGlzLnZhbHVlRm9ybWF0KHRoaXMuc3RhdGUuY29sdW1uTmFtZXNUb1ZhbHVlW2NvbHVtbk5hbWVdKX08L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9e3RoaXMuY29udGFpbmVyU3R5bGV9IHJlZj17KGM6SFRNTEVsZW1lbnQpID0+IHsgdGhpcy5lbGVtZW50ID0gYyB9fSBjbGFzc05hbWU9e3RoaXMudG9vbHRpcENvbnRhaW5lckNsYXNzfT5cbiAgICAgICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPXt0aGlzLnRvb2xUaXBDbGFzc30+XG4gICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+PHRoIGNvbFNwYW49ezJ9Pnt0aGlzLnN0YXRlLnRpdGxlID8gdGhpcy50aXRsZUZvcm1hdCh0aGlzLnN0YXRlLnRpdGxlKTogXCJcIn08L3RoPjwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVSb3dzXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIClcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwiLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9jMy9jMy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9kMy9kMy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vdXRpbHMvU3RhbmRhcmRMaWIudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy93ZWF2ZS93ZWF2ZWpzLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZS5kLnRzXCIvPlxuXG5cbmltcG9ydCB7SVZpc1Rvb2xQcm9wc30gZnJvbSBcIi4vSVZpc1Rvb2xcIjtcbmltcG9ydCB7SVRvb2xQYXRoc30gZnJvbSBcIi4vQWJzdHJhY3RDM1Rvb2xcIjtcbmltcG9ydCBBYnN0cmFjdEMzVG9vbCBmcm9tIFwiLi9BYnN0cmFjdEMzVG9vbFwiO1xuaW1wb3J0IHtyZWdpc3RlclRvb2xJbXBsZW1lbnRhdGlvbn0gZnJvbSBcIi4uL1dlYXZlVG9vbFwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcbmltcG9ydCBGb3JtYXRVdGlscyBmcm9tIFwiLi4vdXRpbHMvRm9ybWF0VXRpbHNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtDaGFydENvbmZpZ3VyYXRpb24sIENoYXJ0QVBJLCBnZW5lcmF0ZX0gZnJvbSBcImMzXCI7XG5pbXBvcnQgU3RhbmRhcmRMaWIgZnJvbSBcIi4uL3V0aWxzL1N0YW5kYXJkTGliXCI7XG5cbmludGVyZmFjZSBJQmFyY2hhcnRQYXRocyBleHRlbmRzIElUb29sUGF0aHMge1xuICAgIHBsb3R0ZXI6IFdlYXZlUGF0aDtcbiAgICBoZWlnaHRDb2x1bW5zOiBXZWF2ZVBhdGg7XG4gICAgbGFiZWxDb2x1bW46IFdlYXZlUGF0aDtcbiAgICBzb3J0Q29sdW1uOiBXZWF2ZVBhdGg7XG4gICAgY29sb3JDb2x1bW46IFdlYXZlUGF0aDtcbiAgICBjaGFydENvbG9yczogV2VhdmVQYXRoO1xuICAgIGdyb3VwaW5nTW9kZTogV2VhdmVQYXRoO1xuICAgIGhvcml6b250YWxNb2RlOiBXZWF2ZVBhdGg7XG4gICAgc2hvd1ZhbHVlTGFiZWxzOiBXZWF2ZVBhdGg7XG4gICAgeEF4aXM6IFdlYXZlUGF0aDtcbiAgICB5QXhpczogV2VhdmVQYXRoO1xuICAgIGZpbHRlcmVkS2V5U2V0OiBXZWF2ZVBhdGg7XG4gICAgc2VsZWN0aW9uS2V5U2V0OiBXZWF2ZVBhdGg7XG4gICAgcHJvYmVLZXlTZXQ6IFdlYXZlUGF0aDtcbn1cblxuXG5jbGFzcyBXZWF2ZUMzQmFyY2hhcnQgZXh0ZW5kcyBBYnN0cmFjdEMzVG9vbCB7XG5cbiAgICBwcml2YXRlIGtleVRvSW5kZXg6e1trZXk6c3RyaW5nXTogbnVtYmVyfTtcbiAgICBwcml2YXRlIGluZGV4VG9LZXk6e1tpbmRleDpudW1iZXJdOiBzdHJpbmd9O1xuICAgIHByaXZhdGUgeEF4aXNWYWx1ZVRvTGFiZWw6e1t2YWx1ZTpudW1iZXJdOiBzdHJpbmd9O1xuICAgIHByaXZhdGUgeUF4aXNWYWx1ZVRvTGFiZWw6e1t2YWx1ZTpudW1iZXJdOiBzdHJpbmd9O1xuICAgIHByaXZhdGUgeUxhYmVsQ29sdW1uRGF0YVR5cGU6c3RyaW5nO1xuICAgIHByaXZhdGUgZ3JvdXBpbmdNb2RlOnN0cmluZztcbiAgICBwcml2YXRlIGhlaWdodENvbHVtbk5hbWVzOnN0cmluZ1tdO1xuICAgIHByaXZhdGUgaGVpZ2h0Q29sdW1uc0xhYmVsczpzdHJpbmdbXTtcbiAgICBwcml2YXRlIHN0cmluZ1JlY29yZHM6UmVjb3JkW107XG4gICAgcHJpdmF0ZSBudW1lcmljUmVjb3JkczpSZWNvcmRbXTtcbiAgICBwcml2YXRlIHJlY29yZHM6UmVjb3JkW11bXTtcbiAgICBwcml2YXRlIGNvbG9yUmFtcDpzdHJpbmdbXTtcbiAgICBwcml2YXRlIHNob3dWYWx1ZUxhYmVsczpib29sZWFuO1xuICAgIHByaXZhdGUgc2hvd1hBeGlzTGFiZWw6Ym9vbGVhbjtcbiAgICBwcml2YXRlIHlMYWJlbENvbHVtblBhdGg6V2VhdmVQYXRoO1xuICAgIHByb3RlY3RlZCBjM0NvbmZpZzpDaGFydENvbmZpZ3VyYXRpb247XG4gICAgcHJvdGVjdGVkIGNoYXJ0OkNoYXJ0QVBJO1xuXG4gICAgcHJvdGVjdGVkIHBhdGhzOklCYXJjaGFydFBhdGhzO1xuXG4gICAgcHJpdmF0ZSBmbGFnOmJvb2xlYW47XG4gICAgcHJpdmF0ZSBidXN5OmJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczpJVmlzVG9vbFByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5rZXlUb0luZGV4ID0ge307XG4gICAgICAgIHRoaXMuaW5kZXhUb0tleSA9IHt9O1xuICAgICAgICB0aGlzLnlBeGlzVmFsdWVUb0xhYmVsID0ge307XG4gICAgICAgIHRoaXMueEF4aXNWYWx1ZVRvTGFiZWwgPSB7fTtcblxuICAgICAgICB0aGlzLmMzQ29uZmlnID0ge1xuICAgICAgICAgICAgc2l6ZToge1xuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLnByb3BzLnN0eWxlLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5wcm9wcy5zdHlsZS5oZWlnaHRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgICAgICAgdG9wOiAyMCxcbiAgICAgICAgICAgICAgICBib3R0b206IDIwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGpzb246IFtdLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYmFyXCIsXG4gICAgICAgICAgICAgICAgeFNvcnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXG5cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxhYmVsczoge1xuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICh2LCBpZCwgaSwgaikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5zaG93VmFsdWVMYWJlbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9yZGVyOiBudWxsLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAoY29sb3I6c3RyaW5nLCBkOmFueSk6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5oZWlnaHRDb2x1bW5OYW1lcy5sZW5ndGggPT09IDEgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgaW5kZXggb2YgbnVtZXJpY1JlY29yZHMgaW4gc3RyaW5nUmVjb3Jkc1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gdGhpcy5pbmRleFRvS2V5W2QuaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gXy5wbHVjayh0aGlzLnN0cmluZ1JlY29yZHMsIFwiaWRcIikuaW5kZXhPZihpZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdSZWNvcmRzW2luZGV4XSA/IHRoaXMuc3RyaW5nUmVjb3Jkc1tpbmRleF1bXCJjb2xvclwiXSBhcyBzdHJpbmcgOiBcIiNDMENERDFcIjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xvciB8fCBcIiNDMENERDFcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25jbGljazogKGQ6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudDpNb3VzZUV2ZW50ID0gdGhpcy5jaGFydC5pbnRlcm5hbC5kMy5ldmVudCBhcyBNb3VzZUV2ZW50O1xuICAgICAgICAgICAgICAgICAgICBpZighKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkmJiBkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LnNldEtleXMoW3RoaXMuaW5kZXhUb0tleVtkLmluZGV4XV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbnNlbGVjdGVkOiAoZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYoZCAmJiBkLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5hZGRLZXlzKFt0aGlzLmluZGV4VG9LZXlbZC5pbmRleF1dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb251bnNlbGVjdGVkOiAoZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYoZCAmJiBkLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5yZW1vdmVLZXlzKFt0aGlzLmluZGV4VG9LZXlbZC5pbmRleF1dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25tb3VzZW92ZXI6IChkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuc2V0S2V5cyhbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uTmFtZXNUb1ZhbHVlOntbY29sdW1uTmFtZTpzdHJpbmddIDogc3RyaW5nfG51bWJlciB9ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uTmFtZXNUb0NvbG9yOntbY29sdW1uTmFtZTpzdHJpbmddIDogc3RyaW5nfSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oZWlnaHRDb2x1bW5OYW1lcy5mb3JFYWNoKCAoY29sdW1uOnN0cmluZywgaW5kZXg6bnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uTmFtZXNUb1ZhbHVlW3RoaXMuaGVpZ2h0Q29sdW1uc0xhYmVsc1tpbmRleF1dID0gdGhpcy5udW1lcmljUmVjb3Jkc1tkLmluZGV4XVtjb2x1bW5dIGFzIG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmhlaWdodENvbHVtbk5hbWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gU3RhbmRhcmRMaWIuaW50ZXJwb2xhdGVDb2xvcihpbmRleCAvICh0aGlzLmhlaWdodENvbHVtbk5hbWVzLmxlbmd0aCAtIDEpLCB0aGlzLmNvbG9yUmFtcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbk5hbWVzVG9Db2xvclt0aGlzLmhlaWdodENvbHVtbnNMYWJlbHNbaW5kZXhdXSA9IFwiI1wiICsgU3RhbmRhcmRMaWIuZGVjaW1hbFRvSGV4KGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZTpzdHJpbmcgPSB0aGlzLnN0cmluZ1JlY29yZHNbZC5pbmRleF1bXCJ4TGFiZWxcIl0gYXMgc3RyaW5nO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnRvb2xUaXAuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IHRoaXMuY2hhcnQuaW50ZXJuYWwuZDMuZXZlbnQucGFnZVgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdGhpcy5jaGFydC5pbnRlcm5hbC5kMy5ldmVudC5wYWdlWSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VG9vbFRpcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uTmFtZXNUb1ZhbHVlOiBjb2x1bW5OYW1lc1RvVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uTmFtZXNUb0NvbG9yOiBjb2x1bW5OYW1lc1RvQ29sb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuc2V0S2V5cyhbdGhpcy5pbmRleFRvS2V5W2QuaW5kZXhdXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9ubW91c2VvdXQ6IChkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuc2V0S2V5cyhbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnRvb2xUaXAuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1Rvb2xUaXA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBheGlzOiB7XG4gICAgICAgICAgICAgICAgeDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNhdGVnb3J5XCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwib3V0ZXItY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGljazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlOiAtNDUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdWxsaW5nOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogKG51bTpudW1iZXIpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5zdHJpbmdSZWNvcmRzICYmIHRoaXMuc3RyaW5nUmVjb3Jkc1tudW1dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZWxlbWVudCAmJiB0aGlzLnByb3BzLnN0eWxlLmhlaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbEhlaWdodDpudW1iZXIgPSAodGhpcy5wcm9wcy5zdHlsZS5oZWlnaHQqIDAuMikvTWF0aC5jb3MoNDUqKE1hdGguUEkvMTgwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFiZWxTdHJpbmc6c3RyaW5nID0gKHRoaXMuc3RyaW5nUmVjb3Jkc1tudW1dW1wieExhYmVsXCJdIGFzIHN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihsYWJlbFN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzdHJpbmdTaXplOm51bWJlciA9IFN0YW5kYXJkTGliLmdldFRleHRXaWR0aChsYWJlbFN0cmluZywgXCIxNHB0IEhlbHZldGljYSBOZXVlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGp1c3RtZW50Q2hhcmFjdGVyczpudW1iZXIgPSBsYWJlbFN0cmluZy5sZW5ndGggLSBNYXRoLmZsb29yKGxhYmVsU3RyaW5nLmxlbmd0aCAqIChsYWJlbEhlaWdodCAvIHN0cmluZ1NpemUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRqdXN0bWVudENoYXJhY3RlcnMgPiAwID8gbGFiZWxTdHJpbmcuc3Vic3RyaW5nKDAsIGxhYmVsU3RyaW5nLmxlbmd0aCAtIGFkanVzdG1lbnRDaGFyYWN0ZXJzIC0gMykgKyBcIi4uLlwiIDogbGFiZWxTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nUmVjb3Jkc1tudW1dW1wieExhYmVsXCJdIGFzIHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeToge1xuICAgICAgICAgICAgICAgICAgICBzaG93OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDpcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwib3V0ZXItbWlkZGxlXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGljazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZml0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpbGluZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IChudW06bnVtYmVyKTpzdHJpbmcgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMueUxhYmVsQ29sdW1uUGF0aCAmJiB0aGlzLnlMYWJlbENvbHVtbkRhdGFUeXBlICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnlBeGlzVmFsdWVUb0xhYmVsW251bV0gfHwgXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZ3JvdXBpbmdNb2RlID09PSBcInBlcmNlbnRTdGFja1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkMy5mb3JtYXQoXCIuMCVcIikobnVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKEZvcm1hdFV0aWxzLmRlZmF1bHROdW1iZXJGb3JtYXR0aW5nKG51bSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeTI6IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdzpmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6XCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcIm91dGVyLW1pZGRsZVwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aWxpbmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAobnVtOm51bWJlcik6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnlMYWJlbENvbHVtblBhdGggJiYgdGhpcy55TGFiZWxDb2x1bW5EYXRhVHlwZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy55QXhpc1ZhbHVlVG9MYWJlbFtudW1dIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmdyb3VwaW5nTW9kZSA9PT0gXCJwZXJjZW50U3RhY2tcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZDMuZm9ybWF0KFwiLjAlXCIpKG51bSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhGb3JtYXRVdGlscy5kZWZhdWx0TnVtYmVyRm9ybWF0dGluZyhudW0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHJvdGF0ZWQ6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9vbHRpcDoge1xuICAgICAgICAgICAgICAgIGZvcm1hdDoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogKG51bTpudW1iZXIpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnN0cmluZ1JlY29yZHMgJiYgdGhpcy5zdHJpbmdSZWNvcmRzW251bV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdSZWNvcmRzW251bV1bXCJ4TGFiZWxcIl0gYXMgc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IChuYW1lOnN0cmluZywgcmF0aW86bnVtYmVyLCBpZDpzdHJpbmcsIGluZGV4Om51bWJlcik6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbEluZGV4Om51bWJlciA9IHRoaXMuaGVpZ2h0Q29sdW1uTmFtZXMuaW5kZXhPZihuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAodGhpcy5oZWlnaHRDb2x1bW5zTGFiZWxzID8gdGhpcy5oZWlnaHRDb2x1bW5zTGFiZWxzW2xhYmVsSW5kZXhdIDogXCJcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ3JpZDoge1xuICAgICAgICAgICAgICAgIHg6IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeToge1xuICAgICAgICAgICAgICAgICAgICBzaG93OiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJpbmR0bzogbnVsbCxcbiAgICAgICAgICAgIGJhcjoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiB7XG4gICAgICAgICAgICAgICAgICAgIHJhdGlvOiAwLjhcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICAgICAgc2hvdzogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbnJlbmRlcmVkOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5idXN5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdHlsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBoYW5kbGVNaXNzaW5nU2Vzc2lvblN0YXRlUHJvcGVydGllcyhuZXdTdGF0ZTphbnkpXG5cdHtcblxuXHR9XG5cbiAgICBoYW5kbGVDbGljayhldmVudDpNb3VzZUV2ZW50KTp2b2lkIHtcbiAgICAgICAgaWYoIXRoaXMuZmxhZykge1xuICAgICAgICAgICAgdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LnNldEtleXMoW10pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmxhZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIG1pcnJvclZlcnRpY2FsKCkge1xuICAgICAgICB2YXIgdGVtcDpzdHJpbmcgPSB0aGlzLmMzQ29uZmlnLmRhdGEua2V5cy52YWx1ZVswXTtcbiAgICAgICAgaWYodGhpcy5jM0NvbmZpZy5heGlzLnkuc2hvdyA9PSB0cnVlKXtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55Mi5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55LnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuZGF0YS5heGVzID0ge1t0ZW1wXToneTInfTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55Mi5sYWJlbCA9IHRoaXMuYzNDb25maWcuYXhpcy55LmxhYmVsO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55LnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkyLnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuZGF0YS5heGVzID0ge1t0ZW1wXToneSd9O1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkubGFiZWwgPSB0aGlzLmMzQ29uZmlnLmF4aXMueTIubGFiZWw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kYXRhQ2hhbmdlZCgpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlKCk7XG4gICAgfVxuXG4gICAgcm90YXRlQXhlcygpIHtcbiAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnJvdGF0ZWQgPSB0aGlzLnBhdGhzLmhvcml6b250YWxNb2RlLmdldFN0YXRlKCk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGUoKTtcbiAgICAgICAgLy8gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIC8vICAgdGhpcy5idXN5ID0gdHJ1ZTtcbiAgICAgICAgLy8gICBjMy5nZW5lcmF0ZSh0aGlzLmMzQ29uZmlnKTtcbiAgICAgICAgLy8gfSwgMTApO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXhpc0NoYW5nZWQoKTp2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoYXJ0IHx8IHRoaXMuYnVzeSlcbiAgICAgICAgXHRyZXR1cm4gU3RhbmRhcmRMaWIuZGVib3VuY2UodGhpcywgJ2F4aXNDaGFuZ2VkJyk7XG5cbiAgICAgICAgdmFyIHhMYWJlbDpzdHJpbmcgPSB0aGlzLnBhdGhzLnhBeGlzLnB1c2goXCJvdmVycmlkZUF4aXNOYW1lXCIpLmdldFN0YXRlKCkgfHwgXCJTb3J0ZWQgYnkgXCIgKyB0aGlzLnBhdGhzLnNvcnRDb2x1bW4uZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ3RpdGxlJyk7XG4gICAgICAgIHZhciB5TGFiZWw6c3RyaW5nID0gdGhpcy5wYXRocy55QXhpcy5wdXNoKFwib3ZlcnJpZGVBeGlzTmFtZVwiKS5nZXRTdGF0ZSgpIHx8ICh0aGlzLmhlaWdodENvbHVtbnNMYWJlbHMgPyB0aGlzLmhlaWdodENvbHVtbnNMYWJlbHMuam9pbihcIiwgXCIpIDogXCJcIik7XG5cbiAgICAgICAgaWYoIXRoaXMuc2hvd1hBeGlzTGFiZWwpe1xuICAgICAgICAgICAgeExhYmVsID0gXCIgXCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLmMzQ29uZmlnLmF4aXMueS5zaG93KXtcbiAgICAgICAgICAgIHRoaXMuY2hhcnQuYXhpcy5sYWJlbHMoe1xuICAgICAgICAgICAgICAgIHg6IHhMYWJlbCxcbiAgICAgICAgICAgICAgICB5OiB5TGFiZWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuY2hhcnQuYXhpcy5sYWJlbHMoe1xuICAgICAgICAgICAgICAgIHg6IHhMYWJlbCxcbiAgICAgICAgICAgICAgICB5MjogeUxhYmVsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXhpc0xhYmVsc0NoYW5nZWQoKTtcblxuICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueC5sYWJlbCA9IHt0ZXh0OnhMYWJlbCwgcG9zaXRpb246XCJvdXRlci1jZW50ZXJcIn07XG4gICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55LmxhYmVsID0ge3RleHQ6eUxhYmVsLCBwb3NpdGlvbjpcIm91dGVyLW1pZGRsZVwifTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXhpc0xhYmVsc0NoYW5nZWQoKTp2b2lkIHtcbiAgICAgICAgdmFyIHdpZHRoOm51bWJlciA9IHRoaXMuY2hhcnQuaW50ZXJuYWwud2lkdGg7XG4gICAgICAgIHZhciB0ZXh0SGVpZ2h0Om51bWJlciA9IFN0YW5kYXJkTGliLmdldFRleHRIZWlnaHQoXCJ0ZXN0XCIsIFwiMTRwdCBIZWx2ZXRpY2EgTmV1ZVwiKTtcbiAgICAgICAgdmFyIHhMYWJlbHNUb1Nob3c6bnVtYmVyID0gTWF0aC5mbG9vcih3aWR0aCAvIHRleHRIZWlnaHQpO1xuICAgICAgICB4TGFiZWxzVG9TaG93ID0gTWF0aC5tYXgoMix4TGFiZWxzVG9TaG93KTtcblxuICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueC50aWNrLmN1bGxpbmcgPSB7bWF4OiB4TGFiZWxzVG9TaG93fTtcbiAgICB9XG5cbiAgICBoYW5kbGVTaG93VmFsdWVMYWJlbHMgKCkge1xuICAgICAgICBpZighdGhpcy5jaGFydClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5zaG93VmFsdWVMYWJlbHMgPSB0aGlzLnBhdGhzLnNob3dWYWx1ZUxhYmVscy5nZXRTdGF0ZSgpO1xuICAgICAgICB0aGlzLmNoYXJ0LmZsdXNoKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVDb2x1bW5zKCk6dm9pZCB7XG4gICAgICAgIHRoaXMuaGVpZ2h0Q29sdW1uTmFtZXMgPSBbXTtcbiAgICAgICAgdGhpcy5oZWlnaHRDb2x1bW5zTGFiZWxzID0gW107XG5cbiAgICAgICAgdmFyIGxobSA9IHRoaXMucGF0aHMuaGVpZ2h0Q29sdW1ucy5nZXRPYmplY3QoKTtcbiAgICAgICAgdmFyIGNvbHVtbnMgPSBsaG0uZ2V0T2JqZWN0cygpO1xuICAgICAgICB2YXIgbmFtZXMgPSBsaG0uZ2V0TmFtZXMoKTtcblxuICAgICAgICBmb3IgKGxldCBpZHggaW4gY29sdW1ucylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNvbHVtbiA9IGNvbHVtbnNbaWR4XTtcbiAgICAgICAgICAgIGxldCBuYW1lID0gbmFtZXNbaWR4XTtcbiAgICAgICAgICAgIGxldCB0aXRsZSA9IGNvbHVtbi5nZXRNZXRhZGF0YSgndGl0bGUnKTtcblxuICAgICAgICAgICAgdGhpcy5oZWlnaHRDb2x1bW5zTGFiZWxzLnB1c2godGl0bGUpO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRDb2x1bW5OYW1lcy5wdXNoKG5hbWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkYXRhQ2hhbmdlZCgpOnZvaWQge1xuICAgICAgICBpZiAoIXRoaXMuY2hhcnQgfHwgdGhpcy5idXN5KVxuICAgICAgICBcdHJldHVybiBTdGFuZGFyZExpYi5kZWJvdW5jZSh0aGlzLCAnZGF0YUNoYW5nZWQnKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZUNvbHVtbnMoKTtcblxuICAgICAgICB2YXIgaGVpZ2h0Q29sdW1uczpXZWF2ZVBhdGhbXSA9IHRoaXMucGF0aHMuaGVpZ2h0Q29sdW1ucy5nZXRDaGlsZHJlbigpO1xuXG4gICAgICAgIHZhciBudW1lcmljTWFwcGluZzphbnkgPSB7XG4gICAgICAgICAgICBzb3J0OiB0aGlzLnBhdGhzLnNvcnRDb2x1bW4sXG4gICAgICAgICAgICB4TGFiZWw6IHRoaXMucGF0aHMubGFiZWxDb2x1bW5cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgc3RyaW5nTWFwcGluZzphbnkgPSB7XG4gICAgICAgICAgICBzb3J0OiB0aGlzLnBhdGhzLnNvcnRDb2x1bW4sXG4gICAgICAgICAgICBjb2xvcjogdGhpcy5wYXRocy5jb2xvckNvbHVtbixcbiAgICAgICAgICAgIHhMYWJlbDogdGhpcy5wYXRocy5sYWJlbENvbHVtblxuICAgICAgICB9O1xuXG4gICAgICAgIGhlaWdodENvbHVtbnMuZm9yRWFjaCgoY29sdW1uOldlYXZlUGF0aCwgaWR4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgbGV0IG5hbWU6c3RyaW5nID0gY29sdW1uLmdldFBhdGgoKS5wb3AoKTtcbiAgICAgICAgICAgIG51bWVyaWNNYXBwaW5nW25hbWVdID0gY29sdW1uOyAvLyBhbGwgaGVpZ2h0IGNvbHVtbnMgYXMgbnVtZXJpYyB2YWx1ZSBmb3IgdGhlIGNoYXJ0XG5cbiAgICAgICAgICAgIGlmKGlkeCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMueUxhYmVsQ29sdW1uUGF0aCA9IGNvbHVtbjtcbiAgICAgICAgICAgICAgICBzdHJpbmdNYXBwaW5nW1wieUxhYmVsXCJdID0gY29sdW1uOyAvLyBvbmx5IHVzaW5nIHRoZSBmaXJzdCBjb2x1bW4gdG8gbGFiZWwgdGhlIHkgYXhpc1xuICAgICAgICAgICAgICAgIG51bWVyaWNNYXBwaW5nW1wieUxhYmVsXCJdID0gY29sdW1uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnlMYWJlbENvbHVtbkRhdGFUeXBlID0gdGhpcy55TGFiZWxDb2x1bW5QYXRoLmdldE9iamVjdCgpLmdldE1ldGFkYXRhKCdkYXRhVHlwZScpO1xuXG4gICAgICAgIHRoaXMubnVtZXJpY1JlY29yZHMgPSB0aGlzLnBhdGhzLnBsb3R0ZXIucmV0cmlldmVSZWNvcmRzKG51bWVyaWNNYXBwaW5nLCB7a2V5U2V0OiB0aGlzLnBhdGhzLmZpbHRlcmVkS2V5U2V0LCBkYXRhVHlwZTogXCJudW1iZXJcIn0pO1xuICAgICAgICBpZighdGhpcy5udW1lcmljUmVjb3Jkcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuc3RyaW5nUmVjb3JkcyA9IHRoaXMucGF0aHMucGxvdHRlci5yZXRyaWV2ZVJlY29yZHMoc3RyaW5nTWFwcGluZywge2tleVNldDogdGhpcy5wYXRocy5maWx0ZXJlZEtleVNldCwgZGF0YVR5cGU6IFwic3RyaW5nXCJ9KTtcblxuICAgICAgICB0aGlzLnJlY29yZHMgPSBfLnppcCh0aGlzLm51bWVyaWNSZWNvcmRzLCB0aGlzLnN0cmluZ1JlY29yZHMpO1xuICAgICAgICAvL3RoaXMucmVjb3JkcyA9IF8uc29ydEJ5T3JkZXIodGhpcy5yZWNvcmRzLCBbXCJzb3J0XCIsIFwiaWRcIl0sIFsnYXNjJywgJ2FzYyddKTtcbiAgICAgICAgdGhpcy5yZWNvcmRzID0gXy5zb3J0QnkodGhpcy5yZWNvcmRzLCAocmVjb3JkKSA9PntcbiAgICAgICAgICAgIHJldHVybiByZWNvcmRbMF1bXCJzb3J0XCJdO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYodGhpcy5jM0NvbmZpZy5heGlzLnkuc2hvdyA9PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5yZWNvcmRzID0gdGhpcy5yZWNvcmRzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRoaXMucmVjb3Jkcy5sZW5ndGgpXG4gICAgICAgICAgICBbdGhpcy5udW1lcmljUmVjb3JkcywgdGhpcy5zdHJpbmdSZWNvcmRzXSA9IF8udW56aXAodGhpcy5yZWNvcmRzKTtcblxuICAgICAgICB0aGlzLnlBeGlzVmFsdWVUb0xhYmVsID0ge307XG4gICAgICAgIHRoaXMueEF4aXNWYWx1ZVRvTGFiZWwgPSB7fTtcbiAgICAgICAgdGhpcy5rZXlUb0luZGV4ID0ge307XG4gICAgICAgIHRoaXMuaW5kZXhUb0tleSA9IHt9O1xuXG4gICAgICAgIHRoaXMubnVtZXJpY1JlY29yZHMuZm9yRWFjaCgocmVjb3JkOlJlY29yZCwgaW5kZXg6bnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBpZihyZWNvcmQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmtleVRvSW5kZXhbcmVjb3JkW1wiaWRcIl0gYXMgc3RyaW5nXSA9IGluZGV4O1xuICAgICAgICAgICAgICAgIHRoaXMuaW5kZXhUb0tleVtpbmRleF0gPSByZWNvcmRbXCJpZFwiXSBhcyBzdHJpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgdGhpcy5zdHJpbmdSZWNvcmRzLmZvckVhY2goKHJlY29yZDpSZWNvcmQsIGluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgdmFyIG51bWVyaWNSZWNvcmQ6UmVjb3JkID0gdGhpcy5udW1lcmljUmVjb3Jkc1tpbmRleF07XG4gICAgICAgICAgICBpZihudW1lcmljUmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy55QXhpc1ZhbHVlVG9MYWJlbFtudW1lcmljUmVjb3JkW1wieUxhYmVsXCJdIGFzIG51bWJlcl0gPSByZWNvcmRbXCJ5TGFiZWxcIl0gYXMgc3RyaW5nO1xuICAgICAgICAgICAgICAgIHRoaXMueEF4aXNWYWx1ZVRvTGFiZWxbbnVtZXJpY1JlY29yZFtcInhMYWJlbFwiXSBhcyBudW1iZXJdID0gcmVjb3JkW1wieExhYmVsXCJdIGFzIHN0cmluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5ncm91cGluZ01vZGUgPSB0aGlzLnBhdGhzLmdyb3VwaW5nTW9kZS5nZXRTdGF0ZSgpO1xuICAgICAgICAvL3ZhciBob3Jpem9udGFsTW9kZSA9IHRoaXMucGF0aHMucGxvdHRlci5wdXNoKFwiaG9yaXpvbnRhbE1vZGVcIikuZ2V0U3RhdGUoKTtcblxuICAgICAgICAvLyBzZXQgYXhpcyByb3RhdGlvbiBtb2RlXG4gICAgICAgIC8vdGhpcy5jaGFydC5sb2FkKHtheGVzOiB7IHJvdGF0ZWQ6IGhvcml6b250YWxNb2RlIH19KTtcblxuICAgICAgICBpZih0aGlzLmdyb3VwaW5nTW9kZSA9PT0gXCJzdGFja1wiKSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0Lmdyb3VwcyhbdGhpcy5oZWlnaHRDb2x1bW5OYW1lc10pO1xuICAgICAgICB9IGVsc2UgaWYodGhpcy5ncm91cGluZ01vZGUgPT09IFwiZ3JvdXBcIikge1xuICAgICAgICAgICAgdGhpcy5jaGFydC5ncm91cHMoW10pO1xuICAgICAgICB9IGVsc2UgaWYodGhpcy5ncm91cGluZ01vZGUgPT09IFwicGVyY2VudFN0YWNrXCIpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhcnQuZ3JvdXBzKFt0aGlzLmhlaWdodENvbHVtbk5hbWVzXSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLmdyb3VwaW5nTW9kZSA9PT0gXCJwZXJjZW50U3RhY2tcIiAmJiB0aGlzLmhlaWdodENvbHVtbk5hbWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIG5vcm1hbGl6ZSB0aGUgaGVpZ2h0IGNvbHVtbnMgdG8gYmUgcGVyY2VudGFnZXMuXG4gICAgICAgICAgICB2YXIgbmV3VmFsdWVzID0gdGhpcy5udW1lcmljUmVjb3Jkcy5tYXAoKHJlY29yZDpSZWNvcmQpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0czp7W2tleTpzdHJpbmddOiBudW1iZXJ9O1xuICAgICAgICAgICAgICAgIGlmKHJlY29yZCkge1xuICAgICAgICAgICAgICAgICAgICBoZWlnaHRzID0gXy5waWNrKHJlY29yZCwgdGhpcy5oZWlnaHRDb2x1bW5OYW1lcykgYXMge1trZXk6c3RyaW5nXTogbnVtYmVyfTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1bTpudW1iZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICBfLmtleXMoaGVpZ2h0cykuZm9yRWFjaCgoa2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IGhlaWdodHNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgXy5rZXlzKGhlaWdodHMpLmZvckVhY2goKGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodHNba2V5XSA9IGhlaWdodHNba2V5XSAvIHN1bTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhlaWdodHM7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5udW1lcmljUmVjb3JkcyA9IG5ld1ZhbHVlcztcbiAgICAgICAgfVxuXG4gICAgICAgIGludGVyZmFjZSBLZXlzIHt4OnN0cmluZywgdmFsdWU6c3RyaW5nW119O1xuICAgICAgICB2YXIga2V5czpLZXlzID0ge3g6XCJcIiwgdmFsdWU6W119O1xuICAgICAgICAvLyBpZiBsYWJlbCBjb2x1bW4gaXMgc3BlY2lmaWVkXG4gICAgICAgIGlmKHRoaXMucGF0aHMubGFiZWxDb2x1bW4uZ2V0U3RhdGUoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGtleXMueCA9IFwieExhYmVsXCI7XG4gICAgICAgIH1cblxuICAgICAgICBrZXlzLnZhbHVlID0gdGhpcy5oZWlnaHRDb2x1bW5OYW1lcztcbiAgICAgICAgdmFyIGNvbG9yczp7W25hbWU6c3RyaW5nXTogc3RyaW5nfSA9IHt9O1xuXG4gICAgICAgIGlmKHRoaXMuaGVpZ2h0Q29sdW1uTmFtZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgdGhpcy5jb2xvclJhbXAgPSB0aGlzLnBhdGhzLmNoYXJ0Q29sb3JzLmdldFN0YXRlKCk7XG4gICAgICAgICAgICB0aGlzLmhlaWdodENvbHVtbk5hbWVzLm1hcCgobmFtZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBTdGFuZGFyZExpYi5pbnRlcnBvbGF0ZUNvbG9yKGluZGV4IC8gKHRoaXMuaGVpZ2h0Q29sdW1uTmFtZXMubGVuZ3RoIC0gMSksIHRoaXMuY29sb3JSYW1wKTtcbiAgICAgICAgICAgICAgICBjb2xvcnNbbmFtZV0gPSBcIiNcIiArIFN0YW5kYXJkTGliLmRlY2ltYWxUb0hleChjb2xvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkYXRhID0gXy5jbG9uZURlZXAodGhpcy5jM0NvbmZpZy5kYXRhKTtcbiAgICAgICAgZGF0YS5qc29uID0gdGhpcy5udW1lcmljUmVjb3JkcztcbiAgICAgICAgZGF0YS5jb2xvcnMgPSBjb2xvcnM7XG4gICAgICAgIGRhdGEua2V5cyA9IGtleXM7XG4gICAgICAgIGRhdGEudW5sb2FkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jM0NvbmZpZy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5idXN5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jaGFydC5sb2FkKGRhdGEpO1xuICAgIH1cblxuICAgIHVwZGF0ZVN0eWxlKCkge1xuICAgIFx0aWYoIXRoaXMuY2hhcnQgfHwgIXRoaXMuaGVpZ2h0Q29sdW1uTmFtZXMpXG4gICAgXHRcdHJldHVybjtcblxuICAgICAgICBkMy5zZWxlY3QodGhpcy5lbGVtZW50KVxuICAgICAgICBcdC5zZWxlY3RBbGwoXCJwYXRoXCIpXG4gICAgICAgIFx0LnN0eWxlKFwib3BhY2l0eVwiLCAxKVxuICAgICAgICAgICAgLnN0eWxlKFwic3Ryb2tlXCIsIFwiYmxhY2tcIilcbiAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZS13aWR0aFwiLCBcIjFweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwic3Ryb2tlLW9wYWNpdHlcIiwgMC41KTtcblxuICAgICAgICB2YXIgc2VsZWN0ZWRLZXlzOnN0cmluZ1tdID0gdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LmdldEtleXMoKTtcbiAgICAgICAgdmFyIHByb2JlZEtleXM6c3RyaW5nW10gPSB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldC5nZXRLZXlzKCk7XG4gICAgICAgIHZhciBzZWxlY3RlZEluZGljZXM6bnVtYmVyW10gPSBzZWxlY3RlZEtleXMubWFwKChrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMua2V5VG9JbmRleFtrZXldKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBwcm9iZWRJbmRpY2VzOm51bWJlcltdID0gcHJvYmVkS2V5cy5tYXAoKGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgcmV0dXJuIE51bWJlcih0aGlzLmtleVRvSW5kZXhba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIga2V5czpzdHJpbmdbXSA9IE9iamVjdC5rZXlzKHRoaXMua2V5VG9JbmRleCk7XG4gICAgICAgIHZhciBpbmRpY2VzOm51bWJlcltdID0ga2V5cy5tYXAoKGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIodGhpcy5rZXlUb0luZGV4W2tleV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHVuc2VsZWN0ZWRJbmRpY2VzOm51bWJlcltdID0gXy5kaWZmZXJlbmNlKGluZGljZXMsc2VsZWN0ZWRJbmRpY2VzKTtcbiAgICAgICAgdW5zZWxlY3RlZEluZGljZXMgPSBfLmRpZmZlcmVuY2UodW5zZWxlY3RlZEluZGljZXMscHJvYmVkSW5kaWNlcyk7XG4gICAgICAgIHRoaXMuaGVpZ2h0Q29sdW1uTmFtZXMuZm9yRWFjaCgoaXRlbTpzdHJpbmcpID0+IHtcbiAgICAgICAgXHR2YXIgcGF0aHMgPSBkMy5zZWxlY3RBbGwoXCJnXCIpLmZpbHRlcihcIi5jMy1zaGFwZXMtXCIraXRlbStcIi5jMy1iYXJzXCIpLnNlbGVjdEFsbChcInBhdGhcIik7XG4gICAgICAgIFx0dmFyIHRleHRzID0gZDMuc2VsZWN0QWxsKFwiZ1wiKS5maWx0ZXIoXCIuYzMtdGV4dHMtXCIraXRlbSkuc2VsZWN0QWxsKFwidGV4dFwiKTtcbiAgICAgICAgICAgIGlmKHNlbGVjdGVkSW5kaWNlcy5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21TZWxlY3RvclN0eWxlKHVuc2VsZWN0ZWRJbmRpY2VzLCBwYXRocywge29wYWNpdHk6IDAuMywgXCJzdHJva2Utb3BhY2l0eVwiOiAwLjB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbVNlbGVjdG9yU3R5bGUoc2VsZWN0ZWRJbmRpY2VzLCBwYXRocywge29wYWNpdHk6IDEuMCwgXCJzdHJva2Utb3BhY2l0eVwiOiAxLjB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbVNlbGVjdG9yU3R5bGUodW5zZWxlY3RlZEluZGljZXMsIHRleHRzLCB7XCJmaWxsLW9wYWNpdHlcIjowLjN9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbVNlbGVjdG9yU3R5bGUoc2VsZWN0ZWRJbmRpY2VzLCB0ZXh0cywge1wiZmlsbC1vcGFjaXR5XCI6MS4wfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKCFwcm9iZWRJbmRpY2VzLmxlbmd0aClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbVNlbGVjdG9yU3R5bGUoaW5kaWNlcywgcGF0aHMsIHtvcGFjaXR5OiAxLjAsIFwic3Ryb2tlLW9wYWNpdHlcIjogMC41fSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21TZWxlY3RvclN0eWxlKGluZGljZXMsIHRleHRzLCB7XCJmaWxsLW9wYWNpdHlcIjoxLjB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzZWxlY3RlZEluZGljZXMubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5jaGFydC5zZWxlY3QodGhpcy5oZWlnaHRDb2x1bW5OYW1lcywgc2VsZWN0ZWRJbmRpY2VzLCB0cnVlKTtcbiAgICAgICAgZWxzZSBpZighcHJvYmVkSW5kaWNlcy5sZW5ndGgpXG4gICAgICAgICAgICB0aGlzLmNoYXJ0LnNlbGVjdCh0aGlzLmhlaWdodENvbHVtbk5hbWVzLCBbXSwgdHJ1ZSk7XG4gICAgfVxuXG5cbiAgICBnZW5lcmF0ZSgpIHtcbiAgICBcdHRoaXMuYnVzeSA9IHRydWU7XG4gICAgICAgIHRoaXMuY2hhcnQgPSBnZW5lcmF0ZSh0aGlzLmMzQ29uZmlnKTtcbiAgICB9XG5cbiAgICByZXNpemUod2lkdGg6bnVtYmVyLCBoZWlnaHQ6bnVtYmVyKSB7XG4gICAgICAgIGlmKHRoaXMucGF0aHMubGFiZWxDb2x1bW4uZ2V0U3RhdGUoKS5sZW5ndGgpe1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnguaGVpZ2h0ID0gaGVpZ2h0ICogMC4yO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy54LmhlaWdodCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jM0NvbmZpZy5zaXplID0ge3dpZHRoLCBoZWlnaHR9O1xuICAgICAgICB0aGlzLmdlbmVyYXRlKCk7XG4gICAgICAgIGlmKHRoaXMucGF0aHMubGFiZWxDb2x1bW4uZ2V0U3RhdGUoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vVE9ETzogRm9yIG5vdyB3ZSBoYXZlIG5vIGNob2ljZSBieSB0byB1cGRhdGUgYXhpcyBmb3IgbGFiZWwgc3BhY2luZyBhZnRlciBnZW5lcmF0ZSxcbiAgICAgICAgICAgIC8vc28gd2UgY2FuIGdldCBuZXcgd2lkdGggYW5kIHRoZW4gdXBkYXRlIGxhYmVsIHNwYWNpbmcgYXBwcm9wcmlhdGVseSwgYnV0IHRoaXNcbiAgICAgICAgICAgIC8vdGhlbiByZXF1aXJlcyBhbm90aGVyIGNhbGwgdG8gZ2VuZXJhdGUuIFdlIG1heSB3YW50IHRvIHRyeSBhbmQgY2FsY3VsYXRlIHRoaXNcbiAgICAgICAgICAgIC8vd2lkdGggb3Vyc2VsdmVzIHRvIHNhdmUgdGhlIGV4dHJhIGdlbmVyYXRlIGNhbGwgaW4gYXhpc0NoYW5nZWQoKVxuICAgICAgICAgICAgdGhpcy5heGlzQ2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5zaG93WEF4aXNMYWJlbCA9IGZhbHNlO1xuXG4gICAgICAgIHZhciBwbG90dGVyUGF0aCA9IHRoaXMudG9vbFBhdGgucHVzaFBsb3R0ZXIoXCJwbG90XCIpO1xuICAgICAgICB2YXIgbWFwcGluZyA9IFtcbiAgICAgICAgICAgIHsgbmFtZTogXCJwbG90dGVyXCIsIHBhdGg6IHBsb3R0ZXJQYXRoLCBjYWxsYmFja3M6IG51bGx9LFxuICAgICAgICAgICAgeyBuYW1lOiBcImhlaWdodENvbHVtbnNcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImhlaWdodENvbHVtbnNcIiksIGNhbGxiYWNrczogW3RoaXMuZGF0YUNoYW5nZWQsIHRoaXMuYXhpc0NoYW5nZWRdIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwibGFiZWxDb2x1bW5cIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImxhYmVsQ29sdW1uXCIpLCBjYWxsYmFja3M6IFt0aGlzLmRhdGFDaGFuZ2VkLCB0aGlzLmF4aXNDaGFuZ2VkXSB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcInNvcnRDb2x1bW5cIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcInNvcnRDb2x1bW5cIiksIGNhbGxiYWNrczogW3RoaXMuZGF0YUNoYW5nZWQsIHRoaXMuYXhpc0NoYW5nZWRdIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwiY29sb3JDb2x1bW5cIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImNvbG9yQ29sdW1uXCIpLCBjYWxsYmFja3M6IHRoaXMuZGF0YUNoYW5nZWQgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJjaGFydENvbG9yc1wiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwiY2hhcnRDb2xvcnNcIiksIGNhbGxiYWNrczogdGhpcy5kYXRhQ2hhbmdlZCB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcImdyb3VwaW5nTW9kZVwiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwiZ3JvdXBpbmdNb2RlXCIpLCBjYWxsYmFja3M6IHRoaXMuZGF0YUNoYW5nZWQgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJob3Jpem9udGFsTW9kZVwiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwiaG9yaXpvbnRhbE1vZGVcIiksIGNhbGxiYWNrczogdGhpcy5yb3RhdGVBeGVzIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwic2hvd1ZhbHVlTGFiZWxzXCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJzaG93VmFsdWVMYWJlbHNcIiksIGNhbGxiYWNrczogdGhpcy5oYW5kbGVTaG93VmFsdWVMYWJlbHMgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJ4QXhpc1wiLCBwYXRoOiB0aGlzLnRvb2xQYXRoLnB1c2hQbG90dGVyKFwieEF4aXNcIiksIGNhbGxiYWNrczogdGhpcy5heGlzQ2hhbmdlZCB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcInlBeGlzXCIsIHBhdGg6IHRoaXMudG9vbFBhdGgucHVzaFBsb3R0ZXIoXCJ5QXhpc1wiKSwgY2FsbGJhY2tzOiB0aGlzLmF4aXNDaGFuZ2VkIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwiZmlsdGVyZWRLZXlTZXRcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImZpbHRlcmVkS2V5U2V0XCIpLCBjYWxsYmFja3M6IHRoaXMuZGF0YUNoYW5nZWQgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJzZWxlY3Rpb25LZXlTZXRcIiwgcGF0aDogdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LCBjYWxsYmFja3M6IHRoaXMudXBkYXRlU3R5bGUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJwcm9iZUtleVNldFwiLCBwYXRoOiB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldCwgY2FsbGJhY2tzOiB0aGlzLnVwZGF0ZVN0eWxlIH1cbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLmluaXRpYWxpemVQYXRocyhtYXBwaW5nKTtcblxuICAgICAgICB0aGlzLnBhdGhzLmZpbHRlcmVkS2V5U2V0LmdldE9iamVjdCgpLnNldENvbHVtbktleVNvdXJjZXMoW3RoaXMucGF0aHMuc29ydENvbHVtbi5nZXRPYmplY3QoKV0pO1xuXG4gICAgICAgIHRoaXMuYzNDb25maWcuYmluZHRvID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBpZih0aGlzLnBhdGhzLmxhYmVsQ29sdW1uLmdldFN0YXRlKCkubGVuZ3RoKXtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy54LmhlaWdodCA9IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0ICogMC4yO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2VuZXJhdGUoKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdlYXZlQzNCYXJjaGFydDtcbnJlZ2lzdGVyVG9vbEltcGxlbWVudGF0aW9uKFwid2VhdmUudmlzdWFsaXphdGlvbi50b29sczo6Q29tcG91bmRCYXJDaGFydFRvb2xcIiwgV2VhdmVDM0JhcmNoYXJ0KTtcbi8vV2VhdmUucmVnaXN0ZXJDbGFzcyhcIndlYXZlanMudG9vbHMuQ29tcG91bmRCYXJDaGFydFRvb2xcIiwgV2VhdmVDM0JhcmNoYXJ0LCBbd2VhdmVqcy5hcGkuY29yZS5JTGlua2FibGVPYmplY3RXaXRoTmV3UHJvcGVydGllc10pO1xuIiwiLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9kMy9kMy5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3Mvd2VhdmUvV2VhdmVQYXRoLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi9yZWFjdC11aS91aS50c3hcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LWRvbS5kLnRzXCIvPlxuXG5pbXBvcnQge0lWaXNUb29sLCBJVmlzVG9vbFByb3BzLCBJVmlzVG9vbFN0YXRlfSBmcm9tIFwiLi9JVmlzVG9vbFwiO1xuXG5pbXBvcnQge3JlZ2lzdGVyVG9vbEltcGxlbWVudGF0aW9ufSBmcm9tIFwiLi4vV2VhdmVUb29sXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdWkgZnJvbSBcIi4uL3JlYWN0LXVpL3VpXCI7XG5pbXBvcnQgU3RhbmRhcmRMaWIgZnJvbSBcIi4uL3V0aWxzL1N0YW5kYXJkTGliXCI7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XG5pbXBvcnQge0NTU1Byb3BlcnRpZXN9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgUHJlZml4ZXIgZnJvbSBcInJlYWN0LXZlbmRvci1wcmVmaXhcIjtcblxuY29uc3QgU0hBUEVfVFlQRV9DSVJDTEU6c3RyaW5nID0gXCJjaXJjbGVcIjtcbmNvbnN0IFNIQVBFX1RZUEVfU1FVQVJFOnN0cmluZyA9IFwic3F1YXJlXCI7XG5jb25zdCBTSEFQRV9UWVBFX0xJTkU6c3RyaW5nID0gXCJsaW5lXCI7XG5cbmNsYXNzIFdlYXZlQzNCYXJDaGFydExlZ2VuZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJVmlzVG9vbFByb3BzLCBJVmlzVG9vbFN0YXRlPiBpbXBsZW1lbnRzIElWaXNUb29sIHtcblxuICAgIHByaXZhdGUgcGxvdHRlclBhdGg6V2VhdmVQYXRoO1xuICAgIHByaXZhdGUgY29sb3JSYW1wUGF0aDpXZWF2ZVBhdGg7XG4gICAgcHJpdmF0ZSBjb2x1bW5zUGF0aDpXZWF2ZVBhdGg7XG4gICAgcHJpdmF0ZSBtYXhDb2x1bW5zUGF0aDpXZWF2ZVBhdGg7XG4gICAgcHJpdmF0ZSBmaWx0ZXJlZEtleVNldDpXZWF2ZVBhdGg7XG4gICAgcHJpdmF0ZSB0b29sUGF0aDpXZWF2ZVBhdGg7XG4gICAgcHJpdmF0ZSBzcGFuU3R5bGU6Q1NTUHJvcGVydGllcztcbiAgICBwcml2YXRlIG51bWJlck9mTGFiZWxzOm51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOklWaXNUb29sUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnRvb2xQYXRoID0gcHJvcHMudG9vbFBhdGg7XG4gICAgICAgIHRoaXMucGxvdHRlclBhdGggPSB0aGlzLnRvb2xQYXRoLnB1c2hQbG90dGVyKFwicGxvdFwiKTtcbiAgICAgICAgdGhpcy5jb2xvclJhbXBQYXRoID0gdGhpcy5wbG90dGVyUGF0aC5wdXNoKFwiY2hhcnRDb2xvcnNcIik7XG4gICAgICAgIHRoaXMuY29sdW1uc1BhdGggPSB0aGlzLnBsb3R0ZXJQYXRoLnB1c2goXCJjb2x1bW5zXCIpO1xuICAgICAgICB0aGlzLm1heENvbHVtbnNQYXRoID0gdGhpcy5wbG90dGVyUGF0aC5wdXNoKFwibWF4Q29sdW1uc1wiKTtcbiAgICAgICAgdGhpcy5maWx0ZXJlZEtleVNldCA9IHRoaXMucGxvdHRlclBhdGgucHVzaChcImZpbHRlcmVkS2V5U2V0XCIpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge3NlbGVjdGVkOltdLCBwcm9iZWQ6W119O1xuICAgICAgICB0aGlzLnNwYW5TdHlsZSA9IHt0ZXh0QWxpZ246XCJsZWZ0XCIsdmVydGljYWxBbGlnbjpcIm1pZGRsZVwiLCBvdmVyZmxvdzpcImhpZGRlblwiLCB3aGl0ZVNwYWNlOlwibm93cmFwXCIsIHRleHRPdmVyZmxvdzpcImVsbGlwc2lzXCIsIHBhZGRpbmdMZWZ0OjUsIHVzZXJTZWxlY3Q6XCJub25lXCJ9O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBoYW5kbGVNaXNzaW5nU2Vzc2lvblN0YXRlUHJvcGVydGllcyhuZXdTdGF0ZTphbnkpXG4gICAge1xuXG4gICAgfVxuXG4gICAgZ2V0IHRpdGxlKCk6c3RyaW5nIHtcbiAgICAgICByZXR1cm4gKHRoaXMudG9vbFBhdGguZ2V0VHlwZSgncGFuZWxUaXRsZScpID8gdGhpcy50b29sUGF0aC5nZXRTdGF0ZSgncGFuZWxUaXRsZScpIDogJycpIHx8IHRoaXMudG9vbFBhdGguZ2V0UGF0aCgpLnBvcCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dXBDYWxsYmFja3MoKSB7XG4gICAgICAgIHRoaXMubWF4Q29sdW1uc1BhdGguYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5mb3JjZVVwZGF0ZSk7XG4gICAgICAgIHRoaXMuZmlsdGVyZWRLZXlTZXQuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5mb3JjZVVwZGF0ZSk7XG4gICAgICAgIHRoaXMucGxvdHRlclBhdGgucHVzaChcInNoYXBlU2l6ZVwiKS5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLmZvcmNlVXBkYXRlKTtcbiAgICB9XG5cbiAgICAvL2dldFNlbGVjdGVkQmlucygpOm51bWJlcltdIHtcbiAgICAvL1xuICAgIC8vfVxuXG4gICAgLy9nZXRQcm9iZWRCaW5zKCk6bnVtYmVyW10ge1xuICAgIC8vXG4gICAgLy99XG5cbiAgICBoYW5kbGVDbGljayhsYWJlbDpudW1iZXIsdGVtcDphbnkpOnZvaWQge1xuXG4gICAgfVxuXG4gICAgaGFuZGxlUHJvYmUoYmluOm51bWJlciwgbW91c2VPdmVyOmJvb2xlYW4pOnZvaWQge1xuXG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuc2V0dXBDYWxsYmFja3MoKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgfVxuXG4gICAgZHJhd0NvbnRpbnVvdXNQbG90KCkge1xuXG4gICAgfVxuXG4gICAgc2VsZWN0aW9uS2V5c0NoYW5nZWQoKSB7XG5cbiAgICB9XG5cbiAgICBwcm9iZUtleXNDaGFuZ2VkKCkge1xuXG4gICAgfVxuXG4gICAgdmlzdWFsaXphdGlvbkNoYW5nZWQoKSB7XG5cbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICB9XG5cbiAgICBnZXRJbnRlcmFjdGlvblN0eWxlKGJpbjpudW1iZXIpOkNTU1Byb3BlcnRpZXMge1xuICAgICAgICB2YXIgc2VsZWN0ZWRTdHlsZTpDU1NQcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgd2lkdGg6XCIxMDAlXCIsXG4gICAgICAgICAgICBmbGV4OjEuMCxcbiAgICAgICAgICAgIGJvcmRlcldpZHRoOjAsXG4gICAgICAgICAgICBib3JkZXJDb2xvcjpcImJsYWNrXCIsXG4gICAgICAgICAgICBib3JkZXJTdHlsZTpcInNvbGlkXCIsXG4gICAgICAgICAgICBvcGFjaXR5OiAxLjBcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkU3R5bGU7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgd2lkdGg6bnVtYmVyID0gdGhpcy5wcm9wcy5zdHlsZS53aWR0aDtcbiAgICAgICAgdmFyIGhlaWdodDpudW1iZXIgPSB0aGlzLnByb3BzLnN0eWxlLmhlaWdodDtcbiAgICAgICAgdmFyIHNoYXBlU2l6ZTpudW1iZXIgPSB0aGlzLnBsb3R0ZXJQYXRoLmdldFN0YXRlKFwic2hhcGVTaXplXCIpO1xuICAgICAgICB0aGlzLm51bWJlck9mTGFiZWxzID0gdGhpcy5jb2x1bW5zUGF0aC5nZXRTdGF0ZSgpLmxlbmd0aDtcbiAgICAgICAgdmFyIG1heENvbHVtbnM6bnVtYmVyID0gMTsvL1RPRE86IFRoaXMgc2hvdWxkIHJlYWxseSBiZSBcInRoaXMubWF4Q29sdW1uc1BhdGguZ2V0U3RhdGUoKTtcIiBidXQgb25seSBzdXBwb3J0aW5nIDEgY29sdW1uIGZvciBub3dcbiAgICAgICAgdmFyIGNvbHVtbkZsZXg6bnVtYmVyID0gMS4wL21heENvbHVtbnM7XG4gICAgICAgIHZhciBleHRyYUJpbnM6bnVtYmVyID0gdGhpcy5udW1iZXJPZkxhYmVscyVtYXhDb2x1bW5zID09IDAgPyAwIDogbWF4Q29sdW1ucy0odGhpcy5udW1iZXJPZkxhYmVscyVtYXhDb2x1bW5zKTtcbiAgICAgICAgdmFyIHJhbXA6YW55W10gPSB0aGlzLmNvbG9yUmFtcFBhdGguZ2V0U3RhdGUoKTtcblxuICAgICAgICB2YXIgbGFiZWxzOnN0cmluZ1tdID0gdGhpcy5jb2x1bW5zUGF0aC5nZXRTdGF0ZSgpLm1hcCggKGNvbHVtbjphbnkpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICB2YXIgY29sdW1uTmFtZTpzdHJpbmcgPSBjb2x1bW4ub2JqZWN0TmFtZTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbHVtbnNQYXRoLnB1c2goY29sdW1uTmFtZSkuZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ3RpdGxlJyk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZmluYWxFbGVtZW50czphbnlbXSA9IFtdO1xuICAgICAgICB2YXIgcHJlZml4ZXJTdHlsZTp7fSA9IFByZWZpeGVyLnByZWZpeCh7c3R5bGVzOiB0aGlzLnNwYW5TdHlsZX0pLnN0eWxlcztcbiAgICAgICAgZm9yKHZhciBqOm51bWJlciA9IDA7IGo8bWF4Q29sdW1uczsgaisrKSB7XG5cbiAgICAgICAgICAgIHZhciBlbGVtZW50OkpTWC5FbGVtZW50W10gPSBbXTtcbiAgICAgICAgICAgIHZhciBlbGVtZW50czpKU1guRWxlbWVudFtdID0gW107XG4gICAgICAgICAgICBmb3IodmFyIGk9MDsgaTx0aGlzLm51bWJlck9mTGFiZWxzK2V4dHJhQmluczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYoaSVtYXhDb2x1bW5zID09IGopIHtcblxuICAgICAgICAgICAgICAgICAgICBpZihpPHRoaXMubnVtYmVyT2ZMYWJlbHMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1aS5IQm94IGtleT17aX0gc3R5bGU9e3RoaXMuZ2V0SW50ZXJhY3Rpb25TdHlsZShpKX0gb25DbGljaz17dGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMsIGkpfSBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVQcm9iZS5iaW5kKHRoaXMsIGksIHRydWUpfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVByb2JlLmJpbmQodGhpcywgaSwgZmFsc2UpfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVpLkhCb3ggc3R5bGU9e3t3aWR0aDpzaGFwZVNpemUsIHBvc2l0aW9uOlwicmVsYXRpdmVcIiwgcGFkZGluZzpcIjBweCAwcHggMHB4IDBweFwifX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3ZnIHN0eWxlPXt7cG9zaXRpb246XCJhYnNvbHV0ZVwifX0gd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9ezB9IHk9ezEwfSBoZWlnaHQ9XCI4MCVcIiB3aWR0aD17c2hhcGVTaXplfSBzdHlsZT17e2ZpbGw6XCIjXCIgKyBTdGFuZGFyZExpYi5kZWNpbWFsVG9IZXgoU3RhbmRhcmRMaWIuaW50ZXJwb2xhdGVDb2xvcihTdGFuZGFyZExpYi5ub3JtYWxpemUoaSwgMCwgdGhpcy5udW1iZXJPZkxhYmVscyAtIDEpLCByYW1wKSksIHN0cm9rZTpcImJsYWNrXCIsIHN0cm9rZU9wYWNpdHk6MC41fX0+PC9yZWN0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWkuSEJveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVpLkhCb3ggc3R5bGU9e3t3aWR0aDpcIjEwMCVcIiwgZmxleDowLjgsIGFsaWduSXRlbXM6XCJjZW50ZXJcIn19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3ByZWZpeGVyU3R5bGV9PntsYWJlbHNbaV19PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VpLkhCb3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91aS5IQm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVpLkhCb3gga2V5PXtpfSBzdHlsZT17e3dpZHRoOlwiMTAwJVwiLCBmbGV4OjEuMH19Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zdHlsZS53aWR0aCA+IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0ICogMiA/XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICA8dWkuSEJveCBrZXk9e2l9IHN0eWxlPXt7d2lkdGg6XCIxMDAlXCIsIGZsZXg6IGNvbHVtbkZsZXh9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC91aS5IQm94PlxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgIDx1aS5WQm94IGtleT17aX0gc3R5bGU9e3toZWlnaHQ6XCIxMDAlXCIsIGZsZXg6IGNvbHVtbkZsZXh9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC91aS5WQm94PlxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZpbmFsRWxlbWVudHNbal0gPSBlbGVtZW50cztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoPGRpdiBzdHlsZT17e3dpZHRoOlwiMTAwJVwiLCBoZWlnaHQ6XCIxMDAlXCIsIHBhZGRpbmc6XCIwcHggNXB4IDBweCA1cHhcIn19PlxuICAgICAgICAgICAgPHVpLlZCb3ggc3R5bGU9e3toZWlnaHQ6XCIxMDAlXCIsZmxleDogMS4wLCBvdmVyZmxvdzpcImhpZGRlblwifX0+XG4gICAgICAgICAgICAgICAgPHVpLkhCb3ggc3R5bGU9e3t3aWR0aDpcIjEwMCVcIiwgZmxleDogMC4xLCBhbGlnbkl0ZW1zOlwiY2VudGVyXCJ9fT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9e3ByZWZpeGVyU3R5bGV9PkJhciBjb2xvcjwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L3VpLkhCb3g+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnN0eWxlLndpZHRoID4gdGhpcy5wcm9wcy5zdHlsZS5oZWlnaHQgKiAyID9cbiAgICAgICAgICAgICAgICAgICAgPHVpLkhCb3ggc3R5bGU9e3t3aWR0aDpcIjEwMCVcIiwgZmxleDogMC45fX0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsRWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPC91aS5IQm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICA8dWkuVkJveCBzdHlsZT17e2hlaWdodDpcIjEwMCVcIiwgZmxleDogMC45fX0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsRWxlbWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgPC91aS5WQm94PlxuXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvdWkuVkJveD5cbiAgICAgICAgPC9kaXY+KTtcbiAgICB9XG59XG5cblxuXG5cbmV4cG9ydCBkZWZhdWx0IFdlYXZlQzNCYXJDaGFydExlZ2VuZDtcblxucmVnaXN0ZXJUb29sSW1wbGVtZW50YXRpb24oXCJ3ZWF2ZS52aXN1YWxpemF0aW9uLnRvb2xzOjpCYXJDaGFydExlZ2VuZFRvb2xcIiwgV2VhdmVDM0JhckNoYXJ0TGVnZW5kKTtcbi8vV2VhdmUucmVnaXN0ZXJDbGFzcyhcIndlYXZlanMudG9vbHMuQ29sb3JCaW5MZWdlbmRUb29sXCIsIFdlYXZlQzNDb2xvckxlZ2VuZCwgW3dlYXZlanMuYXBpLmNvcmUuSUxpbmthYmxlT2JqZWN0V2l0aE5ld1Byb3BlcnRpZXNdKTtcbiIsIi8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvZDMvZDMuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vcmVhY3QtdWkvdWkudHN4XCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC1kb20uZC50c1wiLz5cblxuaW1wb3J0IHtJVmlzVG9vbCwgSVZpc1Rvb2xQcm9wcywgSVZpc1Rvb2xTdGF0ZX0gZnJvbSBcIi4vSVZpc1Rvb2xcIjtcbmltcG9ydCB7cmVnaXN0ZXJUb29sSW1wbGVtZW50YXRpb259IGZyb20gXCIuLi9XZWF2ZVRvb2xcIjtcbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB1aSBmcm9tIFwiLi4vcmVhY3QtdWkvdWlcIjtcbmltcG9ydCBTdGFuZGFyZExpYiBmcm9tIFwiLi4vdXRpbHMvU3RhbmRhcmRMaWJcIjtcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB7Q1NTUHJvcGVydGllc30gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBQcmVmaXhlciBmcm9tIFwicmVhY3QtdmVuZG9yLXByZWZpeFwiO1xuXG5jb25zdCBTSEFQRV9UWVBFX0NJUkNMRTpzdHJpbmcgPSBcImNpcmNsZVwiO1xuY29uc3QgU0hBUEVfVFlQRV9TUVVBUkU6c3RyaW5nID0gXCJzcXVhcmVcIjtcbmNvbnN0IFNIQVBFX1RZUEVfTElORTpzdHJpbmcgPSBcImxpbmVcIjtcblxuY2xhc3MgV2VhdmVDM0NvbG9yTGVnZW5kIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElWaXNUb29sUHJvcHMsIElWaXNUb29sU3RhdGU+XG57XG5cdHByaXZhdGUgcGxvdHRlclBhdGg6V2VhdmVQYXRoO1xuXHRwcml2YXRlIGR5bmFtaWNDb2xvckNvbHVtblBhdGg6V2VhdmVQYXRoO1xuXHRwcml2YXRlIGJpbm5pbmdEZWZpbml0aW9uOldlYXZlUGF0aDtcblx0cHJpdmF0ZSBiaW5uZWRDb2x1bW5QYXRoOldlYXZlUGF0aDtcblx0cHJpdmF0ZSBtYXhDb2x1bW5zUGF0aDpXZWF2ZVBhdGg7XG5cdHByaXZhdGUgZmlsdGVyZWRLZXlTZXQ6V2VhdmVQYXRoO1xuXHRwcml2YXRlIHNlbGVjdGlvbktleVNldDpXZWF2ZVBhdGg7XG5cdHByaXZhdGUgcHJvYmVLZXlTZXQ6V2VhdmVQYXRoO1xuXHRwcm90ZWN0ZWQgdG9vbFBhdGg6V2VhdmVQYXRoO1xuXHRwcml2YXRlIHNwYW5TdHlsZTpDU1NQcm9wZXJ0aWVzO1xuXG5cdHByaXZhdGUgc2VsZWN0ZWRCaW5zOm51bWJlcltdO1xuXG5cdGNvbnN0cnVjdG9yKHByb3BzOklWaXNUb29sUHJvcHMpXG5cdHtcblx0XHRzdXBlcihwcm9wcyk7XG5cdFx0dGhpcy50b29sUGF0aCA9IHByb3BzLnRvb2xQYXRoO1xuXHRcdHRoaXMucGxvdHRlclBhdGggPSB0aGlzLnRvb2xQYXRoLnB1c2hQbG90dGVyKFwicGxvdFwiKTtcblx0XHR0aGlzLmR5bmFtaWNDb2xvckNvbHVtblBhdGggPSB0aGlzLnBsb3R0ZXJQYXRoLnB1c2goXCJkeW5hbWljQ29sb3JDb2x1bW5cIiwgbnVsbCk7XG5cdFx0dGhpcy5iaW5uaW5nRGVmaW5pdGlvbiA9IHRoaXMuZHluYW1pY0NvbG9yQ29sdW1uUGF0aC5wdXNoKFwiaW50ZXJuYWxEeW5hbWljQ29sdW1uXCIsIG51bGwsIFwiYmlubmluZ0RlZmluaXRpb25cIiwgbnVsbCk7XG5cdFx0dGhpcy5iaW5uZWRDb2x1bW5QYXRoID0gdGhpcy5keW5hbWljQ29sb3JDb2x1bW5QYXRoLnB1c2goXCJpbnRlcm5hbER5bmFtaWNDb2x1bW5cIiwgbnVsbCk7XG5cdFx0dGhpcy5tYXhDb2x1bW5zUGF0aCA9IHRoaXMucGxvdHRlclBhdGgucHVzaChcIm1heENvbHVtbnNcIik7XG5cdFx0dGhpcy5maWx0ZXJlZEtleVNldCA9IHRoaXMucGxvdHRlclBhdGgucHVzaChcImZpbHRlcmVkS2V5U2V0XCIpO1xuXHRcdHRoaXMuc2VsZWN0aW9uS2V5U2V0ID0gdGhpcy50b29sUGF0aC5wdXNoKFwic2VsZWN0aW9uS2V5U2V0XCIpO1xuXHRcdHRoaXMucHJvYmVLZXlTZXQgPSB0aGlzLnRvb2xQYXRoLnB1c2goXCJwcm9iZUtleVNldFwiKTtcblx0XHR0aGlzLnN0YXRlID0ge3NlbGVjdGVkOltdLCBwcm9iZWQ6W119O1xuXHRcdHRoaXMuc2VsZWN0ZWRCaW5zID0gW107XG5cdFx0dGhpcy5zcGFuU3R5bGUgPSB7XG5cdFx0XHR0ZXh0QWxpZ246IFwibGVmdFwiLFxuXHRcdFx0dmVydGljYWxBbGlnbjogXCJtaWRkbGVcIixcblx0XHRcdG92ZXJmbG93OiBcImhpZGRlblwiLFxuXHRcdFx0d2hpdGVTcGFjZTogXCJub3dyYXBcIixcblx0XHRcdHRleHRPdmVyZmxvdzogXCJlbGxpcHNpc1wiLFxuXHRcdFx0cGFkZGluZ0xlZnQ6IDUsXG5cdFx0XHR1c2VyU2VsZWN0OiBcIm5vbmVcIlxuXHRcdH07XG5cdH1cblxuXHRnZXQgdGl0bGUoKTpzdHJpbmdcblx0e1xuXHRcdHJldHVybiAodGhpcy50b29sUGF0aC5nZXRUeXBlKCdwYW5lbFRpdGxlJykgPyB0aGlzLnRvb2xQYXRoLmdldFN0YXRlKCdwYW5lbFRpdGxlJykgOiAnJykgfHwgdGhpcy50b29sUGF0aC5nZXRQYXRoKCkucG9wKCk7XG5cdH1cblx0XG5cdGdldCBudW1iZXJPZkJpbnMoKTpudW1iZXJcblx0e1xuXHRcdHJldHVybiB0aGlzLmJpbm5lZENvbHVtblBhdGguZ2V0T2JqZWN0KCkubnVtYmVyT2ZCaW5zO1xuXHR9XG5cbiAgICBwcm90ZWN0ZWQgaGFuZGxlTWlzc2luZ1Nlc3Npb25TdGF0ZVByb3BlcnRpZXMobmV3U3RhdGU6YW55KVxuXHR7XG5cblx0fVxuXG5cdHByaXZhdGUgc2V0dXBDYWxsYmFja3MoKVxuXHR7XG5cdFx0dGhpcy5keW5hbWljQ29sb3JDb2x1bW5QYXRoLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMuZm9yY2VVcGRhdGUpO1xuXHRcdHRoaXMubWF4Q29sdW1uc1BhdGguYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5mb3JjZVVwZGF0ZSk7XG5cdFx0dGhpcy5maWx0ZXJlZEtleVNldC5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLmZvcmNlVXBkYXRlKTtcblx0XHR0aGlzLnBsb3R0ZXJQYXRoLnB1c2goXCJzaGFwZVNpemVcIikuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5mb3JjZVVwZGF0ZSk7XG5cdFx0dGhpcy5iaW5uZWRDb2x1bW5QYXRoLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMuZm9yY2VVcGRhdGUpO1xuXHRcdHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLmZvcmNlVXBkYXRlKTtcblx0XHR0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldC5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLmZvcmNlVXBkYXRlKTtcblx0fVxuXG5cdGdldEJpbkluZGV4RnJvbUtleShrZXk6YW55KTpudW1iZXJcblx0e1xuXHRcdHJldHVybiB0aGlzLmJpbm5lZENvbHVtblBhdGguZ2V0T2JqZWN0KCkuZ2V0VmFsdWVGcm9tS2V5KGtleSxOdW1iZXIpO1xuXHR9XG5cblx0Z2V0U2VsZWN0ZWRCaW5zKCk6bnVtYmVyW11cblx0e1xuXHRcdHZhciBrZXlzID0gdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LmdldEtleXMoKTtcblx0XHR2YXIgc2VsZWN0ZWRCaW5zOm51bWJlcltdID0gW107XG5cdFx0a2V5cy5mb3JFYWNoKCAoa2V5OnN0cmluZykgPT4ge1xuXHRcdFx0c2VsZWN0ZWRCaW5zLnB1c2godGhpcy5nZXRCaW5JbmRleEZyb21LZXkoa2V5KSk7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIF8udW5pcXVlKHNlbGVjdGVkQmlucyk7XG5cdH1cblxuXHRnZXRQcm9iZWRCaW5zKCk6bnVtYmVyW11cblx0e1xuXHRcdHZhciBrZXlzID0gdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuZ2V0S2V5cygpO1xuXHRcdHZhciBwcm9iZWRCaW5zOm51bWJlcltdID0gW107XG5cdFx0a2V5cy5mb3JFYWNoKCAoa2V5OnN0cmluZykgPT4ge1xuXHRcdFx0cHJvYmVkQmlucy5wdXNoKHRoaXMuZ2V0QmluSW5kZXhGcm9tS2V5KGtleSkpO1xuXHRcdH0pO1xuXHRcdHJldHVybiBfLnVuaXF1ZShwcm9iZWRCaW5zKTtcblx0fVxuXG5cdGhhbmRsZUNsaWNrKGJpbjpudW1iZXIsIGV2ZW50OlJlYWN0Lk1vdXNlRXZlbnQpOnZvaWRcblx0e1xuXHRcdHZhciBiaW5uZWRLZXlzOmFueVtdID0gdGhpcy5iaW5uZWRDb2x1bW5QYXRoLmdldE9iamVjdCgpLl9iaW5uZWRLZXlzQXJyYXk7XG5cdFx0Ly9zZXRLZXlzXG5cdFx0aWYgKF8uY29udGFpbnModGhpcy5zZWxlY3RlZEJpbnMsYmluKSlcblx0XHR7XG5cdFx0XHR2YXIgY3VycmVudFNlbGVjdGlvbjphbnlbXSA9IHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5nZXRLZXlzKCk7XG5cdFx0XHRjdXJyZW50U2VsZWN0aW9uID0gXy5kaWZmZXJlbmNlKGN1cnJlbnRTZWxlY3Rpb24sYmlubmVkS2V5c1tiaW5dKTtcblx0XHRcdHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5zZXRLZXlzKGN1cnJlbnRTZWxlY3Rpb24pO1xuXHRcdFx0Xy5yZW1vdmUodGhpcy5zZWxlY3RlZEJpbnMsICh2YWx1ZTpudW1iZXIpID0+e1xuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT0gYmluO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHRpZiAoKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkpXG5cdFx0XHR7XG5cdFx0XHRcdHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5hZGRLZXlzKGJpbm5lZEtleXNbYmluXSk7XG5cdFx0XHRcdHRoaXMuc2VsZWN0ZWRCaW5zLnB1c2goYmluKTtcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0dGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LnNldEtleXMoYmlubmVkS2V5c1tiaW5dKTtcblx0XHRcdFx0dGhpcy5zZWxlY3RlZEJpbnMgPSBbYmluXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRoYW5kbGVQcm9iZShiaW46bnVtYmVyLCBtb3VzZU92ZXI6Ym9vbGVhbik6dm9pZFxuXHR7XG5cdFx0aWYgKG1vdXNlT3Zlcilcblx0XHR7XG5cdFx0XHR2YXIgYmlubmVkS2V5czphbnlbXSA9IHRoaXMuYmlubmVkQ29sdW1uUGF0aC5nZXRPYmplY3QoKS5fYmlubmVkS2V5c0FycmF5O1xuXHRcdFx0dGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuc2V0S2V5cyhiaW5uZWRLZXlzW2Jpbl0pO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0dGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuc2V0S2V5cyhbXSk7XG5cdFx0fVxuXHR9XG5cblx0Y29tcG9uZW50RGlkTW91bnQoKVxuXHR7XG5cdFx0dGhpcy5zZXR1cENhbGxiYWNrcygpO1xuXHR9XG5cblx0Z2V0SW50ZXJhY3Rpb25TdHlsZShiaW46bnVtYmVyKTpDU1NQcm9wZXJ0aWVzXG5cdHtcblx0XHR2YXIgcHJvYmVkOmJvb2xlYW4gPSB0aGlzLmdldFByb2JlZEJpbnMoKS5pbmRleE9mKGJpbikgPj0gMDtcblx0XHR2YXIgc2VsZWN0ZWQ6Ym9vbGVhbiA9IHRoaXMuZ2V0U2VsZWN0ZWRCaW5zKCkuaW5kZXhPZihiaW4pID49IDA7XG5cdFx0XG5cdFx0dmFyIGJvcmRlckFscGhhOm51bWJlcjtcblx0XHRpZiAocHJvYmVkKVxuXHRcdFx0Ym9yZGVyQWxwaGEgPSAxO1xuXHRcdGVsc2UgaWYgKHNlbGVjdGVkKVxuXHRcdFx0Ym9yZGVyQWxwaGEgPSAwLjU7XG5cdFx0ZWxzZVxuXHRcdFx0Ym9yZGVyQWxwaGEgPSAwO1xuXHRcdFxuXHRcdHJldHVybiB7XG5cdFx0XHR3aWR0aDogXCIxMDAlXCIsXG5cdFx0XHRmbGV4OiAxLjAsXG5cdFx0XHRib3JkZXJDb2xvcjogU3RhbmRhcmRMaWIucmdiYSgwLCAwLCAwLCBib3JkZXJBbHBoYSksXG5cdFx0XHRib3JkZXJTdHlsZTogXCJzb2xpZFwiLFxuXHRcdFx0Ym9yZGVyV2lkdGg6IDFcblx0XHR9O1xuXHR9XG5cblx0cmVuZGVyKClcblx0e1xuXHRcdGlmICh0aGlzLm51bWJlck9mQmlucylcblx0XHR7XG5cdFx0XHQvL0Jpbm5lZCBwbG90IGNhc2Vcblx0XHRcdHZhciB3aWR0aDpudW1iZXIgPSB0aGlzLnByb3BzLnN0eWxlLndpZHRoO1xuXHRcdFx0dmFyIGhlaWdodDpudW1iZXIgPSB0aGlzLnByb3BzLnN0eWxlLmhlaWdodDtcblx0XHRcdHZhciBzaGFwZVNpemU6bnVtYmVyID0gdGhpcy5wbG90dGVyUGF0aC5nZXRTdGF0ZShcInNoYXBlU2l6ZVwiKTtcblx0XHRcdHZhciBzaGFwZVR5cGU6c3RyaW5nID0gdGhpcy5wbG90dGVyUGF0aC5nZXRTdGF0ZShcInNoYXBlVHlwZVwiKTtcblx0XHRcdHZhciBtYXhDb2x1bW5zOm51bWJlciA9IDE7Ly9UT0RPOiBUaGlzIHNob3VsZCByZWFsbHkgYmUgXCJ0aGlzLm1heENvbHVtbnNQYXRoLmdldFN0YXRlKCk7XCIgYnV0IG9ubHkgc3VwcG9ydGluZyAxIGNvbHVtbiBmb3Igbm93XG5cdFx0XHR2YXIgY29sdW1uRmxleDpudW1iZXIgPSAxLjAvbWF4Q29sdW1ucztcblx0XHRcdHZhciBleHRyYUJpbnM6bnVtYmVyID0gdGhpcy5udW1iZXJPZkJpbnMgJSBtYXhDb2x1bW5zID09IDAgPyAwIDogbWF4Q29sdW1ucyAtIHRoaXMubnVtYmVyT2ZCaW5zICUgbWF4Q29sdW1ucztcblx0XHRcdHZhciByYW1wOmFueVtdID0gdGhpcy5keW5hbWljQ29sb3JDb2x1bW5QYXRoLmdldFN0YXRlKFwicmFtcFwiKTtcblx0XHRcdHZhciB5U2NhbGU6RnVuY3Rpb24gPSBkMy5zY2FsZS5saW5lYXIoKS5kb21haW4oWzAsIHRoaXMubnVtYmVyT2ZCaW5zICsgMV0pLnJhbmdlKFswLCBoZWlnaHRdKTtcblx0XHRcdHZhciB5TWFwOkZ1bmN0aW9uID0gKGQ6bnVtYmVyKTpudW1iZXIgPT4geyByZXR1cm4geVNjYWxlKGQpOyB9O1xuXG5cdFx0XHRzaGFwZVNpemUgPSBfLm1heChbMSwgXy5taW4oW3NoYXBlU2l6ZSwgaGVpZ2h0IC8gdGhpcy5udW1iZXJPZkJpbnNdKV0pO1xuXHRcdFx0dmFyIHI6bnVtYmVyID0gKHNoYXBlU2l6ZSAvIDEwMCAqIGhlaWdodCAvIHRoaXMubnVtYmVyT2ZCaW5zKSAvIDI7XG5cdFx0XHR2YXIgYmM6YW55ID0gdGhpcy5iaW5uZWRDb2x1bW5QYXRoLmdldE9iamVjdCgpO1xuXHRcdFx0dmFyIHRleHRMYWJlbEZ1bmN0aW9uOkZ1bmN0aW9uID0gYmMuZGVyaXZlU3RyaW5nRnJvbU51bWJlci5iaW5kKGJjKTtcblx0XHRcdHZhciBmaW5hbEVsZW1lbnRzOmFueVtdID0gW107XG5cdFx0XHR2YXIgcHJlZml4ZXJTdHlsZTp7fSA9IFByZWZpeGVyLnByZWZpeCh7c3R5bGVzOiB0aGlzLnNwYW5TdHlsZX0pLnN0eWxlcztcblx0XHRcdGZvciAodmFyIGo6bnVtYmVyID0gMDsgaiA8IG1heENvbHVtbnM7IGorKylcblx0XHRcdHtcblx0XHRcdFx0c3dpdGNoIChzaGFwZVR5cGUpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjYXNlIFNIQVBFX1RZUEVfQ0lSQ0xFIDpcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHR2YXIgZWxlbWVudDpKU1guRWxlbWVudFtdID0gW107XG5cdFx0XHRcdFx0XHR2YXIgZWxlbWVudHM6SlNYLkVsZW1lbnRbXSA9IFtdO1xuXHRcdFx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLm51bWJlck9mQmlucyArIGV4dHJhQmluczsgaSsrKVxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRpZiAoaSAlIG1heENvbHVtbnMgPT0gailcblx0XHRcdFx0XHRcdFx0e1xuXG5cdFx0XHRcdFx0XHRcdFx0aWYgKGkgPCB0aGlzLm51bWJlck9mQmlucylcblx0XHRcdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdFx0XHRlbGVtZW50LnB1c2goXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx1aS5IQm94IGtleT17aX0gc3R5bGU9e3RoaXMuZ2V0SW50ZXJhY3Rpb25TdHlsZShpKX0gb25DbGljaz17dGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMsIGkpfSBvbk1vdXNlT3Zlcj17dGhpcy5oYW5kbGVQcm9iZS5iaW5kKHRoaXMsIGksIHRydWUpfSBvbk1vdXNlT3V0PXt0aGlzLmhhbmRsZVByb2JlLmJpbmQodGhpcywgaSwgZmFsc2UpfT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDx1aS5IQm94IHN0eWxlPXt7d2lkdGg6XCIxMDAlXCIsIGZsZXg6MC4yLG1pbldpZHRoOjEwLCBwb3NpdGlvbjpcInJlbGF0aXZlXCIsIHBhZGRpbmc6XCIwcHggMHB4IDBweCAwcHhcIn19PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8c3ZnIHN0eWxlPXt7cG9zaXRpb246XCJhYnNvbHV0ZVwifX1cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgdmlld0JveD1cIjAgMCAxMDAgMTAwXCIgd2lkdGg9XCIxMDAlXCIgaGVpZ2h0PVwiMTAwJVwiPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxjaXJjbGUgY3g9XCI1MCVcIiBjeT1cIjUwJVwiIHI9XCI0NSVcIiBzdHlsZT17e1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZmlsbDogXCIjXCIgKyBTdGFuZGFyZExpYi5kZWNpbWFsVG9IZXgoU3RhbmRhcmRMaWIuaW50ZXJwb2xhdGVDb2xvcihTdGFuZGFyZExpYi5ub3JtYWxpemUoaSwgMCwgdGhpcy5udW1iZXJPZkJpbnMgLSAxKSwgcmFtcCkpLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3Ryb2tlOiBcImJsYWNrXCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdHJva2VPcGFjaXR5OiAwLjVcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR9fS8+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvc3ZnPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC91aS5IQm94PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHVpLkhCb3ggc3R5bGU9e3t3aWR0aDpcIjEwMCVcIiwgZmxleDowLjgsIGFsaWduSXRlbXM6XCJjZW50ZXJcIn19PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQgPHNwYW4gc3R5bGU9eyBwcmVmaXhlclN0eWxlIH0+eyB0ZXh0TGFiZWxGdW5jdGlvbihpKSB9PC9zcGFuPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC91aS5IQm94PlxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3VpLkhCb3g+XG5cdFx0XHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0ZWxlbWVudC5wdXNoKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dWkuSEJveCBrZXk9e2l9IHN0eWxlPXt7d2lkdGg6XCIxMDAlXCIsIGZsZXg6MS4wfX0vPlxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFxuXHRcdFx0XHRcdFx0aWYgKHRoaXMucHJvcHMuc3R5bGUud2lkdGggPiB0aGlzLnByb3BzLnN0eWxlLmhlaWdodCAqIDIpXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGVsZW1lbnRzLnB1c2goXG5cdFx0XHRcdFx0XHRcdFx0PHVpLkhCb3gga2V5PXtpfSBzdHlsZT17e3dpZHRoOlwiMTAwJVwiLCBmbGV4OiBjb2x1bW5GbGV4fX0+IHsgZWxlbWVudCB9IDwvdWkuSEJveD5cblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0ZWxlbWVudHMucHVzaChcblx0XHRcdFx0XHRcdFx0XHQ8dWkuVkJveCBrZXk9e2l9IHN0eWxlPXt7aGVpZ2h0OlwiMTAwJVwiLCBmbGV4OiBjb2x1bW5GbGV4fX0+IHsgZWxlbWVudCB9IDwvdWkuVkJveD5cblx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0ZmluYWxFbGVtZW50c1tqXSA9IGVsZW1lbnRzO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgU0hBUEVfVFlQRV9TUVVBUkUgOlxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cblx0XHRcdFx0XHRjYXNlIFNIQVBFX1RZUEVfTElORSA6XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gKDxkaXYgc3R5bGU9e3t3aWR0aDpcIjEwMCVcIiwgaGVpZ2h0OlwiMTAwJVwiLCBwYWRkaW5nOlwiMHB4IDVweCAwcHggNXB4XCJ9fT5cblx0XHRcdFx0PHVpLlZCb3ggc3R5bGU9e3toZWlnaHQ6XCIxMDAlXCIsZmxleDogMS4wLCBvdmVyZmxvdzpcImhpZGRlblwifX0+XG5cdFx0XHRcdFx0PHVpLkhCb3ggc3R5bGU9e3t3aWR0aDpcIjEwMCVcIiwgZmxleDogMC4xLCBhbGlnbkl0ZW1zOlwiY2VudGVyXCJ9fT5cblx0XHRcdFx0XHRcdDxzcGFuIHN0eWxlPXtwcmVmaXhlclN0eWxlfT57dGhpcy5keW5hbWljQ29sb3JDb2x1bW5QYXRoLmdldE9iamVjdCgpLmdldE1ldGFkYXRhKCd0aXRsZScpfTwvc3Bhbj5cblx0XHRcdFx0XHQ8L3VpLkhCb3g+XG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0dGhpcy5wcm9wcy5zdHlsZS53aWR0aCA+IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0ICogMlxuXHRcdFx0XHRcdFx0PyA8dWkuSEJveCBzdHlsZT17e3dpZHRoOlwiMTAwJVwiLCBmbGV4OiAwLjl9fT4geyBmaW5hbEVsZW1lbnRzIH0gPC91aS5IQm94PlxuXHRcdFx0XHRcdFx0OiA8dWkuVkJveCBzdHlsZT17e2hlaWdodDpcIjEwMCVcIiwgZmxleDogMC45fX0+IHsgZmluYWxFbGVtZW50cyB9IDwvdWkuVkJveD5cblx0XHRcdFx0ICAgXHR9XG5cdFx0XHRcdDwvdWkuVkJveD5cblx0XHRcdDwvZGl2Pik7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHQvL0NvbnRpbnVvdXMgcGxvdCBjYXNlXG5cdFx0XHRyZXR1cm4gKDxzdmc+PC9zdmc+KTtcblx0XHR9XG5cdH1cbn1cblxuXG5leHBvcnQgZGVmYXVsdCBXZWF2ZUMzQ29sb3JMZWdlbmQ7XG5cbnJlZ2lzdGVyVG9vbEltcGxlbWVudGF0aW9uKFwid2VhdmUudmlzdWFsaXphdGlvbi50b29sczo6Q29sb3JCaW5MZWdlbmRUb29sXCIsIFdlYXZlQzNDb2xvckxlZ2VuZCk7XG4vL1dlYXZlLnJlZ2lzdGVyQ2xhc3MoXCJ3ZWF2ZWpzLnRvb2xzLkNvbG9yQmluTGVnZW5kVG9vbFwiLCBXZWF2ZUMzQ29sb3JMZWdlbmQsIFt3ZWF2ZWpzLmFwaS5jb3JlLklMaW5rYWJsZU9iamVjdFdpdGhOZXdQcm9wZXJ0aWVzXSk7XG4iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2MzL2MzLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2QzL2QzLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3Mvd2VhdmUvV2VhdmVQYXRoLmQudHNcIi8+XG5cblxuaW1wb3J0IHtJVmlzVG9vbFByb3BzfSBmcm9tIFwiLi9JVmlzVG9vbFwiO1xuaW1wb3J0IHtJVG9vbFBhdGhzfSBmcm9tIFwiLi9BYnN0cmFjdEMzVG9vbFwiO1xuaW1wb3J0IEFic3RyYWN0QzNUb29sIGZyb20gXCIuL0Fic3RyYWN0QzNUb29sXCI7XG5cbmltcG9ydCB7cmVnaXN0ZXJUb29sSW1wbGVtZW50YXRpb259IGZyb20gXCIuLi9XZWF2ZVRvb2xcIjtcbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBGb3JtYXRVdGlscyBmcm9tIFwiLi4vdXRpbHMvRm9ybWF0VXRpbHNcIjtcbmltcG9ydCBTdGFuZGFyZExpYiBmcm9tIFwiLi4vdXRpbHMvU3RhbmRhcmRMaWJcIlxuXG5pbXBvcnQge0NoYXJ0Q29uZmlndXJhdGlvbiwgQ2hhcnRBUEksIGdlbmVyYXRlfSBmcm9tIFwiYzNcIjtcbmltcG9ydCB7TW91c2VFdmVudH0gZnJvbSBcInJlYWN0XCI7XG5cbmludGVyZmFjZSBJSGlzdG9ncmFtUGF0aHMgZXh0ZW5kcyBJVG9vbFBhdGhzIHtcbiAgICBwbG90dGVyOiBXZWF2ZVBhdGg7XG4gICAgYmlubmVkQ29sdW1uOiBXZWF2ZVBhdGg7XG4gICAgY29sdW1uVG9BZ2dyZWdhdGU6IFdlYXZlUGF0aDtcbiAgICBhZ2dyZWdhdGlvbk1ldGhvZDogV2VhdmVQYXRoO1xuICAgIGZpbGxTdHlsZTogV2VhdmVQYXRoO1xuICAgIGxpbmVTdHlsZTogV2VhdmVQYXRoO1xuICAgIHhBeGlzOiBXZWF2ZVBhdGg7XG4gICAgeUF4aXM6IFdlYXZlUGF0aDtcbiAgICBmaWx0ZXJlZEtleVNldDogV2VhdmVQYXRoO1xuICAgIHNlbGVjdGlvbktleVNldDogV2VhdmVQYXRoO1xuICAgIHByb2JlS2V5U2V0OiBXZWF2ZVBhdGg7XG59XG5cbmNsYXNzIFdlYXZlQzNIaXN0b2dyYW0gZXh0ZW5kcyBBYnN0cmFjdEMzVG9vbCB7XG4gICAgcHJpdmF0ZSBidXN5OmJvb2xlYW47XG4gICAgcHJpdmF0ZSBpZFRvUmVjb3JkOntbaWQ6c3RyaW5nXTogUmVjb3JkfTtcbiAgICBwcml2YXRlIGtleVRvSW5kZXg6e1trZXk6c3RyaW5nXTogbnVtYmVyfTtcbiAgICBwcml2YXRlIGluZGV4VG9LZXk6e1tpbmRleDpudW1iZXJdOiBzdHJpbmd9O1xuICAgIHByaXZhdGUgc3RyaW5nUmVjb3JkczpSZWNvcmRbXTtcbiAgICBwcml2YXRlIG51bWVyaWNSZWNvcmRzOlJlY29yZFtdO1xuICAgIHByaXZhdGUgaGVpZ2h0Q29sdW1uTmFtZXM6c3RyaW5nW107XG4gICAgcHJpdmF0ZSBiaW5uZWRDb2x1bW5EYXRhVHlwZTpzdHJpbmc7XG4gICAgcHJpdmF0ZSBudW1iZXJPZkJpbnM6bnVtYmVyO1xuICAgIHByaXZhdGUgc2hvd1hBeGlzTGFiZWw6Ym9vbGVhbjtcbiAgICBwcml2YXRlIGhpc3REYXRhOnt9W107XG4gICAgcHJvdGVjdGVkIGMzQ29uZmlnOkNoYXJ0Q29uZmlndXJhdGlvbjtcbiAgICBwcm90ZWN0ZWQgY2hhcnQ6Q2hhcnRBUEk7XG5cbiAgICBwcm90ZWN0ZWQgcGF0aHM6SUhpc3RvZ3JhbVBhdGhzO1xuXG4gICAgcHJpdmF0ZSBmbGFnOmJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczpJVmlzVG9vbFByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5idXN5ID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaWRUb1JlY29yZCA9IHt9O1xuICAgICAgICB0aGlzLmtleVRvSW5kZXggPSB7fTtcbiAgICAgICAgdGhpcy5pbmRleFRvS2V5ID0ge307XG5cbiAgICAgICAgdGhpcy5jM0NvbmZpZyA9IHtcbiAgICAgICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5wcm9wcy5zdHlsZS53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFkZGluZzoge1xuICAgICAgICAgICAgICAgIHRvcDogMjAsXG4gICAgICAgICAgICAgICAgYm90dG9tOiAyMCxcbiAgICAgICAgICAgICAgICByaWdodDogMzBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgY29sdW1uczogW10sXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG11bHRpcGxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiYmFyXCIsXG4gICAgICAgICAgICAgICAgY29sb3I6IChjb2xvcjpzdHJpbmcsIGQ6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGVjQ29sb3I6bnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5jM0NvbmZpZy5heGlzLnkyLnNob3cpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaGFuZGxlIGNhc2Ugd2hlcmUgbGFiZWxzIG5lZWQgdG8gYmUgcmV2ZXJzZWQgZm9yIGNoYXJ0IGZsaXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcDpudW1iZXIgPSB0aGlzLmhpc3REYXRhLmxlbmd0aC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY0NvbG9yID0gdGhpcy5wYXRocy5maWxsU3R5bGUucHVzaChcImNvbG9yXCIpLmdldE9iamVjdChcImludGVybmFsRHluYW1pY0NvbHVtblwiLCBudWxsKS5nZXRDb2xvckZyb21EYXRhVmFsdWUodGVtcC1kLmluZGV4KS50b1N0cmluZygxNik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNDb2xvciA9IHRoaXMucGF0aHMuZmlsbFN0eWxlLnB1c2goXCJjb2xvclwiKS5nZXRPYmplY3QoXCJpbnRlcm5hbER5bmFtaWNDb2x1bW5cIiwgbnVsbCkuZ2V0Q29sb3JGcm9tRGF0YVZhbHVlKGQuaW5kZXgpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIiNcIiArIFN0YW5kYXJkTGliLmRlY2ltYWxUb0hleChkZWNDb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiI0MwQ0REMVwiO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25jbGljazogKGQ6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBldmVudDpNb3VzZUV2ZW50ID0gdGhpcy5jaGFydC5pbnRlcm5hbC5kMyBhcyBNb3VzZUV2ZW50O1xuICAgICAgICAgICAgICAgICAgICBpZighKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkgJiYgZCAmJiBkLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZElkczpzdHJpbmdbXSA9IHRoaXMucGF0aHMuYmlubmVkQ29sdW1uLmdldE9iamVjdCgpLmdldEtleXNGcm9tQmluSW5kZXgoZC5pbmRleCkubWFwKCAocUtleTp7fSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRvb2xQYXRoLnFrZXlUb1N0cmluZyhxS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LnNldEtleXMoc2VsZWN0ZWRJZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbnNlbGVjdGVkOiAoZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYoZCAmJiBkLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZElkczpzdHJpbmdbXSA9IHRoaXMucGF0aHMuYmlubmVkQ29sdW1uLmdldE9iamVjdCgpLmdldEtleXNGcm9tQmluSW5kZXgoZC5pbmRleCkubWFwKCAocUtleTp7fSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRvb2xQYXRoLnFrZXlUb1N0cmluZyhxS2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LmFkZEtleXMoc2VsZWN0ZWRJZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbnVuc2VsZWN0ZWQ6IChkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZihkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVuU2VsZWN0ZWRJZHM6c3RyaW5nW10gPSB0aGlzLnBhdGhzLmJpbm5lZENvbHVtbi5nZXRPYmplY3QoKS5nZXRLZXlzRnJvbUJpbkluZGV4KGQuaW5kZXgpLm1hcCggKHFLZXk6e30pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b29sUGF0aC5xa2V5VG9TdHJpbmcocUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5yZW1vdmVLZXlzKHVuU2VsZWN0ZWRJZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbm1vdXNlb3ZlcjogKGQ6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRJZHM6c3RyaW5nW10gPSB0aGlzLnBhdGhzLmJpbm5lZENvbHVtbi5nZXRPYmplY3QoKS5nZXRLZXlzRnJvbUJpbkluZGV4KGQuaW5kZXgpLm1hcCggKHFLZXk6e30pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b29sUGF0aC5xa2V5VG9TdHJpbmcocUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LnNldEtleXMoc2VsZWN0ZWRJZHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbm1vdXNlb3V0OiAoZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoZCAmJiBkLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LnNldEtleXMoW10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJpbmR0bzogdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICAgICAgc2hvdzogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBheGlzOiB7XG4gICAgICAgICAgICAgICAgeDoge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNhdGVnb3J5XCIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwib3V0ZXItY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGljazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlOiAtNDUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aWxpbmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAobnVtOm51bWJlcik6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQgJiYgdGhpcy5wcm9wcy5zdHlsZS5oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbEhlaWdodDpudW1iZXIgPSAodGhpcy5wcm9wcy5zdHlsZS5oZWlnaHQqIDAuMikvTWF0aC5jb3MoNDUqKE1hdGguUEkvMTgwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsYWJlbFN0cmluZzpzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuYzNDb25maWcuYXhpcy55Mi5zaG93KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaGFuZGxlIGNhc2Ugd2hlcmUgbGFiZWxzIG5lZWQgdG8gYmUgcmV2ZXJzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wOm51bWJlciA9IHRoaXMuaGlzdERhdGEubGVuZ3RoLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFN0cmluZyA9IHRoaXMucGF0aHMuYmlubmVkQ29sdW1uLmdldE9iamVjdCgpLmRlcml2ZVN0cmluZ0Zyb21OdW1iZXIodGVtcC1udW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsU3RyaW5nID0gdGhpcy5wYXRocy5iaW5uZWRDb2x1bW4uZ2V0T2JqZWN0KCkuZGVyaXZlU3RyaW5nRnJvbU51bWJlcihudW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGxhYmVsU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RyaW5nU2l6ZTpudW1iZXIgPSBTdGFuZGFyZExpYi5nZXRUZXh0V2lkdGgobGFiZWxTdHJpbmcsIFwiMTRwdCBIZWx2ZXRpY2EgTmV1ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGp1c3RtZW50Q2hhcmFjdGVyczpudW1iZXIgPSBsYWJlbFN0cmluZy5sZW5ndGggLSBNYXRoLmZsb29yKGxhYmVsU3RyaW5nLmxlbmd0aCAqIChsYWJlbEhlaWdodCAvIHN0cmluZ1NpemUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhZGp1c3RtZW50Q2hhcmFjdGVycyA+IDAgPyBsYWJlbFN0cmluZy5zdWJzdHJpbmcoMCwgbGFiZWxTdHJpbmcubGVuZ3RoIC0gYWRqdXN0bWVudENoYXJhY3RlcnMgLSAzKSArIFwiLi4uXCIgOiBsYWJlbFN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0aHMuYmlubmVkQ29sdW1uLmdldE9iamVjdCgpLmRlcml2ZVN0cmluZ0Zyb21OdW1iZXIobnVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHk6IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJvdXRlci1taWRkbGVcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aWNrOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAobnVtOm51bWJlcik6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKEZvcm1hdFV0aWxzLmRlZmF1bHROdW1iZXJGb3JtYXR0aW5nKG51bSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB5Mjoge1xuICAgICAgICAgICAgICAgICAgICBzaG93OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJvdXRlci1taWRkbGVcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aWNrOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAobnVtOm51bWJlcik6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKEZvcm1hdFV0aWxzLmRlZmF1bHROdW1iZXJGb3JtYXR0aW5nKG51bSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByb3RhdGVkOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChudW06bnVtYmVyKTpzdHJpbmcgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0aHMuYmlubmVkQ29sdW1uLmdldE9iamVjdCgpLmRlcml2ZVN0cmluZ0Zyb21OdW1iZXIobnVtKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogKG5hbWU6c3RyaW5nLCByYXRpbzpudW1iZXIsIGlkOnN0cmluZywgaW5kZXg6bnVtYmVyKTpzdHJpbmcgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0WUF4aXNMYWJlbCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdyaWQ6IHtcbiAgICAgICAgICAgICAgICB4OiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHk6IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBiYXI6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDoge1xuICAgICAgICAgICAgICAgICAgICByYXRpbzogMC45NVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbnJlbmRlcmVkOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTdHlsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBoYW5kbGVNaXNzaW5nU2Vzc2lvblN0YXRlUHJvcGVydGllcyhuZXdTdGF0ZTphbnkpXG4gICAge1xuXG4gICAgfVxuXG4gICAgaGFuZGxlQ2xpY2soZXZlbnQ6TW91c2VFdmVudCkge1xuICAgICAgICBpZighdGhpcy5mbGFnKSB7XG4gICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQuc2V0S2V5cyhbXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbGFnID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcm90YXRlQXhlcygpIHtcbiAgICAgICAgLy90aGlzLmMzQ29uZmlnLmF4aXMucm90YXRlZCA9IHRydWU7XG4gICAgICAgIC8vdGhpcy5mb3JjZVVwZGF0ZSgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0WUF4aXNMYWJlbCgpOnN0cmluZyB7XG4gICAgICAgIHZhciBvdmVycmlkZUF4aXNOYW1lID0gdGhpcy5wYXRocy55QXhpcy5wdXNoKFwib3ZlcnJpZGVBeGlzTmFtZVwiKS5nZXRTdGF0ZSgpO1xuICAgICAgICBpZihvdmVycmlkZUF4aXNOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gb3ZlcnJpZGVBeGlzTmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmKHRoaXMucGF0aHMuY29sdW1uVG9BZ2dyZWdhdGUuZ2V0U3RhdGUoKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2godGhpcy5wYXRocy5hZ2dyZWdhdGlvbk1ldGhvZC5nZXRTdGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb3VudFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiTnVtYmVyIG9mIHJlY29yZHNcIjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN1bVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiU3VtIG9mIFwiICsgdGhpcy5wYXRocy5jb2x1bW5Ub0FnZ3JlZ2F0ZS5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgndGl0bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm1lYW5cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk1lYW4gb2YgXCIgKyB0aGlzLnBhdGhzLmNvbHVtblRvQWdncmVnYXRlLmdldE9iamVjdCgpLmdldE1ldGFkYXRhKCd0aXRsZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiTnVtYmVyIG9mIHJlY29yZHNcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1pcnJvclZlcnRpY2FsKCkge1xuICAgICAgICB2YXIgdGVtcDpzdHJpbmcgPSBcImhlaWdodFwiO1xuICAgICAgICBpZih0aGlzLmMzQ29uZmlnLmF4aXMueS5zaG93ID09IHRydWUpe1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkyLnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5kYXRhLmF4ZXMgPSB7W3RlbXBdOid5Mid9O1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkyLmxhYmVsID0gdGhpcy5jM0NvbmZpZy5heGlzLnkubGFiZWw7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkuc2hvdyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueTIuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5kYXRhLmF4ZXMgPSB7W3RlbXBdOid5J307XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueS5sYWJlbCA9IHRoaXMuYzNDb25maWcuYXhpcy55Mi5sYWJlbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYXJ0ID0gZ2VuZXJhdGUodGhpcy5jM0NvbmZpZyk7XG4gICAgICAgIHRoaXMuX2RhdGFDaGFuZ2VkKCk7XG4gICAgfVxuXG4gICAgX2F4aXNDaGFuZ2VkICgpIHtcbiAgICAgICAgaWYoIXRoaXMuY2hhcnQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYodGhpcy5idXN5KVxuICAgICAgICAgICAgcmV0dXJuO1xuXG5cbiAgICAgICAgdmFyIHhMYWJlbDpzdHJpbmcgPSB0aGlzLnBhdGhzLnhBeGlzLmdldFN0YXRlKFwib3ZlcnJpZGVBeGlzTmFtZVwiKSB8fCB0aGlzLnBhdGhzLmJpbm5lZENvbHVtbi5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgndGl0bGUnKTtcbiAgICAgICAgaWYoIXRoaXMuc2hvd1hBeGlzTGFiZWwpe1xuICAgICAgICAgICAgeExhYmVsID0gXCIgXCI7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNoYXJ0LmF4aXMubGFiZWxzKHtcbiAgICAgICAgICAgIHg6IHhMYWJlbCxcbiAgICAgICAgICAgIHk6IHRoaXMuZ2V0WUF4aXNMYWJlbC5iaW5kKHRoaXMpKClcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlU3R5bGUoKSB7XG4gICAgXHRpZiAoIXRoaXMuY2hhcnQpXG4gICAgXHRcdHJldHVybjtcblxuICAgICAgICBkMy5zZWxlY3QodGhpcy5lbGVtZW50KS5zZWxlY3RBbGwoXCJwYXRoXCIpLnN0eWxlKFwib3BhY2l0eVwiLCAxKVxuICAgICAgICAgICAgLnN0eWxlKFwic3Ryb2tlXCIsIFwiYmxhY2tcIilcbiAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZS13aWR0aFwiLCBcIjFweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwic3Ryb2tlLW9wYWNpdHlcIiwgMC41KTtcblxuICAgICAgICB2YXIgc2VsZWN0ZWRLZXlzOnN0cmluZ1tdID0gdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LmdldEtleXMoKTtcbiAgICAgICAgdmFyIHByb2JlZEtleXM6c3RyaW5nW10gPSB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldC5nZXRLZXlzKCk7XG4gICAgICAgIHZhciBzZWxlY3RlZFJlY29yZHM6UmVjb3JkW10gPSBfLmZpbHRlcih0aGlzLm51bWVyaWNSZWNvcmRzLCBmdW5jdGlvbihyZWNvcmQ6UmVjb3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gXy5pbmNsdWRlcyhzZWxlY3RlZEtleXMsIHJlY29yZFtcImlkXCJdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBwcm9iZWRSZWNvcmRzOlJlY29yZFtdID0gXy5maWx0ZXIodGhpcy5udW1lcmljUmVjb3JkcywgZnVuY3Rpb24ocmVjb3JkOlJlY29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIF8uaW5jbHVkZXMocHJvYmVkS2V5cywgcmVjb3JkW1wiaWRcIl0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHNlbGVjdGVkQmluSW5kaWNlczpudW1iZXJbXSA9IF8ucGx1Y2soXy51bmlxKHNlbGVjdGVkUmVjb3JkcywgJ2Jpbm5lZENvbHVtbicpLCAnYmlubmVkQ29sdW1uJyk7XG4gICAgICAgIHZhciBwcm9iZWRCaW5JbmRpY2VzOm51bWJlcltdID0gXy5wbHVjayhfLnVuaXEocHJvYmVkUmVjb3JkcywgJ2Jpbm5lZENvbHVtbicpLCAnYmlubmVkQ29sdW1uJyk7XG4gICAgICAgIHZhciBiaW5JbmRpY2VzOm51bWJlcltdID0gXy5wbHVjayhfLnVuaXEodGhpcy5udW1lcmljUmVjb3JkcywgJ2Jpbm5lZENvbHVtbicpLCAnYmlubmVkQ29sdW1uJyk7XG4gICAgICAgIHZhciB1bnNlbGVjdGVkQmluSW5kaWNlczpudW1iZXJbXSA9IF8uZGlmZmVyZW5jZShiaW5JbmRpY2VzLHNlbGVjdGVkQmluSW5kaWNlcyk7XG4gICAgICAgIHVuc2VsZWN0ZWRCaW5JbmRpY2VzID0gXy5kaWZmZXJlbmNlKHVuc2VsZWN0ZWRCaW5JbmRpY2VzLHByb2JlZEJpbkluZGljZXMpO1xuXG4gICAgICAgIGlmKHNlbGVjdGVkQmluSW5kaWNlcy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY3VzdG9tU3R5bGUodW5zZWxlY3RlZEJpbkluZGljZXMsIFwicGF0aFwiLCBcIi5jMy1zaGFwZVwiLCB7b3BhY2l0eTogMC4zLCBcInN0cm9rZS1vcGFjaXR5XCI6IDAuMH0pO1xuICAgICAgICAgICAgdGhpcy5jdXN0b21TdHlsZShzZWxlY3RlZEJpbkluZGljZXMsIFwicGF0aFwiLCBcIi5jMy1zaGFwZVwiLCB7b3BhY2l0eTogMS4wLCBcInN0cm9rZS1vcGFjaXR5XCI6IDEuMH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYoIXByb2JlZEJpbkluZGljZXMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1c3RvbVN0eWxlKGJpbkluZGljZXMsIFwicGF0aFwiLCBcIi5jMy1zaGFwZVwiLCB7b3BhY2l0eTogMS4wLCBcInN0cm9rZS1vcGFjaXR5XCI6IDAuNX0pO1xuICAgICAgICAgICAgdGhpcy5jaGFydC5zZWxlY3QodGhpcy5oZWlnaHRDb2x1bW5OYW1lcywgW10sIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX2RhdGFDaGFuZ2VkKCkge1xuXG4gICAgICAgIGlmKCF0aGlzLmNoYXJ0KVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZih0aGlzLmJ1c3kpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBudW1lcmljTWFwcGluZzphbnkgPSB7XG4gICAgICAgICAgICBiaW5uZWRDb2x1bW46IHRoaXMucGF0aHMuYmlubmVkQ29sdW1uLFxuICAgICAgICAgICAgY29sdW1uVG9BZ2dyZWdhdGU6IHRoaXMucGF0aHMuY29sdW1uVG9BZ2dyZWdhdGVcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgc3RyaW5nTWFwcGluZzphbnkgPSB7XG4gICAgICAgICAgICBiaW5uZWRDb2x1bW46IHRoaXMucGF0aHMuYmlubmVkQ29sdW1uXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5iaW5uZWRDb2x1bW5EYXRhVHlwZSA9IHRoaXMucGF0aHMuYmlubmVkQ29sdW1uLmdldE9iamVjdCgpLmdldE1ldGFkYXRhKCdkYXRhVHlwZScpO1xuXG4gICAgICAgIHRoaXMubnVtZXJpY1JlY29yZHMgPSB0aGlzLnBhdGhzLnBsb3R0ZXIucmV0cmlldmVSZWNvcmRzKG51bWVyaWNNYXBwaW5nLCB7a2V5U2V0OiB0aGlzLnBhdGhzLmZpbHRlcmVkS2V5U2V0LCBkYXRhVHlwZTogXCJudW1iZXJcIn0pO1xuICAgICAgICB0aGlzLnN0cmluZ1JlY29yZHMgPSB0aGlzLnBhdGhzLnBsb3R0ZXIucmV0cmlldmVSZWNvcmRzKHN0cmluZ01hcHBpbmcsIHtrZXlTZXQ6IHRoaXMucGF0aHMuZmlsdGVyZWRLZXlTZXQsIGRhdGFUeXBlOiBcInN0cmluZ1wifSk7XG5cbiAgICAgICAgdGhpcy5pZFRvUmVjb3JkID0ge307XG4gICAgICAgIHRoaXMua2V5VG9JbmRleCA9IHt9O1xuICAgICAgICB0aGlzLmluZGV4VG9LZXkgPSB7fTtcblxuICAgICAgICB0aGlzLm51bWVyaWNSZWNvcmRzLmZvckVhY2goKHJlY29yZDpSZWNvcmQsIGluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5pZFRvUmVjb3JkW3JlY29yZFtcImlkXCJdIGFzIHN0cmluZ10gPSByZWNvcmQ7XG4gICAgICAgICAgICB0aGlzLmtleVRvSW5kZXhbcmVjb3JkW1wiaWRcIl0gYXMgc3RyaW5nXSA9IGluZGV4O1xuICAgICAgICAgICAgdGhpcy5pbmRleFRvS2V5W2luZGV4XSA9IHJlY29yZFtcImlkXCJdIGFzIHN0cmluZztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5udW1iZXJPZkJpbnMgPSB0aGlzLnBhdGhzLmJpbm5lZENvbHVtbi5nZXRPYmplY3QoKS5udW1iZXJPZkJpbnM7XG5cbiAgICAgICAgdGhpcy5oaXN0RGF0YSA9IFtdO1xuXG4gICAgICAgIC8vIHRoaXMuX2NvbHVtblRvQWdncmVnYXRlUGF0aC5nZXRPYmplY3QoKS5nZXRJbnRlcm5hbENvbHVtbigpO1xuICAgICAgICB2YXIgY29sdW1uVG9BZ2dyZWdhdGVOYW1lSXNEZWZpbmVkOmJvb2xlYW4gPSB0aGlzLnBhdGhzLmNvbHVtblRvQWdncmVnYXRlLmdldFN0YXRlKCkubGVuZ3RoID4gMDtcblxuICAgICAgICBmb3IobGV0IGlCaW46bnVtYmVyID0gMDsgaUJpbiA8IHRoaXMubnVtYmVyT2ZCaW5zOyBpQmluKyspIHtcblxuICAgICAgICAgICAgbGV0IHJlY29yZHNJbkJpbjpSZWNvcmRbXSA9IF8uZmlsdGVyKHRoaXMubnVtZXJpY1JlY29yZHMsIHsgYmlubmVkQ29sdW1uOiBpQmluIH0pO1xuXG4gICAgICAgICAgICBpZihyZWNvcmRzSW5CaW4pIHtcbiAgICAgICAgICAgICAgICB2YXIgb2JqOmFueSA9IHtoZWlnaHQ6MH07XG4gICAgICAgICAgICAgICAgaWYoY29sdW1uVG9BZ2dyZWdhdGVOYW1lSXNEZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iai5oZWlnaHQgPSB0aGlzLmdldEFnZ3JlZ2F0ZVZhbHVlKHJlY29yZHNJbkJpbiwgXCJjb2x1bW5Ub0FnZ3JlZ2F0ZVwiLCB0aGlzLnBhdGhzLmFnZ3JlZ2F0aW9uTWV0aG9kLmdldFN0YXRlKCkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpc3REYXRhLnB1c2gob2JqKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvYmouaGVpZ2h0ID0gdGhpcy5nZXRBZ2dyZWdhdGVWYWx1ZShyZWNvcmRzSW5CaW4sIFwiYmlubmVkQ29sdW1uXCIsIFwiY291bnRcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGlzdERhdGEucHVzaChvYmopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBrZXlzID0geyB2YWx1ZTogW1wiaGVpZ2h0XCJdIH07XG4gICAgICAgIGlmKHRoaXMuYzNDb25maWcuYXhpcy55Mi5zaG93KXtcbiAgICAgICAgICAgIHRoaXMuaGlzdERhdGEgPSB0aGlzLmhpc3REYXRhLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9heGlzQ2hhbmdlZCgpO1xuICAgICAgICB0aGlzLmJ1c3kgPSB0cnVlO1xuICAgICAgICB0aGlzLmMzQ29uZmlnLmRhdGEuanNvbiA9IHRoaXMuaGlzdERhdGE7XG4gICAgICAgIHRoaXMuYzNDb25maWcuZGF0YS5rZXlzID0ga2V5cztcbiAgICAgICAgdGhpcy5jaGFydC5sb2FkKHtqc29uOiB0aGlzLmhpc3REYXRhLCBrZXlzLCB1bmxvYWQ6IHRydWUsIGRvbmU6ICgpID0+IHsgdGhpcy5idXN5ID0gZmFsc2U7IH19KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEFnZ3JlZ2F0ZVZhbHVlKHJlY29yZHM6UmVjb3JkW10sIGNvbHVtblRvQWdncmVnYXRlTmFtZTpzdHJpbmcsIGFnZ3JlZ2F0aW9uTWV0aG9kOldlYXZlUGF0aCk6bnVtYmVyIHtcblxuICAgICAgICB2YXIgY291bnQ6bnVtYmVyID0gMDtcbiAgICAgICAgdmFyIHN1bTpudW1iZXIgPSAwO1xuXG4gICAgICAgIGlmKCFBcnJheS5pc0FycmF5KHJlY29yZHMpKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJlY29yZHMuZm9yRWFjaCgocmVjb3JkKSA9PiB7XG4gICAgICAgICAgICBjb3VudCsrO1xuICAgICAgICAgICAgc3VtICs9IHJlY29yZFtjb2x1bW5Ub0FnZ3JlZ2F0ZU5hbWVdIGFzIG51bWJlcjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGFnZ3JlZ2F0aW9uTWV0aG9kID09PSBcIm1lYW5cIikge1xuICAgICAgICAgICAgcmV0dXJuIHN1bSAvIGNvdW50OyAvLyBjb252ZXJ0IHN1bSB0byBtZWFuXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWdncmVnYXRpb25NZXRob2QgPT09IFwiY291bnRcIikge1xuXG4gICAgICAgICAgICByZXR1cm4gY291bnQ7IC8vIHVzZSBjb3VudCBvZiBmaW5pdGUgdmFsdWVzXG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdW1cbiAgICAgICAgcmV0dXJuIHN1bTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgIC8vIFRPRE8gYXZvaWQgY2FsbGluZyBnZW5lcmF0ZSBhdCBlYWNoIGNvbXBvbmVudERpZFVwZGF0ZVxuICAgICAgICB0aGlzLmMzQ29uZmlnLnNpemUgPSB7d2lkdGg6IHRoaXMucHJvcHMuc3R5bGUud2lkdGgsIGhlaWdodDogdGhpcy5wcm9wcy5zdHlsZS5oZWlnaHR9O1xuICAgICAgICBpZih0aGlzLnBhdGhzLmJpbm5lZENvbHVtbi5wdXNoKFwiaW50ZXJuYWxEeW5hbWljQ29sdW1uXCIpLmdldFN0YXRlKCkubGVuZ3RoKXtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy54LmhlaWdodCA9IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0ICogMC4yO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy54LmhlaWdodCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFydCA9IGdlbmVyYXRlKHRoaXMuYzNDb25maWcpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAvKiBDbGVhbnVwIGNhbGxiYWNrcyAqL1xuICAgICAgICAvL3RoaXMudGVhcmRvd25DYWxsYmFja3MoKTtcbiAgICAgICAgdGhpcy5jaGFydC5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5zaG93WEF4aXNMYWJlbCA9IGZhbHNlO1xuICAgICAgICB2YXIgYXhpc0NoYW5nZWQ6RnVuY3Rpb24gPSBfLmRlYm91bmNlKHRoaXMuX2F4aXNDaGFuZ2VkLmJpbmQodGhpcyksIDEwMCk7XG4gICAgICAgIHZhciBkYXRhQ2hhbmdlZDpGdW5jdGlvbiA9IF8uZGVib3VuY2UodGhpcy5fZGF0YUNoYW5nZWQuYmluZCh0aGlzKSwgMTAwKTtcbiAgICAgICAgdmFyIHBsb3R0ZXJQYXRoID0gdGhpcy50b29sUGF0aC5wdXNoUGxvdHRlcihcInBsb3RcIik7XG4gICAgICAgIHZhciBtYXBwaW5nID0gW1xuICAgICAgICAgICAgeyBuYW1lOiBcInBsb3R0ZXJcIiwgcGF0aDogcGxvdHRlclBhdGgsIGNhbGxiYWNrczogbnVsbH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwiYmlubmVkQ29sdW1uXCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJiaW5uZWRDb2x1bW5cIiksIGNhbGxiYWNrczogW2RhdGFDaGFuZ2VkLCBheGlzQ2hhbmdlZF0gfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJjb2x1bW5Ub0FnZ3JlZ2F0ZVwiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwiY29sdW1uVG9BZ2dyZWdhdGVcIiksIGNhbGxiYWNrczogZGF0YUNoYW5nZWQgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJhZ2dyZWdhdGlvbk1ldGhvZFwiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwiYWdncmVnYXRpb25NZXRob2RcIiksIGNhbGxiYWNrczogW2RhdGFDaGFuZ2VkLCBheGlzQ2hhbmdlZF0gfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJmaWxsU3R5bGVcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImZpbGxTdHlsZVwiKSwgY2FsbGJhY2tzOiBkYXRhQ2hhbmdlZCB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcImxpbmVTdHlsZVwiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwibGluZVN0eWxlXCIpLCBjYWxsYmFja3M6IGRhdGFDaGFuZ2VkIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwieEF4aXNcIiwgcGF0aDogdGhpcy50b29sUGF0aC5wdXNoUGxvdHRlcihcInhBeGlzXCIpLCBjYWxsYmFja3M6IGF4aXNDaGFuZ2VkIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwieUF4aXNcIiwgcGF0aDogdGhpcy50b29sUGF0aC5wdXNoUGxvdHRlcihcInlBeGlzXCIpLCBjYWxsYmFja3M6IGF4aXNDaGFuZ2VkIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwiZmlsdGVyZWRLZXlTZXRcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImZpbHRlcmVkS2V5U2V0XCIpLCBjYWxsYmFja3M6IGRhdGFDaGFuZ2VkIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwic2VsZWN0aW9uS2V5U2V0XCIsIHBhdGg6IHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldCwgY2FsbGJhY2tzOiB0aGlzLnVwZGF0ZVN0eWxlIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwicHJvYmVLZXlTZXRcIiwgcGF0aDogdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQsIGNhbGxiYWNrczogdGhpcy51cGRhdGVTdHlsZSB9XG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5pbml0aWFsaXplUGF0aHMobWFwcGluZyk7XG5cbiAgICAgICBcdHRoaXMucGF0aHMuZmlsdGVyZWRLZXlTZXQuZ2V0T2JqZWN0KCkuc2V0U2luZ2xlS2V5U291cmNlKHRoaXMucGF0aHMuZmlsbFN0eWxlLmdldE9iamVjdCgnY29sb3InLCAnaW50ZXJuYWxEeW5hbWljQ29sdW1uJykpO1xuXG4gICAgICAgIHRoaXMuYzNDb25maWcuYmluZHRvID0gdGhpcy5lbGVtZW50O1xuICAgICAgICBpZih0aGlzLnBhdGhzLmJpbm5lZENvbHVtbi5wdXNoKFwiaW50ZXJuYWxEeW5hbWljQ29sdW1uXCIpLmdldFN0YXRlKCkubGVuZ3RoKXtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy54LmhlaWdodCA9IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0ICogMC4yO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhcnQgPSBnZW5lcmF0ZSh0aGlzLmMzQ29uZmlnKTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdlYXZlQzNIaXN0b2dyYW07XG5cbnJlZ2lzdGVyVG9vbEltcGxlbWVudGF0aW9uKFwid2VhdmUudmlzdWFsaXphdGlvbi50b29sczo6SGlzdG9ncmFtVG9vbFwiLCBXZWF2ZUMzSGlzdG9ncmFtKTtcbi8vV2VhdmUucmVnaXN0ZXJDbGFzcyhcIndlYXZlanMudG9vbHMuSGlzdG9ncmFtVG9vbFwiLCBXZWF2ZUMzSGlzdG9ncmFtLCBbd2VhdmVqcy5hcGkuY29yZS5JTGlua2FibGVPYmplY3RXaXRoTmV3UHJvcGVydGllc10pO1xuIiwiLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9jMy9jMy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9kMy9kMy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuXG5pbXBvcnQge0lWaXNUb29sUHJvcHN9IGZyb20gXCIuL0lWaXNUb29sXCI7XG5pbXBvcnQge0lUb29sUGF0aHN9IGZyb20gXCIuL0Fic3RyYWN0QzNUb29sXCI7XG5pbXBvcnQgQWJzdHJhY3RDM1Rvb2wgZnJvbSBcIi4vQWJzdHJhY3RDM1Rvb2xcIjtcblxuaW1wb3J0IHtyZWdpc3RlclRvb2xJbXBsZW1lbnRhdGlvbn0gZnJvbSBcIi4uL1dlYXZlVG9vbFwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCBGb3JtYXRVdGlscyBmcm9tIFwiLi4vdXRpbHMvRm9ybWF0VXRpbHNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtDaGFydENvbmZpZ3VyYXRpb24sIENoYXJ0QVBJLCBnZW5lcmF0ZX0gZnJvbSBcImMzXCI7XG5pbXBvcnQge01vdXNlRXZlbnR9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtnZXRUb29sdGlwQ29udGVudH0gZnJvbSBcIi4vdG9vbHRpcFwiO1xuaW1wb3J0IFRvb2x0aXAgZnJvbSBcIi4vdG9vbHRpcFwiO1xuXG5pbnRlcmZhY2UgSUxpbmVDaGFydFBhdGhzIGV4dGVuZHMgSVRvb2xQYXRocyB7XG4gICAgcGxvdHRlcjogV2VhdmVQYXRoO1xuICAgIGNvbHVtbnM6IFdlYXZlUGF0aDtcbiAgICBsaW5lU3R5bGU6IFdlYXZlUGF0aDtcbiAgICBjdXJ2ZVR5cGU6IFdlYXZlUGF0aDtcbiAgICBmaWx0ZXJlZEtleVNldDogV2VhdmVQYXRoO1xuICAgIHNlbGVjdGlvbktleVNldDogV2VhdmVQYXRoO1xuICAgIHByb2JlS2V5U2V0OiBXZWF2ZVBhdGg7XG59XG5cbmNsYXNzIFdlYXZlQzNMaW5lQ2hhcnQgZXh0ZW5kcyBBYnN0cmFjdEMzVG9vbCB7XG4gICAgcHJpdmF0ZSBrZXlUb0luZGV4Ontba2V5OnN0cmluZ106IG51bWJlcn07XG4gICAgcHJpdmF0ZSBpbmRleFRvS2V5OntbaW5kZXg6bnVtYmVyXTogc3RyaW5nfTtcbiAgICBwcml2YXRlIHlBeGlzVmFsdWVUb0xhYmVsOntbdmFsdWU6bnVtYmVyXTogc3RyaW5nfTtcbiAgICBwcml2YXRlIGNvbG9yczp7W2lkOnN0cmluZ106IHN0cmluZ307XG4gICAgcHJpdmF0ZSB5TGFiZWxDb2x1bW5QYXRoOldlYXZlUGF0aDtcbiAgICBwcml2YXRlIG51bWVyaWNSZWNvcmRzOlJlY29yZFtdO1xuICAgIHByaXZhdGUgc3RyaW5nUmVjb3JkczpSZWNvcmRbXTtcbiAgICBwcml2YXRlIHJlY29yZHM6UmVjb3JkW11bXTtcbiAgICBwcml2YXRlIGNvbHVtbkxhYmVsczpzdHJpbmdbXTtcbiAgICBwcml2YXRlIGNvbHVtbk5hbWVzOnN0cmluZ1tdO1xuICAgIHByaXZhdGUgZmxhZzpib29sZWFuO1xuXG4gICAgcHJvdGVjdGVkIGNoYXJ0OkNoYXJ0QVBJO1xuICAgIHByb3RlY3RlZCBjM0NvbmZpZzpDaGFydENvbmZpZ3VyYXRpb247XG4gICAgcHJvdGVjdGVkIHBhdGhzOklMaW5lQ2hhcnRQYXRocztcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOklWaXNUb29sUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLmtleVRvSW5kZXggPSB7fTtcbiAgICAgICAgdGhpcy5pbmRleFRvS2V5ID0ge307XG4gICAgICAgIHRoaXMueUF4aXNWYWx1ZVRvTGFiZWwgPSB7fTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaGFuZGxlTWlzc2luZ1Nlc3Npb25TdGF0ZVByb3BlcnRpZXMobmV3U3RhdGU6YW55KVxuXHR7XG5cblx0fVxuXG4gICAgX3NlbGVjdGlvbktleXNDaGFuZ2VkKCkge1xuICAgICAgICBpZighdGhpcy5jaGFydClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgc2VsZWN0ZWRLZXlzOnN0cmluZ1tdID0gdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LmdldEtleXMoKTtcbiAgICAgICAgdmFyIHByb2JlZEtleXM6c3RyaW5nW10gPSB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldC5nZXRLZXlzKCk7XG4gICAgICAgIHZhciBzZWxlY3RlZEluZGljZXM6bnVtYmVyW10gPSBzZWxlY3RlZEtleXMubWFwKChrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMua2V5VG9JbmRleFtrZXldKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBwcm9iZWRJbmRpY2VzOm51bWJlcltdID0gcHJvYmVkS2V5cy5tYXAoKGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIodGhpcy5rZXlUb0luZGV4W2tleV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGtleXM6c3RyaW5nW10gPSBPYmplY3Qua2V5cyh0aGlzLmtleVRvSW5kZXgpO1xuICAgICAgICB2YXIgaW5kaWNlczpudW1iZXJbXSA9IGtleXMubWFwKChrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMua2V5VG9JbmRleFtrZXldKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHVuc2VsZWN0ZWRJbmRpY2VzID0gXy5kaWZmZXJlbmNlKGluZGljZXMsIHNlbGVjdGVkSW5kaWNlcyk7XG4gICAgICAgIHVuc2VsZWN0ZWRJbmRpY2VzID0gXy5kaWZmZXJlbmNlKHVuc2VsZWN0ZWRJbmRpY2VzLHByb2JlZEluZGljZXMpO1xuICAgICAgICBpZihzZWxlY3RlZEluZGljZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvL3VuZm9jdXMgYWxsIGNpcmNsZXNcbiAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzLmVsZW1lbnQpLnNlbGVjdEFsbChcImNpcmNsZVwiKS5maWx0ZXIoXCIuYzMtc2hhcGVcIikuc3R5bGUoXCJvcGFjaXR5XCIsIFwiMC4xXCIpO1xuXG4gICAgICAgICAgICB2YXIgZmlsdGVyZWQgPSBkMy5zZWxlY3QodGhpcy5lbGVtZW50KS5zZWxlY3RBbGwoXCJnXCIpLmZpbHRlcihcIi5jMy1jaGFydC1saW5lXCIpLnNlbGVjdEFsbChcImNpcmNsZVwiKS5maWx0ZXIoXCIuYzMtc2hhcGVcIik7XG4gICAgICAgICAgICBzZWxlY3RlZEluZGljZXMuZm9yRWFjaCggKGluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgIC8vY3VzdG9tIHN0eWxlIGZvciBjaXJjbGVzIG9uIHNlbGVjdGVkIGxpbmVzXG4gICAgICAgICAgICAgICAgdmFyIGNpcmNsZUNvdW50ID0gZmlsdGVyZWRbaW5kZXhdID8gZmlsdGVyZWRbaW5kZXhdLmxlbmd0aCA6IDA7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkQ2lyY2xlcyA9IF8ucmFuZ2UoMCxjaXJjbGVDb3VudCk7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRDaXJjbGVzLmZvckVhY2goIChpOm51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAoZmlsdGVyZWRbaW5kZXhdW2ldIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5vcGFjaXR5ID0gXCIxLjBcIjtcbiAgICAgICAgICAgICAgICAgICAgKGZpbHRlcmVkW2luZGV4XVtpXSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuc3Ryb2tlT3BhY2l0eSA9IFwiMS4wXCI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5jdXN0b21TdHlsZSh1bnNlbGVjdGVkSW5kaWNlcywgXCJwYXRoXCIsIFwiLmMzLXNoYXBlLmMzLWxpbmVcIiwge29wYWNpdHk6IDAuMX0pO1xuICAgICAgICAgICAgdGhpcy5jdXN0b21TdHlsZShzZWxlY3RlZEluZGljZXMsIFwicGF0aFwiLCBcIi5jMy1zaGFwZS5jMy1saW5lXCIsIHtvcGFjaXR5OiAxLjB9KTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnQuc2VsZWN0KFtcInlcIl0sIHNlbGVjdGVkSW5kaWNlcywgdHJ1ZSk7XG4gICAgICAgIH1lbHNlIGlmKCFwcm9iZWRJbmRpY2VzLmxlbmd0aCl7XG4gICAgICAgICAgICAvL2ZvY3VzIGFsbCBjaXJjbGVzXG4gICAgICAgICAgICBkMy5zZWxlY3QodGhpcy5lbGVtZW50KS5zZWxlY3RBbGwoXCJjaXJjbGVcIikuZmlsdGVyKFwiLmMzLXNoYXBlXCIpLnN0eWxlKHtvcGFjaXR5OiAxLjAsIFwic3Ryb2tlLW9wYWNpdHlcIjogMC4wfSk7XG4gICAgICAgICAgICB0aGlzLmN1c3RvbVN0eWxlKGluZGljZXMsIFwicGF0aFwiLCBcIi5jMy1zaGFwZS5jMy1saW5lXCIsIHtvcGFjaXR5OiAxLjB9KTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnQuc2VsZWN0KFtcInlcIl0sIFtdLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9wcm9iZWRLZXlzQ2hhbmdlZCgpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkS2V5czpzdHJpbmdbXSA9IHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LmdldEtleXMoKTtcbiAgICAgICAgdmFyIHNlbGVjdGVkSW5kaWNlczpudW1iZXJbXSA9IHNlbGVjdGVkS2V5cy5tYXAoKGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIodGhpcy5rZXlUb0luZGV4W2tleV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGtleXM6c3RyaW5nW10gPSBPYmplY3Qua2V5cyh0aGlzLmtleVRvSW5kZXgpO1xuICAgICAgICB2YXIgaW5kaWNlczpudW1iZXJbXSA9IGtleXMubWFwKChrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMua2V5VG9JbmRleFtrZXldKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciB1bnNlbGVjdGVkSW5kaWNlczpudW1iZXJbXSA9IF8uZGlmZmVyZW5jZShpbmRpY2VzLCBzZWxlY3RlZEluZGljZXMpO1xuXG4gICAgICAgIGlmIChzZWxlY3RlZEluZGljZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvL3VuZm9jdXMgYWxsIGNpcmNsZXNcbiAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzLmVsZW1lbnQpLnNlbGVjdEFsbChcImNpcmNsZVwiKS5maWx0ZXIoXCIuYzMtc2hhcGVcIikuc3R5bGUoe29wYWNpdHk6IDAuMSwgXCJzdHJva2Utb3BhY2l0eVwiOiAwLjB9KTtcblxuICAgICAgICAgICAgdmFyIGZpbHRlcmVkID0gZDMuc2VsZWN0KHRoaXMuZWxlbWVudCkuc2VsZWN0QWxsKFwiZ1wiKS5maWx0ZXIoXCIuYzMtY2hhcnQtbGluZVwiKS5zZWxlY3RBbGwoXCJjaXJjbGVcIikuZmlsdGVyKFwiLmMzLXNoYXBlXCIpO1xuICAgICAgICAgICAgc2VsZWN0ZWRJbmRpY2VzLmZvckVhY2goIChpbmRleDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAvL2N1c3RvbSBzdHlsZSBmb3IgY2lyY2xlcyBvbiBwcm9iZWQgbGluZXNcbiAgICAgICAgICAgICAgICB2YXIgY2lyY2xlQ291bnQ6bnVtYmVyID0gZmlsdGVyZWRbaW5kZXhdID8gZmlsdGVyZWRbaW5kZXhdLmxlbmd0aCA6IDA7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkQ2lyY2xlczpudW1iZXJbXSA9IF8ucmFuZ2UoMCxjaXJjbGVDb3VudCk7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRDaXJjbGVzLmZvckVhY2goIChpOm51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAoZmlsdGVyZWRbaW5kZXhdW2ldIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5vcGFjaXR5ID0gXCIxLjBcIjtcbiAgICAgICAgICAgICAgICAgICAgKGZpbHRlcmVkW2luZGV4XVtpXSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuc3Ryb2tlT3BhY2l0eSA9IFwiMC4wXCI7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdGhpcy5jdXN0b21TdHlsZSh1bnNlbGVjdGVkSW5kaWNlcywgXCJwYXRoXCIsIFwiLmMzLXNoYXBlLmMzLWxpbmVcIiwge29wYWNpdHk6IDAuMX0pO1xuICAgICAgICAgICAgdGhpcy5jdXN0b21TdHlsZShzZWxlY3RlZEluZGljZXMsIFwicGF0aFwiLCBcIi5jMy1zaGFwZS5jMy1saW5lXCIsIHtvcGFjaXR5OiAxLjB9KTtcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGlvbktleXNDaGFuZ2VkKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3Rpb25LZXlzQ2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3VwZGF0ZVN0eWxlKCkge1xuICAgICAgICBkMy5zZWxlY3QodGhpcy5lbGVtZW50KS5zZWxlY3RBbGwoXCJjaXJjbGVcIikuc3R5bGUoXCJvcGFjaXR5XCIsIDEpXG4gICAgICAgICAgICAuc3R5bGUoXCJzdHJva2VcIiwgXCJibGFja1wiKVxuICAgICAgICAgICAgLnN0eWxlKFwic3Ryb2tlLW9wYWNpdHlcIiwgMC4wKTtcbiAgICB9XG5cbiAgICBtaXJyb3JWZXJ0aWNhbCgpIHtcbiAgICAgICAgdmFyIHRlbXA6YW55ID0gIHt9O1xuICAgICAgICBpZih0aGlzLmMzQ29uZmlnLmF4aXMueS5zaG93ID09IHRydWUpe1xuICAgICAgICAgICAgdGhpcy5zdHJpbmdSZWNvcmRzLmZvckVhY2goIChyZWNvcmQpID0+IHtcbiAgICAgICAgICAgICAgICB0ZW1wW3JlY29yZFtcImlkXCJdLnRvU3RyaW5nKCldID0gJ3kyJztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkyLnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5kYXRhLmF4ZXMgPSB0ZW1wO1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkyLmxhYmVsID0gdGhpcy5jM0NvbmZpZy5heGlzLnkubGFiZWw7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5zdHJpbmdSZWNvcmRzLmZvckVhY2goIChyZWNvcmQpID0+IHtcbiAgICAgICAgICAgICAgICB0ZW1wW3JlY29yZFtcImlkXCJdLnRvU3RyaW5nKCldID0gJ3knO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueS5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55Mi5zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmRhdGEuYXhlcyA9IHRlbXA7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueS5sYWJlbCA9IHRoaXMuYzNDb25maWcuYXhpcy55Mi5sYWJlbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYXJ0ID0gZ2VuZXJhdGUodGhpcy5jM0NvbmZpZyk7XG4gICAgICAgIHRoaXMuX2RhdGFDaGFuZ2VkKCk7XG4gICAgfVxuXG4gICAgX2RhdGFDaGFuZ2VkKCkge1xuICAgICAgICB0aGlzLmNvbHVtbkxhYmVscyA9IFtdO1xuICAgICAgICB0aGlzLmNvbHVtbk5hbWVzID0gW107XG5cbiAgICAgICAgdmFyIGNoaWxkcmVuOldlYXZlUGF0aFtdID0gdGhpcy5wYXRocy5jb2x1bW5zLmdldENoaWxkcmVuKCk7XG5cbiAgICAgICAgdGhpcy55TGFiZWxDb2x1bW5QYXRoID0gY2hpbGRyZW5bMF07XG5cbiAgICAgICAgbGV0IG51bWVyaWNNYXBwaW5nOmFueSA9IHtcbiAgICAgICAgICAgIGNvbHVtbnM6IGNoaWxkcmVuLFxuICAgICAgICAgICAgeUxhYmVsOiB0aGlzLnlMYWJlbENvbHVtblBhdGhcbiAgICAgICAgfTtcblxuXG4gICAgICAgIGxldCBzdHJpbmdNYXBwaW5nOmFueSA9IHtcbiAgICAgICAgICAgIGNvbHVtbnM6IGNoaWxkcmVuLFxuICAgICAgICAgICAgbGluZToge1xuICAgICAgICAgICAgICAgIC8vYWxwaGE6IHRoaXMuX2xpbmVTdHlsZVBhdGgucHVzaChcImFscGhhXCIpLFxuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLnBhdGhzLmxpbmVTdHlsZS5wdXNoKFwiY29sb3JcIilcbiAgICAgICAgICAgICAgICAvL2NhcHM6IHRoaXMuX2xpbmVTdHlsZVBhdGgucHVzaChcImNhcHNcIilcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB5TGFiZWw6IHRoaXMueUxhYmVsQ29sdW1uUGF0aFxuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAobGV0IGlkeCBpbiBjaGlsZHJlbikge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gY2hpbGRyZW5baWR4XTtcbiAgICAgICAgICAgIGxldCB0aXRsZSA9IGNoaWxkLmdldE9iamVjdCgpLmdldE1ldGFkYXRhKCd0aXRsZScpO1xuICAgICAgICAgICAgbGV0IG5hbWUgPSBjaGlsZC5nZXRQYXRoKCkucG9wKCk7XG4gICAgICAgICAgICB0aGlzLmNvbHVtbkxhYmVscy5wdXNoKHRpdGxlKTtcbiAgICAgICAgICAgIHRoaXMuY29sdW1uTmFtZXMucHVzaChuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMubnVtZXJpY1JlY29yZHMgPSB0aGlzLnBhdGhzLnBsb3R0ZXIucmV0cmlldmVSZWNvcmRzKG51bWVyaWNNYXBwaW5nLCB7a2V5U2V0OiB0aGlzLnBhdGhzLmZpbHRlcmVkS2V5U2V0LCBkYXRhVHlwZTogXCJudW1iZXJcIn0pO1xuICAgICAgICB0aGlzLnN0cmluZ1JlY29yZHMgPSB0aGlzLnBhdGhzLnBsb3R0ZXIucmV0cmlldmVSZWNvcmRzKHN0cmluZ01hcHBpbmcsIHtrZXlTZXQ6IHRoaXMucGF0aHMuZmlsdGVyZWRLZXlTZXQsIGRhdGFUeXBlOiBcInN0cmluZ1wifSk7XG5cbiAgICAgICAgdGhpcy5yZWNvcmRzID0gXy56aXAodGhpcy5udW1lcmljUmVjb3JkcywgdGhpcy5zdHJpbmdSZWNvcmRzKTtcbiAgICAgICAgdGhpcy5yZWNvcmRzID0gXy5zb3J0QnkodGhpcy5yZWNvcmRzLCBbMCwgXCJpZFwiXSk7XG5cbiAgICAgICAgaWYodGhpcy5yZWNvcmRzLmxlbmd0aClcbiAgICAgICAgICAgIFt0aGlzLm51bWVyaWNSZWNvcmRzLCB0aGlzLnN0cmluZ1JlY29yZHNdID0gXy51bnppcCh0aGlzLnJlY29yZHMpO1xuXG4gICAgICAgIHRoaXMua2V5VG9JbmRleCA9IHt9O1xuICAgICAgICB0aGlzLmluZGV4VG9LZXkgPSB7fTtcbiAgICAgICAgdGhpcy55QXhpc1ZhbHVlVG9MYWJlbCA9IHt9O1xuXG4gICAgICAgIHRoaXMubnVtZXJpY1JlY29yZHMuZm9yRWFjaCgocmVjb3JkOlJlY29yZCwgaW5kZXg6bnVtYmVyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmtleVRvSW5kZXhbcmVjb3JkW1wiaWRcIl0gYXMgc3RyaW5nXSA9IGluZGV4O1xuICAgICAgICAgICAgdGhpcy5pbmRleFRvS2V5W2luZGV4XSA9IHJlY29yZFtcImlkXCJdIGFzIHN0cmluZztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5zdHJpbmdSZWNvcmRzLmZvckVhY2goKHJlY29yZCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHZhciBudW1lcmljUmVjb3JkID0gdGhpcy5udW1lcmljUmVjb3Jkc1tpbmRleF07XG4gICAgICAgICAgICB0aGlzLnlBeGlzVmFsdWVUb0xhYmVsW251bWVyaWNSZWNvcmRbXCJ5TGFiZWxcIl0gYXMgbnVtYmVyXSA9IHJlY29yZFtcInlMYWJlbFwiXSBhcyBzdHJpbmc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBjb2x1bW5zOmFueSA9IFtdO1xuXG4gICAgICAgIGNvbHVtbnMgPSB0aGlzLm51bWVyaWNSZWNvcmRzLm1hcChmdW5jdGlvbihyZWNvcmQ6UmVjb3JkKSB7XG4gICAgICAgICAgICB2YXIgdGVtcEFycjphbnlbXSA9IFtdO1xuICAgICAgICAgICAgdGVtcEFyci5wdXNoKHJlY29yZFtcImlkXCJdKTtcbiAgICAgICAgICAgIF8ua2V5cyhyZWNvcmRbXCJjb2x1bW5zXCJdKS5mb3JFYWNoKChrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgdGVtcEFyci5wdXNoKChyZWNvcmRbXCJjb2x1bW5zXCJdIGFzIFJlY29yZClba2V5XSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wQXJyO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNvbG9ycyA9IHt9O1xuICAgICAgICB0aGlzLnN0cmluZ1JlY29yZHMuZm9yRWFjaCgocmVjb3JkOlJlY29yZCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jb2xvcnNbcmVjb3JkW1wiaWRcIl0gYXMgc3RyaW5nXSA9ICgocmVjb3JkW1wibGluZVwiXSBhcyBSZWNvcmQpW1wiY29sb3JcIl0gYXMgc3RyaW5nKSB8fCBcIiNDMENERDFcIjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNoYXJ0VHlwZTpzdHJpbmcgPSBcImxpbmVcIjtcbiAgICAgICAgaWYodGhpcy5wYXRocy5wbG90dGVyLnB1c2goXCJjdXJ2ZVR5cGVcIikuZ2V0U3RhdGUoKSA9PT0gXCJkb3VibGVcIikge1xuICAgICAgICAgICAgY2hhcnRUeXBlID0gXCJzcGxpbmVcIjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRoaXMuYzNDb25maWcuYXhpcy55Mi5zaG93KXtcbiAgICAgICAgICAgIGNvbHVtbnMuZm9yRWFjaCggKGNvbHVtbjphbnlbXSwgaW5kZXg6bnVtYmVyLCBhcnJheTphbnkpID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgdGVtcDphbnlbXSA9IFtdO1xuICAgICAgICAgICAgICAgIHRlbXAucHVzaChjb2x1bW4uc2hpZnQoKSk7XG4gICAgICAgICAgICAgICAgY29sdW1uID0gY29sdW1uLnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICBjb2x1bW4uZm9yRWFjaCggKGl0ZW06YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRlbXAucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhcnJheVtpbmRleF0gPSB0ZW1wO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFydC5sb2FkKHtjb2x1bW5zOiBjb2x1bW5zLCBjb2xvcnM6IHRoaXMuY29sb3JzLCB0eXBlOiBjaGFydFR5cGUsIHVubG9hZDogdHJ1ZX0pO1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAvKiBDbGVhbnVwIGNhbGxiYWNrcyAqL1xuICAgICAgICAvL3RoaXMudGVhcmRvd25DYWxsYmFja3MoKTtcbiAgICAgICAgdGhpcy5jaGFydC5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5oYW5kbGVDbGljay5iaW5kKHRoaXMpKTtcbiAgICAgICAgdmFyIGRhdGFDaGFuZ2VkOkZ1bmN0aW9uID0gXy5kZWJvdW5jZSh0aGlzLl9kYXRhQ2hhbmdlZC5iaW5kKHRoaXMpLCAxMDApO1xuICAgICAgICB2YXIgc2VsZWN0aW9uS2V5U2V0Q2hhbmdlZDpGdW5jdGlvbiA9IHRoaXMuX3NlbGVjdGlvbktleXNDaGFuZ2VkLmJpbmQodGhpcyk7XG4gICAgICAgIHZhciBwcm9iZUtleVNldENoYW5nZWQ6RnVuY3Rpb24gPSBfLmRlYm91bmNlKHRoaXMuX3Byb2JlZEtleXNDaGFuZ2VkLmJpbmQodGhpcyksIDEwMCk7XG4gICAgICAgIHZhciBwbG90dGVyUGF0aDpXZWF2ZVBhdGggPSB0aGlzLnRvb2xQYXRoLnB1c2hQbG90dGVyKFwicGxvdFwiKTtcbiAgICAgICAgdmFyIG1hcHBpbmcgPSBbXG4gICAgICAgICAgICB7IG5hbWU6IFwicGxvdHRlclwiLCBwYXRoOiBwbG90dGVyUGF0aCwgY2FsbGJhY2tzOiBudWxsfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJjb2x1bW5zXCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJjb2x1bW5zXCIpLCBjYWxsYmFja3M6IGRhdGFDaGFuZ2VkIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwibGluZVN0eWxlXCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJsaW5lU3R5bGVcIiksIGNhbGxiYWNrczogZGF0YUNoYW5nZWQgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJjdXJ2ZVR5cGVcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImN1cnZlVHlwZVwiKSwgY2FsbGJhY2tzOiBkYXRhQ2hhbmdlZCB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcImZpbHRlcmVkS2V5U2V0XCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJmaWx0ZXJlZEtleVNldFwiKSwgY2FsbGJhY2tzOiBkYXRhQ2hhbmdlZCB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcInNlbGVjdGlvbktleVNldFwiLCBwYXRoOiB0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQsIGNhbGxiYWNrczogc2VsZWN0aW9uS2V5U2V0Q2hhbmdlZH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwicHJvYmVLZXlTZXRcIiwgcGF0aDogdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQsIGNhbGxiYWNrczogcHJvYmVLZXlTZXRDaGFuZ2VkfVxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVBhdGhzKG1hcHBpbmcpO1xuXG4gICAgICAgXHR0aGlzLnBhdGhzLmZpbHRlcmVkS2V5U2V0LmdldE9iamVjdCgpLnNldENvbHVtbktleVNvdXJjZXModGhpcy5wYXRocy5jb2x1bW5zLmdldE9iamVjdCgpLmdldE9iamVjdHMoKSk7XG5cbiAgICAgICAgdGhpcy5jM0NvbmZpZyA9IHtcbiAgICAgICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5wcm9wcy5zdHlsZS53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFkZGluZzoge1xuICAgICAgICAgICAgICAgIHRvcDogMjAsXG4gICAgICAgICAgICAgICAgYm90dG9tOiAyMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBjb2x1bW5zOiBbXSxcbiAgICAgICAgICAgICAgICB4U29ydDogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIG11bHRpcGxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uY2xpY2s6IChkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQ6TW91c2VFdmVudCA9IHRoaXMuY2hhcnQuaW50ZXJuYWwuZDMuZXZlbnQgYXMgTW91c2VFdmVudDtcbiAgICAgICAgICAgICAgICAgICAgaWYoIShldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpICYmIGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQuc2V0S2V5cyhbZC5pZF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbnNlbGVjdGVkOiAoZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYoZCAmJiBkLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5hZGRLZXlzKFtkLmlkXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9udW5zZWxlY3RlZDogKGQ6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmKGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQucmVtb3ZlS2V5cyhbZC5pZF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbm1vdXNlb3ZlcjogKGQ6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldC5zZXRLZXlzKFtkLmlkXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uTmFtZXNUb1ZhbHVlOntbY29sdW1uTmFtZTpzdHJpbmddIDogc3RyaW5nfG51bWJlciB9ID0ge307XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29sdW1uTGFiZWxzLmZvckVhY2goIChsYWJlbDpzdHJpbmcsaW5kZXg6bnVtYmVyLGFycmF5OmFueVtdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbk5hbWVzVG9WYWx1ZVtsYWJlbF0gPSB0aGlzLm51bWVyaWNSZWNvcmRzW2QuaW5kZXhdW1wiY29sdW1uc1wiXVtpbmRleF0gYXMgbnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnRvb2xUaXAuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5jaGFydC5pbnRlcm5hbC5kMy5ldmVudC5wYWdlWCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuY2hhcnQuaW50ZXJuYWwuZDMuZXZlbnQucGFnZVksXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93VG9vbFRpcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbk5hbWVzVG9WYWx1ZTogY29sdW1uTmFtZXNUb1ZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25tb3VzZW91dDogKGQ6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldC5zZXRLZXlzKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudG9vbFRpcC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1Rvb2xUaXA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICAgICAgc2hvdzogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBncmlkOiB7XG4gICAgICAgICAgICAgICAgeDoge1xuICAgICAgICAgICAgICAgICAgICBzaG93OiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB5OiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXhpczoge1xuICAgICAgICAgICAgICAgIHg6IHtcbiAgICAgICAgICAgICAgICAgICAgdGljazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogKGQ6bnVtYmVyKTpzdHJpbmcgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuYzNDb25maWcuYXhpcy55Mi5zaG93KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9oYW5kbGUgY2FzZSB3aGVyZSBsYWJlbHMgbmVlZCB0byBiZSByZXZlcnNlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcDpudW1iZXIgPSB0aGlzLmNvbHVtbkxhYmVscy5sZW5ndGgtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sdW1uTGFiZWxzW3RlbXAtZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbHVtbkxhYmVsc1tkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHk6IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGljazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAobnVtOm51bWJlcik6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnlMYWJlbENvbHVtblBhdGggJiYgdGhpcy55TGFiZWxDb2x1bW5QYXRoLmdldFZhbHVlKFwidGhpcy5nZXRNZXRhZGF0YSgnZGF0YVR5cGUnKVwiKSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy55QXhpc1ZhbHVlVG9MYWJlbFtudW1dIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhGb3JtYXRVdGlscy5kZWZhdWx0TnVtYmVyRm9ybWF0dGluZyhudW0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHkyOiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtaW46IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIG1heDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgdGljazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAobnVtOm51bWJlcik6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnlMYWJlbENvbHVtblBhdGggJiYgdGhpcy55TGFiZWxDb2x1bW5QYXRoLmdldE9iamVjdCgpLmdldE1ldGFkYXRhKCdkYXRhVHlwZScpICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnlBeGlzVmFsdWVUb0xhYmVsW251bV0gfHwgXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKEZvcm1hdFV0aWxzLmRlZmF1bHROdW1iZXJGb3JtYXR0aW5nKG51bSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBiaW5kdG86IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgIGxlZ2VuZDoge1xuICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25yZW5kZXJlZDogdGhpcy5fdXBkYXRlU3R5bGUuYmluZCh0aGlzKVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuY2hhcnQgPSBnZW5lcmF0ZSh0aGlzLmMzQ29uZmlnKTtcbiAgICB9XG5cbiAgICBoYW5kbGVDbGljayhldmVudDpNb3VzZUV2ZW50KTp2b2lkIHtcbiAgICAgICAgaWYoIXRoaXMuZmxhZykge1xuICAgICAgICAgICAgdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LnNldEtleXMoW10pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmxhZyA9IGZhbHNlO1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2VhdmVDM0xpbmVDaGFydDtcblxucmVnaXN0ZXJUb29sSW1wbGVtZW50YXRpb24oXCJ3ZWF2ZS52aXN1YWxpemF0aW9uLnRvb2xzOjpMaW5lQ2hhcnRUb29sXCIsIFdlYXZlQzNMaW5lQ2hhcnQpO1xuLy9XZWF2ZS5yZWdpc3RlckNsYXNzKFwid2VhdmVqcy50b29scy5MaW5lQ2hhcnRUb29sXCIsIFdlYXZlQzNMaW5lQ2hhcnQsIFt3ZWF2ZWpzLmFwaS5jb3JlLklMaW5rYWJsZU9iamVjdFdpdGhOZXdQcm9wZXJ0aWVzXSk7XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9jMy9jMy5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvZDMvZDMuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cblxuXG5pbXBvcnQge0lWaXNUb29sUHJvcHN9IGZyb20gXCIuL0lWaXNUb29sXCI7XG5pbXBvcnQge0lUb29sUGF0aHN9IGZyb20gXCIuL0Fic3RyYWN0QzNUb29sXCI7XG5pbXBvcnQgQWJzdHJhY3RDM1Rvb2wgZnJvbSBcIi4vQWJzdHJhY3RDM1Rvb2xcIjtcblxuaW1wb3J0IHtyZWdpc3RlclRvb2xJbXBsZW1lbnRhdGlvbn0gZnJvbSBcIi4uL1dlYXZlVG9vbFwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtDaGFydEFQSSwgQ2hhcnRDb25maWd1cmF0aW9uLCBnZW5lcmF0ZX0gZnJvbSBcImMzXCI7XG5cbmludGVyZmFjZSBJUGllQ2hhcnRQYXRocyBleHRlbmRzIElUb29sUGF0aHMge1xuICAgIHBsb3R0ZXI6IFdlYXZlUGF0aDtcbiAgICBkYXRhOiBXZWF2ZVBhdGg7XG4gICAgbGFiZWw6IFdlYXZlUGF0aDtcbiAgICBmaWxsU3R5bGU6V2VhdmVQYXRoO1xuICAgIGxpbmVTdHlsZTpXZWF2ZVBhdGg7XG4gICAgaW5uZXJSYWRpdXM6V2VhdmVQYXRoO1xuICAgIGZpbHRlcmVkS2V5U2V0OldlYXZlUGF0aDtcbiAgICBzZWxlY3Rpb25LZXlTZXQ6V2VhdmVQYXRoO1xuICAgIHByb2JlS2V5U2V0OldlYXZlUGF0aDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdlYXZlQzNQaWVDaGFydCBleHRlbmRzIEFic3RyYWN0QzNUb29sIHtcblxuICAgIHByaXZhdGUga2V5VG9JbmRleDp7W2tleTpzdHJpbmddOiBudW1iZXJ9O1xuICAgIHByaXZhdGUgaW5kZXhUb0tleTp7W2luZGV4Om51bWJlcl06IHN0cmluZ307XG4gICAgcHJvdGVjdGVkIGNoYXJ0OkNoYXJ0QVBJO1xuICAgIHByb3RlY3RlZCBjM0NvbmZpZzpDaGFydENvbmZpZ3VyYXRpb247XG4gICAgcHJvdGVjdGVkIHBhdGhzOklQaWVDaGFydFBhdGhzO1xuICAgIHByaXZhdGUgZmxhZzpib29sZWFuO1xuICAgIHByaXZhdGUgbnVtZXJpY1JlY29yZHM6UmVjb3JkW107XG4gICAgcHJpdmF0ZSBzdHJpbmdSZWNvcmRzOlJlY29yZFtdO1xuICAgIHByaXZhdGUgY29sb3JzOntba2V5OnN0cmluZ10gOiBzdHJpbmd9O1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6SVZpc1Rvb2xQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGhhbmRsZU1pc3NpbmdTZXNzaW9uU3RhdGVQcm9wZXJ0aWVzKG5ld1N0YXRlOmFueSlcblx0e1xuXG5cdH1cblxuICAgIHByaXZhdGUgc2VsZWN0aW9uS2V5c0NoYW5nZWQoKTp2b2lkIHtcbiAgICAgICAgaWYoIXRoaXMuY2hhcnQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIGtleXM6c3RyaW5nW10gPSB0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQuZ2V0S2V5cygpO1xuICAgICAgICBpZihrZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5jaGFydC5mb2N1cyhrZXlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuY2hhcnQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgcHJvYmVkS2V5c0NoYW5nZWQoKTp2b2lkIHtcbiAgICAgICAgdmFyIGtleXM6c3RyaW5nW10gPSB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldC5nZXRLZXlzKCk7XG5cbiAgICAgICAgaWYoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhcnQuZm9jdXMoa2V5cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGlvbktleXNDaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVN0eWxlKCk6dm9pZCB7XG5cbiAgICB9XG5cbiAgICBoYW5kbGVDbGljayhldmVudDpSZWFjdC5Nb3VzZUV2ZW50KTp2b2lkIHtcbiAgICAgICAgaWYoIXRoaXMuZmxhZykge1xuICAgICAgICAgICAgdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LnNldEtleXMoW10pXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbGFnID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkYXRhQ2hhbmdlZCgpOnZvaWQge1xuXG4gICAgICAgIGlmKCF0aGlzLmNoYXJ0KVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGxldCBudW1lcmljTWFwcGluZzphbnkgPSB7XG4gICAgICAgICAgICBkYXRhOiB0aGlzLnBhdGhzLmRhdGFcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgc3RyaW5nTWFwcGluZzphbnkgPSB7XG4gICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgY29sb3I6IHRoaXMucGF0aHMuZmlsbFN0eWxlLnB1c2goXCJjb2xvclwiKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpbmU6IHtcblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxhYmVsOiB0aGlzLnBhdGhzLmxhYmVsXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm51bWVyaWNSZWNvcmRzID0gdGhpcy5wYXRocy5wbG90dGVyLnJldHJpZXZlUmVjb3JkcyhudW1lcmljTWFwcGluZywge2tleVNldDogdGhpcy5wYXRocy5maWx0ZXJlZEtleVNldCwgZGF0YVR5cGU6IFwibnVtYmVyXCJ9KTtcbiAgICAgICAgdGhpcy5zdHJpbmdSZWNvcmRzID0gdGhpcy5wYXRocy5wbG90dGVyLnJldHJpZXZlUmVjb3JkcyhzdHJpbmdNYXBwaW5nLCB7a2V5U2V0OiB0aGlzLnBhdGhzLmZpbHRlcmVkS2V5U2V0LCBkYXRhVHlwZTogXCJzdHJpbmdcIn0pO1xuXG4gICAgICAgIHRoaXMua2V5VG9JbmRleCA9IHt9O1xuICAgICAgICB0aGlzLmluZGV4VG9LZXkgPSB7fTtcblxuICAgICAgICB0aGlzLm51bWVyaWNSZWNvcmRzLmZvckVhY2goIChyZWNvcmQ6UmVjb3JkLCBpbmRleDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhUb0tleVtpbmRleF0gPSByZWNvcmRbXCJpZFwiXSBhcyBzdHJpbmc7XG4gICAgICAgICAgICB0aGlzLmtleVRvSW5kZXhbcmVjb3JkW1wiaWRcIl0gYXMgc3RyaW5nXSA9IGluZGV4O1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgY29sdW1uczpbc3RyaW5nLCBudW1iZXJdW10gPSBbXTtcblxuICAgICAgICBjb2x1bW5zID0gdGhpcy5udW1lcmljUmVjb3Jkcy5tYXAoZnVuY3Rpb24ocmVjb3JkOlJlY29yZCkge1xuICAgICAgICAgICAgdmFyIHRlbXBBcnI6W3N0cmluZywgbnVtYmVyXSA9IFtyZWNvcmRbXCJpZFwiXSBhcyBzdHJpbmcsIHJlY29yZFtcImRhdGFcIl0gYXMgbnVtYmVyXTtcbiAgICAgICAgICAgIHJldHVybiB0ZW1wQXJyO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgY2hhcnRUeXBlOnN0cmluZyA9IFwicGllXCI7XG5cbiAgICAgICAgaWYodGhpcy5wYXRocy5wbG90dGVyLmdldFN0YXRlKFwiaW5uZXJSYWRpdXNcIikgPiAwKSB7XG4gICAgICAgICAgICBjaGFydFR5cGUgPSBcImRvbnV0XCJcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29sb3JzID0ge31cbiAgICAgICAgdGhpcy5zdHJpbmdSZWNvcmRzLmZvckVhY2goKHJlY29yZDpSZWNvcmQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29sb3JzW3JlY29yZFtcImlkXCJdIGFzIHN0cmluZ10gPSAocmVjb3JkW1wiZmlsbFwiXSBhcyBSZWNvcmQpW1wiY29sb3JcIl0gYXMgc3RyaW5nIHx8IFwiI0MwQ0REMVwiO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNoYXJ0LmxvYWQoe1xuICAgICAgICAgICAgY29sdW1uczogY29sdW1ucyxcbiAgICAgICAgICAgIHR5cGU6IGNoYXJ0VHlwZSxcbiAgICAgICAgICAgIGNvbG9yczogdGhpcy5jb2xvcnMsXG4gICAgICAgICAgICB1bmxvYWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKTp2b2lkIHtcbiAgICAgICAgLyogQ2xlYW51cCBjYWxsYmFja3MgKi9cbiAgICAgICAgLy90aGlzLnRlYXJkb3duQ2FsbGJhY2tzKCk7XG4gICAgICAgIHRoaXMuY2hhcnQuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgIHZhciBkYXRhQ2hhbmdlZDpGdW5jdGlvbiA9IF8uZGVib3VuY2UodGhpcy5kYXRhQ2hhbmdlZC5iaW5kKHRoaXMpLCAxMDApO1xuICAgICAgICB2YXIgc2VsZWN0aW9uS2V5U2V0Q2hhbmdlZDpGdW5jdGlvbiA9IHRoaXMuc2VsZWN0aW9uS2V5c0NoYW5nZWQuYmluZCh0aGlzKTtcbiAgICAgICAgdmFyIHByb2JlS2V5U2V0Q2hhbmdlZDpGdW5jdGlvbiA9IF8uZGVib3VuY2UodGhpcy5wcm9iZWRLZXlzQ2hhbmdlZC5iaW5kKHRoaXMpLCAxMDApO1xuICAgICAgICB2YXIgcGxvdHRlclBhdGg6V2VhdmVQYXRoID0gdGhpcy50b29sUGF0aC5wdXNoUGxvdHRlcihcInBsb3RcIik7XG4gICAgICAgIHZhciBtYW5pZmVzdCA9IFtcbiAgICAgICAgICB7IG5hbWU6IFwicGxvdHRlclwiLCBwYXRoOiBwbG90dGVyUGF0aCwgY2FsbGJhY2tzOiBudWxsfSxcbiAgICAgICAgICB7IG5hbWU6IFwiZGF0YVwiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwiZGF0YVwiKSwgY2FsbGJhY2tzOiBkYXRhQ2hhbmdlZCB9LFxuICAgICAgICAgIHsgbmFtZTogXCJsYWJlbFwiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwibGFiZWxcIiksIGNhbGxiYWNrczogZGF0YUNoYW5nZWQgfSxcbiAgICAgICAgICB7IG5hbWU6IFwiZmlsbFN0eWxlXCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJmaWxsXCIpLCBjYWxsYmFja3M6IGRhdGFDaGFuZ2VkIH0sXG4gICAgICAgICAgeyBuYW1lOiBcImxpbmVTdHlsZVwiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwibGluZVwiKSwgY2FsbGJhY2tzOiBkYXRhQ2hhbmdlZCB9LFxuICAgICAgICAgIHsgbmFtZTogXCJpbm5lclJhZGl1c1wiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwiaW5uZXJSYWRpdXNcIiksIGNhbGxiYWNrczogZGF0YUNoYW5nZWQgfSxcbiAgICAgICAgICB7IG5hbWU6IFwiZmlsdGVyZWRLZXlTZXRcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImZpbHRlcmVkS2V5U2V0XCIpLCBjYWxsYmFja3M6IGRhdGFDaGFuZ2VkIH0sXG4gICAgICAgICAgeyBuYW1lOiBcInNlbGVjdGlvbktleVNldFwiLCBwYXRoOiB0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQsIGNhbGxiYWNrczogc2VsZWN0aW9uS2V5U2V0Q2hhbmdlZH0sXG4gICAgICAgICAgeyBuYW1lOiBcInByb2JlS2V5U2V0XCIsIHBhdGg6IHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LCBjYWxsYmFja3M6IHByb2JlS2V5U2V0Q2hhbmdlZH1cbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLmluaXRpYWxpemVQYXRocyhtYW5pZmVzdCk7XG5cbiAgICAgICBcdHRoaXMucGF0aHMuZmlsdGVyZWRLZXlTZXQuZ2V0T2JqZWN0KCkuc2V0U2luZ2xlS2V5U291cmNlKHRoaXMucGF0aHMuZGF0YS5nZXRPYmplY3QoKSk7XG5cbiAgICAgICAgdGhpcy5jM0NvbmZpZyA9IHtcbiAgICAgICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5wcm9wcy5zdHlsZS53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmluZHRvOiB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgICAgIHRvcDogMjAsXG4gICAgICAgICAgICAgIGJvdHRvbTogMjAsXG4gICAgICAgICAgICAgIHJpZ2h0OiAzMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgICAgICAgICBzaG93OiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBjb2x1bW5zOiBbXSxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgIG11bHRpcGxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgIHR5cGU6IFwicGllXCIsXG4gICAgICAgICAgICAgICBvbmNsaWNrOiAoZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgdmFyIGV2ZW50Ok1vdXNlRXZlbnQgPSB0aGlzLmNoYXJ0LmludGVybmFsLmQzLmV2ZW50IGFzIE1vdXNlRXZlbnQ7XG4gICAgICAgICAgICAgICAgIGlmKCEoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSAmJiBkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LnNldEtleXMoW3RoaXMuaW5kZXhUb0tleVtkLmluZGV4XV0pO1xuICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uc2VsZWN0ZWQ6IChkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LmFkZEtleXMoW3RoaXMuaW5kZXhUb0tleVtkLmluZGV4XV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbnVuc2VsZWN0ZWQ6IChkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihkICYmIGQuaGFzT3duUHJvcGVydHkoXCJkYXRhXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBkIGhhcyBhIGRpZmZlcmVudCBzdHJ1Y3R1cmUgdGhhbiBcIm9uc2VsZWN0ZWRcIiBhcmd1bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LnNldEtleXMoW10pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbm1vdXNlb3ZlcjogKGQ6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uTmFtZXNUb1ZhbHVlOntbY29sdW1uTmFtZTpzdHJpbmddIDogc3RyaW5nfG51bWJlciB9ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5OYW1lc1RvVmFsdWVbdGhpcy5wYXRocy5kYXRhLmdldE9iamVjdCgpLmdldE1ldGFkYXRhKFwidGl0bGVcIildID0gZC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LnNldEtleXMoW3RoaXMuaW5kZXhUb0tleVtkLmluZGV4XV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy50b29sVGlwLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VG9vbFRpcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLmNoYXJ0LmludGVybmFsLmQzLmV2ZW50LnBhZ2VYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuY2hhcnQuaW50ZXJuYWwuZDMuZXZlbnQucGFnZVksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uTmFtZXNUb1ZhbHVlOiBjb2x1bW5OYW1lc1RvVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbm1vdXNlb3V0OiAoZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoZCAmJiBkLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LnNldEtleXMoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy50b29sVGlwLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VG9vbFRpcDogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBpZToge1xuICAgICAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogKHZhbHVlOm51bWJlciwgcmF0aW86bnVtYmVyLCBpZDpzdHJpbmcpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnN0cmluZ1JlY29yZHMgJiYgdGhpcy5zdHJpbmdSZWNvcmRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWNvcmQ6UmVjb3JkID0gdGhpcy5zdHJpbmdSZWNvcmRzW3RoaXMua2V5VG9JbmRleFtpZF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlY29yZCAmJiByZWNvcmRbXCJsYWJlbFwiXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkW1wibGFiZWxcIl0gYXMgc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkb251dDoge1xuICAgICAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdDogKHZhbHVlOm51bWJlciwgcmF0aW86bnVtYmVyLCBpZDpzdHJpbmcpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnN0cmluZ1JlY29yZHMgJiYgdGhpcy5zdHJpbmdSZWNvcmRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWNvcmQgPSB0aGlzLnN0cmluZ1JlY29yZHNbdGhpcy5rZXlUb0luZGV4W2lkXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVjb3JkICYmIHJlY29yZFtcImxhYmVsXCJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWNvcmRbXCJsYWJlbFwiXSBhcyBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxlZ2VuZDoge1xuICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25yZW5kZXJlZDogdGhpcy51cGRhdGVTdHlsZS5iaW5kKHRoaXMpXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY2hhcnQgPSBnZW5lcmF0ZSh0aGlzLmMzQ29uZmlnKTtcbiAgICB9XG59XG5cbnJlZ2lzdGVyVG9vbEltcGxlbWVudGF0aW9uKFwid2VhdmUudmlzdWFsaXphdGlvbi50b29sczo6UGllQ2hhcnRUb29sXCIsIFdlYXZlQzNQaWVDaGFydCk7XG4vL1dlYXZlLnJlZ2lzdGVyQ2xhc3MoXCJ3ZWF2ZWpzLnRvb2xzLlBpZUNoYXJ0VG9vbFwiLCBXZWF2ZUMzUGllQ2hhcnQsIFt3ZWF2ZWpzLmFwaS5jb3JlLklMaW5rYWJsZU9iamVjdFdpdGhOZXdQcm9wZXJ0aWVzXSk7XG4iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2MzL2MzLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2QzL2QzLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3Mvd2VhdmUvV2VhdmVQYXRoLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC1kb20uZC50c1wiLz5cblxuaW1wb3J0IHtJVmlzVG9vbFByb3BzfSBmcm9tIFwiLi9JVmlzVG9vbFwiO1xuaW1wb3J0IHtJVG9vbFBhdGhzfSBmcm9tIFwiLi9BYnN0cmFjdEMzVG9vbFwiO1xuaW1wb3J0IEFic3RyYWN0QzNUb29sIGZyb20gXCIuL0Fic3RyYWN0QzNUb29sXCI7XG5pbXBvcnQge3JlZ2lzdGVyVG9vbEltcGxlbWVudGF0aW9ufSBmcm9tIFwiLi4vV2VhdmVUb29sXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xuaW1wb3J0IEZvcm1hdFV0aWxzIGZyb20gXCIuLi91dGlscy9Gb3JtYXRVdGlsc1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge0NoYXJ0Q29uZmlndXJhdGlvbiwgQ2hhcnRBUEksIGdlbmVyYXRlfSBmcm9tIFwiYzNcIjtcbmltcG9ydCB7TW91c2VFdmVudH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge2dldFRvb2x0aXBDb250ZW50fSBmcm9tIFwiLi90b29sdGlwXCI7XG5pbXBvcnQgVG9vbHRpcCBmcm9tIFwiLi90b29sdGlwXCI7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XG5pbXBvcnQgU3RhbmRhcmRMaWIgZnJvbSBcIi4uL3V0aWxzL1N0YW5kYXJkTGliXCI7XG5pbnRlcmZhY2UgSUNvbHVtblN0YXRzIHtcbiAgICBtaW46IG51bWJlcjtcbiAgICBtYXg6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIElTY2F0dGVycGxvdFBhdGhzIGV4dGVuZHMgSVRvb2xQYXRocyB7XG4gICAgcGxvdHRlcjogV2VhdmVQYXRoO1xuICAgIGRhdGFYOiBXZWF2ZVBhdGg7XG4gICAgZGF0YVk6IFdlYXZlUGF0aDtcbiAgICBzaXplQnk6IFdlYXZlUGF0aDtcbiAgICBmaWxsOiBXZWF2ZVBhdGg7XG4gICAgbGluZTogV2VhdmVQYXRoO1xuICAgIHhBeGlzOiBXZWF2ZVBhdGg7XG4gICAgeUF4aXM6IFdlYXZlUGF0aDtcbiAgICBmaWx0ZXJlZEtleVNldDogV2VhdmVQYXRoO1xuICAgIHNlbGVjdGlvbktleVNldDogV2VhdmVQYXRoO1xuICAgIHByb2JlS2V5U2V0OiBXZWF2ZVBhdGg7XG59XG5cbi8qIHByaXZhdGVcbiAqIEBwYXJhbSByZWNvcmRzIGFycmF5IG9yIHJlY29yZHNcbiAqIEBwYXJhbSBhdHRyaWJ1dGVzIGFycmF5IG9mIGF0dHJpYnV0ZXMgdG8gYmUgbm9ybWFsaXplZFxuICovXG5jbGFzcyBXZWF2ZUMzU2NhdHRlclBsb3QgZXh0ZW5kcyBBYnN0cmFjdEMzVG9vbCB7XG5cbiAgICBwcml2YXRlIGtleVRvSW5kZXg6e1trZXk6c3RyaW5nXTogbnVtYmVyfTtcbiAgICBwcml2YXRlIGluZGV4VG9LZXk6e1tpbmRleDpudW1iZXJdOiBzdHJpbmd9O1xuICAgIHByaXZhdGUgeEF4aXNWYWx1ZVRvTGFiZWw6e1t2YWx1ZTpudW1iZXJdOiBzdHJpbmd9O1xuICAgIHByaXZhdGUgeUF4aXNWYWx1ZVRvTGFiZWw6e1t2YWx1ZTpudW1iZXJdOiBzdHJpbmd9O1xuICAgIHByb3RlY3RlZCBjaGFydDpDaGFydEFQSTtcbiAgICBwcml2YXRlIGRhdGFYVHlwZTpzdHJpbmc7XG4gICAgcHJpdmF0ZSBkYXRhWVR5cGU6c3RyaW5nO1xuICAgIHByaXZhdGUgbnVtZXJpY1JlY29yZHM6UmVjb3JkW107XG4gICAgcHJpdmF0ZSBzdHJpbmdSZWNvcmRzOlJlY29yZFtdO1xuICAgIHByaXZhdGUgbm9ybWFsaXplZFJlY29yZHM6UmVjb3JkW107XG4gICAgcHJpdmF0ZSByZWNvcmRzOlJlY29yZFtdW107XG5cbiAgICBwcm90ZWN0ZWQgcGF0aHM6SVNjYXR0ZXJwbG90UGF0aHM7XG4gICAgcHJpdmF0ZSBwbG90dGVyU3RhdGU6YW55O1xuICAgIHByaXZhdGUgbm9ybWFsaXplZFBvaW50U2l6ZXM6bnVtYmVyW107XG5cbiAgICBwcml2YXRlIGZsYWc6Ym9vbGVhbjtcblxuICAgIHByb3RlY3RlZCBjM0NvbmZpZzpDaGFydENvbmZpZ3VyYXRpb247XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczpJVmlzVG9vbFByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5rZXlUb0luZGV4ID0ge307XG4gICAgICAgIHRoaXMuaW5kZXhUb0tleSA9IHt9O1xuICAgICAgICB0aGlzLnlBeGlzVmFsdWVUb0xhYmVsID0ge307XG4gICAgICAgIHRoaXMueEF4aXNWYWx1ZVRvTGFiZWwgPSB7fTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaGFuZGxlTWlzc2luZ1Nlc3Npb25TdGF0ZVByb3BlcnRpZXMobmV3U3RhdGU6YW55KVxuXHR7XG5cblx0fVxuXG4gICAgcHJpdmF0ZSBub3JtYWxpemVSZWNvcmRzIChyZWNvcmRzOlJlY29yZFtdLCBhdHRyaWJ1dGVzOnN0cmluZ1tdKTphbnlbXSB7XG5cbiAgICAgICAgLy8gdG8gYXZvaWQgY29tcHV0aW5nIHRoZSBzdGF0cyBhdCBlYWNoIGl0ZXJhdGlvbi5cbiAgICAgICAgdmFyIGNvbHVtblN0YXRzQ2FjaGU6e1thdHRyaWJ1dGU6c3RyaW5nXTpJQ29sdW1uU3RhdHN9ID0ge307XG4gICAgICAgIGF0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbihhdHRyOnN0cmluZykge1xuICAgICAgICAgICAgY29sdW1uU3RhdHNDYWNoZVthdHRyXSA9IHtcbiAgICAgICAgICAgICAgICBtaW46IF8ubWluKF8ucGx1Y2socmVjb3JkcywgYXR0cikpLFxuICAgICAgICAgICAgICAgIG1heDogXy5tYXgoXy5wbHVjayhyZWNvcmRzLCBhdHRyKSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZWNvcmRzLm1hcChmdW5jdGlvbihyZWNvcmQ6YW55KSB7XG5cbiAgICAgICAgICAgIHZhciBvYmo6YW55ID0ge307XG5cbiAgICAgICAgICAgIGF0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbihhdHRyOnN0cmluZykge1xuICAgICAgICAgICAgICAgIHZhciBtaW46bnVtYmVyID0gY29sdW1uU3RhdHNDYWNoZVthdHRyXS5taW47XG4gICAgICAgICAgICAgICAgdmFyIG1heDpudW1iZXIgPSBjb2x1bW5TdGF0c0NhY2hlW2F0dHJdLm1heDtcblxuICAgICAgICAgICAgICAgIGlmKCFtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZihtYXggLSBtaW4gPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYocmVjb3JkW2F0dHJdKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCAocmVjb3JkW2F0dHJdIC0gbWluKSAvIChtYXggLSBtaW4pKTtcbiAgICAgICAgICAgICAgICAgICAgb2JqW2F0dHJdID0gKHJlY29yZFthdHRyXSAtIG1pbikgLyAobWF4IC0gbWluKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiBhbnkgb2YgdGhlIHZhbHVlIGFib3ZlIGlzIG51bGwgdGhlblxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBjYW4ndCBub3JtYWxpemVcbiAgICAgICAgICAgICAgICAgICAgb2JqW2F0dHJdID0gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbWlycm9yVmVydGljYWwoKSB7XG4gICAgICAgIHZhciB0ZW1wOnN0cmluZyA9IFwieVwiO1xuICAgICAgICBpZih0aGlzLmMzQ29uZmlnLmF4aXMueS5zaG93ID09IHRydWUpe1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkyLnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5kYXRhLmF4ZXMgPSB7W3RlbXBdOid5Mid9O1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkyLmxhYmVsID0gdGhpcy5jM0NvbmZpZy5heGlzLnkubGFiZWw7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkuc2hvdyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueTIuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5kYXRhLmF4ZXMgPSB7W3RlbXBdOid5J307XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueS5sYWJlbCA9IHRoaXMuYzNDb25maWcuYXhpcy55Mi5sYWJlbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRhdGFDaGFuZ2VkKCk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGJ1c3k6bnVtYmVyO1xuICAgIHByaXZhdGUgIGF4aXNDaGFuZ2VkKCk6dm9pZCB7XG4gICAgICAgIGlmKHRoaXMuYnVzeSkge1xuICAgICAgICAgICAgdGhpcy5idXN5Kys7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLmMzQ29uZmlnLmF4aXMueS5zaG93KXtcbiAgICAgICAgICAgIHRoaXMuY2hhcnQuYXhpcy5sYWJlbHMoe1xuICAgICAgICAgICAgICAgIHg6IHRoaXMucGF0aHMueEF4aXMuZ2V0U3RhdGUoXCJvdmVycmlkZUF4aXNOYW1lXCIpIHx8IHRoaXMucGF0aHMuZGF0YVguZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ3RpdGxlJyksXG4gICAgICAgICAgICAgICAgeTogdGhpcy5wYXRocy55QXhpcy5nZXRTdGF0ZShcIm92ZXJyaWRlQXhpc05hbWVcIikgfHwgdGhpcy5wYXRocy5kYXRhWS5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgndGl0bGUnKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5jaGFydC5heGlzLmxhYmVscyh7XG4gICAgICAgICAgICAgICAgeDogdGhpcy5wYXRocy54QXhpcy5nZXRTdGF0ZShcIm92ZXJyaWRlQXhpc05hbWVcIikgfHwgdGhpcy5wYXRocy5kYXRhWC5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgndGl0bGUnKSxcbiAgICAgICAgICAgICAgICB5MjogdGhpcy5wYXRocy55QXhpcy5nZXRTdGF0ZShcIm92ZXJyaWRlQXhpc05hbWVcIikgfHwgdGhpcy5wYXRocy5kYXRhWS5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgndGl0bGUnKVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmF4aXNMYWJlbHNDaGFuZ2VkKCk7XG4gICAgICAgIHRoaXMuZ2VuZXJhdGUoKTtcblxuICAgIH1cblxuICAgIHByaXZhdGUgYXhpc0xhYmVsc0NoYW5nZWQoKTp2b2lkIHtcbiAgICAgICAgdmFyIGNoYXJ0V2lkdGg6bnVtYmVyID0gdGhpcy5jaGFydC5pbnRlcm5hbC53aWR0aDtcbiAgICAgICAgdmFyIHRleHRIZWlnaHQ6bnVtYmVyID0gU3RhbmRhcmRMaWIuZ2V0VGV4dEhlaWdodChcInRlc3RcIiwgXCIxNHB0IEhlbHZldGljYSBOZXVlXCIpO1xuICAgICAgICB2YXIgeExhYmVsc1RvU2hvdzpudW1iZXIgPSBNYXRoLmZsb29yKGNoYXJ0V2lkdGggLyB0ZXh0SGVpZ2h0KTtcbiAgICAgICAgeExhYmVsc1RvU2hvdyA9IE1hdGgubWF4KDIseExhYmVsc1RvU2hvdyk7XG5cbiAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLngudGljay5jdWxsaW5nID0ge21heDogeExhYmVsc1RvU2hvd307XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkYXRhQ2hhbmdlZCgpIHtcbiAgICAgICAgaWYodGhpcy5idXN5KSB7XG4gICAgICAgICAgICB0aGlzLmJ1c3krKztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBudW1lcmljTWFwcGluZzphbnkgPSB7XG4gICAgICAgICAgICBwb2ludDoge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMucGF0aHMuZGF0YVgsXG4gICAgICAgICAgICAgICAgeTogdGhpcy5wYXRocy5kYXRhWVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpemU6IHRoaXMucGF0aHMuc2l6ZUJ5XG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IHN0cmluZ01hcHBpbmc6YW55ID0ge1xuICAgICAgICAgICAgcG9pbnQ6IHtcbiAgICAgICAgICAgICAgICB4OiB0aGlzLnBhdGhzLmRhdGFYLFxuICAgICAgICAgICAgICAgIHk6IHRoaXMucGF0aHMuZGF0YVlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaWxsOiB7XG4gICAgICAgICAgICAgICAgLy9hbHBoYTogdGhpcy5fZmlsbFN0eWxlUGF0aC5wdXNoKFwiYWxwaGFcIiksXG4gICAgICAgICAgICAgICAgY29sb3I6IHRoaXMucGF0aHMuZmlsbC5wdXNoKFwiY29sb3JcIilcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaW5lOiB7XG4gICAgICAgICAgICAgICAgLy9hbHBoYTogdGhpcy5fbGluZVN0eWxlUGF0aC5wdXNoKFwiYWxwaGFcIiksXG4gICAgICAgICAgICAgICAgY29sb3I6IHRoaXMucGF0aHMubGluZS5wdXNoKFwiY29sb3JcIilcbiAgICAgICAgICAgICAgICAvL2NhcHM6IHRoaXMuX2xpbmVTdHlsZVBhdGgucHVzaChcImNhcHNcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmRhdGFYVHlwZSA9IHRoaXMucGF0aHMuZGF0YVguZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ2RhdGFUeXBlJyk7XG4gICAgICAgIHRoaXMuZGF0YVlUeXBlID0gdGhpcy5wYXRocy5kYXRhWS5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgnZGF0YVR5cGUnKTtcblxuICAgICAgICB0aGlzLm51bWVyaWNSZWNvcmRzID0gdGhpcy5wYXRocy5wbG90dGVyLnJldHJpZXZlUmVjb3JkcyhudW1lcmljTWFwcGluZywge2tleVNldDogdGhpcy5wYXRocy5maWx0ZXJlZEtleVNldCwgZGF0YVR5cGU6IFwibnVtYmVyXCJ9KTtcbiAgICAgICAgdGhpcy5zdHJpbmdSZWNvcmRzID0gdGhpcy5wYXRocy5wbG90dGVyLnJldHJpZXZlUmVjb3JkcyhzdHJpbmdNYXBwaW5nLCB7a2V5U2V0OiB0aGlzLnBhdGhzLmZpbHRlcmVkS2V5U2V0LCBkYXRhVHlwZTogXCJzdHJpbmdcIn0pO1xuXG4gICAgICAgIHRoaXMucmVjb3JkcyA9IF8uemlwKHRoaXMubnVtZXJpY1JlY29yZHMsIHRoaXMuc3RyaW5nUmVjb3Jkcyk7XG4gICAgICAgIHRoaXMucmVjb3JkcyA9IF8uc29ydEJ5T3JkZXIodGhpcy5yZWNvcmRzLCBbXCJzaXplXCIsIFwiaWRcIl0sIFtcImRlc2NcIiwgXCJhc2NcIl0pO1xuXG4gICAgICAgIGlmKHRoaXMuYzNDb25maWcuYXhpcy55LnNob3cgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb3JkcyA9IHRoaXMucmVjb3Jkcy5yZXZlcnNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLnJlY29yZHMubGVuZ3RoKVxuICAgICAgICAgICAgW3RoaXMubnVtZXJpY1JlY29yZHMsIHRoaXMuc3RyaW5nUmVjb3Jkc10gPSBfLnVuemlwKHRoaXMucmVjb3Jkcyk7XG5cbiAgICAgICAgdGhpcy5rZXlUb0luZGV4ID0ge307XG4gICAgICAgIHRoaXMuaW5kZXhUb0tleSA9IHt9O1xuICAgICAgICB0aGlzLnlBeGlzVmFsdWVUb0xhYmVsID0ge307XG4gICAgICAgIHRoaXMueEF4aXNWYWx1ZVRvTGFiZWwgPSB7fTtcblxuICAgICAgICB0aGlzLm51bWVyaWNSZWNvcmRzLmZvckVhY2goKHJlY29yZDpSZWNvcmQsIGluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5rZXlUb0luZGV4W3JlY29yZFtcImlkXCJdIGFzIHN0cmluZ10gPSBpbmRleDtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhUb0tleVtpbmRleF0gPSByZWNvcmRbXCJpZFwiXSBhcyBzdHJpbmc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc3RyaW5nUmVjb3Jkcy5mb3JFYWNoKChyZWNvcmQ6YW55LCBpbmRleDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMueEF4aXNWYWx1ZVRvTGFiZWxbKHRoaXMubnVtZXJpY1JlY29yZHNbaW5kZXhdW1wicG9pbnRcIl0gYXMgUmVjb3JkKVtcInhcIl0gYXMgbnVtYmVyXSA9IChyZWNvcmRbXCJwb2ludFwiXSBhcyBSZWNvcmQpW1wieFwiXSBhcyBzdHJpbmc7XG4gICAgICAgICAgICB0aGlzLnlBeGlzVmFsdWVUb0xhYmVsWyh0aGlzLm51bWVyaWNSZWNvcmRzW2luZGV4XVtcInBvaW50XCJdIGFzIFJlY29yZClbXCJ5XCJdIGFzIG51bWJlcl0gPSAocmVjb3JkW1wicG9pbnRcIl0gYXMgUmVjb3JkKVtcInlcIl0gYXMgc3RyaW5nO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm5vcm1hbGl6ZWRSZWNvcmRzID0gdGhpcy5ub3JtYWxpemVSZWNvcmRzKHRoaXMubnVtZXJpY1JlY29yZHMsIFtcInNpemVcIl0pO1xuICAgICAgICB0aGlzLnBsb3R0ZXJTdGF0ZSA9IHRoaXMucGF0aHMucGxvdHRlci5nZXRVbnR5cGVkU3RhdGUgPyB0aGlzLnBhdGhzLnBsb3R0ZXIuZ2V0VW50eXBlZFN0YXRlKCkgOiB0aGlzLnBhdGhzLnBsb3R0ZXIuZ2V0U3RhdGUoKTtcbiAgICAgICAgdGhpcy5ub3JtYWxpemVkUG9pbnRTaXplcyA9IHRoaXMubm9ybWFsaXplZFJlY29yZHMubWFwKChub3JtYWxpemVkUmVjb3JkOlJlY29yZCkgPT4ge1xuICAgICAgICAgICAgaWYodGhpcy5wbG90dGVyU3RhdGUgJiYgdGhpcy5wbG90dGVyU3RhdGUuc2l6ZUJ5KSB7XG4gICAgICAgICAgICAgICAgbGV0IG1pblNjcmVlblJhZGl1cyA9IHRoaXMucGxvdHRlclN0YXRlLm1pblNjcmVlblJhZGl1cztcbiAgICAgICAgICAgICAgICBsZXQgbWF4U2NyZWVuUmFkaXVzID0gdGhpcy5wbG90dGVyU3RhdGUubWF4U2NyZWVuUmFkaXVzO1xuICAgICAgICAgICAgICAgIHJldHVybiAobm9ybWFsaXplZFJlY29yZCAmJiBub3JtYWxpemVkUmVjb3JkW1wic2l6ZVwiXSA/XG4gICAgICAgICAgICAgICAgICAgIG1pblNjcmVlblJhZGl1cyArIG5vcm1hbGl6ZWRSZWNvcmRbXCJzaXplXCJdIGFzIG51bWJlciAqIChtYXhTY3JlZW5SYWRpdXMgLSBtaW5TY3JlZW5SYWRpdXMpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxvdHRlclN0YXRlLmRlZmF1bHRTY3JlZW5SYWRpdXMpIHx8IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMucGxvdHRlclN0YXRlLmRlZmF1bHRTY3JlZW5SYWRpdXMpIHx8IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYXhpc0NoYW5nZWQoKTtcbiAgICAgICAgdGhpcy5idXN5ID0gMTtcblxuICAgICAgICB0aGlzLmdlbmVyYXRlKCk7XG4gICAgfVxuXG4gICAgaGFuZGxlQ2xpY2soZXZlbnQ6TW91c2VFdmVudCk6dm9pZCB7XG4gICAgICAgIGlmKCF0aGlzLmZsYWcpIHtcbiAgICAgICAgICAgIHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5zZXRLZXlzKFtdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsYWcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB1cGRhdGVTdHlsZSgpXG4gICAge1xuICAgIFx0aWYgKCF0aGlzLmNoYXJ0KVxuICAgIFx0XHRyZXR1cm47XG4gICAgXHRcbiAgICAgICAgZDMuc2VsZWN0KHRoaXMuZWxlbWVudClcblx0ICAgICAgICAuc2VsZWN0QWxsKFwiY2lyY2xlXCIpXG5cdCAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKVxuICAgICAgICAgICAgLnN0eWxlKFwic3Ryb2tlXCIsIFwiYmxhY2tcIilcbiAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZS1vcGFjaXR5XCIsIDAuMCk7XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkS2V5czpzdHJpbmdbXSA9IHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5nZXRLZXlzKCk7XG4gICAgICAgIHZhciBwcm9iZWRLZXlzOnN0cmluZ1tdID0gdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuZ2V0S2V5cygpO1xuICAgICAgICB2YXIgc2VsZWN0ZWRJbmRpY2VzOm51bWJlcltdID0gc2VsZWN0ZWRLZXlzLm1hcCgoa2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcih0aGlzLmtleVRvSW5kZXhba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcHJvYmVkSW5kaWNlczpudW1iZXJbXSA9IHByb2JlZEtleXMubWFwKChrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgIHJldHVybiBOdW1iZXIodGhpcy5rZXlUb0luZGV4W2tleV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGtleXM6c3RyaW5nW10gPSBPYmplY3Qua2V5cyh0aGlzLmtleVRvSW5kZXgpO1xuICAgICAgICB2YXIgaW5kaWNlczpudW1iZXJbXSA9IGtleXMubWFwKChrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMua2V5VG9JbmRleFtrZXldKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHVuc2VsZWN0ZWRJbmRpY2VzOm51bWJlcltdID0gXy5kaWZmZXJlbmNlKGluZGljZXMsIHNlbGVjdGVkSW5kaWNlcyk7XG4gICAgICAgIHVuc2VsZWN0ZWRJbmRpY2VzID0gXy5kaWZmZXJlbmNlKHVuc2VsZWN0ZWRJbmRpY2VzLHByb2JlZEluZGljZXMpO1xuICAgICAgICBpZiAocHJvYmVkSW5kaWNlcy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY3VzdG9tU3R5bGUocHJvYmVkSW5kaWNlcywgXCJjaXJjbGVcIiwgXCIuYzMtc2hhcGVcIiwge29wYWNpdHk6MS4wLCBcInN0cm9rZS1vcGFjaXR5XCI6IDAuMH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3RlZEluZGljZXMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1c3RvbVN0eWxlKHVuc2VsZWN0ZWRJbmRpY2VzLCBcImNpcmNsZVwiLCBcIi5jMy1zaGFwZVwiLCB7b3BhY2l0eTogMC4zLCBcInN0cm9rZS1vcGFjaXR5XCI6IDAuMH0pO1xuICAgICAgICAgICAgdGhpcy5jdXN0b21TdHlsZShzZWxlY3RlZEluZGljZXMsIFwiY2lyY2xlXCIsIFwiLmMzLXNoYXBlXCIsIHtvcGFjaXR5OiAxLjAsIFwic3Ryb2tlLW9wYWNpdHlcIjogMS4wfSk7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0LnNlbGVjdChbXCJ5XCJdLCBzZWxlY3RlZEluZGljZXMsIHRydWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFwcm9iZWRJbmRpY2VzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jdXN0b21TdHlsZShpbmRpY2VzLCBcImNpcmNsZVwiLCBcIi5jMy1zaGFwZVwiLCB7b3BhY2l0eTogMS4wLCBcInN0cm9rZS1vcGFjaXR5XCI6IDAuMH0pO1xuICAgICAgICAgICAgdGhpcy5jaGFydC5zZWxlY3QoW1wieVwiXSwgW10sIHRydWUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2VuZXJhdGUoKSB7XG4gICAgICAgIHRoaXMuY2hhcnQgPSBnZW5lcmF0ZSh0aGlzLmMzQ29uZmlnKTtcbiAgICAgICAgdGhpcy5jaGFydC5sb2FkKHtkYXRhOiBfLnBsdWNrKHRoaXMubnVtZXJpY1JlY29yZHMsIFwicG9pbnRcIiksIHVubG9hZDogdHJ1ZSwgZG9uZTogKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuYnVzeSA+IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1c3kgPSAwO1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5nZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVzeSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH19KTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgICAgIC8vY29uc29sZS5sb2coXCJyZXNpemluZ1wiKTtcbiAgICAgICAgLy92YXIgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgICBpZih0aGlzLmMzQ29uZmlnLnNpemUud2lkdGggIT0gdGhpcy5wcm9wcy5zdHlsZS53aWR0aCB8fCB0aGlzLmMzQ29uZmlnLnNpemUuaGVpZ2h0ICE9IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueC5oZWlnaHQgPSB0aGlzLnByb3BzLnN0eWxlLmhlaWdodCAqIDAuMjtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuc2l6ZSA9IHt3aWR0aDogdGhpcy5wcm9wcy5zdHlsZS53aWR0aCwgaGVpZ2h0OiB0aGlzLnByb3BzLnN0eWxlLmhlaWdodH07XG4gICAgICAgICAgICB0aGlzLmNoYXJ0ID0gZ2VuZXJhdGUodGhpcy5jM0NvbmZpZyk7XG4gICAgICAgICAgICB0aGlzLmF4aXNDaGFuZ2VkKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy92YXIgZW5kID0gRGF0ZS5ub3coKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgLyogQ2xlYW51cCBjYWxsYmFja3MgKi9cbiAgICAgICAgLy90aGlzLnRlYXJkb3duQ2FsbGJhY2tzKCk7XG4gICAgICAgIHRoaXMuY2hhcnQuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgIHZhciBheGlzQ2hhbmdlZCA9IHRoaXMuYXhpc0NoYW5nZWQuYmluZCh0aGlzKTtcbiAgICAgICAgdmFyIGRhdGFDaGFuZ2VkID0gdGhpcy5kYXRhQ2hhbmdlZC5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHZhciBwbG90dGVyUGF0aCA9IHRoaXMudG9vbFBhdGgucHVzaFBsb3R0ZXIoXCJwbG90XCIpO1xuICAgICAgICB2YXIgbWFwcGluZyA9IFtcbiAgICAgICAgICAgIHsgbmFtZTogXCJwbG90dGVyXCIsIHBhdGg6IHBsb3R0ZXJQYXRoLCBjYWxsYmFja3M6IGRhdGFDaGFuZ2VkfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJkYXRhWFwiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwiZGF0YVhcIiksIGNhbGxiYWNrczogW2RhdGFDaGFuZ2VkLCBheGlzQ2hhbmdlZF0gfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJkYXRhWVwiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwiZGF0YVlcIiksIGNhbGxiYWNrczogW2RhdGFDaGFuZ2VkLCBheGlzQ2hhbmdlZF0gfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJzaXplQnlcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcInNpemVCeVwiKSwgY2FsbGJhY2tzOiBkYXRhQ2hhbmdlZCB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcImZpbGxcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImZpbGxcIiksIGNhbGxiYWNrczogW2RhdGFDaGFuZ2VkXSB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcImxpbmVcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImxpbmVcIiksIGNhbGxiYWNrczogZGF0YUNoYW5nZWQgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJ4QXhpc1wiLCBwYXRoOiB0aGlzLnRvb2xQYXRoLnB1c2hQbG90dGVyKFwieEF4aXNcIiksIGNhbGxiYWNrczogYXhpc0NoYW5nZWQgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJ5QXhpc1wiLCBwYXRoOiB0aGlzLnRvb2xQYXRoLnB1c2hQbG90dGVyKFwieUF4aXNcIiksIGNhbGxiYWNrczogYXhpc0NoYW5nZWQgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJmaWx0ZXJlZEtleVNldFwiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwiZmlsdGVyZWRLZXlTZXRcIiksIGNhbGxiYWNrczogZGF0YUNoYW5nZWQgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJzZWxlY3Rpb25LZXlTZXRcIiwgcGF0aDogdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LCBjYWxsYmFja3M6IHRoaXMudXBkYXRlU3R5bGUgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJwcm9iZUtleVNldFwiLCBwYXRoOiB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldCwgY2FsbGJhY2tzOiB0aGlzLnVwZGF0ZVN0eWxlIH1cbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLmluaXRpYWxpemVQYXRocyhtYXBwaW5nKTtcblxuICAgICAgICB0aGlzLnBhdGhzLmZpbHRlcmVkS2V5U2V0LmdldE9iamVjdCgpLnNldENvbHVtbktleVNvdXJjZXMoW3RoaXMucGF0aHMuZGF0YVguZ2V0T2JqZWN0KCksIHRoaXMucGF0aHMuZGF0YVkuZ2V0T2JqZWN0KCldKTtcblxuICAgICAgICB0aGlzLmMzQ29uZmlnID0ge1xuICAgICAgICAgICAgc2l6ZToge1xuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5wcm9wcy5zdHlsZS5oZWlnaHQsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMucHJvcHMuc3R5bGUud2lkdGhcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBiaW5kdG86IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgIHBhZGRpbmc6IHtcbiAgICAgICAgICAgICAgICB0b3A6IDIwLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogMjBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgcm93czogW10sXG4gICAgICAgICAgICAgICAgeDogXCJ4XCIsXG4gICAgICAgICAgICAgICAgeFNvcnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwic2NhdHRlclwiLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjb2xvcjogKGNvbG9yOnN0cmluZywgZDphbnkpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RyaW5nUmVjb3JkcyAmJiBkLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluZCB0aGUgY29ycmVzcG9uZGluZyBpbmRleCBvZiBudW1lcmljUmVjb3JkcyBpbiBzdHJpbmdSZWNvcmRzXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQ6c3RyaW5nID0gdGhpcy5pbmRleFRvS2V5W2QuaW5kZXggYXMgbnVtYmVyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleDpudW1iZXIgPSBfLnBsdWNrKHRoaXMuc3RyaW5nUmVjb3JkcywgXCJpZFwiKS5pbmRleE9mKGlkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlY29yZDpSZWNvcmQgPSB0aGlzLnN0cmluZ1JlY29yZHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChyZWNvcmQgJiYgcmVjb3JkW1wiZmlsbFwiXSAmJiAocmVjb3JkW1wiZmlsbFwiXSBhcyBSZWNvcmQpW1wiY29sb3JcIl0pID8gKHJlY29yZFtcImZpbGxcIl0gYXMgUmVjb3JkKVtcImNvbG9yXCJdIGFzIHN0cmluZyA6IFwiIzAwMDAwMFwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIiMwMDAwMDBcIjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uY2xpY2s6IChkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQ6TW91c2VFdmVudCA9ICh0aGlzLmNoYXJ0LmludGVybmFsLmQzKS5ldmVudCBhcyBNb3VzZUV2ZW50O1xuICAgICAgICAgICAgICAgICAgICBpZighKGV2ZW50LmN0cmxLZXl8fGV2ZW50Lm1ldGFLZXkpICYmIGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQuc2V0S2V5cyhbdGhpcy5pbmRleFRvS2V5W2QuaW5kZXhdXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uc2VsZWN0ZWQ6IChkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZihkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LmFkZEtleXMoW3RoaXMuaW5kZXhUb0tleVtkLmluZGV4XV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbnVuc2VsZWN0ZWQ6IChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmKGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQucmVtb3ZlS2V5cyhbdGhpcy5pbmRleFRvS2V5W2QuaW5kZXhdXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9ubW91c2VvdmVyOiAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuc2V0S2V5cyhbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uTmFtZXNUb1ZhbHVlOntbY29sdW1uTmFtZTpzdHJpbmddIDogc3RyaW5nfG51bWJlciB9ID0ge307XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeFZhbHVlOm51bWJlciA9IHRoaXMubnVtZXJpY1JlY29yZHNbZC5pbmRleF1bXCJwb2ludFwiXVtcInhcIl07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih4VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5OYW1lc1RvVmFsdWVbdGhpcy5wYXRocy5kYXRhWC5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgndGl0bGUnKV0gPSB4VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB5VmFsdWU6bnVtYmVyID0gdGhpcy5udW1lcmljUmVjb3Jkc1tkLmluZGV4XVtcInBvaW50XCJdW1wieVwiXVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoeVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uTmFtZXNUb1ZhbHVlW3RoaXMucGF0aHMuZGF0YVkuZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ3RpdGxlJyldID0geVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZUJ5VmFsdWU6bnVtYmVyID0gdGhpcy5udW1lcmljUmVjb3Jkc1tkLmluZGV4XVtcInNpemVcIl0gYXMgbnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2l6ZUJ5VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5OYW1lc1RvVmFsdWVbdGhpcy5wYXRocy5zaXplQnkuZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ3RpdGxlJyldID0gIHNpemVCeVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuc2V0S2V5cyhbdGhpcy5pbmRleFRvS2V5W2QuaW5kZXhdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnRvb2xUaXAuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IHRoaXMuY2hhcnQuaW50ZXJuYWwuZDMuZXZlbnQucGFnZVgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeTogdGhpcy5jaGFydC5pbnRlcm5hbC5kMy5ldmVudC5wYWdlWSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93VG9vbFRpcDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5OYW1lc1RvVmFsdWU6IGNvbHVtbk5hbWVzVG9WYWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9ubW91c2VvdXQ6IChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldC5zZXRLZXlzKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudG9vbFRpcC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1Rvb2xUaXA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsZWdlbmQ6IHtcbiAgICAgICAgICAgICAgICBzaG93OiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF4aXM6IHtcbiAgICAgICAgICAgICAgICB4OiB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwib3V0ZXItY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGljazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAobnVtOm51bWJlcik6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnBhdGhzLmRhdGFYICYmIHRoaXMueEF4aXNWYWx1ZVRvTGFiZWwgJiYgdGhpcy5kYXRhWFR5cGUgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMueEF4aXNWYWx1ZVRvTGFiZWxbbnVtXSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcoRm9ybWF0VXRpbHMuZGVmYXVsdE51bWJlckZvcm1hdHRpbmcobnVtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZTogLTQ1LFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VsbGluZzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heDogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpdDogZmFsc2UvLyxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vZm9ybWF0OiAobnVtOm51bWJlcik6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIGlmKHRoaXMuc3RyaW5nUmVjb3JkcyAmJiB0aGlzLnN0cmluZ1JlY29yZHNbbnVtXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIGlmKHRoaXMuZWxlbWVudCAmJiB0aGlzLmdldEVsZW1lbnRTaXplKCkuaGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICB2YXIgbGFiZWxIZWlnaHQ6bnVtYmVyID0gKHRoaXMuZ2V0RWxlbWVudFNpemUoKS5oZWlnaHQqIDAuMikvTWF0aC5jb3MoNDUqKE1hdGguUEkvMTgwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIHZhciBsYWJlbFN0cmluZzpzdHJpbmcgPSAodGhpcy5zdHJpbmdSZWNvcmRzW251bV1bXCJ4TGFiZWxcIl0gYXMgc3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgaWYobGFiZWxTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHZhciBzdHJpbmdTaXplOm51bWJlciA9IFN0YW5kYXJkTGliLmdldFRleHRXaWR0aChsYWJlbFN0cmluZywgXCIxNHB0IEhlbHZldGljYSBOZXVlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgdmFyIGFkanVzdG1lbnRDaGFyYWN0ZXJzOm51bWJlciA9IGxhYmVsU3RyaW5nLmxlbmd0aCAtIE1hdGguZmxvb3IobGFiZWxTdHJpbmcubGVuZ3RoICogKGxhYmVsSGVpZ2h0IC8gc3RyaW5nU2l6ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgcmV0dXJuIGFkanVzdG1lbnRDaGFyYWN0ZXJzID4gMCA/IGxhYmVsU3RyaW5nLnN1YnN0cmluZygwLCBsYWJlbFN0cmluZy5sZW5ndGggLSBhZGp1c3RtZW50Q2hhcmFjdGVycyAtIDMpICsgXCIuLi5cIiA6IGxhYmVsU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdSZWNvcmRzW251bV1bXCJ4TGFiZWxcIl0gYXMgc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeToge1xuICAgICAgICAgICAgICAgICAgICBzaG93OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcIm91dGVyLW1pZGRsZVwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogKG51bTpudW1iZXIpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5wYXRocy5kYXRhWSAmJiB0aGlzLnlBeGlzVmFsdWVUb0xhYmVsICYmIHRoaXMuZGF0YVlUeXBlICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnlBeGlzVmFsdWVUb0xhYmVsW251bV0gfHwgXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKEZvcm1hdFV0aWxzLmRlZmF1bHROdW1iZXJGb3JtYXR0aW5nKG51bSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeTI6IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwib3V0ZXItbWlkZGxlXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGljazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAobnVtOm51bWJlcik6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnBhdGhzLmRhdGFZICYmIHRoaXMueUF4aXNWYWx1ZVRvTGFiZWwgJiYgdGhpcy5kYXRhWVR5cGUgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMueUF4aXNWYWx1ZVRvTGFiZWxbbnVtXSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcoRm9ybWF0VXRpbHMuZGVmYXVsdE51bWJlckZvcm1hdHRpbmcobnVtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdyaWQ6IHtcbiAgICAgICAgICAgICAgICB4OiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHk6IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAobnVtOm51bWJlcik6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdGhzLnhBeGlzLmdldFN0YXRlKFwib3ZlcnJpZGVBeGlzTmFtZVwiKSB8fCB0aGlzLnBhdGhzLmRhdGFYLmdldE9iamVjdCgpLmdldE1ldGFkYXRhKCd0aXRsZScpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAobmFtZTpzdHJpbmcsIHJhdGlvOm51bWJlciwgaWQ6c3RyaW5nLCBpbmRleDpudW1iZXIpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRocy55QXhpcy5nZXRTdGF0ZShcIm92ZXJyaWRlQXhpc05hbWVcIikgfHwgdGhpcy5wYXRocy5kYXRhWS5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgndGl0bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2hvdzogZmFsc2VcbiAgICAgICAgICAgICAgICAvL2NvbnRlbnRzOiAoZDphbnksIGRlZmF1bHRUaXRsZUZvcm1hdDpzdHJpbmcsIGRlZmF1bHRWYWx1ZUZvcm1hdDpzdHJpbmcsIGNvbG9yOmFueSk6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdmFyICQkID0gdGhpcy5jaGFydC5pbnRlcm5hbCwgY29uZmlnID0gJCQuY29uZmlnLFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGl0bGVGb3JtYXQgPSBjb25maWcudG9vbHRpcF9mb3JtYXRfdGl0bGUgfHwgZGVmYXVsdFRpdGxlRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgbmFtZUZvcm1hdCA9IGNvbmZpZy50b29sdGlwX2Zvcm1hdF9uYW1lIHx8IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBuYW1lOyB9LFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFsdWVGb3JtYXQgPSBjb25maWcudG9vbHRpcF9mb3JtYXRfdmFsdWUgfHwgZGVmYXVsdFZhbHVlRm9ybWF0LFxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGV4dCwgaSwgdGl0bGUsIHZhbHVlLCBuYW1lO1xuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyBpZihkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFyIGNvbHVtbk5hbWVzVG9WYWx1ZTp7W2NvbHVtbk5hbWU6c3RyaW5nXSA6IHN0cmluZ3xudW1iZXIgfSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFyIHhWYWx1ZTpudW1iZXIgPSB0aGlzLm51bWVyaWNSZWNvcmRzW2RbMF0uaW5kZXhdW1wicG9pbnRcIl1bXCJ4XCJdO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYoeFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgY29sdW1uTmFtZXNUb1ZhbHVlW3RoaXMucGF0aHMuZGF0YVguZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ3RpdGxlJyldID0geFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFyIHlWYWx1ZTpudW1iZXIgPSB0aGlzLm51bWVyaWNSZWNvcmRzW2RbMF0uaW5kZXhdW1wicG9pbnRcIl1bXCJ5XCJdXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICBpZih5VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBjb2x1bW5OYW1lc1RvVmFsdWVbdGhpcy5wYXRocy5kYXRhWS5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgndGl0bGUnKV0gPSB5VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICB2YXIgc2l6ZUJ5VmFsdWU6bnVtYmVyID0gdGhpcy5udW1lcmljUmVjb3Jkc1tkWzBdLmluZGV4XVtcInNpemVcIl0gYXMgbnVtYmVyO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYoc2l6ZUJ5VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICBjb2x1bW5OYW1lc1RvVmFsdWVbdGhpcy5wYXRocy5zaXplQnkuZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ3RpdGxlJyldID0gIHNpemVCeVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcmV0dXJuIGdldFRvb2x0aXBDb250ZW50KGNvbHVtbk5hbWVzVG9WYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICAgICAgICAvL31cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwb2ludDoge1xuICAgICAgICAgICAgICAgIHI6IChkOmFueSk6bnVtYmVyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5ub3JtYWxpemVkUG9pbnRTaXplc1tkLmluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9ucmVuZGVyZWQ6IHRoaXMudXBkYXRlU3R5bGUuYmluZCh0aGlzKVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy54LmhlaWdodCA9IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0ICogMC4yO1xuXG4gICAgICAgIHRoaXMuY2hhcnQgPSBnZW5lcmF0ZSh0aGlzLmMzQ29uZmlnKTtcbiAgICB9XG59XG5leHBvcnQgZGVmYXVsdCBXZWF2ZUMzU2NhdHRlclBsb3Q7XG5cbnJlZ2lzdGVyVG9vbEltcGxlbWVudGF0aW9uKFwid2VhdmUudmlzdWFsaXphdGlvbi50b29sczo6U2NhdHRlclBsb3RUb29sXCIsIFdlYXZlQzNTY2F0dGVyUGxvdCk7XG4vL1dlYXZlLnJlZ2lzdGVyQ2xhc3MoXCJ3ZWF2ZWpzLnRvb2xzLlNjYXR0ZXJQbG90VG9vbFwiLCBXZWF2ZUMzU2NhdHRlclBsb3QsIFt3ZWF2ZWpzLmFwaS5jb3JlLklMaW5rYWJsZU9iamVjdFdpdGhOZXdQcm9wZXJ0aWVzXSk7XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QtZG9tLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cblxuXG5pbXBvcnQge0lWaXNUb29sLCBJVmlzVG9vbFByb3BzLCBJVmlzVG9vbFN0YXRlfSBmcm9tIFwiLi9JVmlzVG9vbFwiO1xuXG5pbXBvcnQge3JlZ2lzdGVyVG9vbEltcGxlbWVudGF0aW9ufSBmcm9tIFwiLi4vV2VhdmVUb29sXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHtyb3VuZH0gZnJvbSBcImQzXCI7XG5pbXBvcnQgUmVhY3RCb290c3RyYXBUYWJsZSBmcm9tIFwiLi4vcmVhY3QtYm9vdHN0cmFwLWRhdGF0YWJsZS9SZWFjdEJvb3RTdHJhcFRhYmxlXCI7XG5cbmludGVyZmFjZSBJRGF0YVRhYmxlU3RhdGUgZXh0ZW5kcyBJVmlzVG9vbFN0YXRlIHtcbiAgICBkYXRhOntba2V5OnN0cmluZ106IHN0cmluZ31bXVxufVxuXG5jbGFzcyBXZWF2ZVJlYWN0VGFibGUgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SVZpc1Rvb2xQcm9wcywgSURhdGFUYWJsZVN0YXRlPiBpbXBsZW1lbnRzIElWaXNUb29sIHtcblxuICAgIHByaXZhdGUgdG9vbFBhdGg6V2VhdmVQYXRoO1xuICAgIHByaXZhdGUgY29sdW1uc1BhdGg6V2VhdmVQYXRoO1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6SVZpc1Rvb2xQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMudG9vbFBhdGggPSBwcm9wcy50b29sUGF0aDtcbiAgICAgICAgdGhpcy5jb2x1bW5zUGF0aCA9IHRoaXMudG9vbFBhdGgucHVzaChcImNvbHVtbnNcIik7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBkYXRhOiBbXVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBoYW5kbGVNaXNzaW5nU2Vzc2lvblN0YXRlUHJvcGVydGllcyhuZXdTdGF0ZTphbnkpXG5cdHtcblxuXHR9XG5cbiAgICBnZXQgdGl0bGUoKTpzdHJpbmcge1xuICAgICAgIHJldHVybiAodGhpcy50b29sUGF0aC5nZXRUeXBlKCdwYW5lbFRpdGxlJykgPyB0aGlzLnRvb2xQYXRoLmdldFN0YXRlKCdwYW5lbFRpdGxlJykgOiAnJykgfHwgdGhpcy50b29sUGF0aC5nZXRQYXRoKCkucG9wKCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMuY29sdW1uc1BhdGguYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5kYXRhQ2hhbmdlZCwgdHJ1ZSk7XG4gICAgICAgIHRoaXMudG9vbFBhdGgucHVzaChcImZpbHRlcmVkS2V5U2V0XCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMuZGF0YUNoYW5nZWQsIHRydWUpO1xuICAgICAgICB0aGlzLnRvb2xQYXRoLnB1c2goXCJzZWxlY3Rpb25LZXlTZXRcIikuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5mb3JjZVVwZGF0ZSwgdHJ1ZSk7XG4gICAgICAgIHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LmFkZENhbGxiYWNrKHRoaXMsIHRoaXMuZm9yY2VVcGRhdGUsIHRydWUpO1xuXG4gICAgICAgIHRoaXMudG9vbFBhdGguZ2V0T2JqZWN0KFwiZmlsdGVyZWRLZXlTZXRcIikuc2V0Q29sdW1uS2V5U291cmNlcyh0aGlzLnRvb2xQYXRoLmdldE9iamVjdChcImNvbHVtbnNcIikuZ2V0T2JqZWN0cygpKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG5cbiAgICB9XG5cbiAgICBkYXRhQ2hhbmdlZCgpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBkYXRhOiB0aGlzLmNvbHVtbnNQYXRoLnJldHJpZXZlUmVjb3Jkcyh0aGlzLmNvbHVtbnNQYXRoLmdldE5hbWVzKCksIHRoaXMudG9vbFBhdGgucHVzaChcImZpbHRlcmVkS2V5U2V0XCIpKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBjdXN0b21Gb3JtYXQoY2VsbCwgcm93KSB7XG4gICAgLy8gICAgIGlmKHR5cGVvZiBjZWxsID09PSBcIm51bWJlclwiKSB7XG4gICAgLy8gICAgICAgICByZXR1cm4gcm91bmQoY2VsbCwgMilcbiAgICAvLyAgICAgfSBlbHNlIHtcbiAgICAvLyAgICAgICAgIHJldHVybiBjZWxsO1xuICAgIC8vICAgICB9XG4gICAgLy8gfVxuXG4gICAgaGFuZGxlUHJvYmUoaWQ6c3RyaW5nKSB7XG4gICAgICAgIHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LnNldEtleXMoaWQpO1xuICAgIH1cblxuICAgIGhhbmRsZVNlbGVjdGlvbihpZDpzdHJpbmcpIHtcbiAgICAgICAgdGhpcy50b29sUGF0aC5wdXNoKFwic2VsZWN0aW9uS2V5U2V0XCIsIG51bGwpLnNldEtleXMoaWQpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcblxuICAgICAgICB2YXIgY29sdW1uczp7W2NvbHVtbklkOnN0cmluZ106IHN0cmluZ30gPSB7fTtcblxuICAgICAgICBjb2x1bW5zW1wiaWRcIl0gPSBcIktleVwiO1xuXG4gICAgICAgIHRoaXMuY29sdW1uc1BhdGguZ2V0Q2hpbGRyZW4oKS5mb3JFYWNoKChjb2x1bW5QYXRoOldlYXZlUGF0aCkgPT4ge1xuICAgICAgICAgICAgY29sdW1uc1tjb2x1bW5QYXRoLmdldFBhdGgoKS5wb3AoKV0gPSBjb2x1bW5QYXRoLmdldE9iamVjdCgpLmdldE1ldGFkYXRhKCd0aXRsZScpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gPFJlYWN0Qm9vdHN0cmFwVGFibGUgY29sdW1uVGl0bGVzPXtjb2x1bW5zfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17dGhpcy5zdGF0ZS5kYXRhfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRQcm9wZXJ0eT1cImlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD17dGhpcy5wcm9wcy5zdHlsZS5oZWlnaHR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpcGVkPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaG92ZXI9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJlZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmRlbnNlZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSWRzPXt0aGlzLnRvb2xQYXRoLnB1c2goXCJzZWxlY3Rpb25LZXlTZXRcIiwgbnVsbCkuZ2V0S2V5cygpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvYmVkSWRzPXt0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldC5nZXRLZXlzKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblByb2JlPXt0aGlzLmhhbmRsZVByb2JlLmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblNlbGVjdGlvbj17dGhpcy5oYW5kbGVTZWxlY3Rpb24uYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dJZENvbHVtbj17ZmFsc2V9XG4gICAgICAgICAgICAgICAgLz5cbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdlYXZlUmVhY3RUYWJsZTtcblxucmVnaXN0ZXJUb29sSW1wbGVtZW50YXRpb24oXCJ3ZWF2ZS52aXN1YWxpemF0aW9uLnRvb2xzOjpUYWJsZVRvb2xcIiwgV2VhdmVSZWFjdFRhYmxlKTtcbi8vV2VhdmUucmVnaXN0ZXJDbGFzcyhcIndlYXZlanMudG9vbHMuVGFibGVUb29sXCIsIFdlYXZlUmVhY3RUYWJsZSwgW3dlYXZlanMuYXBpLmNvcmUuSUxpbmthYmxlT2JqZWN0V2l0aE5ld1Byb3BlcnRpZXNdKTtcbiIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC1ib290c3RyYXAvcmVhY3QtYm9vdHN0cmFwLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vdXRpbHMvU3RhbmRhcmRMaWIudHNcIi8+XG5cbmltcG9ydCB7SVZpc1Rvb2xQcm9wcywgSVZpc1Rvb2xTdGF0ZX0gZnJvbSBcIi4vSVZpc1Rvb2xcIjtcbmltcG9ydCB7SVZpc1Rvb2x9IGZyb20gXCIuL0lWaXNUb29sXCI7XG5cbmltcG9ydCB7cmVnaXN0ZXJUb29sSW1wbGVtZW50YXRpb259IGZyb20gXCIuLi9XZWF2ZVRvb2xcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHVpIGZyb20gXCIuLi9yZWFjdC11aS91aVwiO1xuaW1wb3J0IHtMaXN0R3JvdXBJdGVtLCBMaXN0R3JvdXAsIERyb3Bkb3duQnV0dG9uLCBNZW51SXRlbX0gZnJvbSBcInJlYWN0LWJvb3RzdHJhcFwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQge01vdXNlRXZlbnR9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtDU1NQcm9wZXJ0aWVzfSBmcm9tIFwicmVhY3RcIjtcblxuLy9UT0RPOiBUaGlzIGlzIGEgaGFjayB0byBhbGxvdyByZWFjdCB0byBiZSBpbXBvcnRlZCBpbiBnZW5lcmF0ZWQgSlNYLiBXaXRob3V0IHRoaXMsIGltcG9ydCBpcyBtaXNzaW5nIGFuZCByZW5kZXIgZW5jb3VudGVycyBhbiBleGNlcHRpb25cbnZhciBzdHViOmFueSA9IFJlYWN0O1xuY29uc3Qgc2Vzc2lvblN0YXRlTWVudVN0eWxlOkNTU1Byb3BlcnRpZXMgPSB7ZGlzcGxheTpcImZsZXhcIiwgZmxleDoxLCBoZWlnaHQ6XCIxMDAlXCIsIGZsZXhEaXJlY3Rpb246XCJjb2x1bW5cIiwgb3ZlcmZsb3c6XCJhdXRvXCJ9O1xuY29uc3Qgc2Vzc2lvblN0YXRlQ29tYm9Cb3hTdHlsZTpDU1NQcm9wZXJ0aWVzID0ge2Rpc3BsYXk6XCJmbGV4XCIsIGZsZXg6MSwgaGVpZ2h0OlwiMTAwJVwiLCBmbGV4RGlyZWN0aW9uOlwiY29sdW1uXCJ9O1xuXG5jbGFzcyBTZXNzaW9uU3RhdGVNZW51VG9vbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJVmlzVG9vbFByb3BzLCBJVmlzVG9vbFN0YXRlPiB7XG4gICAgcHJpdmF0ZSBjaG9pY2VzOldlYXZlUGF0aDtcbiAgICBwcm90ZWN0ZWQgdG9vbFBhdGg6V2VhdmVQYXRoO1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6SVZpc1Rvb2xQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMudG9vbFBhdGggPSB0aGlzLnByb3BzLnRvb2xQYXRoO1xuICAgICAgICB0aGlzLnRvb2xQYXRoLnB1c2goXCJjaG9pY2VzXCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMuZm9yY2VVcGRhdGUpO1xuICAgICAgICB0aGlzLnRvb2xQYXRoLnB1c2goXCJzZWxlY3RlZENob2ljZVwiKS5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLmZvcmNlVXBkYXRlKTtcbiAgICAgICAgdGhpcy50b29sUGF0aC5wdXNoKFwibGF5b3V0TW9kZVwiKS5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLmZvcmNlVXBkYXRlKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaGFuZGxlTWlzc2luZ1Nlc3Npb25TdGF0ZVByb3BlcnRpZXMobmV3U3RhdGU6YW55KVxuXHR7XG5cblx0fVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgfVxuXG4gICAgaGFuZGxlSXRlbUNsaWNrKGluZGV4Om51bWJlciwgZXZlbnQ6TW91c2VFdmVudCk6dm9pZCB7XG4gICAgICAgIHRoaXMudG9vbFBhdGguc3RhdGUoXCJzZWxlY3RlZENob2ljZVwiLCB0aGlzLmNob2ljZXMuZ2V0TmFtZXMoKVtpbmRleF0pO1xuICAgICAgICB2YXIgdGFyZ2V0czpXZWF2ZVBhdGggPSB0aGlzLnRvb2xQYXRoLnB1c2goXCJ0YXJnZXRzXCIpO1xuICAgICAgICB2YXIgY2hvaWNlOmFueSA9IHRoaXMuY2hvaWNlcy5nZXRTdGF0ZShpbmRleCk7XG4gICAgICAgIHRhcmdldHMuZm9yRWFjaChjaG9pY2UsIGZ1bmN0aW9uICh2YWx1ZTphbnksIGtleTpzdHJpbmcpIHtcbiAgICAgICAgICAgIHRoaXMucHVzaChrZXksIG51bGwpLnN0YXRlKHZhbHVlKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuY2hvaWNlcyA9IHRoaXMudG9vbFBhdGgucHVzaChcImNob2ljZXNcIik7XG4gICAgICAgIHZhciBzZWxlY3RlZENob2ljZTpzdHJpbmcgPSB0aGlzLnRvb2xQYXRoLmdldFN0YXRlKFwic2VsZWN0ZWRDaG9pY2VcIik7XG4gICAgICAgIHZhciBsYXlvdXRNb2RlOnN0cmluZyA9IHRoaXMudG9vbFBhdGguZ2V0U3RhdGUoXCJsYXlvdXRNb2RlXCIpO1xuXG4gICAgICAgIHZhciBtZW51czpKU1guRWxlbWVudFtdID0gdGhpcy5jaG9pY2VzLmdldE5hbWVzKCkubWFwKChjaG9pY2U6c3RyaW5nLCBpbmRleDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGlmKGxheW91dE1vZGUgPT09IFwiQ29tYm9Cb3hcIil7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNob2ljZSA9PT0gc2VsZWN0ZWRDaG9pY2UgPzxNZW51SXRlbSBhY3RpdmUga2V5PXtpbmRleH0gb25TZWxlY3Q9e3RoaXMuaGFuZGxlSXRlbUNsaWNrLmJpbmQodGhpcywgaW5kZXgpfT57Y2hvaWNlfTwvTWVudUl0ZW0+XG4gICAgICAgICAgICAgICAgICAgIDo8TWVudUl0ZW0ga2V5PXtpbmRleH0gb25TZWxlY3Q9e3RoaXMuaGFuZGxlSXRlbUNsaWNrLmJpbmQodGhpcywgaW5kZXgpfT57Y2hvaWNlfTwvTWVudUl0ZW0+O1xuICAgICAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaG9pY2UgPT09IHNlbGVjdGVkQ2hvaWNlID88TGlzdEdyb3VwSXRlbSBhY3RpdmUga2V5PXtpbmRleH0gb25DbGljaz17dGhpcy5oYW5kbGVJdGVtQ2xpY2suYmluZCh0aGlzLCBpbmRleCl9PntjaG9pY2V9PC9MaXN0R3JvdXBJdGVtPlxuICAgICAgICAgICAgICAgICAgICA6PExpc3RHcm91cEl0ZW0ga2V5PXtpbmRleH0gb25DbGljaz17dGhpcy5oYW5kbGVJdGVtQ2xpY2suYmluZCh0aGlzLCBpbmRleCl9PntjaG9pY2V9PC9MaXN0R3JvdXBJdGVtPjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNvbnRhaW5lcjpKU1guRWxlbWVudDtcblxuICAgICAgICBpZihsYXlvdXRNb2RlID09PSBcIkNvbWJvQm94XCIpe1xuICAgICAgICAgICAgY29udGFpbmVyID1cbiAgICAgICAgICAgICAgICA8dWkuVkJveCBzdHlsZT17e2hlaWdodDpcIjEwMCVcIiwgZmxleDoxLjAsIGFsaWduSXRlbXM6XCJjZW50ZXJcIn19PlxuICAgICAgICAgICAgICAgICAgICA8RHJvcGRvd25CdXR0b24gdGl0bGU9e3NlbGVjdGVkQ2hvaWNlfSBpZD17YGRyb3Bkb3duLSR7dGhpcy50b29sUGF0aC5nZXRTdGF0ZShcImNsYXNzXCIpfWB9ID5cbiAgICAgICAgICAgICAgICAgICAgICAgIHttZW51c31cbiAgICAgICAgICAgICAgICAgICAgPC9Ecm9wZG93bkJ1dHRvbj5cbiAgICAgICAgICAgICAgICA8L3VpLlZCb3g+XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgY29udGFpbmVyID1cbiAgICAgICAgICAgICAgICA8TGlzdEdyb3VwPlxuICAgICAgICAgICAgICAgICAgICB7bWVudXN9XG4gICAgICAgICAgICAgICAgPC9MaXN0R3JvdXA+XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKDxkaXYgc3R5bGU9e2xheW91dE1vZGUgPT09IFwiQ29tYm9Cb3hcIiA/IHNlc3Npb25TdGF0ZUNvbWJvQm94U3R5bGUgOiBzZXNzaW9uU3RhdGVNZW51U3R5bGV9PlxuICAgICAgICAgICAge2NvbnRhaW5lcn1cbiAgICAgICAgPC9kaXY+KTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlc3Npb25TdGF0ZU1lbnVUb29sO1xuXG5yZWdpc3RlclRvb2xJbXBsZW1lbnRhdGlvbihcIndlYXZlLnVpOjpTZXNzaW9uU3RhdGVNZW51VG9vbFwiLCBTZXNzaW9uU3RhdGVNZW51VG9vbCk7XG4vL1dlYXZlLnJlZ2lzdGVyQ2xhc3MoXCJ3ZWF2ZWpzLnRvb2xzLlNlc3Npb25TdGF0ZU1lbnVUb29sXCIsIFNlc3Npb25TdGF0ZU1lbnVUb29sLCBbd2VhdmVqcy5hcGkuY29yZS5JTGlua2FibGVPYmplY3RXaXRoTmV3UHJvcGVydGllc10pO1xuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvZDMvZDMuZC50c1wiLz5cblxuaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1hdFV0aWxzIHtcblxuICAvLyB0aGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIGRlZmF1bHQgbnVtYmVyIGZvcm1hdGluZy5cblx0Ly8gZm9yIG51bWJlciB2YWx1ZXMsIHdlIHJvdW5kIHRoZW0gdG8gYXQgbW9zdCA0IGRlY2ltYWwgcGxhY2VzXG5cdC8vIHVubGVzcyB0aGUgbnVtYmVyIGlzIHZlcnkgc21hbGwsIGluIHdoaWNoIGNhc2Ugd2UganVzdCByZXR1cm4gaXRcbiAgc3RhdGljIGRlZmF1bHROdW1iZXJGb3JtYXR0aW5nKHg6bnVtYmVyKTpudW1iZXIge1xuICAgIGlmKHggPCAwLjAwMDEpIHtcbiAgICAgIHJldHVybiB4O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZDMucm91bmQoeCwgNCk7XG4gICAgfVxuICB9XG59XG4iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG5cbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGFuZGFyZExpYiB7XG5cblx0LyoqXG5cdCAqIEdlbmVyYXRlcyBhbiBcInJnYmEoKVwiIHN0cmluZyBmb3IgQ1NTLlxuXHQgKiBAcGFyYW0gciBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDI1NS5cblx0ICogQHBhcmFtIGcgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAyNTUuXG5cdCAqIEBwYXJhbSBiIEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMjU1LlxuXHQgKiBAcGFyYW0gYSBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDEuXG5cdCAqL1xuXHRzdGF0aWMgcmdiYShyOm51bWJlciwgZzpudW1iZXIsIGI6bnVtYmVyLCBhOm51bWJlcilcblx0e1xuXHRcdHJldHVybiBgcmdiYSgke3J9LCR7Z30sJHtifSwke2F9KWA7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBVc2UgdGhpcyBhcyBhIHRlbXBvcmFyeSBzb2x1dGlvbiBiZWZvcmUgd2UgdXNlIFdlYXZlLnJlZ2lzdGVyQ2xhc3MoKS5cblx0ICovXG5cdHN0YXRpYyBkZWJvdW5jZSh0YXJnZXQ6YW55LCBtZXRob2ROYW1lOnN0cmluZywgZGVsYXk6bnVtYmVyID0gMjApOnZvaWRcblx0e1xuXHRcdGlmICh0YXJnZXRbbWV0aG9kTmFtZV0gPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0YXJnZXQpW21ldGhvZE5hbWVdKVxuXHRcdFx0dGFyZ2V0W21ldGhvZE5hbWVdID0gXy5kZWJvdW5jZSh0YXJnZXRbbWV0aG9kTmFtZV0uYmluZCh0YXJnZXQpLCBkZWxheSk7XG5cdFx0dGFyZ2V0W21ldGhvZE5hbWVdKCk7XG5cdH1cblx0XG4gIC8qKlxuXHQgKiBTZWFyY2hlcyBmb3IgdGhlIGZpcnN0IG5lc3RlZCBvYmplY3Qgd2l0aCBtYXRjaGluZyBwcm9wZXJ0aWVzXG5cdCAqIEBwYXJhbSByb28gVGhlIHJvb3QgT2JqZWN0LlxuXHQgKiBAcGFyYW0gbWF0Y2ggRWl0aGVyIGFuIE9iamVjdCB3aXRoIHByb3BlcnRpZXMgdG8gbWF0Y2gsIG9yIGEgRnVuY3Rpb24gdGhhdCBjaGVja3MgZm9yIGEgbWF0Y2guXG4gICAqXG4gICAqIEByZXR1cm5zIHJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIG1hdGNoaW5nIHByb3BlcnRpZXNcblx0ICovXG4gICBzdGF0aWMgZmluZERlZXAocm9vdDogYW55LCBtYXRjaDogYW55ICk6YW55IHtcbiAgICAgaWYodHlwZW9mIG1hdGNoICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgbWF0Y2ggPSBfLm1hdGNoZXMobWF0Y2gpO1xuICAgICB9XG5cbiAgICAgaWYobWF0Y2gocm9vdCkpIHtcbiAgICAgIHJldHVybiByb290O1xuICAgIH1cblxuICAgIGlmKHR5cGVvZiByb290ID09IFwib2JqZWN0XCIpIHtcbiAgICAgIHZhciBrZXk6IHN0cmluZztcbiAgICAgIGZvciAoa2V5IGluIHJvb3QpIHtcbiAgICAgICAgdmFyIGZvdW5kOmFueSA9IHRoaXMuZmluZERlZXAocm9vdFtrZXldLCBtYXRjaCk7XG4gICAgICAgIGlmKGZvdW5kKVxuICAgICAgICAgIHJldHVybiBmb3VuZDtcbiAgICAgIH1cbiAgICB9XG4gICB9XG5cbiAgIC8qKlxuICAgICAqIEFkZHMgdW5kZWZpbmVkIHZhbHVlcyB0byBuZXcgc3RhdGUgZm9yIHByb3BlcnRpZXMgaW5cbiAgICAgKiBjdXJyZW50IHN0YXRlIG5vdCBmb3VuZCBpbiBuZXcgc3RhdGUuXG4gICAgICovXG4gICBzdGF0aWMgaW5jbHVkZU1pc3NpbmdQcm9wZXJ0eVBsYWNlaG9sZGVycyhjdXJyZW50U3RhdGU6YW55LCBuZXdTdGF0ZTphbnkpIHtcbiAgICAgdmFyIGtleTogc3RyaW5nO1xuICAgICBmb3IgKGtleSBpbiBjdXJyZW50U3RhdGUpIHtcbiAgICAgICBpZighbmV3U3RhdGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgbmV3U3RhdGVba2V5XSA9IHVuZGVmaW5lZDtcbiAgICAgICB9XG4gICAgIH1cbiAgICAgcmV0dXJuIG5ld1N0YXRlO1xuICAgfVxuXG4gICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIGFuIGludGVycG9sYXRlZCBjb2xvciBmb3IgYSBub3JtYWxpemVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSBub3JtVmFsdWUgQSBOdW1iZXIgYmV0d2VlbiAwIGFuZCAxLlxuICAgICAqIEBwYXJhbSBjb2xvcnMgQW4gQXJyYXkgb3IgbGlzdCBvZiBjb2xvcnMgdG8gaW50ZXJwb2xhdGUgYmV0d2Vlbi4gIE5vcm1hbGl6ZWQgdmFsdWVzIG9mIDAgYW5kIDEgd2lsbCBiZSBtYXBwZWQgdG8gdGhlIGZpcnN0IGFuZCBsYXN0IGNvbG9ycy5cbiAgICAgKiBAcmV0dXJuIEFuIGludGVycG9sYXRlZCBjb2xvciBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIG5vcm1WYWx1ZSBiYXNlZCBvbiB0aGUgbGlzdCBvZiBjb2xvciB2YWx1ZXMuXG4gICAgICovXG4gICAgIHN0YXRpYyBpbnRlcnBvbGF0ZUNvbG9yKG5vcm1WYWx1ZTpudW1iZXIsIC4uLmNvbG9yczphbnlbXSk6IG51bWJlciB7XG4gICAgICAgIC8vIGhhbmRsZSBhbiBhcnJheSBvZiBjb2xvcnMgYXMgdGhlIHNlY29uZCBwYXJhbWV0ZXJcbiAgICAgICAgaWYgKGNvbG9ycy5sZW5ndGggPT09IDEgJiYgQXJyYXkuaXNBcnJheShjb2xvcnNbMF0pKSB7XG4gICAgICAgICAgICBjb2xvcnMgPSBjb2xvcnNbMF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoYW5kbGUgaW52YWxpZCBwYXJhbWV0ZXJzXG4gICAgICAgIGlmIChub3JtVmFsdWUgPCAwIHx8IG5vcm1WYWx1ZSA+IDEgfHwgY29sb3JzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIE5hTjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbmQgdGhlIG1pbiBhbmQgbWF4IGNvbG9ycyB3ZSB3YW50IHRvIGludGVycG9sYXRlIGJldHdlZW5cblxuICAgICAgICB2YXIgbWF4SW5kZXg6IG51bWJlciA9IE1hdGguZmxvb3IoY29sb3JzLmxlbmd0aCAtIDEpO1xuICAgICAgICB2YXIgbGVmdEluZGV4OiBudW1iZXIgPSBNYXRoLmZsb29yKG1heEluZGV4ICogbm9ybVZhbHVlKTtcbiAgICAgICAgdmFyIHJpZ2h0SW5kZXg6IG51bWJlciA9IE1hdGguZmxvb3IobGVmdEluZGV4ICsgMSk7XG5cbiAgICAgICAgLy8gaGFuZGxlIGJvdW5kYXJ5IGNvbmRpdGlvblxuICAgICAgICBpZiAocmlnaHRJbmRleCA9PT0gY29sb3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KGNvbG9yc1tsZWZ0SW5kZXhdLCAxNik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWluQ29sb3I6IG51bWJlciA9IGNvbG9yc1tsZWZ0SW5kZXhdO1xuICAgICAgICB2YXIgbWF4Q29sb3I6IG51bWJlciA9IGNvbG9yc1tyaWdodEluZGV4XTtcblxuICAgICAgICAvLyBub3JtYWxpemUgdGhlIG5vcm0gdmFsdWUgYmV0d2VlbiB0aGUgdHdvIG5vcm0gdmFsdWVzIGFzc29jaWF0ZWQgd2l0aCB0aGUgc3Vycm91bmRpbmcgY29sb3JzXG4gICAgICAgIG5vcm1WYWx1ZSA9IG5vcm1WYWx1ZSAqIG1heEluZGV4IC0gbGVmdEluZGV4O1xuXG4gICAgICAgIHZhciBwZXJjZW50TGVmdDogbnVtYmVyID0gMSAtIG5vcm1WYWx1ZTsgLy8gcmVsZXZhbmNlIG9mIG1pbkNvbG9yXG4gICAgICAgIHZhciBwZXJjZW50UmlnaHQ6IG51bWJlciA9IG5vcm1WYWx1ZTsgLy8gcmVsZXZhbmNlIG9mIG1heENvbG9yXG4gICAgICAgIGNvbnN0IFI6IG51bWJlciA9IDB4RkYwMDAwO1xuICAgICAgICBjb25zdCBHOiBudW1iZXIgPSAweDAwRkYwMDtcbiAgICAgICAgY29uc3QgQjogbnVtYmVyID0gMHgwMDAwRkY7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAoKHBlcmNlbnRMZWZ0ICogKG1pbkNvbG9yICYgUikgKyBwZXJjZW50UmlnaHQgKiAobWF4Q29sb3IgJiBSKSkgJiBSKSB8XG4gICAgICAgICAgICAoKHBlcmNlbnRMZWZ0ICogKG1pbkNvbG9yICYgRykgKyBwZXJjZW50UmlnaHQgKiAobWF4Q29sb3IgJiBHKSkgJiBHKSB8XG4gICAgICAgICAgICAoKHBlcmNlbnRMZWZ0ICogKG1pbkNvbG9yICYgQikgKyBwZXJjZW50UmlnaHQgKiAobWF4Q29sb3IgJiBCKSkgJiBCKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICogVGhpcyBmdW5jdGlvbiBjb252ZXJ0cyBhIGRlY2ltYWwgbnVtYmVyIHRvIGEgNiBkaWdpdCBoZXhhZGVjaW1hbCBzdHJpbmdcbiAgICAqIEBwYXJhbSBkZWMgQSBkZWNpbWFsIG51bWJlclxuICAgICogQHJldHVybiB0aGUgaGV4YWRlY2ltYWwgdmFsdWUgb2YgdGhlIGRlY2ltYWwgbnVtYmVyXG4gICAgKi9cbiAgIHN0YXRpYyBkZWNpbWFsVG9IZXgoZGVjOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgIHJldHVybiBfLnBhZExlZnQoZGVjLnRvU3RyaW5nKDE2KSwgNiwgXCIwXCIpO1xuICAgfVxuXG4gICAvKipcbiAgICAqIFRoaXMgZnVuY3Rpb24gcmV0dXJuIHRoZSBub3JtYWxpemVkIHZhbHVlIGJldHdlZW4gYSByYW5nZVxuICAgICogaWYgbm8gcmFuZ2UgaXMgcHJvdmlkZWQsIHRoZSBkZWZhdWx0IHJhbmdlIHdpbGwgYmUgMCBhbmQgMVxuICAgICpcbiAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gYmUgbm9ybWFsaXplZFxuICAgICogQHBhcmFtIG1pbiB0aGUgcmFuZ2UgbWluIHZhbHVlXG4gICAgKiBAcGFyYW0gbWF4IHRoZSByYW5nZSBtYXggdmFsdWVcbiAgICAqL1xuICAgc3RhdGljIG5vcm1hbGl6ZSh2YWx1ZTogbnVtYmVyLCBtaW46IG51bWJlciwgbWF4OiBudW1iZXIpOiBudW1iZXIge1xuXG4gICAgICAgaWYoIW1pbikge1xuICAgICAgICAgICBtaW4gPSAwO1xuICAgICAgIH1cbiAgICAgICBpZighbWF4KSB7XG4gICAgICAgICAgIG1heCA9IDE7XG4gICAgICAgfVxuICAgICAgIHJldHVybiAodmFsdWUgLSBtaW4pIC8gKG1heCAtIG1pbik7XG4gICB9XG5cbiAgIC8qKlxuICAgICogIFRoaXMgZnVuY3Rpb24gdGFrZXMgbWVyZ2VzIGFuIG9iamVjdCBpbnRvIGFub3RoZXJcbiAgICAqXG4gICAgKiBAcGFyYW0gaW50byB7b2JqZWN0fSB0aGUgb2JqZWN0IHRvIG1lcmdlIGludG9cbiAgICAqIEBwYXJhbSBvYmoge29ian0gdGhlIG9iamVjdCB0byBtZXJnZSBmcm9tXG4gICAgKi9cbiAgIHN0YXRpYyBtZXJnZShpbnRvOmFueSwgb2JqOmFueSkge1xuICAgICB2YXIgYXR0cjpzdHJpbmc7XG4gICAgIGZvcihhdHRyIGluIG9iaikge1xuICAgICAgIGludG9bYXR0cl0gPSBvYmpbYXR0cl07XG4gICAgIH1cbiAgIH1cblxuICAgLyoqXG4gICAgKiBUZW1wb3JhcnkgcG9seWZpbGwgd29ya2Fyb3VuZCBmb3IgU3RyaW5nLnN0YXJ0c1dpdGhcbiAgICAqIGZvciBwcm9qZWN0cyB0aGF0IGFyZSB0YXJnZXR0aW5nIGVzNVxuICAgICpcbiAgICAqICBkZXRlcm1pbmVzIHdoZXRoZXIgYSBzdHJpbmcgYmVnaW5zIHdpdGggdGhlIGNoYXJhY3RlcnMgb2YgYW5vdGhlciBzdHJpbmcsIHJldHVybmluZyB0cnVlIG9yIGZhbHNlIGFzIGFwcHJvcHJpYXRlLlxuICAgICpcbiAgICAqIEBwYXJhbSBzdHIge3N0cmluZ30gdGhlIHN0ciBzdHJpbmcgaW4gd2hpY2ggdG8gc2VhcmNoIGZvciBpbiBzdHIuc3RhcnRzV2l0aFxuICAgICogQHBhcmFtIHNlYXJjaFN0cmluZyB7c3RyaW5nfSBUaGUgY2hhcmFjdGVycyB0byBiZSBzZWFyY2hlZCBmb3IgYXQgdGhlIHN0YXJ0IG9mIHRoaXMgc3RyaW5nLlxuICAgICogQHBhcmFtIHBvc2l0aW9uIHtudW1iZXI/fSBPcHRpb25hbC4gVGhlIHBvc2l0aW9uIGluIHRoaXMgc3RyaW5nIGF0IHdoaWNoIHRvIGJlZ2luIHNlYXJjaGluZyBmb3Igc2VhcmNoU3RyaW5nOyBkZWZhdWx0cyB0byAwLlxuICAgICpcbiAgICAqIEByZXR1cm5zIHRydWUgb3IgZmFsc2VcbiAgICAqXG4gICAgKi9cbiAgIHN0YXRpYyBzdGFydHNXaXRoKHN0cjpzdHJpbmcsIHNlYXJjaFN0cmluZzpzdHJpbmcsIHBvc2l0aW9uPzpudW1iZXIpOmJvb2xlYW4ge1xuICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gfHwgMDtcbiAgICAgICByZXR1cm4gc3RyLmluZGV4T2Yoc2VhcmNoU3RyaW5nLCBwb3NpdGlvbikgPT09IHBvc2l0aW9uO1xuICAgfVxuXG5cbiAgIHN0YXRpYyByZXNvbHZlUmVsYXRpdmUocGF0aDpzdHJpbmcsIGJhc2U6c3RyaW5nKTpzdHJpbmcge1xuICAgIFx0Ly8gVXBwZXIgZGlyZWN0b3J5XG4gICAgXHRpZiAoU3RhbmRhcmRMaWIuc3RhcnRzV2l0aChwYXRoLCBcIi4uL1wiKSkge1xuICAgIFx0XHRyZXR1cm4gU3RhbmRhcmRMaWIucmVzb2x2ZVJlbGF0aXZlKHBhdGguc2xpY2UoMyksIGJhc2UucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIlwiKSk7XG4gICAgXHR9XG4gICAgXHQvLyBSZWxhdGl2ZSB0byB0aGUgcm9vdFxuICAgIFx0aWYgKFN0YW5kYXJkTGliLnN0YXJ0c1dpdGgocGF0aCwgXCIvXCIpKSB7XG4gICAgXHRcdHZhciBtYXRjaCA9IGJhc2UubWF0Y2goLyhcXHcqOlxcL1xcLyk/W15cXC9dKlxcLy8pIHx8IFtiYXNlXTtcbiAgICBcdFx0cmV0dXJuIG1hdGNoWzBdICsgcGF0aC5zbGljZSgxKTtcbiAgICBcdH1cbiAgICBcdC8vcmVsYXRpdmUgdG8gdGhlIGN1cnJlbnQgZGlyZWN0b3J5XG5cdCAgICByZXR1cm4gYmFzZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sIFwiXCIpICsgXCIvXCIgKyBwYXRoO1xuICAgIH1cblxuICAgc3RhdGljIGdldERhdGFCb3VuZHMoY29sdW1uOiBudW1iZXJbXSkge1xuICAgICAgIHJldHVybiB7XG4gICAgICAgICAgIG1pbjogXy5taW4oY29sdW1uKSxcbiAgICAgICAgICAgbWF4OiBfLm1heChjb2x1bW4pXG4gICAgICAgfTtcbiAgIH1cblxuICAgLyoqXG4gICAgKlxuICAgICogICBUaGlzIGZ1bmN0aW9uIHJldHVybiBhbmQgb2JqZWN0IHdob3NlIGtleXMgYXJlIHVybFxuICAgICogICBwYXJhbWV0ZXJzIGFuZCB2YWx1ZVxuICAgICovXG4gICBzdGF0aWMgZ2V0VXJsUGFyYW1zKCk6YW55IHtcblxuICAgICAgIHZhciBxdWVyeVBhcmFtczphbnkgPSB7fTtcbiAgICAgICB2YXIgcXVlcnk6c3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSk7XG4gICAgICAgaWYoIXF1ZXJ5KSB7XG4gICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICB9XG4gICAgICAgdmFyIHZhcnM6c3RyaW5nW10gPSBxdWVyeS5zcGxpdChcIiZcIik7XG4gICAgICAgZm9yICh2YXIgaTpudW1iZXIgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICB2YXIgcGFpcjpzdHJpbmdbXSA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xuICAgICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5UGFyYW1zW3BhaXJbMF1dID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICBxdWVyeVBhcmFtc1twYWlyWzBdXSA9IGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKTtcbiAgICAgICAgICAgICAgIC8vIElmIHNlY29uZCBlbnRyeSB3aXRoIHRoaXMgbmFtZVxuICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBxdWVyeVBhcmFtc1twYWlyWzBdXSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgdmFyIGFycjpzdHJpbmdbXSA9IFsgcXVlcnlQYXJhbXNbcGFpclswXV0sIGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKSBdO1xuICAgICAgICAgICAgICAgcXVlcnlQYXJhbXNbcGFpclswXV0gPSBhcnI7XG4gICAgICAgICAgICAgICAvLyBJZiB0aGlyZCBvciBsYXRlciBlbnRyeSB3aXRoIHRoaXMgbmFtZVxuICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgcXVlcnlQYXJhbXNbcGFpclswXV0ucHVzaChkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSkpO1xuICAgICAgICAgICB9XG4gICAgICAgfVxuICAgICAgIHJldHVybiBxdWVyeVBhcmFtcztcbiAgIH1cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSB3aWR0aCBvZiBhIHRleHQgc3RyaW5nLFxuICAgICAqIGluIHBpeGVscywgYmFzZWQgb24gaXRzIGZvbnQgc3R5bGVcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0VGV4dFdpZHRoKHRleHQ6c3RyaW5nLCBmb250OnN0cmluZyk6bnVtYmVyIHtcbiAgICAgICAgLy8gY3JlYXRlIGEgZHVtbXkgY2FudmFzIGVsZW1lbnQgdG8gcGVyZm9ybSB0aGUgY2FsY3VsYXRpb25cbiAgICAgICAgdmFyIGNhbnZhczpIVE1MQ2FudmFzRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG4gICAgICAgIHZhciBjb250ZXh0OkNhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgICAgIGNvbnRleHQuZm9udCA9IGZvbnQ7XG4gICAgICAgIHZhciBtZXRyaWNzOlRleHRNZXRyaWNzID0gY29udGV4dC5tZWFzdXJlVGV4dCh0ZXh0KTtcbiAgICAgICAgcmV0dXJuIG1ldHJpY3Mud2lkdGg7XG4gICAgfTtcblxuXG4gICAgc3RhdGljIGdldFRleHRIZWlnaHQodGV4dDpzdHJpbmcsIGZvbnQ6c3RyaW5nKTpudW1iZXIge1xuICAgICAgICB2YXIgYm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYm9keVwiKVswXTtcbiAgICAgICAgdmFyIGR1bW15ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgdmFyIGR1bW15VGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiTVwiKTtcbiAgICAgICAgZHVtbXkuYXBwZW5kQ2hpbGQoZHVtbXlUZXh0KTtcbiAgICAgICAgZHVtbXkuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgZm9udCk7XG4gICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoZHVtbXkpO1xuICAgICAgICB2YXIgcmVzdWx0ID0gZHVtbXkub2Zmc2V0SGVpZ2h0O1xuICAgICAgICBib2R5LnJlbW92ZUNoaWxkKGR1bW15KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufVxuIl19
