(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../typings/react/react.d.ts"/>

var toolOverlayStyle = {
    background: "#000",
    opacity: .2,
    zIndex: 3,
    boxSizing: "border-box",
    backgroundClip: "padding",
    position: "fixed",
    visibility: "hidden",
    pointerEvents: "none"
};

var ToolOverlay = function (_React$Component) {
    _inherits(ToolOverlay, _React$Component);

    function ToolOverlay(props) {
        _classCallCheck(this, ToolOverlay);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ToolOverlay).call(this, props));

        _this.state = {
            style: toolOverlayStyle
        };
        return _this;
    }

    _createClass(ToolOverlay, [{
        key: "render",
        value: function render() {
            return React.createElement("div", { style: this.state.style });
        }
    }]);

    return ToolOverlay;
}(React.Component);

exports.default = ToolOverlay;

},{"react":"react"}],2:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _reactDom = require("react-dom");

var ReactDOM = _interopRequireWildcard(_reactDom);

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _Layout = require("./react-flexible-layout/Layout");

var _Layout2 = _interopRequireDefault(_Layout);

var _weaveC3Barchart = require("./tools/weave-c3-barchart");

var _weaveC3Barchart2 = _interopRequireDefault(_weaveC3Barchart);

var _weaveC3Scatterplot = require("./tools/weave-c3-scatterplot");

var _weaveC3Scatterplot2 = _interopRequireDefault(_weaveC3Scatterplot);

var _weaveC3Colorlegend = require("./tools/weave-c3-colorlegend");

var _weaveC3Colorlegend2 = _interopRequireDefault(_weaveC3Colorlegend);

var _weaveC3Barchartlegend = require("./tools/weave-c3-barchartlegend");

var _weaveC3Barchartlegend2 = _interopRequireDefault(_weaveC3Barchartlegend);

var _weaveC3Linechart = require("./tools/weave-c3-linechart");

var _weaveC3Linechart2 = _interopRequireDefault(_weaveC3Linechart);

var _weaveC3Piechart = require("./tools/weave-c3-piechart");

var _weaveC3Piechart2 = _interopRequireDefault(_weaveC3Piechart);

var _weaveC3Histogram = require("./tools/weave-c3-histogram");

var _weaveC3Histogram2 = _interopRequireDefault(_weaveC3Histogram);

var _weaveSessionStateMenu = require("./tools/weave-session-state-menu");

var _weaveSessionStateMenu2 = _interopRequireDefault(_weaveSessionStateMenu);

var _OpenLayersMapTool = require("./tools/OpenLayersMapTool");

var _OpenLayersMapTool2 = _interopRequireDefault(_OpenLayersMapTool);

var _weaveReactTable = require("./tools/weave-react-table");

var _weaveReactTable2 = _interopRequireDefault(_weaveReactTable);

var _WeaveTool = require("./WeaveTool");

var _ToolOverlay = require("./ToolOverlay");

var _ToolOverlay2 = _interopRequireDefault(_ToolOverlay);

var _StandardLib = require("./utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../typings/react/react.d.ts"/>
/// <reference path="../typings/react/react-dom.d.ts"/>
/// <reference path="../typings/lodash/lodash.d.ts"/>
/// <reference path="../typings/weave/Weave.d.ts"/>
/// <reference path="../typings/weave/weavejs.d.ts"/>

// Temporary solution
// because typescript removes
// unused imports
var v1 = [_weaveC3Barchart2.default, _weaveC3Scatterplot2.default, _weaveC3Colorlegend2.default, _weaveC3Barchartlegend2.default, _weaveC3Linechart2.default, _weaveC3Piechart2.default, _weaveC3Histogram2.default, _weaveSessionStateMenu2.default, _OpenLayersMapTool2.default, _weaveReactTable2.default];

var LAYOUT = "Layout";
var LEFT = "left";
var RIGHT = "right";
var TOP = "top";
var BOTTOM = "bottom";
var VERTICAL = "vertical";
var HORIZONTAL = "horizontal";
var TOOLOVERLAY = "tooloverlay";

var WeaveLayoutManager = function (_React$Component) {
    _inherits(WeaveLayoutManager, _React$Component);

    function WeaveLayoutManager(props) {
        _classCallCheck(this, WeaveLayoutManager);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveLayoutManager).call(this, props));

        _this.weave = _this.props.weave || new Weave();
        _this.weave.path(LAYOUT).request("FlexibleLayout");
        _this.margin = 8;
        return _this;
    }

    _createClass(WeaveLayoutManager, [{
        key: "componentDidMount",
        value: function componentDidMount() {
            var _this2 = this;

            window.addEventListener("resize", this._forceUpdate = _.throttle(function () {
                _this2.dirty = true;_this2.forceUpdate();
            }, 30));
            this.weave.root.childListCallbacks.addGroupedCallback(this, _.debounce(this.forceUpdate.bind(this), 0), true);
            this.weave.path(LAYOUT).addCallback(this, _.debounce(this.forceUpdate.bind(this), 0), true);
            this.weave.path(LAYOUT).state(this.simplifyState(this.weave.path(LAYOUT).getState()));
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            window.removeEventListener("resize", this._forceUpdate);
        }
    }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate() {
            if (Weave.detectChange(this, this.weave.getObject(LAYOUT)) || this.dirty) {
                // dirty flag to trigger render on window resize
                this.dirty = false;
                //_.debounce(this.forceUpdate.bind(this), 0)();
                this.forceUpdate();
            }
        }
    }, {
        key: "saveState",
        value: function saveState(newState) {
            newState = this.simplifyState(newState);
            newState.flex = 1;
            this.weave.path(LAYOUT).state(newState);
            // temporary hack because weave
            // doesn't properly callback forceUpdate
            //this.forceUpdate();
        }
    }, {
        key: "onDragStart",
        value: function onDragStart(id, event) {
            this.toolDragged = id;
            var toolRef = id[0]; // toolName as used in the ref for the weave tool.
            var element = ReactDOM.findDOMNode(this.refs[toolRef]);
            // hack because dataTransfer doesn't exist on type event
            event.dataTransfer.setDragImage(element, 0, 0);
            event.dataTransfer.setData('text/html', null);
        }
    }, {
        key: "hideOverlay",
        value: function hideOverlay() {
            var toolOverlayStyle = _.clone(this.refs[TOOLOVERLAY].state.style);
            toolOverlayStyle.visibility = "hidden";
            toolOverlayStyle.left = toolOverlayStyle.top = toolOverlayStyle.width = toolOverlayStyle.height = 0;
            this.refs[TOOLOVERLAY].setState({
                style: toolOverlayStyle
            });
        }
    }, {
        key: "onDragEnd",
        value: function onDragEnd() {
            if (this.toolDragged && this.toolOver) {
                this.updateLayout(this.toolDragged, this.toolOver, this.dropZone);
                this.toolDragged = null;
                this.dropZone = null;
                this.hideOverlay();
            }
        }
    }, {
        key: "onDragOver",
        value: function onDragOver(toolOver, event) {
            if (!this.toolDragged) {
                return;
            }
            if (_.isEqual(this.toolDragged, toolOver)) {
                // hide the overlay if hovering over the tool being dragged
                this.toolOver = null;
                this.hideOverlay();
                return;
            }
            var toolNode = this.refs[LAYOUT].getDOMNodeFromId(toolOver);
            var toolNodePosition = toolNode.getBoundingClientRect();
            var toolOverlayStyle = _.clone(this.refs[TOOLOVERLAY].state.style);
            var dropZone = this.getDropZone(toolOver, event);
            toolOverlayStyle.left = toolNodePosition.left;
            toolOverlayStyle.top = toolNodePosition.top;
            toolOverlayStyle.width = toolNodePosition.width;
            toolOverlayStyle.height = toolNodePosition.height;
            toolOverlayStyle.visibility = "visible";
            if (dropZone === LEFT) {
                toolOverlayStyle.width = toolNodePosition.width / 2;
            } else if (dropZone === RIGHT) {
                toolOverlayStyle.left = toolNodePosition.left + toolNodePosition.width / 2;
                toolOverlayStyle.width = toolNodePosition.width / 2;
            } else if (dropZone === BOTTOM) {
                toolOverlayStyle.top = toolNodePosition.top + toolNodePosition.height / 2;
                toolOverlayStyle.height = toolNodePosition.height / 2;
            } else if (dropZone === TOP) {
                toolOverlayStyle.height = toolNodePosition.height / 2;
            }
            if (dropZone !== this.dropZone || !_.isEqual(toolOver, this.toolOver)) {
                this.refs[TOOLOVERLAY].setState({
                    style: toolOverlayStyle
                });
            }
            this.dropZone = dropZone;
            this.toolOver = toolOver;
        }
    }, {
        key: "getDropZone",
        value: function getDropZone(id, event) {
            if (this.toolDragged) {
                if (!_.isEqual(this.toolDragged, id)) {
                    var toolNode = this.refs[LAYOUT].getDOMNodeFromId(id);
                    var toolNodePosition = toolNode.getBoundingClientRect();
                    var center = {
                        x: (toolNodePosition.right - toolNodePosition.left) / 2,
                        y: (toolNodePosition.bottom - toolNodePosition.top) / 2
                    };
                    var mousePosRelativeToCenter = {
                        x: event.clientX - (toolNodePosition.left + center.x),
                        y: event.clientY - (toolNodePosition.top + center.y)
                    };
                    var mouseNorm = {
                        x: mousePosRelativeToCenter.x / (toolNodePosition.width / 2),
                        y: mousePosRelativeToCenter.y / (toolNodePosition.height / 2)
                    };
                    var mousePolarCoord = {
                        r: Math.sqrt(mouseNorm.x * mouseNorm.x + mouseNorm.y * mouseNorm.y),
                        theta: Math.atan2(mouseNorm.y, mouseNorm.x)
                    };
                    var zones = [RIGHT, BOTTOM, LEFT, TOP];
                    var zoneIndex = Math.round(mousePolarCoord.theta / (2 * Math.PI) * 4 + 4) % 4;
                    if (mousePolarCoord.r < 0.34) {
                        return "center";
                    } else {
                        return zones[zoneIndex];
                    }
                }
            }
        }
    }, {
        key: "simplifyState",
        value: function simplifyState(state) {
            if (!state) return {};
            var children = state.children;
            if (!children) {
                return state;
            }
            if (children.length === 1) {
                return this.simplifyState(children[0]);
            }
            var simpleChildren = [];
            for (var i = 0; i < children.length; i++) {
                var child = this.simplifyState(children[i]);
                if (child.children && child.direction === state.direction) {
                    var childChildren = child.children;
                    for (var ii = 0; ii < childChildren.length; ii++) {
                        var childChild = childChildren[ii];
                        childChild.flex *= child.flex;
                        simpleChildren.push(childChild);
                    }
                } else {
                    simpleChildren.push(child);
                }
            }
            state.children = simpleChildren;
            var totalSizeChildren = _.sum(_.map(children, "flex"));
            //Scale flex values between 0 and 1 so they sum to 1, avoiding an apparent
            //flex bug where space is lost if sum of flex values is less than 1.
            for (var i = 0; i < state.children.length; i++) {
                state.children[i].flex = _StandardLib2.default.normalize(state.children[i].flex, 0, totalSizeChildren);
            }
            return state;
        }
    }, {
        key: "updateLayout",
        value: function updateLayout(toolDragged, toolDroppedOn, dropZone) {
            if (!this.toolDragged || !this.toolOver || !this.dropZone) {
                return;
            }
            var newState = _.cloneDeep(this.weave.path(LAYOUT).getState());
            var src = _StandardLib2.default.findDeep(newState, { id: toolDragged });
            var dest = _StandardLib2.default.findDeep(newState, { id: toolDroppedOn });
            if (_.isEqual(src.id, dest.id)) {
                return;
            }
            if (dropZone === "center") {
                var srcId = src.id;
                src.id = dest.id;
                dest.id = srcId;
            } else {
                var srcParentArray = _StandardLib2.default.findDeep(newState, function (obj) {
                    return Array.isArray(obj) && obj.indexOf(src) >= 0;
                });
                srcParentArray.splice(srcParentArray.indexOf(src), 1);
                delete dest.id;
                dest.direction = dropZone === TOP || dropZone === BOTTOM ? VERTICAL : HORIZONTAL;
                dest.children = [{
                    id: toolDragged,
                    flex: 0.5
                }, {
                    id: toolDroppedOn,
                    flex: 0.5
                }];
                if (dropZone === BOTTOM || dropZone === RIGHT) {
                    dest.children.reverse();
                }
            }
            this.saveState(newState);
        }
    }, {
        key: "render",
        value: function render() {
            var _this3 = this;

            var children = [];
            var newState = this.weave.path(LAYOUT).getState();
            var paths = this.weave.path().getChildren();
            var rect;
            if (this.element) {
                rect = this.element.getBoundingClientRect();
            }
            for (var i = 0; i < paths.length; i++) {
                var path = paths[i];
                var impl = path.getType();
                if (impl === "weave.visualization.tools::ExternalTool" && path.getType("toolClass")) {
                    impl = path.getState("toolClass");
                }
                if (impl === "weavejs.core.LinkableHashMap" && path.getType("class")) impl = path.getState("class");
                impl = (0, _WeaveTool.getToolImplementation)(impl);
                var toolName = path.getPath()[0];
                var node;
                var toolRect;
                var toolPosition;
                if (impl) {
                    if (this.refs[LAYOUT] && rect) {
                        node = this.refs[LAYOUT].getDOMNodeFromId(path.getPath());
                        if (node) {
                            toolRect = node.getBoundingClientRect();
                            toolPosition = {
                                top: toolRect.top - rect.top,
                                left: toolRect.left - rect.left,
                                width: toolRect.right - toolRect.left,
                                height: toolRect.bottom - toolRect.top,
                                position: "absolute"
                            };
                        }
                    }
                    children.push(React.createElement(_WeaveTool.WeaveTool, { ref: toolName, key: toolName, toolPath: path, style: toolPosition, onDragOver: this.onDragOver.bind(this, path.getPath()), onDragStart: this.onDragStart.bind(this, path.getPath()), onDragEnd: this.onDragEnd.bind(this) }));
                }
            }
            return React.createElement(
                "div",
                { ref: function ref(elt) {
                        _this3.element = elt;
                    }, style: { width: "100%", height: "100%", display: "flex", position: "relative" } },
                React.createElement(_Layout2.default, { key: LAYOUT, ref: LAYOUT, state: _.cloneDeep(newState), onStateChange: this.saveState.bind(this) }),
                children,
                React.createElement(_ToolOverlay2.default, { ref: TOOLOVERLAY })
            );
        }
    }]);

    return WeaveLayoutManager;
}(React.Component);

exports.default = WeaveLayoutManager;

},{"./ToolOverlay":1,"./WeaveTool":3,"./react-flexible-layout/Layout":8,"./tools/OpenLayersMapTool":15,"./tools/weave-c3-barchart":30,"./tools/weave-c3-barchartlegend":31,"./tools/weave-c3-colorlegend":32,"./tools/weave-c3-histogram":33,"./tools/weave-c3-linechart":34,"./tools/weave-c3-piechart":35,"./tools/weave-c3-scatterplot":36,"./tools/weave-react-table":37,"./tools/weave-session-state-menu":38,"./utils/StandardLib":40,"lodash":"lodash","react":"react","react-dom":"react-dom"}],3:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.WeaveTool = undefined;
exports.registerToolImplementation = registerToolImplementation;
exports.getToolImplementation = getToolImplementation;

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _ui = require("./react-ui/ui");

var _ui2 = _interopRequireDefault(_ui);

var _StandardLib = require("./utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

var _tooltip = require("./tools/tooltip");

var _tooltip2 = _interopRequireDefault(_tooltip);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../typings/react/react.d.ts"/>
///<reference path="../typings/react/react-dom.d.ts"/>
///<reference path="../typings/lodash/lodash.d.ts"/>
///<reference path="../typings/react-vendor-prefix/react-vendor-prefix.d.ts"/>
///<reference path="../typings/react-bootstrap/react-bootstrap.d.ts"/>

var toolRegistry = {};
var grabberStyle = {
    width: "16",
    height: "16",
    cursor: "move",
    background: "url(http://placehold.it/32x32)"
};
function registerToolImplementation(asClassName, jsClass) {
    toolRegistry[asClassName] = jsClass;
}
function getToolImplementation(asClassName) {
    return toolRegistry[asClassName];
}

var WeaveTool = exports.WeaveTool = function (_React$Component) {
    _inherits(WeaveTool, _React$Component);

    function WeaveTool(props) {
        _classCallCheck(this, WeaveTool);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveTool).call(this, props));

        _this.toolPath = _this.props.toolPath;
        var toolType = _this.toolPath ? _this.toolPath.getType() : _this.props.toolClass;
        if (toolType === "weave.visualization.tools::ExternalTool" && _this.toolPath.getType("toolClass")) {
            toolType = _this.toolPath.getState("toolClass");
        }
        if (toolType === "weavejs.core.LinkableHashMap" && _this.toolPath.getType("class")) toolType = _this.toolPath.getState("class");
        _this.ToolClass = getToolImplementation(toolType);
        _this.titleBarHeight = 25;
        return _this;
    }

    _createClass(WeaveTool, [{
        key: "componentDidMount",
        value: function componentDidMount() {
            // if(this.toolPath) {
            //     this.toolPath.addCallback(this, this.forceUpdate);
            // }
        }
    }, {
        key: "render",
        value: function render() {
            var _this2 = this;

            var toolHeight = this.props.style ? this.props.style.height - this.titleBarHeight : 320;
            var toolWidth = this.props.style ? this.props.style.width : 320;
            var reactTool;
            if (React.Component.isPrototypeOf(this.ToolClass)) {
                reactTool = React.createElement(this.ToolClass, {
                    key: "tool",
                    ref: function ref(c) {
                        _this2.tool = c;
                    },
                    toolPath: this.toolPath,
                    style: { height: toolHeight, width: toolWidth },
                    toolTip: this.toolTip
                });
            }
            return React.createElement(
                _ui2.default.VBox,
                { style: this.props.style, onMouseEnter: function onMouseEnter() {
                        _this2.titleBar.setState({ showControls: true });
                    }, onMouseLeave: function onMouseLeave() {
                        _this2.titleBar.setState({ showControls: false });
                    }, onDragOver: this.props.onDragOver, onDragEnd: this.props.onDragEnd },
                React.createElement(TitleBar, { ref: function ref(c) {
                        _this2.titleBar = c;
                    }, onDragStart: this.props.onDragStart, titleBarHeight: this.titleBarHeight, title: this.title }),
                React.createElement(
                    "div",
                    { style: { width: toolWidth, height: toolHeight } },
                    React.createElement(
                        "div",
                        { style: { width: "100%", height: "100%", maxHeight: "100%" } },
                        reactTool
                    )
                ),
                React.createElement(_tooltip2.default, { ref: function ref(c) {
                        _this2.toolTip = c;
                    } })
            );
        }
    }, {
        key: "title",
        get: function get() {
            return this.tool ? this.tool.title : "";
        }
    }]);

    return WeaveTool;
}(React.Component);

var TitleBar = function (_React$Component2) {
    _inherits(TitleBar, _React$Component2);

    function TitleBar(props) {
        _classCallCheck(this, TitleBar);

        var _this3 = _possibleConstructorReturn(this, Object.getPrototypeOf(TitleBar).call(this, props));

        _this3.state = {
            showControls: false
        };
        return _this3;
    }

    _createClass(TitleBar, [{
        key: "render",
        value: function render() {
            var windowBar = {
                width: "100%",
                height: this.props.titleBarHeight,
                backgroundColor: this.state.showControls ? "#f8f8f8" : ""
            };
            var titleStyle = {
                cursor: "move",
                height: this.props.titleBarHeight,
                textAlign: "center",
                overflow: "hidden",
                whiteSpace: "nowrap",
                flex: 1,
                textOverflow: "ellipsis",
                paddingTop: "3"
            };
            var transitions = {
                visibility: this.state.showControls ? "visible" : "hidden",
                opacity: this.state.showControls ? 0.7 : 0,
                transition: this.state.showControls ? "visibiliy 0s 0.1s, opacity 0.1s linear" : "visibility 0s 0.1s, opacity 0.1s linear"
            };
            var leftControls = {
                marginLeft: 5,
                marginTop: 2,
                width: 20
            };
            var rightControls = {
                marginTop: 2,
                width: 38
            };
            _StandardLib2.default.merge(leftControls, transitions);
            _StandardLib2.default.merge(rightControls, transitions);
            return React.createElement(
                _ui2.default.HBox,
                { ref: "header", style: windowBar, draggable: true, onDragStart: this.props.onDragStart },
                React.createElement(
                    "span",
                    { style: titleStyle },
                    this.props.title
                )
            );
        }
    }]);

    return TitleBar;
}(React.Component);

},{"./react-ui/ui":13,"./tools/tooltip":29,"./utils/StandardLib":40,"react":"react"}],4:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _reactBootstrap = require("react-bootstrap");

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _TableHead = require("./TableHead");

var _TableHead2 = _interopRequireDefault(_TableHead);

var _TableBody = require("./TableBody");

var _TableBody2 = _interopRequireDefault(_TableBody);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/react-bootstrap/react-bootstrap.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>

var ReactBootstrapTable = function (_React$Component) {
    _inherits(ReactBootstrapTable, _React$Component);

    function ReactBootstrapTable(props) {
        _classCallCheck(this, ReactBootstrapTable);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ReactBootstrapTable).call(this, props));

        _this.state = {
            probedIds: [],
            selectedIds: []
        };
        return _this;
    }

    _createClass(ReactBootstrapTable, [{
        key: "onMouseOver",
        value: function onMouseOver(id, status) {
            var probedIds = this.state.probedIds.slice(0);
            // find the selected record location
            var keyLocation = probedIds.indexOf(id);
            if (!status && keyLocation > -1) {
                probedIds.splice(keyLocation, 1);
            } else {
                probedIds.push(id);
            }
            if (this.props.onProbe) {
                this.props.onProbe(probedIds);
            }
            this.setState({
                probedIds: probedIds
            });
        }
    }, {
        key: "onClick",
        value: function onClick(id, event) {
            var _this2 = this;

            var selectedIds = this.state.selectedIds.slice(0);
            // in single selection mode,
            // or ctrl/cmd selcection mode
            // already selected keys get unselected
            // find the selected record location
            var keyLocation = selectedIds.indexOf(id);
            // multiple selection
            if (event.ctrlKey || event.metaKey) {
                // if the record is already in the selection
                // we remove it
                if (keyLocation > -1) {
                    selectedIds.splice(keyLocation, 1);
                } else {
                    selectedIds.push(id);
                }
                this.lastClicked = id;
            } else if (event.shiftKey) {
                selectedIds = [];
                if (!this.lastClicked) {} else {
                    var start = _.findIndex(this.props.rows, function (row) {
                        return row["id"] == _this2.lastClicked;
                    });
                    var end = _.findIndex(this.props.rows, function (row) {
                        return row["id"] == id;
                    });
                    if (start > end) {
                        var temp = start;
                        start = end;
                        end = temp;
                    }
                    for (var i = start; i <= end; i++) {
                        selectedIds.push(this.props.rows[i]["id"]);
                    }
                }
            } else {
                // if there was only one record selected
                // and we are clicking on it again, then we want to
                // clear the selection.
                if (selectedIds.length == 1 && selectedIds[0] == id) {
                    selectedIds = [];
                    this.lastClicked = null;
                } else {
                    selectedIds = [id];
                    this.lastClicked = id;
                }
            }
            if (this.props.onSelection) {
                this.props.onSelection(selectedIds);
            }
            this.setState({
                selectedIds: selectedIds
            });
        }
    }, {
        key: "render",
        value: function render() {
            var _this3 = this;

            var tableContainer = {
                overflow: "auto",
                height: this.props.height
            };
            var selectedIds;
            var probedIds;
            if (this.props.selectedIds) {
                selectedIds = this.props.selectedIds;
            } else {
                selectedIds = this.state.selectedIds;
            }
            if (this.props.probedIds) {
                probedIds = this.props.probedIds;
            } else {
                probedIds = this.state.probedIds;
            }
            return React.createElement(
                "div",
                { style: tableContainer },
                React.createElement(
                    _reactBootstrap.Table,
                    { key: "table", ref: "table", striped: this.props.striped, bordered: this.props.bordered, condensed: this.props.condensed, hover: true },
                    React.createElement(_TableHead2.default, { key: "head", ref: function ref(c) {
                            _this3.tableHead = c;
                        }, columnTitles: this.props.columnTitles, idProperty: this.props.idProperty, showIdColumn: this.props.showIdColumn }),
                    React.createElement(_TableBody2.default, { key: "body", ref: function ref(c) {
                            _this3.tableBody = c;
                        }, idProperty: this.props.idProperty, onMouseOver: this.onMouseOver.bind(this), onClick: this.onClick.bind(this), rows: this.props.rows, selectedIds: selectedIds, probedIds: probedIds, showIdColumn: this.props.showIdColumn })
                )
            );
        }
    }]);

    return ReactBootstrapTable;
}(React.Component);

exports.default = ReactBootstrapTable;

},{"./TableBody":5,"./TableHead":6,"lodash":"lodash","react":"react","react-bootstrap":"react-bootstrap"}],5:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _TableRow = require("./TableRow");

var _TableRow2 = _interopRequireDefault(_TableRow);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/react-bootstrap/react-bootstrap.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>

var TableBody = function (_React$Component) {
    _inherits(TableBody, _React$Component);

    function TableBody(props) {
        _classCallCheck(this, TableBody);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TableBody).call(this, props));

        _this.tableRows = {};
        return _this;
    }

    _createClass(TableBody, [{
        key: "componentDidUpdate",
        value: function componentDidUpdate() {}
    }, {
        key: "render",
        value: function render() {
            var _this2 = this;

            return React.createElement(
                "tbody",
                null,
                this.props.rows.map(function (row, index) {
                    return React.createElement(_TableRow2.default, { ref: function ref(tableRow) {
                            _this2.tableRows[row[_this2.props.idProperty]] = tableRow;
                        }, key: index, onMouseOver: _this2.props.onMouseOver.bind(_this2, row[_this2.props.idProperty]), onClick: _this2.props.onClick.bind(_this2, row[_this2.props.idProperty]), idProperty: _this2.props.idProperty, row: row, probed: _this2.props.probedIds.indexOf(row[_this2.props.idProperty]) > -1, selected: _this2.props.selectedIds.indexOf(row[_this2.props.idProperty]) > -1, showIdColumn: _this2.props.showIdColumn });
                })
            );
        }
    }]);

    return TableBody;
}(React.Component);

exports.default = TableBody;

},{"./TableRow":7,"react":"react"}],6:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/react-bootstrap/react-bootstrap.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>

var TableHead = function (_React$Component) {
    _inherits(TableHead, _React$Component);

    function TableHead(props) {
        _classCallCheck(this, TableHead);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(TableHead).call(this, props));
    }

    _createClass(TableHead, [{
        key: "render",
        value: function render() {
            var _this2 = this;

            var headers = [];
            var keys = Object.keys(this.props.columnTitles);
            if (!this.props.showIdColumn) {
                keys.splice(keys.indexOf(this.props.idProperty), 1);
            }
            headers = keys.map(function (columnId) {
                return React.createElement(
                    "th",
                    { key: columnId },
                    _this2.props.columnTitles[columnId]
                );
            });
            return React.createElement(
                "thead",
                { className: "table-header" },
                React.createElement(
                    "tr",
                    null,
                    headers
                )
            );
        }
    }]);

    return TableHead;
}(React.Component);

exports.default = TableHead;

},{"react":"react"}],7:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

var _reactVendorPrefix = require("react-vendor-prefix");

var Prefixer = _interopRequireWildcard(_reactVendorPrefix);

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/react-bootstrap/react-bootstrap.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>
/// <reference path="../../typings/react-vendor-prefix/react-vendor-prefix.d.ts"/>

;
var baseStyle = {
    userSelect: "none"
};

var TableRow = function (_React$Component) {
    _inherits(TableRow, _React$Component);

    function TableRow(props) {
        _classCallCheck(this, TableRow);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TableRow).call(this, props));

        _this.selectedStyle = {
            backgroundColor: "#80CCFF"
        };
        _this.clear = {};
        _this.probedAndSelected = {
            backgroundColor: "#99D6FF"
        };
        _this.probedStyle = {
            backgroundColor: "rgba(153, 214, 255, 0.4)"
        };
        return _this;
    }

    _createClass(TableRow, [{
        key: "shouldComponentUpdate",
        value: function shouldComponentUpdate(nextProps, nextState) {
            // only update the row if the key has changed
            return this.props.selected != nextProps.selected || this.props.probed != nextProps.probed || !_.isEqual(this.props.row, nextProps.row);
        }
    }, {
        key: "render",
        value: function render() {
            var _this2 = this;

            var style = {};
            var selected = this.props.selected;
            var probed = this.props.probed;
            if (selected && probed) {
                style = this.probedAndSelected;
            }
            if (selected && !probed) {
                style = this.selectedStyle;
            }
            if (!selected && probed) {
                style = this.probedStyle;
            }
            if (!selected && !probed) {
                style = this.clear;
            }
            _StandardLib2.default.merge(style, baseStyle);
            var cells = [];
            var keys = Object.keys(this.props.row);
            if (!this.props.showIdColumn) {
                keys.splice(keys.indexOf(this.props.idProperty), 1);
            }
            cells = keys.map(function (key) {
                return React.createElement(
                    "td",
                    { key: key },
                    _this2.props.row[key]
                );
            });
            return React.createElement(
                "tr",
                { style: Prefixer.prefix({ styles: style }).styles, onMouseOver: this.props.onMouseOver.bind(this, true), onMouseOut: this.props.onMouseOver.bind(this, false), onClick: this.props.onClick.bind(this) },
                cells
            );
        }
    }]);

    return TableRow;
}(React.Component);

exports.default = TableRow;

},{"../utils/StandardLib":40,"lodash":"lodash","react":"react","react-vendor-prefix":"react-vendor-prefix"}],8:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _reactDom = require("react-dom");

var ReactDOM = _interopRequireWildcard(_reactDom);

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _reactVendorPrefix = require("react-vendor-prefix");

var VendorPrefix = _interopRequireWildcard(_reactVendorPrefix);

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

var _Resizer = require("./Resizer");

var _Resizer2 = _interopRequireDefault(_Resizer);

var _ResizerOverlay = require("./ResizerOverlay");

var _ResizerOverlay2 = _interopRequireDefault(_ResizerOverlay);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts" />
/// <reference path="../../typings/react/react-dom.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>
/// <reference path="../../typings/react-vendor-prefix/react-vendor-prefix.d.ts"/>

var RESIZEROVERLAY = "resizer";
var HORIZONTAL = "horizontal";

var Layout = function (_React$Component) {
    _inherits(Layout, _React$Component);

    function Layout(props, state) {
        _classCallCheck(this, Layout);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Layout).call(this, props, state));

        _this.panelDragging = false;
        var ps = props.state || {};
        _this.state = { id: ps.id, direction: ps.direction, children: ps.children, flex: ps.flex };
        _this.minSize = 16;
        _this.dragging = false;
        return _this;
    }

    _createClass(Layout, [{
        key: "componentDidMount",
        value: function componentDidMount() {
            document.addEventListener("mouseup", this.boundMouseUp = this.onMouseUp.bind(this));
            document.addEventListener("mousedown", this.boundMouseDown = this.onMouseDown.bind(this));
            document.addEventListener("mousemove", this.boundMouseMove = this.onMouseMove.bind(this));
        }
    }, {
        key: "componentWillReceiveProps",
        value: function componentWillReceiveProps(nextProps) {
            this.setState(_StandardLib2.default.includeMissingPropertyPlaceholders(this.state, nextProps.state));
        }
    }, {
        key: "compoenentWillUnmount",
        value: function compoenentWillUnmount() {
            document.removeEventListener("mousedown", this.boundMouseDown);
            document.removeEventListener("mouseup", this.boundMouseUp);
            document.removeEventListener("mouseMove", this.boundMouseMove);
        }
    }, {
        key: "shouldComponentUpdate",
        value: function shouldComponentUpdate(nextProps, nextState) {
            return !_.isEqual(this.state, nextState) || !_.isEqual(this.state, nextProps.state);
        }
    }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate() {
            if (this.props.onStateChange && this.state) {
                this.props.onStateChange(this.state);
            }
        }
    }, {
        key: "getDOMNodeFromId",
        value: function getDOMNodeFromId(id) {
            var component = this.getComponentFromId(id);
            if (component) {
                return component.element;
            }
        }
    }, {
        key: "getComponentFromId",
        value: function getComponentFromId(id) {
            if (this.state.id && _.isEqual(this.state.id, id)) {
                return this;
            } else {
                for (var i = 0; i < this.childNames.length; i++) {
                    var component = this.refs[this.childNames[i]].getComponentFromId(id);
                    if (component) {
                        return component;
                    }
                }
            }
        }
    }, {
        key: "onMouseDown",
        value: function onMouseDown(event) {
            var _this2 = this;

            this.resizerNames.forEach(function (resizerName) {
                var resizer = _this2.refs[resizerName];
                if (resizer && resizer.state && resizer.state.active) {
                    var overlayRange = _this2.getResizerRange(resizer);
                    overlayRange[0] += _this2.minSize;
                    overlayRange[1] -= _this2.minSize;
                    _this2.refs[RESIZEROVERLAY].setState({
                        active: true,
                        range: overlayRange
                    });
                }
            });
        }
    }, {
        key: "onMouseMove",
        value: function onMouseMove(event) {}
    }, {
        key: "getResizerRange",
        value: function getResizerRange(resizer) {
            var direction = resizer.props.direction;
            var pane1 = this.refs[resizer.props.pane1];
            var pane2 = this.refs[resizer.props.pane2];
            var element1 = ReactDOM.findDOMNode(pane1);
            var element2 = ReactDOM.findDOMNode(pane2);
            var rect = this.element.getBoundingClientRect();
            var pageLeft = window.pageXOffset + rect.left;
            var pageTop = window.pageYOffset + rect.top;
            if (direction === HORIZONTAL) {
                return [element1.offsetLeft + pageLeft, element2.offsetLeft + element2.clientWidth + pageLeft];
            } else {
                return [element1.offsetTop + pageTop, element2.offsetTop + element2.clientHeight + pageTop];
            }
        }
    }, {
        key: "onMouseUp",
        value: function onMouseUp(event) {
            var _this3 = this;

            var newState = _.cloneDeep(this.state);
            this.resizerNames.forEach(function (resizerName) {
                var resizer = _this3.refs[resizerName];
                var resizerOverlay = _this3.refs[RESIZEROVERLAY];
                if (resizer && resizer.state && resizer.state.active) {
                    var range = _this3.getResizerRange(resizer);
                    var begin = range[0];
                    var end = range[1];
                    var mousePos = _this3.state.direction === HORIZONTAL ? event.pageX : event.pageY;
                    var size = _this3.state.direction === HORIZONTAL ? _this3.element.clientWidth : _this3.element.clientHeight;
                    mousePos = Math.max(begin + _this3.minSize, Math.min(mousePos, end - _this3.minSize));
                    var ref1 = resizer.props.pane1;
                    var ref2 = resizer.props.pane2;
                    var pane1 = _this3.refs[ref1];
                    var pane2 = _this3.refs[ref2];
                    var index1 = _this3.childNames.indexOf(ref1);
                    var index2 = _this3.childNames.indexOf(ref2);
                    var flex1 = (mousePos - begin) / size;
                    var flex2 = (end - mousePos) / size;
                    newState.children[index1].flex = flex1;
                    newState.children[index2].flex = flex2;
                    pane1.setState({
                        flex: flex1
                    });
                    pane2.setState({
                        flex: flex2
                    });
                    resizer.setState({
                        active: false
                    });
                    resizerOverlay.setState({
                        active: false
                    });
                    _this3.setState(newState);
                }
            });
            this.panelDragging = false;
        }
    }, {
        key: "handleStateChange",
        value: function handleStateChange(childRef, newState) {
            var stateCopy = _.cloneDeep(this.state);
            var index = this.childNames.indexOf(childRef);
            stateCopy.children[index] = newState;
            this.setState(stateCopy);
        }
    }, {
        key: "render",
        value: function render() {
            var _this4 = this;

            this.childNames = [];
            this.resizerNames = [];
            var style = {
                display: "flex",
                flex: this.state.flex,
                position: "relative",
                outline: "none",
                overflow: "hidden",
                userSelect: "none",
                flexDirection: this.state.direction === HORIZONTAL ? "row" : "column"
            };
            if (this.state.direction === HORIZONTAL) {
                style.height = "100%";
            } else {
                style.width = "100%";
            }
            if (this.state.children && this.state.children.length > 0) {
                var newChildren = new Array(this.state.children.length * 2 - 1);
                this.state.children.forEach(function (childState, i) {
                    var ref = "child" + i;
                    _this4.childNames[i] = ref;
                    newChildren[i * 2] = React.createElement(Layout, { onStateChange: _this4.handleStateChange.bind(_this4, ref), ref: ref, state: childState, key: i * 2 });
                });
                var i;
                for (i = 1; i < newChildren.length - 1; i += 2) {
                    var resizerName = "resizer" + i / 2;
                    this.resizerNames.push(resizerName);
                    var resizer = React.createElement(_Resizer2.default, { ref: resizerName, key: i, direction: this.state.direction, pane1: newChildren[i - 1].ref, pane2: newChildren[i + 1].ref });
                    newChildren[i] = resizer;
                }
            }
            var prefixed = VendorPrefix.prefix({ styles: style });
            return React.createElement(
                "div",
                { ref: function ref(elt) {
                        _this4.element = elt;
                    }, style: prefixed.styles },
                newChildren,
                React.createElement(_ResizerOverlay2.default, { ref: RESIZEROVERLAY, key: RESIZEROVERLAY, direction: this.state.direction })
            );
        }
    }]);

    return Layout;
}(React.Component);

exports.default = Layout;

},{"../utils/StandardLib":40,"./Resizer":9,"./ResizerOverlay":10,"lodash":"lodash","react":"react","react-dom":"react-dom","react-vendor-prefix":"react-vendor-prefix"}],9:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _reactVendorPrefix = require("react-vendor-prefix");

var VendorPrefix = _interopRequireWildcard(_reactVendorPrefix);

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts" />
/// <reference path="../../typings/react/react-dom.d.ts"/>
/// <reference path="../../typings/react-vendor-prefix/react-vendor-prefix.d.ts"/>

var HORIZONTAL = "horizontal";
var resizerStyle = {};
resizerStyle.basic = {
    background: "#000",
    opacity: .1,
    zIndex: 1,
    boxSizing: "border-box",
    backgroundClip: "padding"
};
resizerStyle.vertical = {
    height: "4px",
    cursor: "row-resize",
    width: "100%"
};
resizerStyle.horizontal = {
    width: "4px",
    cursor: "col-resize",
    height: "100%"
};

var Resizer = function (_React$Component) {
    _inherits(Resizer, _React$Component);

    function Resizer(props) {
        _classCallCheck(this, Resizer);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Resizer).call(this, props));

        _this.state = {
            active: false
        };
        return _this;
    }

    _createClass(Resizer, [{
        key: "componentDidMount",
        value: function componentDidMount() {
            this.element.addEventListener("mousedown", this.boundMouseDown = this.onMouseDown.bind(this));
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            this.element.removeEventListener("mousedown", this.boundMouseDown);
        }
    }, {
        key: "onMouseDown",
        value: function onMouseDown() {
            this.setState({
                active: true
            });
        }
    }, {
        key: "render",
        value: function render() {
            var _this2 = this;

            var direction = this.props.direction;
            var style = resizerStyle.basic;
            _StandardLib2.default.merge(style, resizerStyle[direction]);
            var prefixed = VendorPrefix.prefix({ styles: style });
            return React.createElement("span", { ref: function ref(elt) {
                    _this2.element = elt;
                }, style: prefixed.styles });
        }
    }]);

    return Resizer;
}(React.Component);

exports.default = Resizer;

},{"../utils/StandardLib":40,"react":"react","react-vendor-prefix":"react-vendor-prefix"}],10:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _reactVendorPrefix = require("react-vendor-prefix");

var VendorPrefix = _interopRequireWildcard(_reactVendorPrefix);

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts" />
/// <reference path="../../typings/react-vendor-prefix/react-vendor-prefix.d.ts"/>
/// <reference path="../../typings/react/react-dom.d.ts"/>

var HORIZONTAL = "horizontal";
var mouseevents = ["mouseover", "mouseout", "mouseleave"];
var resizerStyle = {};
resizerStyle.basic = {
    background: "#000",
    opacity: .3,
    zIndex: 1,
    boxSizing: "border-box",
    backgroundClip: "padding",
    position: "absolute"
};
resizerStyle.vertical = {
    height: "4px",
    cursor: "row-resize",
    width: "100%"
};
resizerStyle.horizontal = {
    width: "4px",
    cursor: "col-resize",
    height: "100%"
};
;

var ResizerOverlay = function (_React$Component) {
    _inherits(ResizerOverlay, _React$Component);

    function ResizerOverlay(props) {
        _classCallCheck(this, ResizerOverlay);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ResizerOverlay).call(this, props));

        _this.state = {
            active: false,
            range: [],
            x: NaN,
            y: NaN
        };
        return _this;
    }

    _createClass(ResizerOverlay, [{
        key: "componentDidMount",
        value: function componentDidMount() {
            var _this2 = this;

            document.addEventListener("mousemove", this._onMouseMove = this.onMouseMove.bind(this), true);
            mouseevents.forEach(function (mouseevent) {
                return document.addEventListener(mouseevent, _this2._stopEventPropagation = _this2.stopEventPropagation.bind(_this2), true);
            });
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            var _this3 = this;

            document.removeEventListener("mousemove", this._onMouseMove);
            mouseevents.forEach(function (mouseevent) {
                return document.removeEventListener(mouseevent, _this3._stopEventPropagation);
            });
        }
    }, {
        key: "stopEventPropagation",
        value: function stopEventPropagation(event) {
            if (this.state.active) {
                event.stopImmediatePropagation();
            }
        }
    }, {
        key: "onMouseMove",
        value: function onMouseMove(event) {
            if (this.state.active) {
                event.stopImmediatePropagation();
                var container = this.element.parentNode;
                var rect = container.getBoundingClientRect();
                var left = window.pageXOffset + rect.left;
                var top = window.pageYOffset + rect.top;
                var mousePos = this.props.direction === HORIZONTAL ? event.pageX : event.pageY;
                mousePos = Math.max(this.state.range[0], Math.min(mousePos, this.state.range[1]));
                if (this.props.direction === HORIZONTAL) {
                    this.setState({
                        x: mousePos - left,
                        y: NaN
                    });
                } else {
                    this.setState({
                        x: NaN,
                        y: mousePos - top
                    });
                }
            }
        }
    }, {
        key: "render",
        value: function render() {
            var _this4 = this;

            var direction = this.props.direction;
            var style = {};
            _StandardLib2.default.merge(style, resizerStyle.basic);
            _StandardLib2.default.merge(style, resizerStyle[direction]);
            if (this.state.active) {
                style.visibility = "visible";
                style.left = this.state.x;
                style.top = this.state.y;
            } else {
                style.visibility = "hidden";
            }
            var prefixed = VendorPrefix.prefix({ styles: style });
            return React.createElement("span", { ref: function ref(elt) {
                    _this4.element = elt;
                }, style: prefixed.styles });
        }
    }]);

    return ResizerOverlay;
}(React.Component);

exports.default = ResizerOverlay;

},{"../utils/StandardLib":40,"react":"react","react-vendor-prefix":"react-vendor-prefix"}],11:[function(require,module,exports){
"use strict";

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts"/>

var HBox = function (_React$Component) {
    _inherits(HBox, _React$Component);

    function HBox(props, state) {
        _classCallCheck(this, HBox);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(HBox).call(this, props));
    }

    _createClass(HBox, [{
        key: "render",
        value: function render() {
            var style = this.props.style || {};
            var otherProps = {};
            for (var key in this.props) {
                if (key !== "style") {
                    otherProps[key] = this.props[key];
                }
            }
            style = style || {};
            style.display = "flex";
            style.flexDirection = "row";
            return React.createElement(
                "div",
                _extends({ style: style }, otherProps),
                this.props.children
            );
        }
    }]);

    return HBox;
}(React.Component);

exports.default = HBox;

},{"react":"react"}],12:[function(require,module,exports){
"use strict";

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/react/react.d.ts"/>

var VBox = function (_React$Component) {
    _inherits(VBox, _React$Component);

    function VBox(props, state) {
        _classCallCheck(this, VBox);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(VBox).call(this, props));
    }

    _createClass(VBox, [{
        key: "render",
        value: function render() {
            var style = this.props.style || {};
            var otherProps = {};
            for (var key in this.props) {
                if (key !== "style") {
                    otherProps[key] = this.props[key];
                }
            }
            style.display = "flex";
            style.flexDirection = "column";
            return React.createElement(
                "div",
                _extends({ style: style }, otherProps),
                this.props.children
            );
        }
    }]);

    return VBox;
}(React.Component);

exports.default = VBox;

},{"react":"react"}],13:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _HBox = require("./HBox");

var _HBox2 = _interopRequireDefault(_HBox);

var _VBox = require("./VBox");

var _VBox2 = _interopRequireDefault(_VBox);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

exports.default = {
    HBox: _HBox2.default,
    VBox: _VBox2.default
};

},{"./HBox":11,"./VBox":12}],14:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _d = require("d3");

var d3 = _interopRequireWildcard(_d);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../typings/react/react.d.ts"/>
///<reference path="../../typings/react/react-dom.d.ts"/>
///<reference path="../../typings/weave/WeavePath.d.ts"/>
///<reference path="../../typings/d3/d3.d.ts"/>
/// <reference path="../../typings/c3/c3.d.ts"/>

var AbstractC3Tool = function (_React$Component) {
    _inherits(AbstractC3Tool, _React$Component);

    function AbstractC3Tool(props) {
        _classCallCheck(this, AbstractC3Tool);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(AbstractC3Tool).call(this, props));

        _this.toolPath = props.toolPath;
        _this.paths = {};
        return _this;
    }

    _createClass(AbstractC3Tool, [{
        key: "componentDidUpdate",
        value: function componentDidUpdate() {
            if (this.c3Config.size.width != this.props.style.width || this.c3Config.size.height != this.props.style.height) {
                this.c3Config.size = { width: this.props.style.width, height: this.props.style.height };
                this.chart.resize({ width: this.props.style.width, height: this.props.style.height });
            }
        }
        // this function accepts an arry of path configurations
        // a path config is an object with a path object name, the weave path and an
        // optional callback or array of callbacks

    }, {
        key: "initializePaths",
        value: function initializePaths(properties) {
            var _this2 = this;

            properties.forEach(function (pathConf) {
                _this2.paths[pathConf.name] = pathConf.path;
                if (pathConf.callbacks) {
                    var callbacks = Array.isArray(pathConf.callbacks) ? pathConf.callbacks : [pathConf.callbacks];
                    callbacks.forEach(function (callback) {
                        _this2.paths[pathConf.name].addCallback(_this2, callback, true);
                    });
                }
            });
        }
    }, {
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "customStyle",
        value: function customStyle(array, type, filter, style) {
            var _this3 = this;

            array.forEach(function (index) {
                var filtered = d3.select(_this3.element).selectAll(type).filter(filter);
                if (filtered.length) d3.select(filtered[0][index]).style(style);
            });
        }
    }, {
        key: "customSelectorStyle",
        value: function customSelectorStyle(array, selector, style) {
            array.forEach(function (index) {
                if (selector.length) d3.select(selector[0][index]).style(style);
            });
        }
    }, {
        key: "render",
        value: function render() {
            var _this4 = this;

            return React.createElement("div", { ref: function ref(c) {
                    _this4.element = c;
                }, style: { width: "100%", height: "100%", maxHeight: "100%" } });
        }
    }, {
        key: "title",
        get: function get() {
            return (this.toolPath.getType('panelTitle') ? this.toolPath.getState('panelTitle') : '') || this.toolPath.getPath().pop();
        }
    }]);

    return AbstractC3Tool;
}(React.Component);

exports.default = AbstractC3Tool;

},{"d3":"d3","react":"react"}],15:[function(require,module,exports){
"use strict";

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _lodash = require("lodash");

var lodash = _interopRequireWildcard(_lodash);

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _jquery = require("jquery");

var _jquery2 = _interopRequireDefault(_jquery);

var _WeaveTool = require("../WeaveTool");

var _Layer = require("./OpenLayersMap/Layers/Layer");

var _Layer2 = _interopRequireDefault(_Layer);

var _GeometryLayer = require("./OpenLayersMap/Layers/GeometryLayer");

var _GeometryLayer2 = _interopRequireDefault(_GeometryLayer);

var _TileLayer = require("./OpenLayersMap/Layers/TileLayer");

var _TileLayer2 = _interopRequireDefault(_TileLayer);

var _ImageGlyphLayer = require("./OpenLayersMap/Layers/ImageGlyphLayer");

var _ImageGlyphLayer2 = _interopRequireDefault(_ImageGlyphLayer);

var _ScatterPlotLayer = require("./OpenLayersMap/Layers/ScatterPlotLayer");

var _ScatterPlotLayer2 = _interopRequireDefault(_ScatterPlotLayer);

var _LabelLayer = require("./OpenLayersMap/Layers/LabelLayer");

var _LabelLayer2 = _interopRequireDefault(_LabelLayer);

var _PanCluster = require("./OpenLayersMap/PanCluster");

var _PanCluster2 = _interopRequireDefault(_PanCluster);

var _InteractionModeCluster = require("./OpenLayersMap/InteractionModeCluster");

var _InteractionModeCluster2 = _interopRequireDefault(_InteractionModeCluster);

var _ProbeInteraction = require("./OpenLayersMap/ProbeInteraction");

var _ProbeInteraction2 = _interopRequireDefault(_ProbeInteraction);

var _DragSelection = require("./OpenLayersMap/DragSelection");

var _DragSelection2 = _interopRequireDefault(_DragSelection);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../typings/lodash/lodash.d.ts"/>
///<reference path="../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../typings/jquery/jquery.d.ts"/>
///<reference path="../../typings/weave/WeavePath.d.ts"/>
/// <reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/react/react-dom.d.ts"/>

var WeaveOpenLayersMap = function (_React$Component) {
    _inherits(WeaveOpenLayersMap, _React$Component);

    function WeaveOpenLayersMap(props) {
        _classCallCheck(this, WeaveOpenLayersMap);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveOpenLayersMap).call(this, props));

        _GeometryLayer2.default;
        _TileLayer2.default;
        _ImageGlyphLayer2.default;
        _ScatterPlotLayer2.default;
        _LabelLayer2.default; /* Forces the inclusion of the layers. */
        _this.layers = new Map();
        _this.toolPath = props.toolPath;
        return _this;
    }

    _createClass(WeaveOpenLayersMap, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            var _this2 = this;

            this.map = new ol.Map({
                interactions: ol.interaction.defaults({ dragPan: false }),
                controls: [],
                target: this.element
            });
            /* Setup custom interactions */
            this.interactionModePath = this.toolPath.weave.path("WeaveProperties", "toolInteractions", "defaultDragMode");
            var dragPan = new ol.interaction.DragPan();
            var dragSelect = new _DragSelection2.default();
            var probeInteraction = new _ProbeInteraction2.default(this);
            var dragZoom = new ol.interaction.DragZoom({ condition: ol.events.condition.always });
            this.map.addInteraction(dragPan);
            this.map.addInteraction(dragSelect);
            this.map.addInteraction(probeInteraction);
            this.map.addInteraction(dragZoom);
            this.interactionModePath.addCallback(this, function () {
                var interactionMode = _this2.interactionModePath.getState();
                dragPan.setActive(interactionMode === "pan");
                dragSelect.setActive(interactionMode === "select");
                dragZoom.setActive(interactionMode === "zoom");
            });
            /* Setup custom controls */
            this.zoomButtons = new ol.control.Zoom();
            this.slider = new ol.control.ZoomSlider();
            this.pan = new _PanCluster2.default();
            this.toolPath.push("showZoomControls").addCallback(this, this.onZoomControlToggle, true);
            this.toolPath.push("showMouseModeControls").addCallback(this, this.onMouseModeControlToggle, true);
            this.mouseModeButtons = new _InteractionModeCluster2.default({ interactionModePath: this.interactionModePath });
            this.plotManager = this.toolPath.push("children", "visualization", "plotManager");
            /* Todo replace override[X,Y][Min,Max] with a single overrideZoomBounds element; alternatively,
             * make a set of parameters on zoombounds itself. */
            var _arr = ["Min", "Max"];
            for (var _i = 0; _i < _arr.length; _i++) {
                var extreme = _arr[_i];var _arr2 = ["X", "Y"];

                for (var _i2 = 0; _i2 < _arr2.length; _i2++) {
                    var axis = _arr2[_i2];
                    this.plotManager.push("override" + axis + extreme).addCallback(this, this.onViewParametersChanged);
                }
            }this.toolPath.push("projectionSRS").addCallback(this, this.onViewParametersChanged, true);
            this.plottersPath = this.plotManager.push("plotters");
            this.layerSettingsPath = this.plotManager.push("layerSettings");
            this.zoomBoundsPath = this.plotManager.push("zoomBounds");
            this.plotManager.addCallback(this, this.requestDetail, true);
            this.plottersPath.getObject().childListCallbacks.addImmediateCallback(this, this.plottersChanged, true);
            this.zoomBoundsPath.addCallback(this, this.getSessionCenter, true);
        }
    }, {
        key: "onViewParametersChanged",
        value: function onViewParametersChanged() {
            var extent = [];
            var _arr3 = ["Min", "Max"];
            for (var _i3 = 0; _i3 < _arr3.length; _i3++) {
                var extreme = _arr3[_i3];var _arr4 = ["X", "Y"];

                for (var _i4 = 0; _i4 < _arr4.length; _i4++) {
                    var axis = _arr4[_i4];
                    extent.push(this.plotManager.push("override" + axis + extreme).getState());
                }
            }if (!lodash.every(extent, Number.isFinite)) {
                extent = undefined;
            }
            var projection = this.toolPath.push("projectionSRS").getState() || "EPSG:3857";
            var view = new ol.View({ projection: projection, extent: extent });
            view.set("extent", extent);
            this.centerCallbackHandle = view.on("change:center", this.setSessionCenter, this);
            this.resolutionCallbackHandle = view.on("change:resolution", this.setSessionZoom, this);
            this.map.setView(view);
            this.getSessionCenter();
        }
    }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate() {
            this.map.updateSize();
            var viewport = this.map.getViewport();
            var screenBounds = new weavejs.geom.Bounds2D(0, 0, viewport.clientWidth, viewport.clientHeight);
            this.zoomBoundsPath.getObject().setScreenBounds(screenBounds, true);
        }
    }, {
        key: "updateControlPositions",
        value: function updateControlPositions() {
            if (this.toolPath.push("showZoomControls").getState()) {
                (0, _jquery2.default)(this.element).find(".ol-control.panCluster").css({ top: "0.5em", left: "0.5em" });
                (0, _jquery2.default)(this.element).find(".ol-control.ol-zoom").css({ top: "5.5em", left: "2.075em" });
                (0, _jquery2.default)(this.element).find(".ol-control.ol-zoomslider").css({ top: "9.25em", left: "2.075em" });
                (0, _jquery2.default)(this.element).find(".ol-control.iModeCluster").css({ top: "20.75em", left: "0.6em" });
            } else {
                (0, _jquery2.default)(this.element).find(".ol-control");
            }
        }
    }, {
        key: "onMouseModeControlToggle",
        value: function onMouseModeControlToggle() {
            var showMouseModeControls = this.toolPath.push("showMouseModeControls").getState();
            if (showMouseModeControls) {
                this.map.addControl(this.mouseModeButtons);
            } else {
                this.map.removeControl(this.mouseModeButtons);
            }
            this.updateControlPositions();
        }
    }, {
        key: "onZoomControlToggle",
        value: function onZoomControlToggle() {
            var showZoomControls = this.toolPath.push("showZoomControls").getState();
            if (showZoomControls) {
                this.map.addControl(this.slider);
                this.map.addControl(this.pan);
                this.map.addControl(this.zoomButtons);
            } else {
                this.map.removeControl(this.slider);
                this.map.removeControl(this.pan);
                this.map.removeControl(this.zoomButtons);
            }
            this.updateControlPositions();
        }
    }, {
        key: "setSessionCenter",
        value: function setSessionCenter() {
            var _map$getView$getCente = this.map.getView().getCenter();

            var _map$getView$getCente2 = _slicedToArray(_map$getView$getCente, 2);

            var xCenter = _map$getView$getCente2[0];
            var yCenter = _map$getView$getCente2[1];

            var zoomBounds = this.zoomBoundsPath.getObject();
            var dataBounds = new weavejs.geom.Bounds2D();
            zoomBounds.getDataBounds(dataBounds);
            dataBounds.setXCenter(xCenter);
            dataBounds.setYCenter(yCenter);
            zoomBounds.setDataBounds(dataBounds);
        }
    }, {
        key: "setSessionZoom",
        value: function setSessionZoom() {
            var resolution = this.map.getView().getResolution();
            var zoomBounds = this.zoomBoundsPath.getObject();
            var dataBounds = new weavejs.geom.Bounds2D();
            var screenBounds = new weavejs.geom.Bounds2D();
            zoomBounds.getDataBounds(dataBounds);
            zoomBounds.getScreenBounds(screenBounds);
            dataBounds.setWidth(screenBounds.getWidth() * resolution);
            dataBounds.setHeight(screenBounds.getHeight() * resolution);
            dataBounds.makeSizePositive();
            zoomBounds.setDataBounds(dataBounds);
        }
    }, {
        key: "getSessionCenter",
        value: function getSessionCenter() {
            var _this3 = this;

            var zoomBounds = this.zoomBoundsPath.getObject();
            var dataBounds = new weavejs.geom.Bounds2D();
            zoomBounds.getDataBounds(dataBounds);
            var center = [dataBounds.getXCenter(), dataBounds.getYCenter()];
            var scale = zoomBounds.getXScale();
            this.map.getView().un("change:center", this.setSessionCenter, this);
            this.map.getView().un("change:resolution", this.setSessionZoom, this);
            this.map.getView().setCenter(center);
            this.map.getView().setResolution(1 / scale);
            lodash.defer(function () {
                _this3.map.getView().on("change:center", _this3.setSessionCenter, _this3);
                _this3.map.getView().on("change:resolution", _this3.setSessionZoom, _this3);
            });
        }
    }, {
        key: "requestDetail",
        value: function requestDetail() {
            var zoomBounds = this.zoomBoundsPath.getObject();
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = Weave.getDescendants(this.toolPath.getObject(), weavejs.data.column.StreamedGeometryColumn)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var sgc = _step.value;

                    //TODO - this doesn't handle a dataBounds of different projection than the streamed geometries are in
                    sgc.requestGeometryDetailForZoomBounds(zoomBounds);
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }
        }
    }, {
        key: "plottersChanged",
        value: function plottersChanged() {
            var oldNames = Array.from(this.layers.keys());
            var newNames = this.plottersPath.getNames();
            var removedNames = lodash.difference(oldNames, newNames);
            var addedNames = lodash.difference(newNames, oldNames);
            removedNames.forEach(function (name) {
                if (this.layers.get(name)) {
                    this.layers.get(name).dispose();
                }
                this.layers.delete(name);
            }, this);
            addedNames.forEach(function (name) {
                var layer = _Layer2.default.newLayer(this, name);
                this.layers.set(name, layer);
            }, this);
            /* */
            for (var idx in newNames) {
                var layer = this.layers.get(newNames[idx]);
                if (!layer || !layer.olLayer) {
                    continue;
                }
                layer.olLayer.setZIndex(idx + 2);
            }
        }
    }, {
        key: "destroy",
        value: function destroy() {}
    }, {
        key: "render",
        value: function render() {
            var _this4 = this;

            return React.createElement("div", { ref: function ref(c) {
                    _this4.element = c;
                }, style: { width: "100%", height: "100%" } });
        }
    }]);

    return WeaveOpenLayersMap;
}(React.Component);

exports.default = WeaveOpenLayersMap;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::MapTool", WeaveOpenLayersMap);

},{"../WeaveTool":3,"./OpenLayersMap/DragSelection":16,"./OpenLayersMap/InteractionModeCluster":17,"./OpenLayersMap/Layers/GeometryLayer":19,"./OpenLayersMap/Layers/ImageGlyphLayer":22,"./OpenLayersMap/Layers/LabelLayer":23,"./OpenLayersMap/Layers/Layer":24,"./OpenLayersMap/Layers/ScatterPlotLayer":25,"./OpenLayersMap/Layers/TileLayer":26,"./OpenLayersMap/PanCluster":27,"./OpenLayersMap/ProbeInteraction":28,"jquery":"jquery","lodash":"lodash","openlayers":"openlayers","react":"react"}],16:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _FeatureLayer = require("./Layers/FeatureLayer");

var _FeatureLayer2 = _interopRequireDefault(_FeatureLayer);

var _ProbeInteraction = require("./ProbeInteraction");

var _ProbeInteraction2 = _interopRequireDefault(_ProbeInteraction);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../typings/jquery/jquery.d.ts"/>
///<reference path="../../../typings/weave/WeavePath.d.ts"/>

var DragSelectionMode;
(function (DragSelectionMode) {
    DragSelectionMode[DragSelectionMode["SUBTRACT"] = -1] = "SUBTRACT";
    DragSelectionMode[DragSelectionMode["SET"] = 0] = "SET";
    DragSelectionMode[DragSelectionMode["ADD"] = 1] = "ADD";
})(DragSelectionMode || (DragSelectionMode = {}));
;

var DragSelection = function (_ol$interaction$DragB) {
    _inherits(DragSelection, _ol$interaction$DragB);

    function DragSelection() {
        _classCallCheck(this, DragSelection);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(DragSelection).call(this, { boxEndCondition: function boxEndCondition() {
                return true;
            } }));

        _this.on('boxstart', DragSelection.prototype.onBoxStart, _this);
        _this.on('boxdrag', DragSelection.prototype.onBoxDrag, _this);
        _this.on('boxend', DragSelection.prototype.onBoxEnd, _this);
        return _this;
    }

    _createClass(DragSelection, [{
        key: "onBoxStart",
        value: function onBoxStart(event) {
            if (this.probeInteraction) this.probeInteraction.setActive(false);
            var dragBoxEvent = event;
            var browserEvent = dragBoxEvent.mapBrowserEvent.originalEvent;
            if (browserEvent.ctrlKey && browserEvent.shiftKey) {
                this.mode = DragSelectionMode.SUBTRACT;
            } else if (browserEvent.ctrlKey) {
                this.mode = DragSelectionMode.ADD;
            } else {
                this.mode = DragSelectionMode.SET;
            }
        }
    }, {
        key: "updateSelection",
        value: function updateSelection(extent) {
            var selectedFeatures = new Set();
            var selectFeature = function selectFeature(feature) {
                selectedFeatures.add(feature.getId());
            };
            var mapTool = this.mapTool;
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.getMap().getLayers().getArray()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var olLayer = _step.value;

                    var selectable = olLayer.get("selectable");
                    var weaveLayer = olLayer.get("layerObject");
                    if (weaveLayer instanceof _FeatureLayer2.default && selectable) {
                        var keySet = weaveLayer.selectionKeySet;
                        var source = olLayer.getSource();
                        source.forEachFeatureIntersectingExtent(extent, selectFeature);
                        var keys = Array.from(selectedFeatures);
                        switch (this.mode) {
                            case DragSelectionMode.SET:
                                keySet.setKeys(keys);
                                break;
                            case DragSelectionMode.ADD:
                                keySet.addKeys(keys);
                                break;
                            case DragSelectionMode.SUBTRACT:
                                keySet.removeKeys(keys);
                                break;
                        }
                    }
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }
        }
    }, {
        key: "onBoxDrag",
        value: function onBoxDrag(event) {
            var extent = this.getGeometry().getExtent();
            this.updateSelection(extent);
        }
    }, {
        key: "onBoxEnd",
        value: function onBoxEnd(event) {
            var extent = this.getGeometry().getExtent();
            this.updateSelection(extent);
            if (this.probeInteraction) this.probeInteraction.setActive(true);
        }
    }, {
        key: "probeInteraction",
        get: function get() {
            if (!this._probeInteraction) {
                var _iteratorNormalCompletion2 = true;
                var _didIteratorError2 = false;
                var _iteratorError2 = undefined;

                try {
                    for (var _iterator2 = this.getMap().getInteractions().getArray()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                        var interaction = _step2.value;

                        if (interaction instanceof _ProbeInteraction2.default) {
                            this._probeInteraction = interaction;
                            break;
                        }
                    }
                } catch (err) {
                    _didIteratorError2 = true;
                    _iteratorError2 = err;
                } finally {
                    try {
                        if (!_iteratorNormalCompletion2 && _iterator2.return) {
                            _iterator2.return();
                        }
                    } finally {
                        if (_didIteratorError2) {
                            throw _iteratorError2;
                        }
                    }
                }
            }
            return this._probeInteraction;
        }
    }]);

    return DragSelection;
}(ol.interaction.DragBox);

exports.default = DragSelection;

},{"./Layers/FeatureLayer":18,"./ProbeInteraction":28,"openlayers":"openlayers"}],17:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _jquery = require("jquery");

var _jquery2 = _interopRequireDefault(_jquery);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../typings/jquery/jquery.d.ts"/>
///<reference path="../../../typings/weave/WeavePath.d.ts"/>

var InteractionModeCluster = function (_ol$control$Control) {
    _inherits(InteractionModeCluster, _ol$control$Control);

    function InteractionModeCluster(optOptions) {
        _classCallCheck(this, InteractionModeCluster);

        var interactionModePath = optOptions.interactionModePath;
        var options = optOptions || {};
        var buttonTable = (0, _jquery2.default)("\n\t\t\t<table class=\"ol-unselectable ol-control iModeCluster\">\n\t\t\t\t<tr style=\"font-size: 80%\">\n\t\t\t\t\t<td><button class=\"iModeCluster pan fa fa-hand-grab-o\"></button></td>\n\t\t\t\t\t<td><button class=\"iModeCluster select fa fa-mouse-pointer\"></button></td>\n\t\t\t\t\t<td><button class=\"iModeCluster zoom fa fa-search-plus\"></button></td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t");
        buttonTable.find("button.iModeCluster.pan").click(function () {
            return interactionModePath.state("pan");
        });
        buttonTable.find("button.iModeCluster.select").click(function () {
            return interactionModePath.state("select");
        });
        buttonTable.find("button.iModeCluster.zoom").click(function () {
            return interactionModePath.state("zoom");
        });

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(InteractionModeCluster).call(this, { element: buttonTable[0], target: options.target }));

        interactionModePath.addCallback(_this, function () {
            buttonTable.find("button.iModeCluster").removeClass("active");
            buttonTable.find("button.iModeCluster." + interactionModePath.getState()).addClass("active");
        }, true);
        return _this;
    }

    return InteractionModeCluster;
}(ol.control.Control);

exports.default = InteractionModeCluster;

},{"jquery":"jquery","openlayers":"openlayers"}],18:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.FeatureLayer = undefined;

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _lodash = require("lodash");

var lodash = _interopRequireWildcard(_lodash);

var _Layer2 = require("./Layer");

var _Layer3 = _interopRequireDefault(_Layer2);

var _StandardLib = require("../../../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

var FeatureLayer = exports.FeatureLayer = function (_Layer) {
    _inherits(FeatureLayer, _Layer);

    function FeatureLayer(parent, layerName) {
        _classCallCheck(this, FeatureLayer);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(FeatureLayer).call(this, parent, layerName));

        _this.updateMetaStyle = _this.updateMetaStyle_unbound.bind(_this);
        _this.debounced_updateMetaStyles = lodash.debounce(_this.updateMetaStyles.bind(_this), 0);
        _this.olLayer = new ol.layer.Vector();
        _this.source = new ol.source.Vector({ wrapX: false });
        /* Every feature that is added should register a handler to automatically recompute the metastyles when the styles change. */
        _this.source.on("addfeature", _this.onFeatureAdd, _this);
        _this.changedItems = new Set();
        _this.probedSet = new Set();
        _this.selectedSet = new Set();
        _this.filteredSet = new Set();
        _this.selectionKeySet = _this.layerPath.selection_keyset;
        _this.probeKeySet = _this.layerPath.probe_keyset;
        _this.filteredKeySet = _this.layerPath.push("filteredKeySet");
        var selectionKeyHandler = _this.updateSetFromKeySet.bind(_this, _this.selectionKeySet, _this.selectedSet);
        var probeKeyHandler = _this.updateSetFromKeySet.bind(_this, _this.probeKeySet, _this.probedSet);
        _this.selectionKeySet.addKeySetCallback(selectionKeyHandler);
        _this.probeKeySet.addKeySetCallback(probeKeyHandler);
        _this.filteredKeySet.addCallback(_this, _this.updateFilteredKeySet, true);
        _this.settingsPath.push("selectable").addCallback(_this, _this.updateMetaStyles);
        return _this;
    }

    _createClass(FeatureLayer, [{
        key: "onFeatureAdd",
        value: function onFeatureAdd(vectorEvent) {
            vectorEvent.feature.on("propertychange", this.onFeaturePropertyChange, this);
        }
    }, {
        key: "onFeaturePropertyChange",
        value: function onFeaturePropertyChange(objectEvent) {
            var propertyName = objectEvent.key;
            if (!lodash.contains(FeatureLayer.Styles, propertyName)) {
                /* The property that changed isn't one of our metaStyle properties, so we don't care. */
                return;
            } else {
                /* The property that changed was a metastyle, and as such the styles should be recomputed */
                this.debounced_updateMetaStyles();
            }
        }
    }, {
        key: "getToolTipColumns",
        value: function getToolTipColumns() {
            return [];
        }
        /* TODO: Move this into WeaveTool */

    }, {
        key: "updateSetFromKeySet",
        value: function updateSetFromKeySet(keySet, set, diff) {
            if (!this.source) return; //HACK
            var wasEmpty = set.size === 0;
            this.changedItems.clear();
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = diff.added[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var key = _step.value;

                    set.add(key);
                    this.changedItems.add(key);
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
                for (var _iterator2 = diff.removed[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                    var key = _step2.value;

                    set.delete(key);
                    this.changedItems.add(key);
                }
            } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion2 && _iterator2.return) {
                        _iterator2.return();
                    }
                } finally {
                    if (_didIteratorError2) {
                        throw _iteratorError2;
                    }
                }
            }

            var isEmpty = set.size === 0;
            /* If a set becomes empty or nonempty, we should recompute all the styles. Otherwise, only recompute the styles of the features which changed. */
            if (isEmpty !== wasEmpty) {
                this.updateMetaStyles();
            } else {
                this.changedItems.forEach(function (featureId) {
                    var feature = this.source.getFeatureById(featureId);
                    if (feature) {
                        this.updateMetaStyle(feature);
                    }
                }, this);
            }
        }
    }, {
        key: "updateFilteredKeySet",
        value: function updateFilteredKeySet() {
            if (!this.source) return; //HACK
            var sourceKeys = this.source.getFeatures().map(function (feature) {
                return feature.getId();
            });
            this.filteredSet.clear();
            var filteredKeys = this.filteredKeySet.filterKeys(sourceKeys);
            var _iteratorNormalCompletion3 = true;
            var _didIteratorError3 = false;
            var _iteratorError3 = undefined;

            try {
                for (var _iterator3 = filteredKeys[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                    var key = _step3.value;

                    this.filteredSet.add(key);
                }
            } catch (err) {
                _didIteratorError3 = true;
                _iteratorError3 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion3 && _iterator3.return) {
                        _iterator3.return();
                    }
                } finally {
                    if (_didIteratorError3) {
                        throw _iteratorError3;
                    }
                }
            }

            this.updateMetaStyles();
        }
    }, {
        key: "updateMetaStyles",
        value: function updateMetaStyles() {
            if (!this.source) return; //HACK
            this.tempSelectable = this.settingsPath.push("selectable").getState();
            this.source.forEachFeature(this.updateMetaStyle, this);
        }
    }, {
        key: "updateMetaStyle_unbound",
        value: function updateMetaStyle_unbound(feature) {
            var id = feature.getId();
            var nullStyle = new ol.style.Style({});
            var unselectedStyle = feature.get("unselectedStyle") || nullStyle;
            var normalStyle = feature.get("normalStyle") || nullStyle;
            var selectedStyle = feature.get("selectedStyle") || nullStyle;
            var probedStyle = feature.get("probedStyle") || nullStyle;
            var zOrder = feature.get("zOrder") || 0;
            var replace = feature.get("replace");
            var newStyle = undefined;
            if (!this.filteredSet.has(id)) {
                feature.setStyle(nullStyle);
                return;
            }
            if (!this.tempSelectable) {
                feature.setStyle(normalStyle);
                return;
            }
            if (!this.selectedSet.has(id) && !this.probedSet.has(id) && this.selectedSet.size > 0) {
                if (replace) {
                    newStyle = unselectedStyle;
                    newStyle.setZIndex(zOrder);
                } else {
                    newStyle = [].concat(unselectedStyle);
                    newStyle[0].setZIndex(zOrder);
                }
            } else {
                newStyle = [].concat(normalStyle);
                newStyle[0].setZIndex(zOrder);
            }
            if (this.selectedSet.has(id)) {
                if (replace) {
                    newStyle = selectedStyle;
                    newStyle.setZIndex(Number.MAX_SAFE_INTEGER - 3);
                } else {
                    newStyle = newStyle.concat(selectedStyle);
                    newStyle[0].setZIndex(Number.MAX_SAFE_INTEGER - 3);
                }
            }
            if (this.probedSet.has(id)) {
                if (replace) {
                    newStyle = probedStyle;
                    newStyle.setZIndex(Number.MAX_SAFE_INTEGER);
                } else {
                    newStyle = newStyle.concat(probedStyle);
                    newStyle[0].setZIndex(Number.MAX_SAFE_INTEGER);
                }
            }
            feature.setStyle(newStyle);
        }
    }], [{
        key: "getToolTipData",
        value: function getToolTipData(key /* IQualifiedKey */) /* Array<IAttributeColumn */{
            var additionalColumns = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];

            var columnHashMap = weave.root.getObject("Probed Columns");
            var result = {};
            var _iteratorNormalCompletion4 = true;
            var _didIteratorError4 = false;
            var _iteratorError4 = undefined;

            try {
                for (var _iterator4 = columnHashMap.getObjects().concat(additionalColumns)[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {
                    var child = _step4.value;

                    var title = child.getMetadata("title");
                    var value = child.getValueFromKey(key, String);
                    if (value) {
                        result[title] = value;
                    }
                }
            } catch (err) {
                _didIteratorError4 = true;
                _iteratorError4 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion4 && _iterator4.return) {
                        _iterator4.return();
                    }
                } finally {
                    if (_didIteratorError4) {
                        throw _iteratorError4;
                    }
                }
            }

            return result;
        }
        /* TODO: Move this into WeaveTool */

    }, {
        key: "getToolTipTitle",
        value: function getToolTipTitle(key /* IQualifiedKey */) {
            var titleHashMap = weave.root.getObject("Probe Header Columns");
            return lodash.map(titleHashMap.getObjects(), function (d) {
                return d.getValueFromKey(key, String);
            }).join(", ");
        }
    }, {
        key: "toColorArray",
        value: function toColorArray(colorString, alpha) {
            var colorArray;
            if (colorString[0] === "#") {
                colorArray = ol.color.asArray(colorString);
            } else {
                colorArray = ol.color.asArray("#" + _StandardLib2.default.decimalToHex(Number(colorString)));
            }
            colorArray = [].concat(colorArray); /* Should not be modified since it is cached in ol.color.asArray */
            if (!colorArray) {
                return null;
            }
            colorArray[3] = Number(alpha);
            return colorArray;
        }
    }, {
        key: "toColorRGBA",
        value: function toColorRGBA(colorString, alpha) {
            var colorArray = FeatureLayer.toColorArray(colorString, alpha);
            return ol.color.asString(colorArray);
        }
    }, {
        key: "olFillFromWeaveFill",
        value: function olFillFromWeaveFill(fill, fade) {
            if (fade === undefined) fade = 1;
            var color = fill.color && FeatureLayer.toColorArray(fill.color, fill.alpha * fade) || [0, 0, 0, 0];
            return new ol.style.Fill({ color: color });
        }
    }, {
        key: "olStrokeFromWeaveStroke",
        value: function olStrokeFromWeaveStroke(stroke, fade) {
            if (fade === undefined) fade = 1;
            var color = stroke.color && FeatureLayer.toColorArray(stroke.color, stroke.alpha * fade) || [0, 0, 0, 1];
            var lineCap = stroke.lineCap === "none" ? "butt" : stroke.lineCap || "round";
            var lineJoin = stroke.lineJoin === null ? "round" : stroke.lineJoin || "round";
            var miterLimit = Number(stroke.miterLimit);
            var width = Number(stroke.weight);
            return new ol.style.Stroke({ color: color, lineCap: lineCap, lineJoin: lineJoin, miterLimit: miterLimit, width: width });
        }
    }, {
        key: "getOlProbedStyle",
        value: function getOlProbedStyle(baseStrokeStyle) {
            var width = baseStrokeStyle.getWidth();
            return [new ol.style.Style({
                stroke: new ol.style.Stroke({
                    color: [0, 0, 0, 1],
                    width: width + FeatureLayer.PROBE_HALO_WIDTH + FeatureLayer.PROBE_LINE_WIDTH
                }),
                zIndex: Number.MAX_SAFE_INTEGER - 2
            }), new ol.style.Style({
                stroke: new ol.style.Stroke({
                    color: [255, 255, 255, 1],
                    width: width + FeatureLayer.PROBE_HALO_WIDTH
                }),
                zIndex: Number.MAX_SAFE_INTEGER - 1
            })];
        }
    }, {
        key: "getOlSelectionStyle",
        value: function getOlSelectionStyle(baseStrokeStyle) {
            var width = baseStrokeStyle.getWidth();
            var lineCap = baseStrokeStyle.getLineCap();
            var lineJoin = baseStrokeStyle.getLineJoin();
            var miterLimit = baseStrokeStyle.getMiterLimit();
            return [new ol.style.Style({
                stroke: new ol.style.Stroke({
                    color: [0, 0, 0, 0.5],
                    width: width + FeatureLayer.SELECT_WIDTH,
                    lineCap: lineCap, lineJoin: lineJoin, miterLimit: miterLimit }),
                zIndex: Number.MAX_SAFE_INTEGER - 4
            })];
        }
    }]);

    return FeatureLayer;
}(_Layer3.default);

FeatureLayer.SELECT_WIDTH = 5;
FeatureLayer.PROBE_HALO_WIDTH = 4;
FeatureLayer.PROBE_LINE_WIDTH = 1;
FeatureLayer.Styles = {
    NORMAL: "normalStyle",
    UNSELECTED: "unselectedStyle",
    SELECTED: "selectedStyle",
    PROBED: "probedStyle"
};
;
;
exports.default = FeatureLayer;

},{"../../../utils/StandardLib":40,"./Layer":24,"lodash":"lodash","openlayers":"openlayers"}],19:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _FeatureLayer2 = require("./FeatureLayer");

var _Layer = require("./Layer");

var _Layer2 = _interopRequireDefault(_Layer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

var GeometryLayer = function (_FeatureLayer) {
    _inherits(GeometryLayer, _FeatureLayer);

    function GeometryLayer(parent, layerName) {
        _classCallCheck(this, GeometryLayer);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(GeometryLayer).call(this, parent, layerName));

        _this.geoJsonParser = new ol.format.GeoJSON();
        _this.geoColumnPath = _this.layerPath.push("geometryColumn");
        _this.fillStylePath = _this.layerPath.push("fill");
        _this.lineStylePath = _this.layerPath.push("line");
        _this.geoColumnPath.addCallback(_this, _this.updateGeometryData, true);
        _this.projectionPath.addCallback(_this, _this.updateGeometryData, true);
        _this.fillStylePath.addCallback(_this, _this.updateStyleData);
        _this.lineStylePath.addCallback(_this, _this.updateStyleData, true);
        _this.filteredKeySet.getObject().setColumnKeySources([_this.geoColumnPath.getObject("internalDynamicColumn")]);
        return _this;
    }

    _createClass(GeometryLayer, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "updateGeometryData",
        value: function updateGeometryData() {
            var projectionSpec = this.geoColumnPath.getObject("internalDynamicColumn", null).getMetadata('projection');
            var outputProjection = this.projectionPath.getState() || "EPSG:3857";
            var inputProjection = projectionSpec || outputProjection;
            this.source.clear();
            var keys = this.geoColumnPath.push('internalDynamicColumn').getKeys();
            var idc = this.geoColumnPath.getObject("internalDynamicColumn");
            var rawGeometries = weavejs.data.ColumnUtils.getGeoJsonGeometries(idc, idc.keys);
            for (var idx = 0; idx < keys.length; idx++) {
                var id = keys[idx];
                var geometry = this.geoJsonParser.readGeometry(rawGeometries[idx], { dataProjection: inputProjection, featureProjection: outputProjection });
                var feature = new ol.Feature({ geometry: geometry });
                feature.setId(id);
                this.source.addFeature(feature);
            }
            this.updateStyleData();
            this.updateFilteredKeySet();
        }
    }, {
        key: "getToolTipColumns",
        value: function getToolTipColumns() {
            var additionalColumns = new Array();
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.fillStylePath.getChildren().concat(this.lineStylePath.getChildren())[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var column = _step.value;

                    var internalColumn = weavejs.data.ColumnUtils.hack_findInternalDynamicColumn(column.getObject());
                    if (internalColumn) additionalColumns.push(internalColumn);
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            return additionalColumns;
        }
    }, {
        key: "updateStyleData",
        value: function updateStyleData() {
            var fillEnabled = this.fillStylePath.push("enable").getState();
            var strokeEnabled = this.lineStylePath.push("enable").getState();
            var styleRecords = this.layerPath.retrieveRecords({
                fill: {
                    color: this.fillStylePath.push("color"),
                    alpha: this.fillStylePath.push("alpha"),
                    imageURL: this.fillStylePath.push("imageURL")
                },
                stroke: {
                    color: this.lineStylePath.push("color"),
                    alpha: this.lineStylePath.push("alpha"),
                    weight: this.lineStylePath.push("weight"),
                    lineCap: this.lineStylePath.push("caps"),
                    lineJoin: this.lineStylePath.push("joints"),
                    miterLimit: this.lineStylePath.push("miterLimit")
                }
            }, this.geoColumnPath.push("internalDynamicColumn"));
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
                for (var _iterator2 = styleRecords[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                    var record = _step2.value;

                    var olStroke = _FeatureLayer2.FeatureLayer.olStrokeFromWeaveStroke(record.stroke);
                    var olFill = _FeatureLayer2.FeatureLayer.olFillFromWeaveFill(record.fill);
                    var olStrokeFaded = _FeatureLayer2.FeatureLayer.olStrokeFromWeaveStroke(record.stroke, 0.5);
                    var olFillFaded = _FeatureLayer2.FeatureLayer.olFillFromWeaveFill(record.fill, 0.5);
                    var normalStyle = [new ol.style.Style({
                        fill: fillEnabled ? olFill : undefined,
                        stroke: strokeEnabled ? olStroke : undefined,
                        zIndex: 0
                    })];
                    var unselectedStyle = [new ol.style.Style({
                        fill: fillEnabled ? olFill : undefined,
                        stroke: strokeEnabled ? olStrokeFaded : undefined,
                        zIndex: 0
                    })];
                    var selectedStyle = (strokeEnabled || fillEnabled) && _FeatureLayer2.FeatureLayer.getOlSelectionStyle(olStroke);
                    var probedStyle = (strokeEnabled || fillEnabled) && _FeatureLayer2.FeatureLayer.getOlProbedStyle(olStroke);
                    var feature = this.source.getFeatureById(record.id);
                    if (feature) {
                        var metaStyle = {};
                        metaStyle.normalStyle = normalStyle;
                        metaStyle.unselectedStyle = unselectedStyle;
                        metaStyle.selectedStyle = selectedStyle;
                        metaStyle.probedStyle = probedStyle;
                        feature.setProperties(metaStyle);
                    }
                }
            } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion2 && _iterator2.return) {
                        _iterator2.return();
                    }
                } finally {
                    if (_didIteratorError2) {
                        throw _iteratorError2;
                    }
                }
            }
        }
    }]);

    return GeometryLayer;
}(_FeatureLayer2.FeatureLayer);

_Layer2.default.registerClass("weave.visualization.plotters::GeometryPlotter", GeometryLayer, [weavejs.api.core.ILinkableObjectWithNewProperties]);
exports.default = GeometryLayer;

},{"./FeatureLayer":18,"./Layer":24,"openlayers":"openlayers"}],20:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _FeatureLayer2 = require("./FeatureLayer");

var _FeatureLayer3 = _interopRequireDefault(_FeatureLayer2);

var _lodash = require("lodash");

var lodash = _interopRequireWildcard(_lodash);

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

var GlyphLayer = function (_FeatureLayer) {
    _inherits(GlyphLayer, _FeatureLayer);

    function GlyphLayer(parent, layerName) {
        _classCallCheck(this, GlyphLayer);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(GlyphLayer).call(this, parent, layerName));

        _this.projectionPath.addCallback(_this, _this.updateLocations);
        _this.layerPath.push("sourceProjection").addCallback(_this, _this.updateLocations);
        _this.layerPath.push("dataX").addCallback(_this, _this.updateLocations);
        _this.layerPath.push("dataY").addCallback(_this, _this.updateLocations, true);
        _this.filteredKeySet.getObject().setColumnKeySources([_this.layerPath.push("dataX").getObject(), _this.layerPath.push("dataY").getObject()]);
        return _this;
    }

    _createClass(GlyphLayer, [{
        key: "_getFeatureIds",
        value: function _getFeatureIds() {
            return lodash.map(this.source.getFeatures(), function (item) {
                return item.getId();
            });
        }
    }, {
        key: "updateLocations",
        value: function updateLocations() {
            /* Update feature locations */
            var records = this.layerPath.retrieveRecords(["dataX", "dataY"], this.layerPath.push("dataX"));
            var recordIds = lodash.pluck(records, "id");
            var removedIds = lodash.difference(this._getFeatureIds(), recordIds);
            var rawProj = this.layerPath.getState("sourceProjection") || this.layerPath.getObject("dataX").getMetadata("projection") || "EPSG:4326";
            var mapProj = this.projectionPath.getState() || "EPSG:3857";
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = removedIds[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var id = _step.value;

                    var feature = this.source.getFeatureById(id);
                    this.source.removeFeature(feature);
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
                for (var _iterator2 = records[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                    var record = _step2.value;

                    var feature = this.source.getFeatureById(record.id);
                    if (!feature) {
                        feature = new ol.Feature({});
                        feature.setId(record.id);
                        this.source.addFeature(feature);
                    }
                    var dataX = undefined,
                        dataY = undefined;
                    dataX = GlyphLayer._toPoint(record.dataX, "xMin", "xMax");
                    dataY = GlyphLayer._toPoint(record.dataY, "yMin", "yMax");
                    var point = new ol.geom.Point([dataX, dataY]);
                    point.transform(rawProj, mapProj);
                    feature.setGeometry(point);
                }
            } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion2 && _iterator2.return) {
                        _iterator2.return();
                    }
                } finally {
                    if (_didIteratorError2) {
                        throw _iteratorError2;
                    }
                }
            }

            this.updateFilteredKeySet();
            this.updateStyleData();
        }
    }], [{
        key: "_toPoint",
        value: function _toPoint(datum, field1, field2) {
            if ((typeof datum === "undefined" ? "undefined" : _typeof(datum)) === "object") {
                var firstPoly = datum[0];
                return (firstPoly.bounds[field1] + firstPoly.bounds[field2]) / 2;
            } else {
                return datum;
            }
        }
    }]);

    return GlyphLayer;
}(_FeatureLayer3.default);

exports.default = GlyphLayer;

},{"./FeatureLayer":18,"lodash":"lodash","openlayers":"openlayers"}],21:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _jquery = require("jquery");

var _jquery2 = _interopRequireDefault(_jquery);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Map2D = function () {
    function Map2D() {
        _classCallCheck(this, Map2D);

        this._map = new Map();
    }

    _createClass(Map2D, [{
        key: "get",
        value: function get(firstKey, secondKey) {
            var secondMap = this._map.get(firstKey);
            return secondMap && secondMap.get(secondKey);
        }
    }, {
        key: "set",
        value: function set(firstKey, secondKey, value) {
            var secondMap = this._map.get(firstKey);
            if (!secondMap) {
                secondMap = new Map();
                this._map.set(firstKey, secondMap);
            }
            secondMap.set(secondKey, value);
        }
    }]);

    return Map2D;
}();

var ImageGlyphCache = function () {
    function ImageGlyphCache() {
        _classCallCheck(this, ImageGlyphCache);

        this.baseImageElements = new Map();
        this.canvasMap = new Map2D();
        this.imageMap = new Map2D();
    }

    _createClass(ImageGlyphCache, [{
        key: "requestBaseImageElement",
        value: function requestBaseImageElement(url, callback) {
            var imageElement = this.baseImageElements.get(url);
            if (!imageElement) {
                imageElement = new Image();
                imageElement.src = url;
                this.baseImageElements.set(url, imageElement);
            }
            if (imageElement.complete) {
                callback(imageElement);
            } else {
                (0, _jquery2.default)(imageElement).one("load", function () {
                    return callback(imageElement);
                });
            }
        }
    }, {
        key: "getCachedCanvas",
        value: function getCachedCanvas(url, color) {
            var canvas = this.canvasMap.get(url, color);
            var freshCanvas = false;
            if (!canvas) {
                freshCanvas = true;
                canvas = document.createElement("canvas");
                this.canvasMap.set(url, color, canvas);
            }
            return { canvas: canvas, freshCanvas: freshCanvas };
        }
    }, {
        key: "requestDataUrl",
        value: function requestDataUrl(url, color, callback) {
            var _getCachedCanvas = this.getCachedCanvas(url, color);

            var canvas = _getCachedCanvas.canvas;
            var freshCanvas = _getCachedCanvas.freshCanvas;
            /* If freshCanvas is true, this means that we just created the canvas and haven't rendered to it. Time to do that. */

            if (freshCanvas) {
                this.requestBaseImageElement(url, function (imageElement) {
                    var _ref = [imageElement.naturalHeight, imageElement.naturalWidth];
                    canvas.height = _ref[0];
                    canvas.width = _ref[1];

                    var ctx = canvas.getContext("2d");
                    ctx.fillStyle = color;
                    ctx.fillRect(0, 0, canvas.width, canvas.height);
                    ctx.globalCompositeOperation = "destination-atop";
                    ctx.drawImage(imageElement, 0, 0);
                    ctx.globalCompositeOperation = "multiply";
                    ctx.drawImage(imageElement, 0, 0);
                    callback(canvas.toDataURL());
                });
            } else {
                callback(canvas.toDataURL());
            }
        }
    }, {
        key: "getImage",
        value: function getImage(url, color) {
            var image = this.imageMap.get(url, color);
            if (!image) {
                image = new Image();
                this.requestDataUrl(url, color, function (dataUrl) {
                    image.src = dataUrl;
                });
            }
            return image;
        }
    }]);

    return ImageGlyphCache;
}();

exports.default = ImageGlyphCache;

},{"jquery":"jquery"}],22:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _jquery = require("jquery");

var _jquery2 = _interopRequireDefault(_jquery);

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _GlyphLayer2 = require("./GlyphLayer");

var _GlyphLayer3 = _interopRequireDefault(_GlyphLayer2);

var _FeatureLayer = require("./FeatureLayer");

var _FeatureLayer2 = _interopRequireDefault(_FeatureLayer);

var _ImageGlyphCache = require("./ImageGlyphCache");

var _ImageGlyphCache2 = _interopRequireDefault(_ImageGlyphCache);

var _Layer = require("./Layer");

var _Layer2 = _interopRequireDefault(_Layer);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

var ImageGlyphLayer = function (_GlyphLayer) {
    _inherits(ImageGlyphLayer, _GlyphLayer);

    function ImageGlyphLayer(parent, layerName) {
        _classCallCheck(this, ImageGlyphLayer);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ImageGlyphLayer).call(this, parent, layerName));

        _this.imageGlyphCache = new _ImageGlyphCache2.default();
        _this.layerPath.push("imageSize").addCallback(_this, _this.updateStyleData);
        _this.layerPath.push("imageURL").addCallback(_this, _this.updateStyleData, true);
        return _this;
    }

    _createClass(ImageGlyphLayer, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "setIconStyle",
        value: function setIconStyle(feature, img, iconSize) {
            var styles = {};
            if (!img.complete || !img.src) {
                (0, _jquery2.default)(img).one("load", this.setIconStyle.bind(this, feature, img, iconSize));
                return;
            }
            var maxDim = Math.max(img.naturalHeight, img.naturalWidth);
            var scale = iconSize / maxDim;
            var imgSize = [img.naturalWidth, img.naturalHeight];
            var _arr = ["normal", "selected", "probed", "unselected"];
            for (var _i = 0; _i < _arr.length; _i++) {
                var stylePrefix = _arr[_i];
                var icon = undefined;
                if (stylePrefix === "probed") {
                    icon = new ol.style.Icon({ img: img, imgSize: imgSize, scale: scale * 2.0 });
                } else {
                    icon = new ol.style.Icon({ img: img, imgSize: imgSize, scale: scale });
                }
                if (stylePrefix === "unselected") {
                    icon.setOpacity(1 / 3);
                }
                styles[stylePrefix + "Style"] = new ol.style.Style({ image: icon });
            }
            styles.replace = true;
            feature.setProperties(styles);
        }
    }, {
        key: "updateStyleData",
        value: function updateStyleData() {
            /* Update feature styles */
            var records = this.layerPath.retrieveRecords(["alpha", "color", "imageURL", "imageSize"], this.layerPath.push("dataX"));
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = records[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var record = _step.value;

                    var feature = this.source.getFeatureById(record.id);
                    if (!feature) {
                        continue;
                    }
                    var imageSize = Number(record.imageSize);
                    var color = _FeatureLayer2.default.toColorRGBA(record.color, record.alpha);
                    if (!record.imageURL) {
                        feature.setStyle(null);
                        continue;
                    }
                    var img = this.imageGlyphCache.getImage(record.imageURL, color);
                    this.setIconStyle(feature, img, imageSize);
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }
        }
    }]);

    return ImageGlyphLayer;
}(_GlyphLayer3.default);

_Layer2.default.registerClass("weave.visualization.plotters::ImageGlyphPlotter", ImageGlyphLayer, [weavejs.api.core.ILinkableObjectWithNewProperties]);
exports.default = ImageGlyphLayer;

},{"./FeatureLayer":18,"./GlyphLayer":20,"./ImageGlyphCache":21,"./Layer":24,"jquery":"jquery","openlayers":"openlayers"}],23:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _FeatureLayer = require("./FeatureLayer");

var _GlyphLayer2 = require("./GlyphLayer");

var _GlyphLayer3 = _interopRequireDefault(_GlyphLayer2);

var _Layer = require("./Layer");

var _Layer2 = _interopRequireDefault(_Layer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

var LabelLayer = function (_GlyphLayer) {
    _inherits(LabelLayer, _GlyphLayer);

    function LabelLayer(parent, layerName) {
        _classCallCheck(this, LabelLayer);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(LabelLayer).call(this, parent, layerName));

        _this.size = _this.layerPath.getObject("size");
        _this.text = _this.layerPath.getObject("text");
        _this.color = _this.layerPath.getObject("color");
        _this.size.addGroupedCallback(_this, _this.updateStyleData);
        _this.text.addGroupedCallback(_this, _this.updateStyleData);
        _this.color.addGroupedCallback(_this, _this.updateStyleData, true);
        return _this;
    }

    _createClass(LabelLayer, [{
        key: "updateStyleData",
        value: function updateStyleData() {
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.text.keys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var key = _step.value;

                    var feature = this.source.getFeatureById(key.toString());
                    if (!feature) {
                        continue;
                    }
                    var text = this.text.getValueFromKey(key, String);
                    var size = this.size.getValueFromKey(key, Number);
                    var color = this.color.getValueFromKey(key, String);
                    var font = size + "px sans-serif";
                    var textColor = _FeatureLayer.FeatureLayer.toColorRGBA(color, 1);
                    var fadedTextColor = _FeatureLayer.FeatureLayer.toColorRGBA(color, 0.5);
                    var selectedStroke = new ol.style.Stroke({
                        color: "rgba(128,128,128,0.75)", width: 3
                    });
                    var probeStroke = new ol.style.Stroke({ color: "white", width: 2 });
                    var normalFill = new ol.style.Fill({ color: textColor });
                    var fadedFill = new ol.style.Fill({ color: fadedTextColor });
                    var normalText = new ol.style.Text({ text: text, font: font, fill: normalFill });
                    var probedText = new ol.style.Text({ text: text, font: font, fill: normalFill, stroke: probeStroke });
                    var selectedText = new ol.style.Text({ text: text, font: font, fill: normalFill, stroke: selectedStroke });
                    var unselectedText = new ol.style.Text({ text: text, font: font, fill: fadedFill });
                    var metaStyle = {};
                    metaStyle.normalStyle = new ol.style.Style({ text: normalText });
                    metaStyle.unselectedStyle = new ol.style.Style({ text: unselectedText });
                    metaStyle.selectedStyle = new ol.style.Style({ text: selectedText });
                    metaStyle.probedStyle = new ol.style.Style({ text: probedText });
                    metaStyle.replace = true;
                    feature.setProperties(metaStyle);
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }
        }
    }]);

    return LabelLayer;
}(_GlyphLayer3.default);

_Layer2.default.registerClass("weave.visualization.plotters::TextGlyphPlotter", LabelLayer, [weavejs.api.core.ILinkableObjectWithNewProperties]);
exports.default = LabelLayer;

},{"./FeatureLayer":18,"./GlyphLayer":20,"./Layer":24,"openlayers":"openlayers"}],24:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _lodash = require("lodash");

var lodash = _interopRequireWildcard(_lodash);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Layer = function () {
    function Layer(parent, layerName) {
        _classCallCheck(this, Layer);

        this.layerPath = parent.plottersPath.push(layerName);
        this.settingsPath = parent.layerSettingsPath.push(layerName);
        this.projectionPath = parent.toolPath.push("projectionSRS");
        this.parent = parent;
        this.layerName = layerName;
        this._olLayer = null;
        this._layerReadyCallbacks = new Map();
        this.linkProperty(this.settingsPath.push("alpha"), "opacity");
        this.linkProperty(this.settingsPath.push("visible"), "visible");
        this.linkProperty(this.settingsPath.push("selectable"), "selectable");
        /* TODO max and minvisiblescale, map to min/max resolution. */
    }

    _createClass(Layer, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "linkProperty",
        value: function linkProperty(propertyPath, propertyName, inTransform) {
            var _this = this;

            /* change in path modifying propertyName */
            inTransform = inTransform || lodash.identity;
            var callback = function callback() {
                if (_this.olLayer) {
                    _this.olLayer.set(propertyName, inTransform(propertyPath.getState()));
                }
            };
            this._layerReadyCallbacks.set(propertyName, callback);
            propertyPath.addCallback(this, callback, false, false);
        }
    }, {
        key: "dispose",
        value: function dispose() {
            if (this._olLayer != null) {
                this.parent.map.removeLayer(this._olLayer);
            }
        }
    }, {
        key: "source",
        get: function get() {
            return this.olLayer && this.olLayer.getSource();
        },
        set: function set(value) {
            this.olLayer.setSource(value);
        }
        /* Handles initial apply of linked properties, adding/removing from map */

    }, {
        key: "olLayer",
        set: function set(value) {
            this._olLayer = value;
            if (value) {
                this.parent.map.addLayer(value);
                value.set("layerObject", this); /* Need to store this backref */
                if (value) {
                    var _iteratorNormalCompletion = true;
                    var _didIteratorError = false;
                    var _iteratorError = undefined;

                    try {
                        for (var _iterator = this._layerReadyCallbacks.keys()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                            var name = _step.value;

                            this._layerReadyCallbacks.get(name)();
                        }
                    } catch (err) {
                        _didIteratorError = true;
                        _iteratorError = err;
                    } finally {
                        try {
                            if (!_iteratorNormalCompletion && _iterator.return) {
                                _iterator.return();
                            }
                        } finally {
                            if (_didIteratorError) {
                                throw _iteratorError;
                            }
                        }
                    }
                }
            }
        },
        get: function get() {
            return this._olLayer;
        }
    }], [{
        key: "registerClass",
        value: function registerClass(asClassName, jsClass, interfaces) {
            if (!Layer.layerRegistry) {
                Layer.layerRegistry = new Map();
            }
            Layer.layerRegistry.set(asClassName, jsClass);
        }
    }, {
        key: "newLayer",
        value: function newLayer(parent, layerName) {
            var path = parent.plottersPath.push(layerName);
            var layerType = path.getType();
            var LayerClass = Layer.layerRegistry.get(layerType);
            if (LayerClass) {
                return new LayerClass(parent, layerName);
            }
            return null;
        }
    }]);

    return Layer;
}();

exports.default = Layer;

},{"lodash":"lodash"}],25:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _lodash = require("lodash");

var lodash = _interopRequireWildcard(_lodash);

var _StandardLib = require("../../../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

var _FeatureLayer = require("./FeatureLayer");

var _GlyphLayer2 = require("./GlyphLayer");

var _GlyphLayer3 = _interopRequireDefault(_GlyphLayer2);

var _Layer = require("./Layer");

var _Layer2 = _interopRequireDefault(_Layer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

var ScatterPlotLayer = function (_GlyphLayer) {
    _inherits(ScatterPlotLayer, _GlyphLayer);

    function ScatterPlotLayer(parent, layerName) {
        _classCallCheck(this, ScatterPlotLayer);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ScatterPlotLayer).call(this, parent, layerName));

        _this.sizeBy = _this.layerPath.push("sizeBy").addCallback(_this, _this.updateStyleData, true);
        _this.fillStylePath = _this.layerPath.push("fill").addCallback(_this, _this.updateStyleData);
        _this.lineStylePath = _this.layerPath.push("line").addCallback(_this, _this.updateStyleData);
        _this.maxRadiusPath = _this.layerPath.push("maxScreenRadius").addCallback(_this, _this.updateStyleData);
        _this.minRadiusPath = _this.layerPath.push("minScreenRadius").addCallback(_this, _this.updateStyleData);
        _this.defaultRadiusPath = _this.layerPath.push("defaultScreenRadius").addCallback(_this, _this.updateStyleData, true);
        return _this;
    }

    _createClass(ScatterPlotLayer, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "getToolTipColumns",
        value: function getToolTipColumns() {
            var additionalColumns = new Array();
            var internalColumn = undefined;
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = this.fillStylePath.getChildren().concat(this.lineStylePath.getChildren())[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var column = _step.value;

                    internalColumn = weavejs.data.ColumnUtils.hack_findInternalDynamicColumn(column.getObject());
                    if (internalColumn) additionalColumns.push(internalColumn);
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            internalColumn = weavejs.data.ColumnUtils.hack_findInternalDynamicColumn(this.sizeBy.getObject());
            if (internalColumn) additionalColumns.push(internalColumn);
            return additionalColumns;
        }
    }, {
        key: "updateStyleData",
        value: function updateStyleData() {
            var fillEnabled = this.fillStylePath.push("enable").getState();
            var strokeEnabled = this.lineStylePath.push("enable").getState();
            var styleRecords = this.layerPath.retrieveRecords({
                fill: {
                    color: this.fillStylePath.push("color"),
                    alpha: this.fillStylePath.push("alpha"),
                    imageURL: this.fillStylePath.push("imageURL")
                },
                stroke: {
                    color: this.lineStylePath.push("color"),
                    alpha: this.lineStylePath.push("alpha"),
                    weight: this.lineStylePath.push("weight"),
                    lineCap: this.lineStylePath.push("caps"),
                    lineJoin: this.lineStylePath.push("joints"),
                    miterLimit: this.lineStylePath.push("miterLimit")
                }
            });
            var styleRecordsIndex = lodash.indexBy(styleRecords, "id");
            var sizeByNumeric = this.layerPath.retrieveRecords({ sizeBy: this.sizeBy }, { dataType: "number" });
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
                for (var _iterator2 = sizeByNumeric[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                    var record = _step2.value;

                    var id = record.id;
                    var fullRecord = styleRecordsIndex[id];
                    if (fullRecord) {
                        fullRecord.sizeBy = record.sizeBy;
                    }
                }
            } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion2 && _iterator2.return) {
                        _iterator2.return();
                    }
                } finally {
                    if (_didIteratorError2) {
                        throw _iteratorError2;
                    }
                }
            }

            var sizeBy = lodash.pluck(styleRecords, "sizeBy");
            var sizeByMax = lodash.max(sizeBy);
            var sizeByMin = lodash.min(sizeBy);
            var absMax = Math.max(Math.abs(sizeByMax), Math.abs(sizeByMin));
            var minScreenRadius = this.minRadiusPath.getState();
            var maxScreenRadius = this.maxRadiusPath.getState();
            var defaultScreenRadius = this.defaultRadiusPath.getState();
            styleRecords = lodash.sortByOrder(styleRecords, ["sizeBy", "id"], ["desc", "asc"]);
            var zOrder = 0;
            var _iteratorNormalCompletion3 = true;
            var _didIteratorError3 = false;
            var _iteratorError3 = undefined;

            try {
                for (var _iterator3 = styleRecords[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {
                    var record = _step3.value;

                    var screenRadius = undefined;
                    var normSize = _StandardLib2.default.normalize(Math.abs(record.sizeBy), 0, absMax);
                    if (isNaN(normSize) || record.sizeBy === null) {
                        screenRadius = defaultScreenRadius;
                    } else {
                        screenRadius = minScreenRadius + normSize * (maxScreenRadius - minScreenRadius);
                    }
                    var olStroke = _FeatureLayer.FeatureLayer.olStrokeFromWeaveStroke(record.stroke);
                    var olFill = _FeatureLayer.FeatureLayer.olFillFromWeaveFill(record.fill);
                    var olStrokeFaded = _FeatureLayer.FeatureLayer.olStrokeFromWeaveStroke(record.stroke, 0.5);
                    var olFillFaded = _FeatureLayer.FeatureLayer.olFillFromWeaveFill(record.fill, 0.5);
                    var olSelectionStyle = _FeatureLayer.FeatureLayer.getOlSelectionStyle(olStroke);
                    var olProbedStyle = _FeatureLayer.FeatureLayer.getOlProbedStyle(olStroke);
                    var normalStyle = [new ol.style.Style({
                        image: new ol.style.Circle({
                            fill: fillEnabled ? olFill : undefined, stroke: strokeEnabled ? olStroke : undefined,
                            radius: screenRadius
                        })
                    })];
                    var unselectedStyle = [new ol.style.Style({
                        image: new ol.style.Circle({
                            fill: fillEnabled ? olFillFaded : undefined, stroke: strokeEnabled ? olStrokeFaded : undefined,
                            radius: screenRadius
                        })
                    })];
                    var selectedStyle = (strokeEnabled || fillEnabled) && [new ol.style.Style({
                        image: new ol.style.Circle({
                            stroke: olSelectionStyle[0].getStroke(),
                            radius: screenRadius
                        }),
                        zIndex: olSelectionStyle[0].getZIndex()
                    })];
                    var probedStyle = (strokeEnabled || fillEnabled) && [new ol.style.Style({
                        image: new ol.style.Circle({
                            stroke: olProbedStyle[0].getStroke(),
                            radius: screenRadius
                        }),
                        zIndex: olProbedStyle[0].getZIndex()
                    }), new ol.style.Style({
                        image: new ol.style.Circle({
                            stroke: olProbedStyle[1].getStroke(),
                            radius: screenRadius
                        }),
                        zIndex: olProbedStyle[1].getZIndex()
                    })];
                    var feature = this.source.getFeatureById(record.id);
                    if (feature) {
                        var metaStyle = {};
                        metaStyle.normalStyle = normalStyle;
                        metaStyle.unselectedStyle = unselectedStyle;
                        metaStyle.selectedStyle = selectedStyle;
                        metaStyle.probedStyle = probedStyle;
                        feature.setProperties(metaStyle);
                    }
                    zOrder++;
                }
            } catch (err) {
                _didIteratorError3 = true;
                _iteratorError3 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion3 && _iterator3.return) {
                        _iterator3.return();
                    }
                } finally {
                    if (_didIteratorError3) {
                        throw _iteratorError3;
                    }
                }
            }
        }
    }]);

    return ScatterPlotLayer;
}(_GlyphLayer3.default);

_Layer2.default.registerClass("weave.visualization.plotters::ScatterPlotPlotter", ScatterPlotLayer, [weavejs.api.core.ILinkableObjectWithNewProperties]);
exports.default = ScatterPlotLayer;

},{"../../../utils/StandardLib":40,"./FeatureLayer":18,"./GlyphLayer":20,"./Layer":24,"lodash":"lodash","openlayers":"openlayers"}],26:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _Layer2 = require("./Layer");

var _Layer3 = _interopRequireDefault(_Layer2);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../../typings/weave/WeavePath.d.ts"/>

var TileLayer = function (_Layer) {
    _inherits(TileLayer, _Layer);

    function TileLayer(parent, layerName) {
        _classCallCheck(this, TileLayer);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(TileLayer).call(this, parent, layerName));

        _this.olLayer = new ol.layer.Tile();
        _this.servicePath = _this.layerPath.push("service", null);
        _this.oldProviderName = null;
        _this.servicePath.addCallback(_this, _this.updateTileSource, true);
        _this.projectionPath.addCallback(_this, _this.updateValidExtents, true);
        return _this;
    }

    _createClass(TileLayer, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "updateValidExtents",
        value: function updateValidExtents() {
            var proj = ol.proj.get(this.projectionPath.getState() || "EPSG:3857");
            if (proj) this.olLayer.setExtent(proj.getExtent());else console.log('invalid proj -> no extent');
        }
    }, {
        key: "getCustomWMSSource",
        value: function getCustomWMSSource() {
            var customWMSPath = this.servicePath;
            if (customWMSPath.push("wmsURL").getType()) {
                var url = customWMSPath.getState("wmsURL");
                var attributions = customWMSPath.getState("creditInfo");
                var projection = customWMSPath.getState("tileProjectionSRS");
                return new ol.source.XYZ({
                    url: url, attributions: attributions, projection: projection
                });
            }
        }
    }, {
        key: "getModestMapsSource",
        value: function getModestMapsSource() {
            var providerNamePath = this.servicePath.push("providerName");
            if (providerNamePath.getType()) {
                var providerName = providerNamePath.getState();
                if (providerName === this.oldProviderName) {
                    return undefined;
                }
                switch (providerName) {
                    case "Stamen WaterColor":
                        return new ol.source.Stamen({ layer: "watercolor" });
                    case "Stamen Toner":
                        return new ol.source.Stamen({ layer: "toner" });
                    case "Open MapQuest Aerial":
                        return new ol.source.MapQuest({ layer: "sat" });
                    case "Open MapQuest":
                        return new ol.source.MapQuest({ layer: "osm" });
                    case "Open Street Map":
                        return new ol.source.OSM({ wrapX: false });
                    case "Blue Marble Map":
                        return new ol.source.TileWMS({ url: "http://neowms.sci.gsfc.nasa.gov/wms/wms", wrapX: false });
                    default:
                        return null;
                }
            }
        }
    }, {
        key: "updateTileSource",
        value: function updateTileSource() {
            var serviceDriverName = this.servicePath.getType();
            var newLayer = null;
            switch (serviceDriverName) {
                case "weave.services.wms::ModestMapsWMS":
                    newLayer = this.getModestMapsSource();
                    break;
                case "weave.services.wms::CustomWMS":
                    newLayer = this.getCustomWMSSource();
                    break;
                default:
                    newLayer = null;
            }
            if (newLayer !== undefined) {
                this.source = newLayer;
            }
        }
    }]);

    return TileLayer;
}(_Layer3.default);

_Layer3.default.registerClass("weave.visualization.plotters::WMSPlotter", TileLayer, [weavejs.api.core.ILinkableObjectWithNewProperties]);
exports.default = TileLayer;

},{"./Layer":24,"openlayers":"openlayers"}],27:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _jquery = require("jquery");

var _jquery2 = _interopRequireDefault(_jquery);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../typings/jquery/jquery.d.ts"/>
///<reference path="../../../typings/weave/WeavePath.d.ts"/>

var PanCluster = function (_ol$control$Control) {
    _inherits(PanCluster, _ol$control$Control);

    function PanCluster(optOptions) {
        _classCallCheck(this, PanCluster);

        var options = optOptions || {};
        var parent = (0, _jquery2.default)("\n\t\t<div style=\"background-color: rgba(0,0,0,0)\" class=\"ol-unselectable ol-control panCluster\">\n\t\t\t<table style=\"font-size:75%\">\n\t\t\t\t<tr>\n\t\t\t\t\t<td></td><td class=\"ol-control\" style=\"position:relative\"><button class=\"panCluster N\">N</button></td><td></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td class=\"ol-control\" style=\"position:relative\"><button class=\"panCluster W\">W</button></td>\n\t\t\t\t\t<td class=\"ol-control\" style=\"position:relative\"><button class=\"panCluster X fa fa-arrows-alt\"></button></td>\n\t\t\t\t\t<td class=\"ol-control\" style=\"position:relative\"><button class=\"panCluster E\">E</button></td>\n\t\t\t\t</tr>\n\t\t\t\t<tr>\n\t\t\t\t\t<td></td><td class=\"ol-control\" style=\"position:relative\"><button class=\"panCluster S\">S</button></td><td></td>\n\t\t\t\t</tr>\n\t\t\t</table>\n\t\t</div>");
        var directions = {
            N: [0, 1],
            E: [1, 0],
            S: [0, -1],
            W: [-1, 0],
            X: [null, null]
        };

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(PanCluster).call(this, { element: parent[0], target: options.target }));

        var self = _this;
        var pan = function pan(xSign, ySign) {
            var panPercent = 0.3;
            var map = self.getMap();
            var view = map.getView();
            var extent = view.calculateExtent(map.getSize());
            var extentWidth = Math.abs(extent[0] - extent[2]);
            var extentHeight = Math.abs(extent[1] - extent[3]);
            var center = view.getCenter();
            center[0] += extentWidth * xSign * panPercent;
            center[1] += extentHeight * ySign * panPercent;
            view.setCenter(center);
        };
        var zoomExtent = function zoomExtent() {
            var map = self.getMap();
            var view = map.getView();
            var extent = view.get("extent") || view.getProjection().getExtent();
            var size = map.getSize();
            view.fit(extent, size);
        };
        for (var direction in directions) {
            var xSign = directions[direction][0];
            var ySign = directions[direction][1];
            var button = parent.find(".panCluster." + direction);
            if (xSign !== null) {
                button.click(pan.bind(_this, xSign, ySign));
            } else {
                button.click(zoomExtent.bind(_this));
            }
        }
        return _this;
    }

    return PanCluster;
}(ol.control.Control);

exports.default = PanCluster;

},{"jquery":"jquery","openlayers":"openlayers"}],28:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if ("value" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _openlayers = require("openlayers");

var ol = _interopRequireWildcard(_openlayers);

var _FeatureLayer = require("./Layers/FeatureLayer");

var _FeatureLayer2 = _interopRequireDefault(_FeatureLayer);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../../typings/lodash/lodash.d.ts"/>
///<reference path="../../../typings/openlayers/openlayers.d.ts"/>
///<reference path="../../../typings/jquery/jquery.d.ts"/>
///<reference path="../../../typings/weave/WeavePath.d.ts"/>

var ProbeInteraction = function (_ol$interaction$Point) {
    _inherits(ProbeInteraction, _ol$interaction$Point);

    function ProbeInteraction(tool) {
        _classCallCheck(this, ProbeInteraction);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(ProbeInteraction).call(this, { handleMoveEvent: ProbeInteraction.prototype.handleMoveEvent }));

        _this.tool = tool;
        return _this;
    }

    _createClass(ProbeInteraction, [{
        key: "setMap",
        value: function setMap(map) {
            _get(Object.getPrototypeOf(ProbeInteraction.prototype), "setMap", this).call(this, map);
            var element = map.getTargetElement();
            map.getTargetElement().addEventListener('mouseout', this.handleOutEvent.bind(this));
        }
    }, {
        key: "onFeatureAtPixel",
        value: function onFeatureAtPixel(feature, layer) {
            var zIndex = layer.getZIndex();
            if (zIndex > this.topZIndex) {
                var weaveLayerObject = layer.get("layerObject");
                this.topKeySet = weaveLayerObject.probeKeySet && weaveLayerObject.probeKeySet.getObject() || this.topKeySet;
                this.topZIndex = zIndex;
                this.topKeyString = feature.getId().toString();
                this.topLayer = weaveLayerObject;
            }
        }
    }, {
        key: "pixelToKey",
        value: function pixelToKey(pixel) {
            var map = this.getMap();
            this.topKeySet = null;
            this.topZIndex = -Infinity;
            this.topLayer = null;
            this.topKeyString = null;
            var topKey = undefined;
            map.forEachFeatureAtPixel(pixel, this.onFeatureAtPixel, this, ProbeInteraction.layerFilter);
            if (this.topKeyString && this.topKeySet) {
                topKey = weavejs.WeaveAPI.QKeyManager.stringToQKey(this.topKeyString);
                this.topKeySet.replaceKeys([topKey]);
            }
            var _iteratorNormalCompletion = true;
            var _didIteratorError = false;
            var _iteratorError = undefined;

            try {
                for (var _iterator = map.getLayers().getArray()[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {
                    var layer = _step.value;

                    if (!ProbeInteraction.layerFilter(layer)) continue;
                    var weaveLayerObject = layer.get("layerObject");
                    var keySet = weaveLayerObject.probeKeySet && weaveLayerObject.probeKeySet.getObject();
                    if (keySet && keySet != this.topKeySet) {
                        keySet.clearKeys();
                    }
                }
            } catch (err) {
                _didIteratorError = true;
                _iteratorError = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion && _iterator.return) {
                        _iterator.return();
                    }
                } finally {
                    if (_didIteratorError) {
                        throw _iteratorError;
                    }
                }
            }

            return topKey;
        }
    }, {
        key: "handleMoveEvent",
        value: function handleMoveEvent(event) {
            var key = this.pixelToKey(event.pixel);
            var toolTipState = {};
            if (key) {
                var browserEvent = event.originalEvent;
                toolTipState.showToolTip = true;
                toolTipState.title = _FeatureLayer2.default.getToolTipTitle(key);
                toolTipState.columnNamesToValue = _FeatureLayer2.default.getToolTipData(key, this.topLayer.getToolTipColumns());
                var _ref = [browserEvent.clientX, browserEvent.clientY];
                toolTipState.x = _ref[0];
                toolTipState.y = _ref[1];
            } else {
                toolTipState.showToolTip = false;
            }
            this.tool.props.toolTip.setState(toolTipState);
        }
    }, {
        key: "handleOutEvent",
        value: function handleOutEvent(event) {
            var _iteratorNormalCompletion2 = true;
            var _didIteratorError2 = false;
            var _iteratorError2 = undefined;

            try {
                for (var _iterator2 = this.getMap().getLayers().getArray()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {
                    var layer = _step2.value;

                    if (!ProbeInteraction.layerFilter(layer)) continue;
                    var weaveLayerObject = layer.get("layerObject");
                    var keySet = weaveLayerObject.probeKeySet && weaveLayerObject.probeKeySet.getObject();
                    if (keySet) {
                        keySet.clearKeys();
                    }
                }
            } catch (err) {
                _didIteratorError2 = true;
                _iteratorError2 = err;
            } finally {
                try {
                    if (!_iteratorNormalCompletion2 && _iterator2.return) {
                        _iterator2.return();
                    }
                } finally {
                    if (_didIteratorError2) {
                        throw _iteratorError2;
                    }
                }
            }

            var toolTipState = {};
            toolTipState.showToolTip = false;
            this.tool.props.toolTip.setState(toolTipState);
        }
    }], [{
        key: "layerFilter",
        value: function layerFilter(layer) {
            return layer.get("selectable");
        }
    }]);

    return ProbeInteraction;
}(ol.interaction.Pointer);

exports.default = ProbeInteraction;

},{"./Layers/FeatureLayer":18,"openlayers":"openlayers"}],29:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.getTooltipContent = getTooltipContent;

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _react = require("react");

var React = _interopRequireWildcard(_react);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/weave/WeavePath.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>
/// <reference path="../../typings/react/react.d.ts"/>

function getTooltipContent(columnNamesToValue, title, nameFormat, valueFormat, titleFormat, toolTipClass, columnNamesToColor) {
    var _this = this;

    nameFormat = nameFormat || _.identity;
    valueFormat = valueFormat || _.identity;
    titleFormat = titleFormat || _.identity;
    toolTipClass = toolTipClass || "c3-tooltip";
    var template = "";
    var columnNames = Object.keys(columnNamesToValue);
    if (columnNames.length) {
        template += "<table class='" + toolTipClass + "'>" + titleFormat(title ? "<tr><th colspan='2'>" + title + "</th></tr>" : "");
        columnNames.forEach(function (columnName) {
            template += "<tr>";
            template += "<td class='name'>";
            if (columnNamesToColor && columnNamesToColor[columnName]) {
                template += "<span style=" + "'background-color': " + _this.state.columnNamesToColor[columnName] + "/>";
            }
            template += "<div style='display':'inline'>" + nameFormat(columnName) + "</div></td>";
            template += "<td class='value'>" + valueFormat(columnNamesToValue[columnName]) + "</td>";
            template += "</tr>";
        });
        template += "</table>";
    }
    return template;
}

var ToolTip = function (_React$Component) {
    _inherits(ToolTip, _React$Component);

    function ToolTip(props) {
        _classCallCheck(this, ToolTip);

        var _this2 = _possibleConstructorReturn(this, Object.getPrototypeOf(ToolTip).call(this, props));

        _this2.nameFormat = _this2.props.nameFormat || _.identity;
        _this2.valueFormat = _this2.props.valueFormat || _.identity;
        _this2.titleFormat = _this2.props.titleFormat || _.identity;
        _this2.toolTipClass = _this2.props.toolTipClass || "c3-tooltip";
        _this2.tooltipContainerClass = _this2.props.tooltipContainerClass || "c3-tooltip-container";
        _this2.state = {
            x: 0,
            y: 0,
            title: "",
            columnNamesToValue: {},
            columnNamesToColor: {},
            showToolTip: false
        };
        _this2.containerStyle = {
            position: "absolute",
            pointerEvents: "none",
            display: "block"
        };
        return _this2;
    }

    _createClass(ToolTip, [{
        key: "componentDidMount",
        value: function componentDidMount() {
            //this.element = ReactDOM.findDOMNode(this);
        }
    }, {
        key: "getToolTipHtml",
        value: function getToolTipHtml() {
            return this.element.innerHTML;
        }
    }, {
        key: "render",
        value: function render() {
            var _this3 = this;

            if (!(this.element && this.state.showToolTip)) {
                return React.createElement("div", { ref: function ref(c) {
                        _this3.element = c;
                    } });
            } else {
                var tableRows = [];
                this.containerStyle.display = "block";
                var container = this.element.parentNode;
                var rect = container.getBoundingClientRect();
                var left = window.pageXOffset + rect.left;
                var top = window.pageYOffset + rect.top;
                this.containerStyle.left = this.state.x - left;
                this.containerStyle.top = this.state.y - top;
                var columnNames = Object.keys(this.state.columnNamesToValue);
                if (columnNames.length) {
                    tableRows = columnNames.map(function (columnName) {
                        var colorSpan = _this3.state.columnNamesToColor[columnName] ? React.createElement("span", { style: { backgroundColor: _this3.state.columnNamesToColor[columnName] } }) : null;
                        return React.createElement(
                            "tr",
                            { key: columnName },
                            React.createElement(
                                "td",
                                { className: "name" },
                                colorSpan,
                                React.createElement(
                                    "div",
                                    { style: { display: "inline" } },
                                    _this3.nameFormat(columnName)
                                )
                            ),
                            React.createElement(
                                "td",
                                { className: "value" },
                                _this3.valueFormat(_this3.state.columnNamesToValue[columnName])
                            )
                        );
                    });
                }
                return React.createElement(
                    "div",
                    { style: this.containerStyle, ref: function ref(c) {
                            _this3.element = c;
                        }, className: this.tooltipContainerClass },
                    React.createElement(
                        "table",
                        { className: this.toolTipClass },
                        React.createElement(
                            "tbody",
                            null,
                            React.createElement(
                                "tr",
                                null,
                                React.createElement(
                                    "th",
                                    { colSpan: 2 },
                                    this.state.title ? this.titleFormat(this.state.title) : ""
                                )
                            ),
                            tableRows
                        )
                    )
                );
            }
        }
    }]);

    return ToolTip;
}(React.Component);

exports.default = ToolTip;

},{"lodash":"lodash","react":"react"}],30:[function(require,module,exports){
"use strict";

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _AbstractC3Tool2 = require("./AbstractC3Tool");

var _AbstractC3Tool3 = _interopRequireDefault(_AbstractC3Tool2);

var _WeaveTool = require("../WeaveTool");

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _d = require("d3");

var d3 = _interopRequireWildcard(_d);

var _FormatUtils = require("../utils/FormatUtils");

var _FormatUtils2 = _interopRequireDefault(_FormatUtils);

var _c = require("c3");

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../typings/c3/c3.d.ts"/>
///<reference path="../../typings/d3/d3.d.ts"/>
///<reference path="../../typings/lodash/lodash.d.ts"/>
///<reference path="../../typings/react/react.d.ts"/>
///<reference path="../../typings/weave/WeavePath.d.ts"/>
///<reference path="../utils/StandardLib.ts"/>
/// <reference path="../../typings/weave/weavejs.d.ts"/>
/// <reference path="../../typings/weave/Weave.d.ts"/>

var WeaveC3Barchart = function (_AbstractC3Tool) {
    _inherits(WeaveC3Barchart, _AbstractC3Tool);

    function WeaveC3Barchart(props) {
        _classCallCheck(this, WeaveC3Barchart);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveC3Barchart).call(this, props));

        _this.keyToIndex = {};
        _this.indexToKey = {};
        _this.yAxisValueToLabel = {};
        _this.xAxisValueToLabel = {};
        _this.c3Config = {
            size: {
                width: _this.props.style.width,
                height: _this.props.style.height
            },
            padding: {
                top: 20,
                bottom: 20
            },
            data: {
                json: [],
                type: "bar",
                xSort: false,
                selection: {
                    enabled: true,
                    multiple: true,
                    draggable: true
                },
                labels: {
                    format: function format(v, id, i, j) {
                        if (_this.showValueLabels) {
                            return v;
                        } else {
                            return "";
                        }
                    }
                },
                order: null,
                color: function color(_color, d) {
                    if (_this.heightColumnNames.length === 1 && d.hasOwnProperty("index")) {
                        // find the corresponding index of numericRecords in stringRecords
                        var id = _this.indexToKey[d.index];
                        var index = _.pluck(_this.stringRecords, "id").indexOf(id);
                        return _this.stringRecords[index] ? _this.stringRecords[index]["color"] : "#C0CDD1";
                    } else {
                        return _color || "#C0CDD1";
                    }
                },
                onclick: function onclick(d) {
                    var event = _this.chart.internal.d3.event;
                    if (!(event.ctrlKey || event.metaKey) && d && d.hasOwnProperty("index")) {
                        _this.toolPath.selection_keyset.setKeys([_this.indexToKey[d.index]]);
                    }
                },
                onselected: function onselected(d) {
                    _this.flag = true;
                    if (d && d.hasOwnProperty("index")) {
                        _this.toolPath.selection_keyset.addKeys([_this.indexToKey[d.index]]);
                    }
                },
                onunselected: function onunselected(d) {
                    _this.flag = true;
                    if (d && d.hasOwnProperty("index")) {
                        _this.toolPath.selection_keyset.removeKeys([_this.indexToKey[d.index]]);
                    }
                },
                onmouseover: function onmouseover(d) {
                    if (d && d.hasOwnProperty("index")) {
                        _this.toolPath.probe_keyset.setKeys([]);
                        var columnNamesToValue = {};
                        var columnNamesToColor = {};
                        _this.heightColumnNames.forEach(function (column, index) {
                            columnNamesToValue[_this.heightColumnsLabels[index]] = _this.numericRecords[d.index][column];
                            if (_this.heightColumnNames.length > 1) {
                                var color = _StandardLib2.default.interpolateColor(index / (_this.heightColumnNames.length - 1), _this.colorRamp);
                                columnNamesToColor[_this.heightColumnsLabels[index]] = "#" + _StandardLib2.default.decimalToHex(color);
                            }
                        });
                        var title = _this.stringRecords[d.index]["xLabel"];
                        _this.props.toolTip.setState({
                            x: _this.chart.internal.d3.event.pageX,
                            y: _this.chart.internal.d3.event.pageY,
                            showToolTip: true,
                            title: title,
                            columnNamesToValue: columnNamesToValue,
                            columnNamesToColor: columnNamesToColor
                        });
                        _this.toolPath.probe_keyset.setKeys([_this.indexToKey[d.index]]);
                    }
                },
                onmouseout: function onmouseout(d) {
                    if (d && d.hasOwnProperty("index")) {
                        _this.toolPath.probe_keyset.setKeys([]);
                        _this.props.toolTip.setState({
                            showToolTip: false
                        });
                    }
                }
            },
            axis: {
                x: {
                    type: "category",
                    label: {
                        text: "",
                        position: "outer-center"
                    },
                    tick: {
                        rotate: -45,
                        culling: {
                            max: null
                        },
                        multiline: false,
                        format: function format(num) {
                            if (_this.stringRecords && _this.stringRecords[num]) {
                                if (_this.element && _this.props.style.height > 0) {
                                    var labelHeight = _this.props.style.height * 0.2 / Math.cos(45 * (Math.PI / 180));
                                    var labelString = _this.stringRecords[num]["xLabel"];
                                    if (labelString) {
                                        var stringSize = _StandardLib2.default.getTextWidth(labelString, "14pt Helvetica Neue");
                                        var adjustmentCharacters = labelString.length - Math.floor(labelString.length * (labelHeight / stringSize));
                                        return adjustmentCharacters > 0 ? labelString.substring(0, labelString.length - adjustmentCharacters - 3) + "..." : labelString;
                                    } else {
                                        return "";
                                    }
                                } else {
                                    return _this.stringRecords[num]["xLabel"];
                                }
                            } else {
                                return "";
                            }
                        }
                    }
                },
                y: {
                    show: true,
                    label: {
                        text: "",
                        position: "outer-middle"
                    },
                    tick: {
                        fit: false,
                        multiline: false,
                        format: function format(num) {
                            if (_this.yLabelColumnPath && _this.yLabelColumnDataType !== "number") {
                                return _this.yAxisValueToLabel[num] || "";
                            } else if (_this.groupingMode === "percentStack") {
                                return d3.format(".0%")(num);
                            } else {
                                return String(_FormatUtils2.default.defaultNumberFormatting(num));
                            }
                        }
                    }
                },
                y2: {
                    show: false,
                    label: {
                        text: "",
                        position: "outer-middle"
                    },
                    tick: {
                        fit: false,
                        multiline: false,
                        format: function format(num) {
                            if (_this.yLabelColumnPath && _this.yLabelColumnDataType !== "number") {
                                return _this.yAxisValueToLabel[num] || "";
                            } else if (_this.groupingMode === "percentStack") {
                                return d3.format(".0%")(num);
                            } else {
                                return String(_FormatUtils2.default.defaultNumberFormatting(num));
                            }
                        }
                    }
                },
                rotated: false
            },
            tooltip: {
                format: {
                    title: function title(num) {
                        if (_this.stringRecords && _this.stringRecords[num]) {
                            return _this.stringRecords[num]["xLabel"];
                        } else {
                            return "";
                        }
                    },
                    name: function name(_name, ratio, id, index) {
                        var labelIndex = _this.heightColumnNames.indexOf(_name);
                        return _this.heightColumnsLabels ? _this.heightColumnsLabels[labelIndex] : "";
                    }
                },
                show: false
            },
            grid: {
                x: {
                    show: true
                },
                y: {
                    show: true
                }
            },
            bindto: null,
            bar: {
                width: {
                    ratio: 0.8
                }
            },
            legend: {
                show: false
            },
            onrendered: function onrendered() {
                _this.busy = false;
                _this.updateStyle();
            }
        };
        return _this;
    }

    _createClass(WeaveC3Barchart, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "handleClick",
        value: function handleClick(event) {
            if (!this.flag) {
                this.toolPath.selection_keyset.setKeys([]);
            }
            this.flag = false;
        }
    }, {
        key: "mirrorVertical",
        value: function mirrorVertical() {
            var temp = this.c3Config.data.keys.value[0];
            if (this.c3Config.axis.y.show == true) {
                this.c3Config.axis.y2.show = true;
                this.c3Config.axis.y.show = false;
                this.c3Config.data.axes = _defineProperty({}, temp, 'y2');
                this.c3Config.axis.y2.label = this.c3Config.axis.y.label;
            } else {
                this.c3Config.axis.y.show = true;
                this.c3Config.axis.y2.show = false;
                this.c3Config.data.axes = _defineProperty({}, temp, 'y');
                this.c3Config.axis.y.label = this.c3Config.axis.y2.label;
            }
            this.dataChanged();
            this.generate();
        }
    }, {
        key: "rotateAxes",
        value: function rotateAxes() {
            this.c3Config.axis.rotated = this.paths.horizontalMode.getState();
            this.generate();
            // setTimeout(() => {
            //   this.busy = true;
            //   c3.generate(this.c3Config);
            // }, 10);
        }
    }, {
        key: "axisChanged",
        value: function axisChanged() {
            if (!this.chart || this.busy) return _StandardLib2.default.debounce(this, 'axisChanged');
            var xLabel = this.paths.xAxis.push("overrideAxisName").getState() || "Sorted by " + this.paths.sortColumn.getObject().getMetadata('title');
            var yLabel = this.paths.yAxis.push("overrideAxisName").getState() || (this.heightColumnsLabels ? this.heightColumnsLabels.join(", ") : "");
            if (!this.showXAxisLabel) {
                xLabel = " ";
            }
            if (this.c3Config.axis.y.show) {
                this.chart.axis.labels({
                    x: xLabel,
                    y: yLabel
                });
            } else {
                this.chart.axis.labels({
                    x: xLabel,
                    y2: yLabel
                });
            }
            this.axisLabelsChanged();
            this.c3Config.axis.x.label = { text: xLabel, position: "outer-center" };
            this.c3Config.axis.y.label = { text: yLabel, position: "outer-middle" };
            this.generate();
        }
    }, {
        key: "axisLabelsChanged",
        value: function axisLabelsChanged() {
            var width = this.chart.internal.width;
            var textHeight = _StandardLib2.default.getTextHeight("test", "14pt Helvetica Neue");
            var xLabelsToShow = Math.floor(width / textHeight);
            xLabelsToShow = Math.max(2, xLabelsToShow);
            this.c3Config.axis.x.tick.culling = { max: xLabelsToShow };
        }
    }, {
        key: "handleShowValueLabels",
        value: function handleShowValueLabels() {
            if (!this.chart) return;
            this.showValueLabels = this.paths.showValueLabels.getState();
            this.chart.flush();
        }
    }, {
        key: "updateColumns",
        value: function updateColumns() {
            this.heightColumnNames = [];
            this.heightColumnsLabels = [];
            var lhm = this.paths.heightColumns.getObject();
            var columns = lhm.getObjects();
            var names = lhm.getNames();
            for (var idx in columns) {
                var column = columns[idx];
                var name = names[idx];
                var title = column.getMetadata('title');
                this.heightColumnsLabels.push(title);
                this.heightColumnNames.push(name);
            }
        }
    }, {
        key: "dataChanged",
        value: function dataChanged() {
            var _this2 = this;

            if (!this.chart || this.busy) return _StandardLib2.default.debounce(this, 'dataChanged');
            this.updateColumns();
            var heightColumns = this.paths.heightColumns.getChildren();
            var numericMapping = {
                sort: this.paths.sortColumn,
                xLabel: this.paths.labelColumn
            };
            var stringMapping = {
                sort: this.paths.sortColumn,
                color: this.paths.colorColumn,
                xLabel: this.paths.labelColumn
            };
            heightColumns.forEach(function (column, idx) {
                var name = column.getPath().pop();
                numericMapping[name] = column; // all height columns as numeric value for the chart
                if (idx === 0) {
                    _this2.yLabelColumnPath = column;
                    stringMapping["yLabel"] = column; // only using the first column to label the y axis
                    numericMapping["yLabel"] = column;
                }
            });
            this.yLabelColumnDataType = this.yLabelColumnPath.getObject().getMetadata('dataType');
            this.numericRecords = this.paths.plotter.retrieveRecords(numericMapping, { keySet: this.paths.filteredKeySet, dataType: "number" });
            if (!this.numericRecords.length) return;
            this.stringRecords = this.paths.plotter.retrieveRecords(stringMapping, { keySet: this.paths.filteredKeySet, dataType: "string" });
            this.records = _.zip(this.numericRecords, this.stringRecords);
            //this.records = _.sortByOrder(this.records, ["sort", "id"], ['asc', 'asc']);
            this.records = _.sortBy(this.records, function (record) {
                return record[0]["sort"];
            });
            if (this.c3Config.axis.y.show == false) {
                this.records = this.records.reverse();
            }
            if (this.records.length) {
                ;

                var _$unzip = _.unzip(this.records);

                var _$unzip2 = _slicedToArray(_$unzip, 2);

                this.numericRecords = _$unzip2[0];
                this.stringRecords = _$unzip2[1];
            }this.yAxisValueToLabel = {};
            this.xAxisValueToLabel = {};
            this.keyToIndex = {};
            this.indexToKey = {};
            this.numericRecords.forEach(function (record, index) {
                if (record) {
                    _this2.keyToIndex[record["id"]] = index;
                    _this2.indexToKey[index] = record["id"];
                }
            });
            this.stringRecords.forEach(function (record, index) {
                var numericRecord = _this2.numericRecords[index];
                if (numericRecord) {
                    _this2.yAxisValueToLabel[numericRecord["yLabel"]] = record["yLabel"];
                    _this2.xAxisValueToLabel[numericRecord["xLabel"]] = record["xLabel"];
                }
            });
            this.groupingMode = this.paths.groupingMode.getState();
            //var horizontalMode = this.paths.plotter.push("horizontalMode").getState();
            // set axis rotation mode
            //this.chart.load({axes: { rotated: horizontalMode }});
            if (this.groupingMode === "stack") {
                this.chart.groups([this.heightColumnNames]);
            } else if (this.groupingMode === "group") {
                this.chart.groups([]);
            } else if (this.groupingMode === "percentStack") {
                this.chart.groups([this.heightColumnNames]);
            }
            if (this.groupingMode === "percentStack" && this.heightColumnNames.length > 1) {
                // normalize the height columns to be percentages.
                var newValues = this.numericRecords.map(function (record) {
                    var heights;
                    if (record) {
                        heights = _.pick(record, _this2.heightColumnNames);
                        var sum = 0;
                        _.keys(heights).forEach(function (key) {
                            sum += heights[key];
                        });
                        _.keys(heights).forEach(function (key) {
                            heights[key] = heights[key] / sum;
                        });
                    }
                    return heights;
                });
                this.numericRecords = newValues;
            }
            ;
            var keys = { x: "", value: [] };
            // if label column is specified
            if (this.paths.labelColumn.getState().length) {
                keys.x = "xLabel";
            }
            keys.value = this.heightColumnNames;
            var colors = {};
            if (this.heightColumnNames.length > 1) {
                this.colorRamp = this.paths.chartColors.getState();
                this.heightColumnNames.map(function (name, index) {
                    var color = _StandardLib2.default.interpolateColor(index / (_this2.heightColumnNames.length - 1), _this2.colorRamp);
                    colors[name] = "#" + _StandardLib2.default.decimalToHex(color);
                });
            }
            var data = _.cloneDeep(this.c3Config.data);
            data.json = this.numericRecords;
            data.colors = colors;
            data.keys = keys;
            data.unload = true;
            this.c3Config.data = data;
            this.busy = true;
            this.chart.load(data);
        }
    }, {
        key: "updateStyle",
        value: function updateStyle() {
            var _this3 = this;

            if (!this.chart || !this.heightColumnNames) return;
            d3.select(this.element).selectAll("path").style("opacity", 1).style("stroke", "black").style("stroke-width", "1px").style("stroke-opacity", 0.5);
            var selectedKeys = this.toolPath.selection_keyset.getKeys();
            var probedKeys = this.toolPath.probe_keyset.getKeys();
            var selectedIndices = selectedKeys.map(function (key) {
                return Number(_this3.keyToIndex[key]);
            });
            var probedIndices = probedKeys.map(function (key) {
                return Number(_this3.keyToIndex[key]);
            });
            var keys = Object.keys(this.keyToIndex);
            var indices = keys.map(function (key) {
                return Number(_this3.keyToIndex[key]);
            });
            var unselectedIndices = _.difference(indices, selectedIndices);
            unselectedIndices = _.difference(unselectedIndices, probedIndices);
            this.heightColumnNames.forEach(function (item) {
                var paths = d3.selectAll("g").filter(".c3-shapes-" + item + ".c3-bars").selectAll("path");
                var texts = d3.selectAll("g").filter(".c3-texts-" + item).selectAll("text");
                if (selectedIndices.length) {
                    _this3.customSelectorStyle(unselectedIndices, paths, { opacity: 0.3, "stroke-opacity": 0.0 });
                    _this3.customSelectorStyle(selectedIndices, paths, { opacity: 1.0, "stroke-opacity": 1.0 });
                    _this3.customSelectorStyle(unselectedIndices, texts, { "fill-opacity": 0.3 });
                    _this3.customSelectorStyle(selectedIndices, texts, { "fill-opacity": 1.0 });
                } else if (!probedIndices.length) {
                    _this3.customSelectorStyle(indices, paths, { opacity: 1.0, "stroke-opacity": 0.5 });
                    _this3.customSelectorStyle(indices, texts, { "fill-opacity": 1.0 });
                }
            });
            if (selectedIndices.length) this.chart.select(this.heightColumnNames, selectedIndices, true);else if (!probedIndices.length) this.chart.select(this.heightColumnNames, [], true);
        }
    }, {
        key: "generate",
        value: function generate() {
            this.busy = true;
            this.chart = (0, _c.generate)(this.c3Config);
        }
    }, {
        key: "resize",
        value: function resize(width, height) {
            if (this.paths.labelColumn.getState().length) {
                this.c3Config.axis.x.height = height * 0.2;
            } else {
                this.c3Config.axis.x.height = null;
            }
            this.c3Config.size = { width: width, height: height };
            this.generate();
            if (this.paths.labelColumn.getState().length) {
                //TODO: For now we have no choice by to update axis for label spacing after generate,
                //so we can get new width and then update label spacing appropriately, but this
                //then requires another call to generate. We may want to try and calculate this
                //width ourselves to save the extra generate call in axisChanged()
                this.axisChanged();
            }
        }
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            this.element.addEventListener("click", this.handleClick.bind(this));
            this.showXAxisLabel = false;
            var plotterPath = this.toolPath.pushPlotter("plot");
            var mapping = [{ name: "plotter", path: plotterPath, callbacks: null }, { name: "heightColumns", path: plotterPath.push("heightColumns"), callbacks: [this.dataChanged, this.axisChanged] }, { name: "labelColumn", path: plotterPath.push("labelColumn"), callbacks: [this.dataChanged, this.axisChanged] }, { name: "sortColumn", path: plotterPath.push("sortColumn"), callbacks: [this.dataChanged, this.axisChanged] }, { name: "colorColumn", path: plotterPath.push("colorColumn"), callbacks: this.dataChanged }, { name: "chartColors", path: plotterPath.push("chartColors"), callbacks: this.dataChanged }, { name: "groupingMode", path: plotterPath.push("groupingMode"), callbacks: this.dataChanged }, { name: "horizontalMode", path: plotterPath.push("horizontalMode"), callbacks: this.rotateAxes }, { name: "showValueLabels", path: plotterPath.push("showValueLabels"), callbacks: this.handleShowValueLabels }, { name: "xAxis", path: this.toolPath.pushPlotter("xAxis"), callbacks: this.axisChanged }, { name: "yAxis", path: this.toolPath.pushPlotter("yAxis"), callbacks: this.axisChanged }, { name: "filteredKeySet", path: plotterPath.push("filteredKeySet"), callbacks: this.dataChanged }, { name: "selectionKeySet", path: this.toolPath.selection_keyset, callbacks: this.updateStyle }, { name: "probeKeySet", path: this.toolPath.probe_keyset, callbacks: this.updateStyle }];
            this.initializePaths(mapping);
            this.paths.filteredKeySet.getObject().setColumnKeySources([this.paths.sortColumn.getObject()]);
            this.c3Config.bindto = this.element;
            if (this.paths.labelColumn.getState().length) {
                this.c3Config.axis.x.height = this.props.style.height * 0.2;
            }
            this.generate();
        }
    }]);

    return WeaveC3Barchart;
}(_AbstractC3Tool3.default);

exports.default = WeaveC3Barchart;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::CompoundBarChartTool", WeaveC3Barchart);
//Weave.registerClass("weavejs.tools.CompoundBarChartTool", WeaveC3Barchart, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"../utils/FormatUtils":39,"../utils/StandardLib":40,"./AbstractC3Tool":14,"c3":"c3","d3":"d3","lodash":"lodash"}],31:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _WeaveTool = require("../WeaveTool");

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _ui = require("../react-ui/ui");

var _ui2 = _interopRequireDefault(_ui);

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

var _reactVendorPrefix = require("react-vendor-prefix");

var Prefixer = _interopRequireWildcard(_reactVendorPrefix);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // <reference path="../../typings/d3/d3.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>
///<reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/weave/WeavePath.d.ts"/>
///<reference path="../react-ui/ui.tsx"/>
///<reference path="../../typings/react/react-dom.d.ts"/>

var SHAPE_TYPE_CIRCLE = "circle";
var SHAPE_TYPE_SQUARE = "square";
var SHAPE_TYPE_LINE = "line";

var WeaveC3BarChartLegend = function (_React$Component) {
    _inherits(WeaveC3BarChartLegend, _React$Component);

    function WeaveC3BarChartLegend(props) {
        _classCallCheck(this, WeaveC3BarChartLegend);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveC3BarChartLegend).call(this, props));

        _this.toolPath = props.toolPath;
        _this.plotterPath = _this.toolPath.pushPlotter("plot");
        _this.colorRampPath = _this.plotterPath.push("chartColors");
        _this.columnsPath = _this.plotterPath.push("columns");
        _this.maxColumnsPath = _this.plotterPath.push("maxColumns");
        _this.filteredKeySet = _this.plotterPath.push("filteredKeySet");
        _this.state = { selected: [], probed: [] };
        _this.spanStyle = { textAlign: "left", verticalAlign: "middle", overflow: "hidden", whiteSpace: "nowrap", textOverflow: "ellipsis", paddingLeft: 5, userSelect: "none" };
        return _this;
    }

    _createClass(WeaveC3BarChartLegend, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "setupCallbacks",
        value: function setupCallbacks() {
            this.maxColumnsPath.addCallback(this, this.forceUpdate);
            this.filteredKeySet.addCallback(this, this.forceUpdate);
            this.plotterPath.push("shapeSize").addCallback(this, this.forceUpdate);
        }
        //getSelectedBins():number[] {
        //
        //}
        //getProbedBins():number[] {
        //
        //}

    }, {
        key: "handleClick",
        value: function handleClick(label, temp) {}
    }, {
        key: "handleProbe",
        value: function handleProbe(bin, mouseOver) {}
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            this.setupCallbacks();
        }
    }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate() {}
    }, {
        key: "drawContinuousPlot",
        value: function drawContinuousPlot() {}
    }, {
        key: "selectionKeysChanged",
        value: function selectionKeysChanged() {}
    }, {
        key: "probeKeysChanged",
        value: function probeKeysChanged() {}
    }, {
        key: "visualizationChanged",
        value: function visualizationChanged() {}
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {}
    }, {
        key: "getInteractionStyle",
        value: function getInteractionStyle(bin) {
            var selectedStyle = {
                width: "100%",
                flex: 1.0,
                borderWidth: 0,
                borderColor: "black",
                borderStyle: "solid",
                opacity: 1.0
            };
            return selectedStyle;
        }
    }, {
        key: "render",
        value: function render() {
            var _this2 = this;

            var width = this.props.style.width;
            var height = this.props.style.height;
            var shapeSize = this.plotterPath.getState("shapeSize");
            this.numberOfLabels = this.columnsPath.getState().length;
            var maxColumns = 1; //TODO: This should really be "this.maxColumnsPath.getState();" but only supporting 1 column for now
            var columnFlex = 1.0 / maxColumns;
            var extraBins = this.numberOfLabels % maxColumns == 0 ? 0 : maxColumns - this.numberOfLabels % maxColumns;
            var ramp = this.colorRampPath.getState();
            var labels = this.columnsPath.getState().map(function (column) {
                var columnName = column.objectName;
                return _this2.columnsPath.push(columnName).getObject().getMetadata('title');
            });
            var finalElements = [];
            var prefixerStyle = Prefixer.prefix({ styles: this.spanStyle }).styles;
            for (var j = 0; j < maxColumns; j++) {
                var element = [];
                var elements = [];
                for (var i = 0; i < this.numberOfLabels + extraBins; i++) {
                    if (i % maxColumns == j) {
                        if (i < this.numberOfLabels) {
                            element.push(React.createElement(
                                _ui2.default.HBox,
                                { key: i, style: this.getInteractionStyle(i), onClick: this.handleClick.bind(this, i), onMouseOver: this.handleProbe.bind(this, i, true), onMouseOut: this.handleProbe.bind(this, i, false) },
                                React.createElement(
                                    _ui2.default.HBox,
                                    { style: { width: shapeSize, position: "relative", padding: "0px 0px 0px 0px" } },
                                    React.createElement(
                                        "svg",
                                        { style: { position: "absolute" }, width: "100%", height: "100%" },
                                        React.createElement("rect", { x: 0, y: 10, height: "80%", width: shapeSize, style: { fill: "#" + _StandardLib2.default.decimalToHex(_StandardLib2.default.interpolateColor(_StandardLib2.default.normalize(i, 0, this.numberOfLabels - 1), ramp)), stroke: "black", strokeOpacity: 0.5 } })
                                    )
                                ),
                                React.createElement(
                                    _ui2.default.HBox,
                                    { style: { width: "100%", flex: 0.8, alignItems: "center" } },
                                    React.createElement(
                                        "span",
                                        { style: prefixerStyle },
                                        labels[i]
                                    )
                                )
                            ));
                        } else {
                            element.push(React.createElement(_ui2.default.HBox, { key: i, style: { width: "100%", flex: 1.0 } }));
                        }
                    }
                }
                {
                    this.props.style.width > this.props.style.height * 2 ? elements.push(React.createElement(
                        _ui2.default.HBox,
                        { key: i, style: { width: "100%", flex: columnFlex } },
                        element
                    )) : elements.push(React.createElement(
                        _ui2.default.VBox,
                        { key: i, style: { height: "100%", flex: columnFlex } },
                        element
                    ));
                }
                finalElements[j] = elements;
            }
            return React.createElement(
                "div",
                { style: { width: "100%", height: "100%", padding: "0px 5px 0px 5px" } },
                React.createElement(
                    _ui2.default.VBox,
                    { style: { height: "100%", flex: 1.0, overflow: "hidden" } },
                    React.createElement(
                        _ui2.default.HBox,
                        { style: { width: "100%", flex: 0.1, alignItems: "center" } },
                        React.createElement(
                            "span",
                            { style: prefixerStyle },
                            "Bar color"
                        )
                    ),
                    this.props.style.width > this.props.style.height * 2 ? React.createElement(
                        _ui2.default.HBox,
                        { style: { width: "100%", flex: 0.9 } },
                        " ",
                        finalElements
                    ) : React.createElement(
                        _ui2.default.VBox,
                        { style: { height: "100%", flex: 0.9 } },
                        " ",
                        finalElements
                    )
                )
            );
        }
    }, {
        key: "title",
        get: function get() {
            return (this.toolPath.getType('panelTitle') ? this.toolPath.getState('panelTitle') : '') || this.toolPath.getPath().pop();
        }
    }]);

    return WeaveC3BarChartLegend;
}(React.Component);

exports.default = WeaveC3BarChartLegend;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::BarChartLegendTool", WeaveC3BarChartLegend);
//Weave.registerClass("weavejs.tools.ColorBinLegendTool", WeaveC3ColorLegend, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"../react-ui/ui":13,"../utils/StandardLib":40,"react":"react","react-vendor-prefix":"react-vendor-prefix"}],32:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _WeaveTool = require("../WeaveTool");

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _d = require("d3");

var d3 = _interopRequireWildcard(_d);

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _ui = require("../react-ui/ui");

var _ui2 = _interopRequireDefault(_ui);

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

var _reactVendorPrefix = require("react-vendor-prefix");

var Prefixer = _interopRequireWildcard(_reactVendorPrefix);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // <reference path="../../typings/d3/d3.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>
///<reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/weave/WeavePath.d.ts"/>
///<reference path="../react-ui/ui.tsx"/>
///<reference path="../../typings/react/react-dom.d.ts"/>

var SHAPE_TYPE_CIRCLE = "circle";
var SHAPE_TYPE_SQUARE = "square";
var SHAPE_TYPE_LINE = "line";

var WeaveC3ColorLegend = function (_React$Component) {
    _inherits(WeaveC3ColorLegend, _React$Component);

    function WeaveC3ColorLegend(props) {
        _classCallCheck(this, WeaveC3ColorLegend);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveC3ColorLegend).call(this, props));

        _this.toolPath = props.toolPath;
        _this.plotterPath = _this.toolPath.pushPlotter("plot");
        _this.dynamicColorColumnPath = _this.plotterPath.push("dynamicColorColumn", null);
        _this.binningDefinition = _this.dynamicColorColumnPath.push("internalDynamicColumn", null, "binningDefinition", null);
        _this.binnedColumnPath = _this.dynamicColorColumnPath.push("internalDynamicColumn", null);
        _this.maxColumnsPath = _this.plotterPath.push("maxColumns");
        _this.filteredKeySet = _this.plotterPath.push("filteredKeySet");
        _this.selectionKeySet = _this.toolPath.push("selectionKeySet");
        _this.probeKeySet = _this.toolPath.push("probeKeySet");
        _this.state = { selected: [], probed: [] };
        _this.selectedBins = [];
        _this.spanStyle = {
            textAlign: "left",
            verticalAlign: "middle",
            overflow: "hidden",
            whiteSpace: "nowrap",
            textOverflow: "ellipsis",
            paddingLeft: 5,
            userSelect: "none"
        };
        return _this;
    }

    _createClass(WeaveC3ColorLegend, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "setupCallbacks",
        value: function setupCallbacks() {
            this.dynamicColorColumnPath.addCallback(this, this.forceUpdate);
            this.maxColumnsPath.addCallback(this, this.forceUpdate);
            this.filteredKeySet.addCallback(this, this.forceUpdate);
            this.plotterPath.push("shapeSize").addCallback(this, this.forceUpdate);
            this.binnedColumnPath.addCallback(this, this.forceUpdate);
            this.toolPath.selection_keyset.addCallback(this, this.forceUpdate);
            this.toolPath.probe_keyset.addCallback(this, this.forceUpdate);
        }
    }, {
        key: "getBinIndexFromKey",
        value: function getBinIndexFromKey(key) {
            return this.binnedColumnPath.getObject().getValueFromKey(key, Number);
        }
    }, {
        key: "getSelectedBins",
        value: function getSelectedBins() {
            var _this2 = this;

            var keys = this.toolPath.selection_keyset.getKeys();
            var selectedBins = [];
            keys.forEach(function (key) {
                selectedBins.push(_this2.getBinIndexFromKey(key));
            });
            return _.unique(selectedBins);
        }
    }, {
        key: "getProbedBins",
        value: function getProbedBins() {
            var _this3 = this;

            var keys = this.toolPath.probe_keyset.getKeys();
            var probedBins = [];
            keys.forEach(function (key) {
                probedBins.push(_this3.getBinIndexFromKey(key));
            });
            return _.unique(probedBins);
        }
    }, {
        key: "handleClick",
        value: function handleClick(bin, event) {
            var binnedKeys = this.binnedColumnPath.getObject()._binnedKeysArray;
            //setKeys
            if (_.contains(this.selectedBins, bin)) {
                var currentSelection = this.toolPath.selection_keyset.getKeys();
                currentSelection = _.difference(currentSelection, binnedKeys[bin]);
                this.toolPath.selection_keyset.setKeys(currentSelection);
                _.remove(this.selectedBins, function (value) {
                    return value == bin;
                });
            } else {
                if (event.ctrlKey || event.metaKey) {
                    this.toolPath.selection_keyset.addKeys(binnedKeys[bin]);
                    this.selectedBins.push(bin);
                } else {
                    this.toolPath.selection_keyset.setKeys(binnedKeys[bin]);
                    this.selectedBins = [bin];
                }
            }
        }
    }, {
        key: "handleProbe",
        value: function handleProbe(bin, mouseOver) {
            if (mouseOver) {
                var binnedKeys = this.binnedColumnPath.getObject()._binnedKeysArray;
                this.toolPath.probe_keyset.setKeys(binnedKeys[bin]);
            } else {
                this.toolPath.probe_keyset.setKeys([]);
            }
        }
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            this.setupCallbacks();
        }
    }, {
        key: "getInteractionStyle",
        value: function getInteractionStyle(bin) {
            var probed = this.getProbedBins().indexOf(bin) >= 0;
            var selected = this.getSelectedBins().indexOf(bin) >= 0;
            var borderAlpha;
            if (probed) borderAlpha = 1;else if (selected) borderAlpha = 0.5;else borderAlpha = 0;
            return {
                width: "100%",
                flex: 1.0,
                borderColor: _StandardLib2.default.rgba(0, 0, 0, borderAlpha),
                borderStyle: "solid",
                borderWidth: 1
            };
        }
    }, {
        key: "render",
        value: function render() {
            if (this.numberOfBins) {
                //Binned plot case
                var width = this.props.style.width;
                var height = this.props.style.height;
                var shapeSize = this.plotterPath.getState("shapeSize");
                var shapeType = this.plotterPath.getState("shapeType");
                var maxColumns = 1; //TODO: This should really be "this.maxColumnsPath.getState();" but only supporting 1 column for now
                var columnFlex = 1.0 / maxColumns;
                var extraBins = this.numberOfBins % maxColumns == 0 ? 0 : maxColumns - this.numberOfBins % maxColumns;
                var ramp = this.dynamicColorColumnPath.getState("ramp");
                var yScale = d3.scale.linear().domain([0, this.numberOfBins + 1]).range([0, height]);
                var yMap = function yMap(d) {
                    return yScale(d);
                };
                shapeSize = _.max([1, _.min([shapeSize, height / this.numberOfBins])]);
                var r = shapeSize / 100 * height / this.numberOfBins / 2;
                var bc = this.binnedColumnPath.getObject();
                var textLabelFunction = bc.deriveStringFromNumber.bind(bc);
                var finalElements = [];
                var prefixerStyle = Prefixer.prefix({ styles: this.spanStyle }).styles;
                for (var j = 0; j < maxColumns; j++) {
                    switch (shapeType) {
                        case SHAPE_TYPE_CIRCLE:
                            {
                                var element = [];
                                var elements = [];
                                for (var i = 0; i < this.numberOfBins + extraBins; i++) {
                                    if (i % maxColumns == j) {
                                        if (i < this.numberOfBins) {
                                            element.push(React.createElement(
                                                _ui2.default.HBox,
                                                { key: i, style: this.getInteractionStyle(i), onClick: this.handleClick.bind(this, i), onMouseOver: this.handleProbe.bind(this, i, true), onMouseOut: this.handleProbe.bind(this, i, false) },
                                                React.createElement(
                                                    _ui2.default.HBox,
                                                    { style: { width: "100%", flex: 0.2, minWidth: 10, position: "relative", padding: "0px 0px 0px 0px" } },
                                                    React.createElement(
                                                        "svg",
                                                        { style: { position: "absolute" }, viewBox: "0 0 100 100", width: "100%", height: "100%" },
                                                        React.createElement("circle", { cx: "50%", cy: "50%", r: "45%", style: {
                                                                fill: "#" + _StandardLib2.default.decimalToHex(_StandardLib2.default.interpolateColor(_StandardLib2.default.normalize(i, 0, this.numberOfBins - 1), ramp)),
                                                                stroke: "black",
                                                                strokeOpacity: 0.5
                                                            } })
                                                    )
                                                ),
                                                React.createElement(
                                                    _ui2.default.HBox,
                                                    { style: { width: "100%", flex: 0.8, alignItems: "center" } },
                                                    React.createElement(
                                                        "span",
                                                        { style: prefixerStyle },
                                                        textLabelFunction(i)
                                                    )
                                                )
                                            ));
                                        } else {
                                            element.push(React.createElement(_ui2.default.HBox, { key: i, style: { width: "100%", flex: 1.0 } }));
                                        }
                                    }
                                }
                                if (this.props.style.width > this.props.style.height * 2) {
                                    elements.push(React.createElement(
                                        _ui2.default.HBox,
                                        { key: i, style: { width: "100%", flex: columnFlex } },
                                        " ",
                                        element,
                                        " "
                                    ));
                                } else {
                                    elements.push(React.createElement(
                                        _ui2.default.VBox,
                                        { key: i, style: { height: "100%", flex: columnFlex } },
                                        " ",
                                        element,
                                        " "
                                    ));
                                }
                                finalElements[j] = elements;
                            }
                            break;
                        case SHAPE_TYPE_SQUARE:
                            break;
                        case SHAPE_TYPE_LINE:
                            break;
                    }
                }
                return React.createElement(
                    "div",
                    { style: { width: "100%", height: "100%", padding: "0px 5px 0px 5px" } },
                    React.createElement(
                        _ui2.default.VBox,
                        { style: { height: "100%", flex: 1.0, overflow: "hidden" } },
                        React.createElement(
                            _ui2.default.HBox,
                            { style: { width: "100%", flex: 0.1, alignItems: "center" } },
                            React.createElement(
                                "span",
                                { style: prefixerStyle },
                                this.dynamicColorColumnPath.getObject().getMetadata('title')
                            )
                        ),
                        this.props.style.width > this.props.style.height * 2 ? React.createElement(
                            _ui2.default.HBox,
                            { style: { width: "100%", flex: 0.9 } },
                            " ",
                            finalElements,
                            " "
                        ) : React.createElement(
                            _ui2.default.VBox,
                            { style: { height: "100%", flex: 0.9 } },
                            " ",
                            finalElements,
                            " "
                        )
                    )
                );
            } else {
                //Continuous plot case
                return React.createElement("svg", null);
            }
        }
    }, {
        key: "title",
        get: function get() {
            return (this.toolPath.getType('panelTitle') ? this.toolPath.getState('panelTitle') : '') || this.toolPath.getPath().pop();
        }
    }, {
        key: "numberOfBins",
        get: function get() {
            return this.binnedColumnPath.getObject().numberOfBins;
        }
    }]);

    return WeaveC3ColorLegend;
}(React.Component);

exports.default = WeaveC3ColorLegend;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::ColorBinLegendTool", WeaveC3ColorLegend);
//Weave.registerClass("weavejs.tools.ColorBinLegendTool", WeaveC3ColorLegend, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"../react-ui/ui":13,"../utils/StandardLib":40,"d3":"d3","lodash":"lodash","react":"react","react-vendor-prefix":"react-vendor-prefix"}],33:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _AbstractC3Tool2 = require("./AbstractC3Tool");

var _AbstractC3Tool3 = _interopRequireDefault(_AbstractC3Tool2);

var _WeaveTool = require("../WeaveTool");

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _d = require("d3");

var d3 = _interopRequireWildcard(_d);

var _FormatUtils = require("../utils/FormatUtils");

var _FormatUtils2 = _interopRequireDefault(_FormatUtils);

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

var _c = require("c3");

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../typings/c3/c3.d.ts"/>
///<reference path="../../typings/d3/d3.d.ts"/>
///<reference path="../../typings/lodash/lodash.d.ts"/>
///<reference path="../../typings/react/react.d.ts"/>
///<reference path="../../typings/weave/WeavePath.d.ts"/>

var WeaveC3Histogram = function (_AbstractC3Tool) {
    _inherits(WeaveC3Histogram, _AbstractC3Tool);

    function WeaveC3Histogram(props) {
        _classCallCheck(this, WeaveC3Histogram);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveC3Histogram).call(this, props));

        _this.busy = false;
        _this.idToRecord = {};
        _this.keyToIndex = {};
        _this.indexToKey = {};
        _this.c3Config = {
            size: {
                width: _this.props.style.width,
                height: _this.props.style.height
            },
            padding: {
                top: 20,
                bottom: 20,
                right: 30
            },
            data: {
                columns: [],
                selection: {
                    enabled: true,
                    multiple: true,
                    draggable: true
                },
                type: "bar",
                color: function color(_color, d) {
                    if (d && d.hasOwnProperty("index")) {
                        var decColor;
                        if (_this.c3Config.axis.y2.show) {
                            //handle case where labels need to be reversed for chart flip
                            var temp = _this.histData.length - 1;
                            decColor = _this.paths.fillStyle.push("color").getObject("internalDynamicColumn", null).getColorFromDataValue(temp - d.index).toString(16);
                        } else {
                            decColor = _this.paths.fillStyle.push("color").getObject("internalDynamicColumn", null).getColorFromDataValue(d.index).toString(16);
                        }
                        return "#" + _StandardLib2.default.decimalToHex(decColor);
                    }
                    return "#C0CDD1";
                },
                onclick: function onclick(d) {
                    var event = _this.chart.internal.d3;
                    if (!(event.ctrlKey || event.metaKey) && d && d.hasOwnProperty("index")) {
                        var selectedIds = _this.paths.binnedColumn.getObject().getKeysFromBinIndex(d.index).map(function (qKey) {
                            return _this.toolPath.qkeyToString(qKey);
                        });
                        _this.toolPath.selection_keyset.setKeys(selectedIds);
                    }
                },
                onselected: function onselected(d) {
                    _this.flag = true;
                    if (d && d.hasOwnProperty("index")) {
                        var selectedIds = _this.paths.binnedColumn.getObject().getKeysFromBinIndex(d.index).map(function (qKey) {
                            return _this.toolPath.qkeyToString(qKey);
                        });
                        _this.toolPath.selection_keyset.addKeys(selectedIds);
                    }
                },
                onunselected: function onunselected(d) {
                    _this.flag = true;
                    if (d && d.hasOwnProperty("index")) {
                        var unSelectedIds = _this.paths.binnedColumn.getObject().getKeysFromBinIndex(d.index).map(function (qKey) {
                            return _this.toolPath.qkeyToString(qKey);
                        });
                        _this.toolPath.selection_keyset.removeKeys(unSelectedIds);
                    }
                },
                onmouseover: function onmouseover(d) {
                    if (d && d.hasOwnProperty("index")) {
                        var selectedIds = _this.paths.binnedColumn.getObject().getKeysFromBinIndex(d.index).map(function (qKey) {
                            return _this.toolPath.qkeyToString(qKey);
                        });
                        _this.toolPath.probe_keyset.setKeys(selectedIds);
                    }
                },
                onmouseout: function onmouseout(d) {
                    if (d && d.hasOwnProperty("index")) {
                        _this.toolPath.probe_keyset.setKeys([]);
                    }
                }
            },
            bindto: _this.element,
            legend: {
                show: false
            },
            axis: {
                x: {
                    type: "category",
                    label: {
                        text: "",
                        position: "outer-center"
                    },
                    tick: {
                        rotate: -45,
                        multiline: false,
                        format: function format(num) {
                            if (_this.element && _this.props.style.height > 0) {
                                var labelHeight = _this.props.style.height * 0.2 / Math.cos(45 * (Math.PI / 180));
                                var labelString;
                                if (_this.c3Config.axis.y2.show) {
                                    //handle case where labels need to be reversed
                                    var temp = _this.histData.length - 1;
                                    labelString = _this.paths.binnedColumn.getObject().deriveStringFromNumber(temp - num);
                                } else {
                                    labelString = _this.paths.binnedColumn.getObject().deriveStringFromNumber(num);
                                }
                                if (labelString) {
                                    var stringSize = _StandardLib2.default.getTextWidth(labelString, "14pt Helvetica Neue");
                                    var adjustmentCharacters = labelString.length - Math.floor(labelString.length * (labelHeight / stringSize));
                                    return adjustmentCharacters > 0 ? labelString.substring(0, labelString.length - adjustmentCharacters - 3) + "..." : labelString;
                                } else {
                                    return "";
                                }
                            } else {
                                return _this.paths.binnedColumn.getObject().deriveStringFromNumber(num);
                            }
                        }
                    }
                },
                y: {
                    show: true,
                    label: {
                        text: "",
                        position: "outer-middle"
                    },
                    tick: {
                        fit: false,
                        format: function format(num) {
                            return String(_FormatUtils2.default.defaultNumberFormatting(num));
                        }
                    }
                },
                y2: {
                    show: false,
                    label: {
                        text: "",
                        position: "outer-middle"
                    },
                    tick: {
                        fit: false,
                        format: function format(num) {
                            return String(_FormatUtils2.default.defaultNumberFormatting(num));
                        }
                    }
                },
                rotated: false
            },
            tooltip: {
                format: {
                    title: function title(num) {
                        return _this.paths.binnedColumn.getObject().deriveStringFromNumber(num);
                    },
                    name: function name(_name, ratio, id, index) {
                        return _this.getYAxisLabel();
                    }
                }
            },
            grid: {
                x: {
                    show: true
                },
                y: {
                    show: true
                }
            },
            bar: {
                width: {
                    ratio: 0.95
                }
            },
            onrendered: function onrendered() {
                _this.updateStyle();
            }
        };
        return _this;
    }

    _createClass(WeaveC3Histogram, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "handleClick",
        value: function handleClick(event) {
            if (!this.flag) {
                this.toolPath.selection_keyset.setKeys([]);
            }
            this.flag = false;
        }
    }, {
        key: "rotateAxes",
        value: function rotateAxes() {
            //this.c3Config.axis.rotated = true;
            //this.forceUpdate();
        }
    }, {
        key: "getYAxisLabel",
        value: function getYAxisLabel() {
            var overrideAxisName = this.paths.yAxis.push("overrideAxisName").getState();
            if (overrideAxisName) {
                return overrideAxisName;
            } else {
                if (this.paths.columnToAggregate.getState().length) {
                    switch (this.paths.aggregationMethod.getState()) {
                        case "count":
                            return "Number of records";
                        case "sum":
                            return "Sum of " + this.paths.columnToAggregate.getObject().getMetadata('title');
                        case "mean":
                            return "Mean of " + this.paths.columnToAggregate.getObject().getMetadata('title');
                    }
                } else {
                    return "Number of records";
                }
            }
        }
    }, {
        key: "mirrorVertical",
        value: function mirrorVertical() {
            var temp = "height";
            if (this.c3Config.axis.y.show == true) {
                this.c3Config.axis.y2.show = true;
                this.c3Config.axis.y.show = false;
                this.c3Config.data.axes = _defineProperty({}, temp, 'y2');
                this.c3Config.axis.y2.label = this.c3Config.axis.y.label;
            } else {
                this.c3Config.axis.y.show = true;
                this.c3Config.axis.y2.show = false;
                this.c3Config.data.axes = _defineProperty({}, temp, 'y');
                this.c3Config.axis.y.label = this.c3Config.axis.y2.label;
            }
            this.chart = (0, _c.generate)(this.c3Config);
            this._dataChanged();
        }
    }, {
        key: "_axisChanged",
        value: function _axisChanged() {
            if (!this.chart) return;
            if (this.busy) return;
            var xLabel = this.paths.xAxis.getState("overrideAxisName") || this.paths.binnedColumn.getObject().getMetadata('title');
            if (!this.showXAxisLabel) {
                xLabel = " ";
            }
            this.chart.axis.labels({
                x: xLabel,
                y: this.getYAxisLabel.bind(this)()
            });
        }
    }, {
        key: "updateStyle",
        value: function updateStyle() {
            if (!this.chart) return;
            d3.select(this.element).selectAll("path").style("opacity", 1).style("stroke", "black").style("stroke-width", "1px").style("stroke-opacity", 0.5);
            var selectedKeys = this.toolPath.selection_keyset.getKeys();
            var probedKeys = this.toolPath.probe_keyset.getKeys();
            var selectedRecords = _.filter(this.numericRecords, function (record) {
                return _.includes(selectedKeys, record["id"]);
            });
            var probedRecords = _.filter(this.numericRecords, function (record) {
                return _.includes(probedKeys, record["id"]);
            });
            var selectedBinIndices = _.pluck(_.uniq(selectedRecords, 'binnedColumn'), 'binnedColumn');
            var probedBinIndices = _.pluck(_.uniq(probedRecords, 'binnedColumn'), 'binnedColumn');
            var binIndices = _.pluck(_.uniq(this.numericRecords, 'binnedColumn'), 'binnedColumn');
            var unselectedBinIndices = _.difference(binIndices, selectedBinIndices);
            unselectedBinIndices = _.difference(unselectedBinIndices, probedBinIndices);
            if (selectedBinIndices.length) {
                this.customStyle(unselectedBinIndices, "path", ".c3-shape", { opacity: 0.3, "stroke-opacity": 0.0 });
                this.customStyle(selectedBinIndices, "path", ".c3-shape", { opacity: 1.0, "stroke-opacity": 1.0 });
            } else if (!probedBinIndices.length) {
                this.customStyle(binIndices, "path", ".c3-shape", { opacity: 1.0, "stroke-opacity": 0.5 });
                this.chart.select(this.heightColumnNames, [], true);
            }
        }
    }, {
        key: "_dataChanged",
        value: function _dataChanged() {
            var _this2 = this;

            if (!this.chart) return;
            if (this.busy) {
                return;
            }
            var numericMapping = {
                binnedColumn: this.paths.binnedColumn,
                columnToAggregate: this.paths.columnToAggregate
            };
            var stringMapping = {
                binnedColumn: this.paths.binnedColumn
            };
            this.binnedColumnDataType = this.paths.binnedColumn.getObject().getMetadata('dataType');
            this.numericRecords = this.paths.plotter.retrieveRecords(numericMapping, { keySet: this.paths.filteredKeySet, dataType: "number" });
            this.stringRecords = this.paths.plotter.retrieveRecords(stringMapping, { keySet: this.paths.filteredKeySet, dataType: "string" });
            this.idToRecord = {};
            this.keyToIndex = {};
            this.indexToKey = {};
            this.numericRecords.forEach(function (record, index) {
                _this2.idToRecord[record["id"]] = record;
                _this2.keyToIndex[record["id"]] = index;
                _this2.indexToKey[index] = record["id"];
            });
            this.numberOfBins = this.paths.binnedColumn.getObject().numberOfBins;
            this.histData = [];
            // this._columnToAggregatePath.getObject().getInternalColumn();
            var columnToAggregateNameIsDefined = this.paths.columnToAggregate.getState().length > 0;
            for (var iBin = 0; iBin < this.numberOfBins; iBin++) {
                var recordsInBin = _.filter(this.numericRecords, { binnedColumn: iBin });
                if (recordsInBin) {
                    var obj = { height: 0 };
                    if (columnToAggregateNameIsDefined) {
                        obj.height = this.getAggregateValue(recordsInBin, "columnToAggregate", this.paths.aggregationMethod.getState());
                        this.histData.push(obj);
                    } else {
                        obj.height = this.getAggregateValue(recordsInBin, "binnedColumn", "count");
                        this.histData.push(obj);
                    }
                }
            }
            var keys = { value: ["height"] };
            if (this.c3Config.axis.y2.show) {
                this.histData = this.histData.reverse();
            }
            this._axisChanged();
            this.busy = true;
            this.c3Config.data.json = this.histData;
            this.c3Config.data.keys = keys;
            this.chart.load({ json: this.histData, keys: keys, unload: true, done: function done() {
                    _this2.busy = false;
                } });
        }
    }, {
        key: "getAggregateValue",
        value: function getAggregateValue(records, columnToAggregateName, aggregationMethod) {
            var count = 0;
            var sum = 0;
            if (!Array.isArray(records)) {
                return 0;
            }
            records.forEach(function (record) {
                count++;
                sum += record[columnToAggregateName];
            });
            if (aggregationMethod === "mean") {
                return sum / count; // convert sum to mean
            }
            if (aggregationMethod === "count") {
                return count; // use count of finite values
            }
            // sum
            return sum;
        }
    }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate() {
            // TODO avoid calling generate at each componentDidUpdate
            this.c3Config.size = { width: this.props.style.width, height: this.props.style.height };
            if (this.paths.binnedColumn.push("internalDynamicColumn").getState().length) {
                this.c3Config.axis.x.height = this.props.style.height * 0.2;
            } else {
                this.c3Config.axis.x.height = null;
            }
            this.chart = (0, _c.generate)(this.c3Config);
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            /* Cleanup callbacks */
            //this.teardownCallbacks();
            this.chart.destroy();
        }
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            this.element.addEventListener("click", this.handleClick.bind(this));
            this.showXAxisLabel = false;
            var axisChanged = _.debounce(this._axisChanged.bind(this), 100);
            var dataChanged = _.debounce(this._dataChanged.bind(this), 100);
            var plotterPath = this.toolPath.pushPlotter("plot");
            var mapping = [{ name: "plotter", path: plotterPath, callbacks: null }, { name: "binnedColumn", path: plotterPath.push("binnedColumn"), callbacks: [dataChanged, axisChanged] }, { name: "columnToAggregate", path: plotterPath.push("columnToAggregate"), callbacks: dataChanged }, { name: "aggregationMethod", path: plotterPath.push("aggregationMethod"), callbacks: [dataChanged, axisChanged] }, { name: "fillStyle", path: plotterPath.push("fillStyle"), callbacks: dataChanged }, { name: "lineStyle", path: plotterPath.push("lineStyle"), callbacks: dataChanged }, { name: "xAxis", path: this.toolPath.pushPlotter("xAxis"), callbacks: axisChanged }, { name: "yAxis", path: this.toolPath.pushPlotter("yAxis"), callbacks: axisChanged }, { name: "filteredKeySet", path: plotterPath.push("filteredKeySet"), callbacks: dataChanged }, { name: "selectionKeySet", path: this.toolPath.selection_keyset, callbacks: this.updateStyle }, { name: "probeKeySet", path: this.toolPath.probe_keyset, callbacks: this.updateStyle }];
            this.initializePaths(mapping);
            this.paths.filteredKeySet.getObject().setSingleKeySource(this.paths.fillStyle.getObject('color', 'internalDynamicColumn'));
            this.c3Config.bindto = this.element;
            if (this.paths.binnedColumn.push("internalDynamicColumn").getState().length) {
                this.c3Config.axis.x.height = this.props.style.height * 0.2;
            }
            this.chart = (0, _c.generate)(this.c3Config);
        }
    }]);

    return WeaveC3Histogram;
}(_AbstractC3Tool3.default);

exports.default = WeaveC3Histogram;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::HistogramTool", WeaveC3Histogram);
//Weave.registerClass("weavejs.tools.HistogramTool", WeaveC3Histogram, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"../utils/FormatUtils":39,"../utils/StandardLib":40,"./AbstractC3Tool":14,"c3":"c3","d3":"d3","lodash":"lodash"}],34:[function(require,module,exports){
"use strict";

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _AbstractC3Tool2 = require("./AbstractC3Tool");

var _AbstractC3Tool3 = _interopRequireDefault(_AbstractC3Tool2);

var _WeaveTool = require("../WeaveTool");

var _d = require("d3");

var d3 = _interopRequireWildcard(_d);

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _FormatUtils = require("../utils/FormatUtils");

var _FormatUtils2 = _interopRequireDefault(_FormatUtils);

var _c = require("c3");

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../typings/c3/c3.d.ts"/>
///<reference path="../../typings/d3/d3.d.ts"/>
///<reference path="../../typings/lodash/lodash.d.ts"/>
///<reference path="../../typings/react/react.d.ts"/>
///<reference path="../../typings/weave/WeavePath.d.ts"/>

var WeaveC3LineChart = function (_AbstractC3Tool) {
    _inherits(WeaveC3LineChart, _AbstractC3Tool);

    function WeaveC3LineChart(props) {
        _classCallCheck(this, WeaveC3LineChart);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveC3LineChart).call(this, props));

        _this.keyToIndex = {};
        _this.indexToKey = {};
        _this.yAxisValueToLabel = {};
        return _this;
    }

    _createClass(WeaveC3LineChart, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "_selectionKeysChanged",
        value: function _selectionKeysChanged() {
            var _this2 = this;

            if (!this.chart) return;
            var selectedKeys = this.toolPath.selection_keyset.getKeys();
            var probedKeys = this.toolPath.probe_keyset.getKeys();
            var selectedIndices = selectedKeys.map(function (key) {
                return Number(_this2.keyToIndex[key]);
            });
            var probedIndices = probedKeys.map(function (key) {
                return Number(_this2.keyToIndex[key]);
            });
            var keys = Object.keys(this.keyToIndex);
            var indices = keys.map(function (key) {
                return Number(_this2.keyToIndex[key]);
            });
            var unselectedIndices = _.difference(indices, selectedIndices);
            unselectedIndices = _.difference(unselectedIndices, probedIndices);
            if (selectedIndices.length) {
                //unfocus all circles
                d3.select(this.element).selectAll("circle").filter(".c3-shape").style("opacity", "0.1");
                var filtered = d3.select(this.element).selectAll("g").filter(".c3-chart-line").selectAll("circle").filter(".c3-shape");
                selectedIndices.forEach(function (index) {
                    //custom style for circles on selected lines
                    var circleCount = filtered[index] ? filtered[index].length : 0;
                    var selectedCircles = _.range(0, circleCount);
                    selectedCircles.forEach(function (i) {
                        filtered[index][i].style.opacity = "1.0";
                        filtered[index][i].style.strokeOpacity = "1.0";
                    });
                });
                this.customStyle(unselectedIndices, "path", ".c3-shape.c3-line", { opacity: 0.1 });
                this.customStyle(selectedIndices, "path", ".c3-shape.c3-line", { opacity: 1.0 });
                this.chart.select(["y"], selectedIndices, true);
            } else if (!probedIndices.length) {
                //focus all circles
                d3.select(this.element).selectAll("circle").filter(".c3-shape").style({ opacity: 1.0, "stroke-opacity": 0.0 });
                this.customStyle(indices, "path", ".c3-shape.c3-line", { opacity: 1.0 });
                this.chart.select(["y"], [], true);
            }
        }
    }, {
        key: "_probedKeysChanged",
        value: function _probedKeysChanged() {
            var _this3 = this;

            var selectedKeys = this.toolPath.probe_keyset.getKeys();
            var selectedIndices = selectedKeys.map(function (key) {
                return Number(_this3.keyToIndex[key]);
            });
            var keys = Object.keys(this.keyToIndex);
            var indices = keys.map(function (key) {
                return Number(_this3.keyToIndex[key]);
            });
            var unselectedIndices = _.difference(indices, selectedIndices);
            if (selectedIndices.length) {
                //unfocus all circles
                d3.select(this.element).selectAll("circle").filter(".c3-shape").style({ opacity: 0.1, "stroke-opacity": 0.0 });
                var filtered = d3.select(this.element).selectAll("g").filter(".c3-chart-line").selectAll("circle").filter(".c3-shape");
                selectedIndices.forEach(function (index) {
                    //custom style for circles on probed lines
                    var circleCount = filtered[index] ? filtered[index].length : 0;
                    var selectedCircles = _.range(0, circleCount);
                    selectedCircles.forEach(function (i) {
                        filtered[index][i].style.opacity = "1.0";
                        filtered[index][i].style.strokeOpacity = "0.0";
                    });
                });
                this.customStyle(unselectedIndices, "path", ".c3-shape.c3-line", { opacity: 0.1 });
                this.customStyle(selectedIndices, "path", ".c3-shape.c3-line", { opacity: 1.0 });
                this._selectionKeysChanged();
            } else {
                this._selectionKeysChanged();
            }
        }
    }, {
        key: "_updateStyle",
        value: function _updateStyle() {
            d3.select(this.element).selectAll("circle").style("opacity", 1).style("stroke", "black").style("stroke-opacity", 0.0);
        }
    }, {
        key: "mirrorVertical",
        value: function mirrorVertical() {
            var temp = {};
            if (this.c3Config.axis.y.show == true) {
                this.stringRecords.forEach(function (record) {
                    temp[record["id"].toString()] = 'y2';
                });
                this.c3Config.axis.y2.show = true;
                this.c3Config.axis.y.show = false;
                this.c3Config.data.axes = temp;
                this.c3Config.axis.y2.label = this.c3Config.axis.y.label;
            } else {
                this.stringRecords.forEach(function (record) {
                    temp[record["id"].toString()] = 'y';
                });
                this.c3Config.axis.y.show = true;
                this.c3Config.axis.y2.show = false;
                this.c3Config.data.axes = temp;
                this.c3Config.axis.y.label = this.c3Config.axis.y2.label;
            }
            this.chart = (0, _c.generate)(this.c3Config);
            this._dataChanged();
        }
    }, {
        key: "_dataChanged",
        value: function _dataChanged() {
            var _this4 = this;

            this.columnLabels = [];
            this.columnNames = [];
            var children = this.paths.columns.getChildren();
            this.yLabelColumnPath = children[0];
            var numericMapping = {
                columns: children,
                yLabel: this.yLabelColumnPath
            };
            var stringMapping = {
                columns: children,
                line: {
                    //alpha: this._lineStylePath.push("alpha"),
                    color: this.paths.lineStyle.push("color")
                },
                yLabel: this.yLabelColumnPath
            };
            for (var idx in children) {
                var child = children[idx];
                var title = child.getObject().getMetadata('title');
                var name = child.getPath().pop();
                this.columnLabels.push(title);
                this.columnNames.push(name);
            }
            this.numericRecords = this.paths.plotter.retrieveRecords(numericMapping, { keySet: this.paths.filteredKeySet, dataType: "number" });
            this.stringRecords = this.paths.plotter.retrieveRecords(stringMapping, { keySet: this.paths.filteredKeySet, dataType: "string" });
            this.records = _.zip(this.numericRecords, this.stringRecords);
            this.records = _.sortBy(this.records, [0, "id"]);
            if (this.records.length) {
                ;

                var _$unzip = _.unzip(this.records);

                var _$unzip2 = _slicedToArray(_$unzip, 2);

                this.numericRecords = _$unzip2[0];
                this.stringRecords = _$unzip2[1];
            }this.keyToIndex = {};
            this.indexToKey = {};
            this.yAxisValueToLabel = {};
            this.numericRecords.forEach(function (record, index) {
                _this4.keyToIndex[record["id"]] = index;
                _this4.indexToKey[index] = record["id"];
            });
            this.stringRecords.forEach(function (record, index) {
                var numericRecord = _this4.numericRecords[index];
                _this4.yAxisValueToLabel[numericRecord["yLabel"]] = record["yLabel"];
            });
            var columns = [];
            columns = this.numericRecords.map(function (record) {
                var tempArr = [];
                tempArr.push(record["id"]);
                _.keys(record["columns"]).forEach(function (key) {
                    tempArr.push(record["columns"][key]);
                });
                return tempArr;
            });
            this.colors = {};
            this.stringRecords.forEach(function (record) {
                _this4.colors[record["id"]] = record["line"]["color"] || "#C0CDD1";
            });
            var chartType = "line";
            if (this.paths.plotter.push("curveType").getState() === "double") {
                chartType = "spline";
            }
            if (this.c3Config.axis.y2.show) {
                columns.forEach(function (column, index, array) {
                    var temp = [];
                    temp.push(column.shift());
                    column = column.reverse();
                    column.forEach(function (item) {
                        temp.push(item);
                    });
                    array[index] = temp;
                });
            }
            this.chart.load({ columns: columns, colors: this.colors, type: chartType, unload: true });
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            /* Cleanup callbacks */
            //this.teardownCallbacks();
            this.chart.destroy();
        }
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            var _this5 = this;

            this.element.addEventListener("click", this.handleClick.bind(this));
            var dataChanged = _.debounce(this._dataChanged.bind(this), 100);
            var selectionKeySetChanged = this._selectionKeysChanged.bind(this);
            var probeKeySetChanged = _.debounce(this._probedKeysChanged.bind(this), 100);
            var plotterPath = this.toolPath.pushPlotter("plot");
            var mapping = [{ name: "plotter", path: plotterPath, callbacks: null }, { name: "columns", path: plotterPath.push("columns"), callbacks: dataChanged }, { name: "lineStyle", path: plotterPath.push("lineStyle"), callbacks: dataChanged }, { name: "curveType", path: plotterPath.push("curveType"), callbacks: dataChanged }, { name: "filteredKeySet", path: plotterPath.push("filteredKeySet"), callbacks: dataChanged }, { name: "selectionKeySet", path: this.toolPath.selection_keyset, callbacks: selectionKeySetChanged }, { name: "probeKeySet", path: this.toolPath.probe_keyset, callbacks: probeKeySetChanged }];
            this.initializePaths(mapping);
            this.paths.filteredKeySet.getObject().setColumnKeySources(this.paths.columns.getObject().getObjects());
            this.c3Config = {
                size: {
                    width: this.props.style.width,
                    height: this.props.style.height
                },
                padding: {
                    top: 20,
                    bottom: 20
                },
                data: {
                    columns: [],
                    xSort: false,
                    selection: {
                        enabled: true,
                        multiple: true,
                        draggable: true
                    },
                    onclick: function onclick(d) {
                        var event = _this5.chart.internal.d3.event;
                        if (!(event.ctrlKey || event.metaKey) && d && d.hasOwnProperty("index")) {
                            _this5.toolPath.selection_keyset.setKeys([d.id]);
                        }
                    },
                    onselected: function onselected(d) {
                        _this5.flag = true;
                        if (d && d.hasOwnProperty("index")) {
                            _this5.toolPath.selection_keyset.addKeys([d.id]);
                        }
                    },
                    onunselected: function onunselected(d) {
                        _this5.flag = true;
                        if (d && d.hasOwnProperty("index")) {
                            _this5.toolPath.selection_keyset.removeKeys([d.id]);
                        }
                    },
                    onmouseover: function onmouseover(d) {
                        if (d && d.hasOwnProperty("index")) {
                            _this5.toolPath.probe_keyset.setKeys([d.id]);
                        }
                        var columnNamesToValue = {};
                        _this5.columnLabels.forEach(function (label, index, array) {
                            columnNamesToValue[label] = _this5.numericRecords[d.index]["columns"][index];
                        });
                        _this5.props.toolTip.setState({
                            x: _this5.chart.internal.d3.event.pageX,
                            y: _this5.chart.internal.d3.event.pageY,
                            showToolTip: true,
                            columnNamesToValue: columnNamesToValue
                        });
                    },
                    onmouseout: function onmouseout(d) {
                        if (d && d.hasOwnProperty("index")) {
                            _this5.toolPath.probe_keyset.setKeys([]);
                            _this5.props.toolTip.setState({
                                showToolTip: false
                            });
                        }
                    }
                },
                tooltip: {
                    show: false
                },
                grid: {
                    x: {
                        show: true
                    },
                    y: {
                        show: true
                    }
                },
                axis: {
                    x: {
                        tick: {
                            multiline: false,
                            rotate: 0,
                            format: function format(d) {
                                if (_this5.c3Config.axis.y2.show) {
                                    //handle case where labels need to be reversed
                                    var temp = _this5.columnLabels.length - 1;
                                    return _this5.columnLabels[temp - d];
                                } else {
                                    return _this5.columnLabels[d];
                                }
                            }
                        }
                    },
                    y: {
                        show: true,
                        tick: {
                            multiline: true,
                            format: function format(num) {
                                if (_this5.yLabelColumnPath && _this5.yLabelColumnPath.getValue("this.getMetadata('dataType')") !== "number") {
                                    return _this5.yAxisValueToLabel[num] || "";
                                } else {
                                    return String(_FormatUtils2.default.defaultNumberFormatting(num));
                                }
                            }
                        }
                    },
                    y2: {
                        show: false,
                        min: null,
                        max: null,
                        tick: {
                            multiline: true,
                            format: function format(num) {
                                if (_this5.yLabelColumnPath && _this5.yLabelColumnPath.getObject().getMetadata('dataType') !== "number") {
                                    return _this5.yAxisValueToLabel[num] || "";
                                } else {
                                    return String(_FormatUtils2.default.defaultNumberFormatting(num));
                                }
                            }
                        }
                    }
                },
                bindto: this.element,
                legend: {
                    show: false
                },
                onrendered: this._updateStyle.bind(this)
            };
            this.chart = (0, _c.generate)(this.c3Config);
        }
    }, {
        key: "handleClick",
        value: function handleClick(event) {
            if (!this.flag) {
                this.toolPath.selection_keyset.setKeys([]);
            }
            this.flag = false;
        }
    }]);

    return WeaveC3LineChart;
}(_AbstractC3Tool3.default);

exports.default = WeaveC3LineChart;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::LineChartTool", WeaveC3LineChart);
//Weave.registerClass("weavejs.tools.LineChartTool", WeaveC3LineChart, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"../utils/FormatUtils":39,"./AbstractC3Tool":14,"c3":"c3","d3":"d3","lodash":"lodash"}],35:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _AbstractC3Tool2 = require("./AbstractC3Tool");

var _AbstractC3Tool3 = _interopRequireDefault(_AbstractC3Tool2);

var _WeaveTool = require("../WeaveTool");

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _c = require("c3");

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/c3/c3.d.ts"/>
/// <reference path="../../typings/lodash/lodash.d.ts"/>
/// <reference path="../../typings/d3/d3.d.ts"/>
/// <reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/weave/WeavePath.d.ts"/>

;

var WeaveC3PieChart = function (_AbstractC3Tool) {
    _inherits(WeaveC3PieChart, _AbstractC3Tool);

    function WeaveC3PieChart(props) {
        _classCallCheck(this, WeaveC3PieChart);

        return _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveC3PieChart).call(this, props));
    }

    _createClass(WeaveC3PieChart, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "selectionKeysChanged",
        value: function selectionKeysChanged() {
            if (!this.chart) return;
            var keys = this.toolPath.selection_keyset.getKeys();
            if (keys.length) {
                this.chart.focus(keys);
            } else {
                this.chart.focus();
            }
        }
    }, {
        key: "probedKeysChanged",
        value: function probedKeysChanged() {
            var keys = this.toolPath.probe_keyset.getKeys();
            if (keys.length) {
                this.chart.focus(keys);
            } else {
                this.selectionKeysChanged();
            }
        }
    }, {
        key: "updateStyle",
        value: function updateStyle() {}
    }, {
        key: "handleClick",
        value: function handleClick(event) {
            if (!this.flag) {
                this.toolPath.selection_keyset.setKeys([]);
            }
            this.flag = false;
        }
    }, {
        key: "dataChanged",
        value: function dataChanged() {
            var _this2 = this;

            if (!this.chart) return;
            var numericMapping = {
                data: this.paths.data
            };
            var stringMapping = {
                fill: {
                    color: this.paths.fillStyle.push("color")
                },
                line: {},
                label: this.paths.label
            };
            this.numericRecords = this.paths.plotter.retrieveRecords(numericMapping, { keySet: this.paths.filteredKeySet, dataType: "number" });
            this.stringRecords = this.paths.plotter.retrieveRecords(stringMapping, { keySet: this.paths.filteredKeySet, dataType: "string" });
            this.keyToIndex = {};
            this.indexToKey = {};
            this.numericRecords.forEach(function (record, index) {
                _this2.indexToKey[index] = record["id"];
                _this2.keyToIndex[record["id"]] = index;
            });
            var columns = [];
            columns = this.numericRecords.map(function (record) {
                var tempArr = [record["id"], record["data"]];
                return tempArr;
            });
            var chartType = "pie";
            if (this.paths.plotter.getState("innerRadius") > 0) {
                chartType = "donut";
            }
            this.colors = {};
            this.stringRecords.forEach(function (record) {
                _this2.colors[record["id"]] = record["fill"]["color"] || "#C0CDD1";
            });
            this.chart.load({
                columns: columns,
                type: chartType,
                colors: this.colors,
                unload: true
            });
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            /* Cleanup callbacks */
            //this.teardownCallbacks();
            this.chart.destroy();
        }
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            var _this3 = this;

            this.element.addEventListener("click", this.handleClick.bind(this));
            var dataChanged = _.debounce(this.dataChanged.bind(this), 100);
            var selectionKeySetChanged = this.selectionKeysChanged.bind(this);
            var probeKeySetChanged = _.debounce(this.probedKeysChanged.bind(this), 100);
            var plotterPath = this.toolPath.pushPlotter("plot");
            var manifest = [{ name: "plotter", path: plotterPath, callbacks: null }, { name: "data", path: plotterPath.push("data"), callbacks: dataChanged }, { name: "label", path: plotterPath.push("label"), callbacks: dataChanged }, { name: "fillStyle", path: plotterPath.push("fill"), callbacks: dataChanged }, { name: "lineStyle", path: plotterPath.push("line"), callbacks: dataChanged }, { name: "innerRadius", path: plotterPath.push("innerRadius"), callbacks: dataChanged }, { name: "filteredKeySet", path: plotterPath.push("filteredKeySet"), callbacks: dataChanged }, { name: "selectionKeySet", path: this.toolPath.selection_keyset, callbacks: selectionKeySetChanged }, { name: "probeKeySet", path: this.toolPath.probe_keyset, callbacks: probeKeySetChanged }];
            this.initializePaths(manifest);
            this.paths.filteredKeySet.getObject().setSingleKeySource(this.paths.data.getObject());
            this.c3Config = {
                size: {
                    width: this.props.style.width,
                    height: this.props.style.height
                },
                bindto: this.element,
                padding: {
                    top: 20,
                    bottom: 20,
                    right: 30
                },
                tooltip: {
                    show: false
                },
                data: {
                    columns: [],
                    selection: {
                        enabled: true,
                        multiple: true,
                        draggable: true
                    },
                    type: "pie",
                    onclick: function onclick(d) {
                        var event = _this3.chart.internal.d3.event;
                        if (!(event.ctrlKey || event.metaKey) && d && d.hasOwnProperty("index")) {
                            _this3.toolPath.selection_keyset.setKeys([_this3.indexToKey[d.index]]);
                        }
                    },
                    onselected: function onselected(d) {
                        if (d && d.hasOwnProperty("index")) {
                            _this3.toolPath.selection_keyset.addKeys([_this3.indexToKey[d.index]]);
                        }
                    },
                    onunselected: function onunselected(d) {
                        if (d && d.hasOwnProperty("data")) {
                            // d has a different structure than "onselected" argument
                            _this3.toolPath.selection_keyset.setKeys([]);
                        }
                    },
                    onmouseover: function onmouseover(d) {
                        if (d && d.hasOwnProperty("index")) {
                            var columnNamesToValue = {};
                            columnNamesToValue[_this3.paths.data.getObject().getMetadata("title")] = d.value;
                            _this3.toolPath.probe_keyset.setKeys([_this3.indexToKey[d.index]]);
                            _this3.props.toolTip.setState({
                                showToolTip: true,
                                x: _this3.chart.internal.d3.event.pageX,
                                y: _this3.chart.internal.d3.event.pageY,
                                columnNamesToValue: columnNamesToValue
                            });
                        }
                    },
                    onmouseout: function onmouseout(d) {
                        if (d && d.hasOwnProperty("index")) {
                            _this3.toolPath.probe_keyset.setKeys([]);
                            _this3.props.toolTip.setState({
                                showToolTip: false
                            });
                        }
                    }
                },
                pie: {
                    label: {
                        show: true,
                        format: function format(value, ratio, id) {
                            if (_this3.stringRecords && _this3.stringRecords.length) {
                                var record = _this3.stringRecords[_this3.keyToIndex[id]];
                                if (record && record["label"]) {
                                    return record["label"];
                                }
                                return String(value);
                            }
                        }
                    }
                },
                donut: {
                    label: {
                        show: true,
                        format: function format(value, ratio, id) {
                            if (_this3.stringRecords && _this3.stringRecords.length) {
                                var record = _this3.stringRecords[_this3.keyToIndex[id]];
                                if (record && record["label"]) {
                                    return record["label"];
                                }
                                return String(value);
                            }
                        }
                    }
                },
                legend: {
                    show: false
                },
                onrendered: this.updateStyle.bind(this)
            };
            this.chart = (0, _c.generate)(this.c3Config);
        }
    }]);

    return WeaveC3PieChart;
}(_AbstractC3Tool3.default);

exports.default = WeaveC3PieChart;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::PieChartTool", WeaveC3PieChart);
//Weave.registerClass("weavejs.tools.PieChartTool", WeaveC3PieChart, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"./AbstractC3Tool":14,"c3":"c3","lodash":"lodash"}],36:[function(require,module,exports){
"use strict";

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _AbstractC3Tool2 = require("./AbstractC3Tool");

var _AbstractC3Tool3 = _interopRequireDefault(_AbstractC3Tool2);

var _WeaveTool = require("../WeaveTool");

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

var _d = require("d3");

var d3 = _interopRequireWildcard(_d);

var _FormatUtils = require("../utils/FormatUtils");

var _FormatUtils2 = _interopRequireDefault(_FormatUtils);

var _c = require("c3");

var _StandardLib = require("../utils/StandardLib");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../typings/c3/c3.d.ts"/>
///<reference path="../../typings/d3/d3.d.ts"/>
///<reference path="../../typings/lodash/lodash.d.ts"/>
///<reference path="../../typings/react/react.d.ts"/>
///<reference path="../../typings/weave/WeavePath.d.ts"/>
/// <reference path="../../typings/react/react-dom.d.ts"/>

/* private
 * @param records array or records
 * @param attributes array of attributes to be normalized
 */

var WeaveC3ScatterPlot = function (_AbstractC3Tool) {
    _inherits(WeaveC3ScatterPlot, _AbstractC3Tool);

    function WeaveC3ScatterPlot(props) {
        _classCallCheck(this, WeaveC3ScatterPlot);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveC3ScatterPlot).call(this, props));

        _this.keyToIndex = {};
        _this.indexToKey = {};
        _this.yAxisValueToLabel = {};
        _this.xAxisValueToLabel = {};
        return _this;
    }

    _createClass(WeaveC3ScatterPlot, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "normalizeRecords",
        value: function normalizeRecords(records, attributes) {
            // to avoid computing the stats at each iteration.
            var columnStatsCache = {};
            attributes.forEach(function (attr) {
                columnStatsCache[attr] = {
                    min: _.min(_.pluck(records, attr)),
                    max: _.max(_.pluck(records, attr))
                };
            });
            return records.map(function (record) {
                var obj = {};
                attributes.forEach(function (attr) {
                    var min = columnStatsCache[attr].min;
                    var max = columnStatsCache[attr].max;
                    if (!min) min = 0;
                    if (max - min === 0) {
                        return 0;
                    }
                    if (record[attr]) {
                        // console.log( (record[attr] - min) / (max - min));
                        obj[attr] = (record[attr] - min) / (max - min);
                    } else {
                        // if any of the value above is null then
                        // we can't normalize
                        obj[attr] = null;
                    }
                });
                return obj;
            });
        }
    }, {
        key: "mirrorVertical",
        value: function mirrorVertical() {
            var temp = "y";
            if (this.c3Config.axis.y.show == true) {
                this.c3Config.axis.y2.show = true;
                this.c3Config.axis.y.show = false;
                this.c3Config.data.axes = _defineProperty({}, temp, 'y2');
                this.c3Config.axis.y2.label = this.c3Config.axis.y.label;
            } else {
                this.c3Config.axis.y.show = true;
                this.c3Config.axis.y2.show = false;
                this.c3Config.data.axes = _defineProperty({}, temp, 'y');
                this.c3Config.axis.y.label = this.c3Config.axis.y2.label;
            }
            this.dataChanged();
            this.generate();
        }
    }, {
        key: "axisChanged",
        value: function axisChanged() {
            if (this.busy) {
                this.busy++;
                return;
            }
            if (this.c3Config.axis.y.show) {
                this.chart.axis.labels({
                    x: this.paths.xAxis.getState("overrideAxisName") || this.paths.dataX.getObject().getMetadata('title'),
                    y: this.paths.yAxis.getState("overrideAxisName") || this.paths.dataY.getObject().getMetadata('title')
                });
            } else {
                this.chart.axis.labels({
                    x: this.paths.xAxis.getState("overrideAxisName") || this.paths.dataX.getObject().getMetadata('title'),
                    y2: this.paths.yAxis.getState("overrideAxisName") || this.paths.dataY.getObject().getMetadata('title')
                });
            }
            this.axisLabelsChanged();
            this.generate();
        }
    }, {
        key: "axisLabelsChanged",
        value: function axisLabelsChanged() {
            var chartWidth = this.chart.internal.width;
            var textHeight = _StandardLib2.default.getTextHeight("test", "14pt Helvetica Neue");
            var xLabelsToShow = Math.floor(chartWidth / textHeight);
            xLabelsToShow = Math.max(2, xLabelsToShow);
            this.c3Config.axis.x.tick.culling = { max: xLabelsToShow };
        }
    }, {
        key: "dataChanged",
        value: function dataChanged() {
            var _this2 = this;

            if (this.busy) {
                this.busy++;
                return;
            }
            var numericMapping = {
                point: {
                    x: this.paths.dataX,
                    y: this.paths.dataY
                },
                size: this.paths.sizeBy
            };
            var stringMapping = {
                point: {
                    x: this.paths.dataX,
                    y: this.paths.dataY
                },
                fill: {
                    //alpha: this._fillStylePath.push("alpha"),
                    color: this.paths.fill.push("color")
                },
                line: {
                    //alpha: this._lineStylePath.push("alpha"),
                    color: this.paths.line.push("color")
                }
            };
            this.dataXType = this.paths.dataX.getObject().getMetadata('dataType');
            this.dataYType = this.paths.dataY.getObject().getMetadata('dataType');
            this.numericRecords = this.paths.plotter.retrieveRecords(numericMapping, { keySet: this.paths.filteredKeySet, dataType: "number" });
            this.stringRecords = this.paths.plotter.retrieveRecords(stringMapping, { keySet: this.paths.filteredKeySet, dataType: "string" });
            this.records = _.zip(this.numericRecords, this.stringRecords);
            this.records = _.sortByOrder(this.records, ["size", "id"], ["desc", "asc"]);
            if (this.c3Config.axis.y.show == false) {
                this.records = this.records.reverse();
            }
            if (this.records.length) {
                ;

                var _$unzip = _.unzip(this.records);

                var _$unzip2 = _slicedToArray(_$unzip, 2);

                this.numericRecords = _$unzip2[0];
                this.stringRecords = _$unzip2[1];
            }this.keyToIndex = {};
            this.indexToKey = {};
            this.yAxisValueToLabel = {};
            this.xAxisValueToLabel = {};
            this.numericRecords.forEach(function (record, index) {
                _this2.keyToIndex[record["id"]] = index;
                _this2.indexToKey[index] = record["id"];
            });
            this.stringRecords.forEach(function (record, index) {
                _this2.xAxisValueToLabel[_this2.numericRecords[index]["point"]["x"]] = record["point"]["x"];
                _this2.yAxisValueToLabel[_this2.numericRecords[index]["point"]["y"]] = record["point"]["y"];
            });
            this.normalizedRecords = this.normalizeRecords(this.numericRecords, ["size"]);
            this.plotterState = this.paths.plotter.getUntypedState ? this.paths.plotter.getUntypedState() : this.paths.plotter.getState();
            this.normalizedPointSizes = this.normalizedRecords.map(function (normalizedRecord) {
                if (_this2.plotterState && _this2.plotterState.sizeBy) {
                    var minScreenRadius = _this2.plotterState.minScreenRadius;
                    var maxScreenRadius = _this2.plotterState.maxScreenRadius;
                    return (normalizedRecord && normalizedRecord["size"] ? minScreenRadius + normalizedRecord["size"] * (maxScreenRadius - minScreenRadius) : _this2.plotterState.defaultScreenRadius) || 3;
                } else {
                    return _this2.plotterState.defaultScreenRadius || 3;
                }
            });
            this.axisChanged();
            this.busy = 1;
            this.generate();
        }
    }, {
        key: "handleClick",
        value: function handleClick(event) {
            if (!this.flag) {
                this.toolPath.selection_keyset.setKeys([]);
            }
            this.flag = false;
        }
    }, {
        key: "updateStyle",
        value: function updateStyle() {
            var _this3 = this;

            if (!this.chart) return;
            d3.select(this.element).selectAll("circle").style("opacity", 1).style("stroke", "black").style("stroke-opacity", 0.0);
            var selectedKeys = this.toolPath.selection_keyset.getKeys();
            var probedKeys = this.toolPath.probe_keyset.getKeys();
            var selectedIndices = selectedKeys.map(function (key) {
                return Number(_this3.keyToIndex[key]);
            });
            var probedIndices = probedKeys.map(function (key) {
                return Number(_this3.keyToIndex[key]);
            });
            var keys = Object.keys(this.keyToIndex);
            var indices = keys.map(function (key) {
                return Number(_this3.keyToIndex[key]);
            });
            var unselectedIndices = _.difference(indices, selectedIndices);
            unselectedIndices = _.difference(unselectedIndices, probedIndices);
            if (probedIndices.length) {
                this.customStyle(probedIndices, "circle", ".c3-shape", { opacity: 1.0, "stroke-opacity": 0.0 });
            }
            if (selectedIndices.length) {
                this.customStyle(unselectedIndices, "circle", ".c3-shape", { opacity: 0.3, "stroke-opacity": 0.0 });
                this.customStyle(selectedIndices, "circle", ".c3-shape", { opacity: 1.0, "stroke-opacity": 1.0 });
                this.chart.select(["y"], selectedIndices, true);
            } else if (!probedIndices.length) {
                this.customStyle(indices, "circle", ".c3-shape", { opacity: 1.0, "stroke-opacity": 0.0 });
                this.chart.select(["y"], [], true);
            }
        }
    }, {
        key: "generate",
        value: function generate() {
            var _this4 = this;

            this.chart = (0, _c.generate)(this.c3Config);
            this.chart.load({ data: _.pluck(this.numericRecords, "point"), unload: true, done: function done() {
                    if (_this4.busy > 1) {
                        _this4.busy = 0;
                        _this4.dataChanged();
                    } else {
                        _this4.busy = 0;
                    }
                } });
        }
    }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate() {
            //console.log("resizing");
            //var start = Date.now();
            if (this.c3Config.size.width != this.props.style.width || this.c3Config.size.height != this.props.style.height) {
                this.c3Config.axis.x.height = this.props.style.height * 0.2;
                this.c3Config.size = { width: this.props.style.width, height: this.props.style.height };
                this.chart = (0, _c.generate)(this.c3Config);
                this.axisChanged();
            }
            //var end = Date.now();
        }
    }, {
        key: "componentWillUnmount",
        value: function componentWillUnmount() {
            /* Cleanup callbacks */
            //this.teardownCallbacks();
            this.chart.destroy();
        }
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            var _this5 = this;

            this.element.addEventListener("click", this.handleClick.bind(this));
            var axisChanged = this.axisChanged.bind(this);
            var dataChanged = this.dataChanged.bind(this);
            var plotterPath = this.toolPath.pushPlotter("plot");
            var mapping = [{ name: "plotter", path: plotterPath, callbacks: dataChanged }, { name: "dataX", path: plotterPath.push("dataX"), callbacks: [dataChanged, axisChanged] }, { name: "dataY", path: plotterPath.push("dataY"), callbacks: [dataChanged, axisChanged] }, { name: "sizeBy", path: plotterPath.push("sizeBy"), callbacks: dataChanged }, { name: "fill", path: plotterPath.push("fill"), callbacks: [dataChanged] }, { name: "line", path: plotterPath.push("line"), callbacks: dataChanged }, { name: "xAxis", path: this.toolPath.pushPlotter("xAxis"), callbacks: axisChanged }, { name: "yAxis", path: this.toolPath.pushPlotter("yAxis"), callbacks: axisChanged }, { name: "filteredKeySet", path: plotterPath.push("filteredKeySet"), callbacks: dataChanged }, { name: "selectionKeySet", path: this.toolPath.selection_keyset, callbacks: this.updateStyle }, { name: "probeKeySet", path: this.toolPath.probe_keyset, callbacks: this.updateStyle }];
            this.initializePaths(mapping);
            this.paths.filteredKeySet.getObject().setColumnKeySources([this.paths.dataX.getObject(), this.paths.dataY.getObject()]);
            this.c3Config = {
                size: {
                    height: this.props.style.height,
                    width: this.props.style.width
                },
                bindto: this.element,
                padding: {
                    top: 20,
                    bottom: 20
                },
                data: {
                    rows: [],
                    x: "x",
                    xSort: false,
                    type: "scatter",
                    selection: {
                        enabled: true,
                        multiple: true,
                        draggable: true
                    },
                    color: function color(_color, d) {
                        if (_this5.stringRecords && d.hasOwnProperty("index")) {
                            // find the corresponding index of numericRecords in stringRecords
                            var id = _this5.indexToKey[d.index];
                            var index = _.pluck(_this5.stringRecords, "id").indexOf(id);
                            var record = _this5.stringRecords[index];
                            return record && record["fill"] && record["fill"]["color"] ? record["fill"]["color"] : "#000000";
                        }
                        return "#000000";
                    },
                    onclick: function onclick(d) {
                        var event = _this5.chart.internal.d3.event;
                        if (!(event.ctrlKey || event.metaKey) && d && d.hasOwnProperty("index")) {
                            _this5.toolPath.selection_keyset.setKeys([_this5.indexToKey[d.index]]);
                        }
                    },
                    onselected: function onselected(d) {
                        _this5.flag = true;
                        if (d && d.hasOwnProperty("index")) {
                            _this5.toolPath.selection_keyset.addKeys([_this5.indexToKey[d.index]]);
                        }
                    },
                    onunselected: function onunselected(d) {
                        _this5.flag = true;
                        if (d && d.hasOwnProperty("index")) {
                            _this5.toolPath.selection_keyset.removeKeys([_this5.indexToKey[d.index]]);
                        }
                    },
                    onmouseover: function onmouseover(d) {
                        if (d && d.hasOwnProperty("index")) {
                            _this5.toolPath.probe_keyset.setKeys([]);
                            var columnNamesToValue = {};
                            var xValue = _this5.numericRecords[d.index]["point"]["x"];
                            if (xValue) {
                                columnNamesToValue[_this5.paths.dataX.getObject().getMetadata('title')] = xValue;
                            }
                            var yValue = _this5.numericRecords[d.index]["point"]["y"];
                            if (yValue) {
                                columnNamesToValue[_this5.paths.dataY.getObject().getMetadata('title')] = yValue;
                            }
                            var sizeByValue = _this5.numericRecords[d.index]["size"];
                            if (sizeByValue) {
                                columnNamesToValue[_this5.paths.sizeBy.getObject().getMetadata('title')] = sizeByValue;
                            }
                            _this5.toolPath.probe_keyset.setKeys([_this5.indexToKey[d.index]]);
                            _this5.props.toolTip.setState({
                                x: _this5.chart.internal.d3.event.pageX,
                                y: _this5.chart.internal.d3.event.pageY,
                                showToolTip: true,
                                columnNamesToValue: columnNamesToValue
                            });
                        }
                    },
                    onmouseout: function onmouseout(d) {
                        if (d && d.hasOwnProperty("index")) {
                            _this5.toolPath.probe_keyset.setKeys([]);
                            _this5.props.toolTip.setState({
                                showToolTip: false
                            });
                        }
                    }
                },
                legend: {
                    show: false
                },
                axis: {
                    x: {
                        label: {
                            text: "",
                            position: "outer-center"
                        },
                        tick: {
                            format: function format(num) {
                                if (_this5.paths.dataX && _this5.xAxisValueToLabel && _this5.dataXType !== "number") {
                                    return _this5.xAxisValueToLabel[num] || "";
                                } else {
                                    return String(_FormatUtils2.default.defaultNumberFormatting(num));
                                }
                            },
                            rotate: -45,
                            culling: {
                                max: null
                            },
                            fit: false //,
                        }
                    },
                    y: {
                        show: true,
                        label: {
                            text: "",
                            position: "outer-middle"
                        },
                        tick: {
                            format: function format(num) {
                                if (_this5.paths.dataY && _this5.yAxisValueToLabel && _this5.dataYType !== "number") {
                                    return _this5.yAxisValueToLabel[num] || "";
                                } else {
                                    return String(_FormatUtils2.default.defaultNumberFormatting(num));
                                }
                            }
                        }
                    },
                    y2: {
                        show: false,
                        label: {
                            text: "",
                            position: "outer-middle"
                        },
                        tick: {
                            format: function format(num) {
                                if (_this5.paths.dataY && _this5.yAxisValueToLabel && _this5.dataYType !== "number") {
                                    return _this5.yAxisValueToLabel[num] || "";
                                } else {
                                    return String(_FormatUtils2.default.defaultNumberFormatting(num));
                                }
                            }
                        }
                    }
                },
                grid: {
                    x: {
                        show: true
                    },
                    y: {
                        show: true
                    }
                },
                tooltip: {
                    format: {
                        title: function title(num) {
                            return _this5.paths.xAxis.getState("overrideAxisName") || _this5.paths.dataX.getObject().getMetadata('title');
                        },
                        name: function name(_name, ratio, id, index) {
                            return _this5.paths.yAxis.getState("overrideAxisName") || _this5.paths.dataY.getObject().getMetadata('title');
                        }
                    },
                    show: false
                },
                point: {
                    r: function r(d) {
                        if (d.hasOwnProperty("index")) {
                            return _this5.normalizedPointSizes[d.index];
                        }
                    }
                },
                onrendered: this.updateStyle.bind(this)
            };
            this.c3Config.axis.x.height = this.props.style.height * 0.2;
            this.chart = (0, _c.generate)(this.c3Config);
        }
    }]);

    return WeaveC3ScatterPlot;
}(_AbstractC3Tool3.default);

exports.default = WeaveC3ScatterPlot;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::ScatterPlotTool", WeaveC3ScatterPlot);
//Weave.registerClass("weavejs.tools.ScatterPlotTool", WeaveC3ScatterPlot, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"../utils/FormatUtils":39,"../utils/StandardLib":40,"./AbstractC3Tool":14,"c3":"c3","d3":"d3","lodash":"lodash"}],37:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _WeaveTool = require("../WeaveTool");

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _ReactBootStrapTable = require("../react-bootstrap-datatable/ReactBootStrapTable");

var _ReactBootStrapTable2 = _interopRequireDefault(_ReactBootStrapTable);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /// <reference path="../../typings/lodash/lodash.d.ts"/>
/// <reference path="../../typings/react/react.d.ts"/>
/// <reference path="../../typings/react/react-dom.d.ts"/>
/// <reference path="../../typings/weave/WeavePath.d.ts"/>

var WeaveReactTable = function (_React$Component) {
    _inherits(WeaveReactTable, _React$Component);

    function WeaveReactTable(props) {
        _classCallCheck(this, WeaveReactTable);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(WeaveReactTable).call(this, props));

        _this.toolPath = props.toolPath;
        _this.columnsPath = _this.toolPath.push("columns");
        _this.state = {
            data: []
        };
        return _this;
    }

    _createClass(WeaveReactTable, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {
            this.columnsPath.addCallback(this, this.dataChanged, true);
            this.toolPath.push("filteredKeySet").addCallback(this, this.dataChanged, true);
            this.toolPath.push("selectionKeySet").addCallback(this, this.forceUpdate, true);
            this.toolPath.probe_keyset.addCallback(this, this.forceUpdate, true);
            this.toolPath.getObject("filteredKeySet").setColumnKeySources(this.toolPath.getObject("columns").getObjects());
        }
    }, {
        key: "componentDidUpdate",
        value: function componentDidUpdate() {}
    }, {
        key: "dataChanged",
        value: function dataChanged() {
            this.setState({
                data: this.columnsPath.retrieveRecords(this.columnsPath.getNames(), this.toolPath.push("filteredKeySet"))
            });
        }
        // customFormat(cell, row) {
        //     if(typeof cell === "number") {
        //         return round(cell, 2)
        //     } else {
        //         return cell;
        //     }
        // }

    }, {
        key: "handleProbe",
        value: function handleProbe(id) {
            this.toolPath.probe_keyset.setKeys(id);
        }
    }, {
        key: "handleSelection",
        value: function handleSelection(id) {
            this.toolPath.push("selectionKeySet", null).setKeys(id);
        }
    }, {
        key: "render",
        value: function render() {
            var columns = {};
            columns["id"] = "Key";
            this.columnsPath.getChildren().forEach(function (columnPath) {
                columns[columnPath.getPath().pop()] = columnPath.getObject().getMetadata('title');
            });
            return React.createElement(_ReactBootStrapTable2.default, { columnTitles: columns, rows: this.state.data, idProperty: "id", height: this.props.style.height, striped: true, hover: true, bordered: true, condensed: true, selectedIds: this.toolPath.push("selectionKeySet", null).getKeys(), probedIds: this.toolPath.probe_keyset.getKeys(), onProbe: this.handleProbe.bind(this), onSelection: this.handleSelection.bind(this), showIdColumn: false });
        }
    }, {
        key: "title",
        get: function get() {
            return (this.toolPath.getType('panelTitle') ? this.toolPath.getState('panelTitle') : '') || this.toolPath.getPath().pop();
        }
    }]);

    return WeaveReactTable;
}(React.Component);

exports.default = WeaveReactTable;

(0, _WeaveTool.registerToolImplementation)("weave.visualization.tools::TableTool", WeaveReactTable);
//Weave.registerClass("weavejs.tools.TableTool", WeaveReactTable, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"../react-bootstrap-datatable/ReactBootStrapTable":4,"react":"react"}],38:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _WeaveTool = require("../WeaveTool");

var _react = require("react");

var React = _interopRequireWildcard(_react);

var _ui = require("../react-ui/ui");

var _ui2 = _interopRequireDefault(_ui);

var _reactBootstrap = require("react-bootstrap");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } ///<reference path="../../typings/lodash/lodash.d.ts"/>
///<reference path="../../typings/react/react.d.ts"/>
///<reference path="../../typings/react-bootstrap/react-bootstrap.d.ts"/>
///<reference path="../../typings/weave/WeavePath.d.ts"/>
///<reference path="../utils/StandardLib.ts"/>

//TODO: This is a hack to allow react to be imported in generated JSX. Without this, import is missing and render encounters an exception
var stub = React;
var sessionStateMenuStyle = { display: "flex", flex: 1, height: "100%", flexDirection: "column", overflow: "auto" };
var sessionStateComboBoxStyle = { display: "flex", flex: 1, height: "100%", flexDirection: "column" };

var SessionStateMenuTool = function (_React$Component) {
    _inherits(SessionStateMenuTool, _React$Component);

    function SessionStateMenuTool(props) {
        _classCallCheck(this, SessionStateMenuTool);

        var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(SessionStateMenuTool).call(this, props));

        _this.toolPath = _this.props.toolPath;
        _this.toolPath.push("choices").addCallback(_this, _this.forceUpdate);
        _this.toolPath.push("selectedChoice").addCallback(_this, _this.forceUpdate);
        _this.toolPath.push("layoutMode").addCallback(_this, _this.forceUpdate);
        return _this;
    }

    _createClass(SessionStateMenuTool, [{
        key: "handleMissingSessionStateProperties",
        value: function handleMissingSessionStateProperties(newState) {}
    }, {
        key: "componentDidMount",
        value: function componentDidMount() {}
    }, {
        key: "handleItemClick",
        value: function handleItemClick(index, event) {
            this.toolPath.state("selectedChoice", this.choices.getNames()[index]);
            var targets = this.toolPath.push("targets");
            var choice = this.choices.getState(index);
            targets.forEach(choice, function (value, key) {
                this.push(key, null).state(value);
            });
        }
    }, {
        key: "render",
        value: function render() {
            var _this2 = this;

            this.choices = this.toolPath.push("choices");
            var selectedChoice = this.toolPath.getState("selectedChoice");
            var layoutMode = this.toolPath.getState("layoutMode");
            var menus = this.choices.getNames().map(function (choice, index) {
                if (layoutMode === "ComboBox") {
                    return choice === selectedChoice ? React.createElement(
                        _reactBootstrap.MenuItem,
                        { active: true, key: index, onSelect: _this2.handleItemClick.bind(_this2, index) },
                        choice
                    ) : React.createElement(
                        _reactBootstrap.MenuItem,
                        { key: index, onSelect: _this2.handleItemClick.bind(_this2, index) },
                        choice
                    );
                } else {
                    return choice === selectedChoice ? React.createElement(
                        _reactBootstrap.ListGroupItem,
                        { active: true, key: index, onClick: _this2.handleItemClick.bind(_this2, index) },
                        choice
                    ) : React.createElement(
                        _reactBootstrap.ListGroupItem,
                        { key: index, onClick: _this2.handleItemClick.bind(_this2, index) },
                        choice
                    );
                }
            });
            var container;
            if (layoutMode === "ComboBox") {
                container = React.createElement(
                    _ui2.default.VBox,
                    { style: { height: "100%", flex: 1.0, alignItems: "center" } },
                    React.createElement(
                        _reactBootstrap.DropdownButton,
                        { title: selectedChoice, id: "dropdown-" + this.toolPath.getState("class") },
                        menus
                    )
                );
            } else {
                container = React.createElement(
                    _reactBootstrap.ListGroup,
                    null,
                    menus
                );
            }
            return React.createElement(
                "div",
                { style: layoutMode === "ComboBox" ? sessionStateComboBoxStyle : sessionStateMenuStyle },
                container
            );
        }
    }]);

    return SessionStateMenuTool;
}(React.Component);

exports.default = SessionStateMenuTool;

(0, _WeaveTool.registerToolImplementation)("weave.ui::SessionStateMenuTool", SessionStateMenuTool);
//Weave.registerClass("weavejs.tools.SessionStateMenuTool", SessionStateMenuTool, [weavejs.api.core.ILinkableObjectWithNewProperties]);

},{"../WeaveTool":3,"../react-ui/ui":13,"react":"react","react-bootstrap":"react-bootstrap"}],39:[function(require,module,exports){
"use strict";

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /// <reference path="../../typings/d3/d3.d.ts"/>

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _d = require("d3");

var d3 = _interopRequireWildcard(_d);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var FormatUtils = function () {
    function FormatUtils() {
        _classCallCheck(this, FormatUtils);
    }

    _createClass(FormatUtils, null, [{
        key: "defaultNumberFormatting",

        // this function returns the default number formating.
        // for number values, we round them to at most 4 decimal places
        // unless the number is very small, in which case we just return it
        value: function defaultNumberFormatting(x) {
            if (x < 0.0001) {
                return x;
            } else {
                return d3.round(x, 4);
            }
        }
    }]);

    return FormatUtils;
}();

exports.default = FormatUtils;

},{"d3":"d3"}],40:[function(require,module,exports){
"use strict";

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /// <reference path="../../typings/lodash/lodash.d.ts"/>

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _lodash = require("lodash");

var _ = _interopRequireWildcard(_lodash);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var StandardLib = function () {
    function StandardLib() {
        _classCallCheck(this, StandardLib);
    }

    _createClass(StandardLib, null, [{
        key: "rgba",

        /**
         * Generates an "rgba()" string for CSS.
         * @param r A number between 0 and 255.
         * @param g A number between 0 and 255.
         * @param b A number between 0 and 255.
         * @param a A number between 0 and 1.
         */
        value: function rgba(r, g, b, a) {
            return "rgba(" + r + "," + g + "," + b + "," + a + ")";
        }
        /**
         * Use this as a temporary solution before we use Weave.registerClass().
         */

    }, {
        key: "debounce",
        value: function debounce(target, methodName) {
            var delay = arguments.length <= 2 || arguments[2] === undefined ? 20 : arguments[2];

            if (target[methodName] === Object.getPrototypeOf(target)[methodName]) target[methodName] = _.debounce(target[methodName].bind(target), delay);
            target[methodName]();
        }
        /**
           * Searches for the first nested object with matching properties
           * @param roo The root Object.
           * @param match Either an Object with properties to match, or a Function that checks for a match.
         *
         * @returns returns an object with the matching properties
           */

    }, {
        key: "findDeep",
        value: function findDeep(root, match) {
            if (typeof match !== "function") {
                match = _.matches(match);
            }
            if (match(root)) {
                return root;
            }
            if ((typeof root === "undefined" ? "undefined" : _typeof(root)) == "object") {
                var key;
                for (key in root) {
                    var found = this.findDeep(root[key], match);
                    if (found) return found;
                }
            }
        }
        /**
          * Adds undefined values to new state for properties in
          * current state not found in new state.
          */

    }, {
        key: "includeMissingPropertyPlaceholders",
        value: function includeMissingPropertyPlaceholders(currentState, newState) {
            var key;
            for (key in currentState) {
                if (!newState.hasOwnProperty(key)) {
                    newState[key] = undefined;
                }
            }
            return newState;
        }
        /**
          * Calculates an interpolated color for a normalized value.
          * @param normValue A Number between 0 and 1.
          * @param colors An Array or list of colors to interpolate between.  Normalized values of 0 and 1 will be mapped to the first and last colors.
          * @return An interpolated color associated with the given normValue based on the list of color values.
          */

    }, {
        key: "interpolateColor",
        value: function interpolateColor(normValue) {
            for (var _len = arguments.length, colors = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
                colors[_key - 1] = arguments[_key];
            }

            // handle an array of colors as the second parameter
            if (colors.length === 1 && Array.isArray(colors[0])) {
                colors = colors[0];
            }
            // handle invalid parameters
            if (normValue < 0 || normValue > 1 || colors.length === 0) {
                return NaN;
            }
            // find the min and max colors we want to interpolate between
            var maxIndex = Math.floor(colors.length - 1);
            var leftIndex = Math.floor(maxIndex * normValue);
            var rightIndex = Math.floor(leftIndex + 1);
            // handle boundary condition
            if (rightIndex === colors.length) {
                return parseInt(colors[leftIndex], 16);
            }
            var minColor = colors[leftIndex];
            var maxColor = colors[rightIndex];
            // normalize the norm value between the two norm values associated with the surrounding colors
            normValue = normValue * maxIndex - leftIndex;
            var percentLeft = 1 - normValue; // relevance of minColor
            var percentRight = normValue; // relevance of maxColor
            var R = 0xFF0000;
            var G = 0x00FF00;
            var B = 0x0000FF;
            return percentLeft * (minColor & R) + percentRight * (maxColor & R) & R | percentLeft * (minColor & G) + percentRight * (maxColor & G) & G | percentLeft * (minColor & B) + percentRight * (maxColor & B) & B;
        }
        /**
        * This function converts a decimal number to a 6 digit hexadecimal string
        * @param dec A decimal number
        * @return the hexadecimal value of the decimal number
        */

    }, {
        key: "decimalToHex",
        value: function decimalToHex(dec) {
            return _.padLeft(dec.toString(16), 6, "0");
        }
        /**
         * This function return the normalized value between a range
         * if no range is provided, the default range will be 0 and 1
         *
         * @param value The value to be normalized
         * @param min the range min value
         * @param max the range max value
         */

    }, {
        key: "normalize",
        value: function normalize(value, min, max) {
            if (!min) {
                min = 0;
            }
            if (!max) {
                max = 1;
            }
            return (value - min) / (max - min);
        }
        /**
         *  This function takes merges an object into another
         *
         * @param into {object} the object to merge into
         * @param obj {obj} the object to merge from
         */

    }, {
        key: "merge",
        value: function merge(into, obj) {
            var attr;
            for (attr in obj) {
                into[attr] = obj[attr];
            }
        }
        /**
         * Temporary polyfill workaround for String.startsWith
         * for projects that are targetting es5
         *
         *  determines whether a string begins with the characters of another string, returning true or false as appropriate.
         *
         * @param str {string} the str string in which to search for in str.startsWith
         * @param searchString {string} The characters to be searched for at the start of this string.
         * @param position {number?} Optional. The position in this string at which to begin searching for searchString; defaults to 0.
         *
         * @returns true or false
         *
         */

    }, {
        key: "startsWith",
        value: function startsWith(str, searchString, position) {
            position = position || 0;
            return str.indexOf(searchString, position) === position;
        }
    }, {
        key: "resolveRelative",
        value: function resolveRelative(path, base) {
            // Upper directory
            if (StandardLib.startsWith(path, "../")) {
                return StandardLib.resolveRelative(path.slice(3), base.replace(/\/[^\/]*$/, ""));
            }
            // Relative to the root
            if (StandardLib.startsWith(path, "/")) {
                var match = base.match(/(\w*:\/\/)?[^\/]*\//) || [base];
                return match[0] + path.slice(1);
            }
            //relative to the current directory
            return base.replace(/\/[^\/]*$/, "") + "/" + path;
        }
    }, {
        key: "getDataBounds",
        value: function getDataBounds(column) {
            return {
                min: _.min(column),
                max: _.max(column)
            };
        }
        /**
         *
         *   This function return and object whose keys are url
         *   parameters and value
         */

    }, {
        key: "getUrlParams",
        value: function getUrlParams() {
            var queryParams = {};
            var query = window.location.search.substring(1);
            if (!query) {
                return {};
            }
            var vars = query.split("&");
            for (var i = 0; i < vars.length; i++) {
                var pair = vars[i].split("=");
                if (typeof queryParams[pair[0]] === "undefined") {
                    queryParams[pair[0]] = decodeURIComponent(pair[1]);
                } else if (typeof queryParams[pair[0]] === "string") {
                    var arr = [queryParams[pair[0]], decodeURIComponent(pair[1])];
                    queryParams[pair[0]] = arr;
                } else {
                    queryParams[pair[0]].push(decodeURIComponent(pair[1]));
                }
            }
            return queryParams;
        }
        /**
         *
         * This function returns the width of a text string,
         * in pixels, based on its font style
         */

    }, {
        key: "getTextWidth",
        value: function getTextWidth(text, font) {
            // create a dummy canvas element to perform the calculation
            var canvas = document.createElement("canvas");
            var context = canvas.getContext("2d");
            context.font = font;
            var metrics = context.measureText(text);
            return metrics.width;
        }
    }, {
        key: "getTextHeight",
        value: function getTextHeight(text, font) {
            var body = document.getElementsByTagName("body")[0];
            var dummy = document.createElement("div");
            var dummyText = document.createTextNode("M");
            dummy.appendChild(dummyText);
            dummy.setAttribute("style", font);
            body.appendChild(dummy);
            var result = dummy.offsetHeight;
            body.removeChild(dummy);
            return result;
        }
    }]);

    return StandardLib;
}();

exports.default = StandardLib;

},{"lodash":"lodash"}],41:[function(require,module,exports){
"use strict";

var _react = require("react");

var _react2 = _interopRequireDefault(_react);

var _reactDom = require("react-dom");

var _reactDom2 = _interopRequireDefault(_reactDom);

var _jquery = require("jquery");

var _jquery2 = _interopRequireDefault(_jquery);

var _StandardLib = require("../outts/utils/StandardLib.js");

var _StandardLib2 = _interopRequireDefault(_StandardLib);

var _jszip = require("jszip");

var _jszip2 = _interopRequireDefault(_jszip);

var _WeaveLayoutManager = require("../outts/WeaveLayoutManager.jsx");

var _WeaveLayoutManager2 = _interopRequireDefault(_WeaveLayoutManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import WeaveLayoutManager from "../outts/WeaveLayoutManager.jsx";
/* eslint-enable */

/*global Weave, weavejs*/

// TEMPORARY SOLUTION
weavejs.util.JS.JSZip = _jszip2.default;
/* eslint-disable */

var weave = window.weave;
if (weave) {
	render();
} else {
	window.weave = weave = new Weave();
	var urlParams = _StandardLib2.default.getUrlParams();
	var weaveExternalTools = window.opener && window.opener.WeaveExternalTools;
	if (urlParams.file) {
		weavejs.core.WeaveArchive.loadUrl(weave, urlParams.file).then(render);
	} else if (weaveExternalTools && weaveExternalTools[window.name]) {
		// read content from flash
		var ownerPath = weaveExternalTools[window.name].path;
		var content = atob(ownerPath.getValue('btoa(Weave.createWeaveFileContent())'));
		weavejs.core.WeaveArchive.loadFileContent(weave, content);
		render();
	} else {
		render();
	}
}

function render() {
	(0, _jquery2.default)(function () {
		_reactDom2.default.render(_react2.default.createElement(_WeaveLayoutManager2.default, { weave: weave }), document.getElementById("weaveElt"));
	});
}

},{"../outts/WeaveLayoutManager.jsx":2,"../outts/utils/StandardLib.js":40,"jquery":"jquery","jszip":"jszip","react":"react","react-dom":"react-dom"}]},{},[41])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmN0c1xcVG9vbE92ZXJsYXkudHN4Iiwic3JjdHNcXFdlYXZlTGF5b3V0TWFuYWdlci50c3giLCJzcmN0c1xcV2VhdmVUb29sLnRzeCIsInNyY3RzXFxyZWFjdC1ib290c3RyYXAtZGF0YXRhYmxlXFxSZWFjdEJvb3RTdHJhcFRhYmxlLnRzeCIsInNyY3RzXFxyZWFjdC1ib290c3RyYXAtZGF0YXRhYmxlXFxUYWJsZUJvZHkudHN4Iiwic3JjdHNcXHJlYWN0LWJvb3RzdHJhcC1kYXRhdGFibGVcXFRhYmxlSGVhZC50c3giLCJzcmN0c1xccmVhY3QtYm9vdHN0cmFwLWRhdGF0YWJsZVxcVGFibGVSb3cudHN4Iiwic3JjdHNcXHJlYWN0LWZsZXhpYmxlLWxheW91dFxcTGF5b3V0LnRzeCIsInNyY3RzXFxyZWFjdC1mbGV4aWJsZS1sYXlvdXRcXFJlc2l6ZXIudHN4Iiwic3JjdHNcXHJlYWN0LWZsZXhpYmxlLWxheW91dFxcUmVzaXplck92ZXJsYXkudHN4Iiwic3JjdHNcXHJlYWN0LXVpXFxIQm94LnRzeCIsInNyY3RzXFxyZWFjdC11aVxcVkJveC50c3giLCJzcmN0c1xccmVhY3QtdWlcXHVpLnRzeCIsInNyY3RzXFx0b29sc1xcQWJzdHJhY3RDM1Rvb2wudHN4Iiwic3JjdHNcXHRvb2xzXFxPcGVuTGF5ZXJzTWFwVG9vbC50c3giLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXERyYWdTZWxlY3Rpb24udHMiLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXEludGVyYWN0aW9uTW9kZUNsdXN0ZXIudHMiLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXExheWVyc1xcRmVhdHVyZUxheWVyLnRzIiwic3JjdHNcXHRvb2xzXFxPcGVuTGF5ZXJzTWFwXFxMYXllcnNcXEdlb21ldHJ5TGF5ZXIudHMiLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXExheWVyc1xcR2x5cGhMYXllci50cyIsInNyY3RzXFx0b29sc1xcT3BlbkxheWVyc01hcFxcTGF5ZXJzXFxJbWFnZUdseXBoQ2FjaGUudHMiLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXExheWVyc1xcSW1hZ2VHbHlwaExheWVyLnRzIiwic3JjdHNcXHRvb2xzXFxPcGVuTGF5ZXJzTWFwXFxMYXllcnNcXExhYmVsTGF5ZXIudHMiLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXExheWVyc1xcTGF5ZXIudHMiLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXExheWVyc1xcU2NhdHRlclBsb3RMYXllci50cyIsInNyY3RzXFx0b29sc1xcT3BlbkxheWVyc01hcFxcTGF5ZXJzXFxUaWxlTGF5ZXIudHMiLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXFBhbkNsdXN0ZXIudHMiLCJzcmN0c1xcdG9vbHNcXE9wZW5MYXllcnNNYXBcXFByb2JlSW50ZXJhY3Rpb24udHMiLCJzcmN0c1xcdG9vbHNcXHRvb2x0aXAudHN4Iiwic3JjdHNcXHRvb2xzXFx3ZWF2ZS1jMy1iYXJjaGFydC50c3giLCJzcmN0c1xcdG9vbHNcXHdlYXZlLWMzLWJhcmNoYXJ0bGVnZW5kLnRzeCIsInNyY3RzXFx0b29sc1xcd2VhdmUtYzMtY29sb3JsZWdlbmQudHN4Iiwic3JjdHNcXHRvb2xzXFx3ZWF2ZS1jMy1oaXN0b2dyYW0udHN4Iiwic3JjdHNcXHRvb2xzXFx3ZWF2ZS1jMy1saW5lY2hhcnQudHN4Iiwic3JjdHNcXHRvb2xzXFx3ZWF2ZS1jMy1waWVjaGFydC50c3giLCJzcmN0c1xcdG9vbHNcXHdlYXZlLWMzLXNjYXR0ZXJwbG90LnRzeCIsInNyY3RzXFx0b29sc1xcd2VhdmUtcmVhY3QtdGFibGUudHN4Iiwic3JjdHNcXHRvb2xzXFx3ZWF2ZS1zZXNzaW9uLXN0YXRlLW1lbnUudHN4Iiwic3JjdHNcXHV0aWxzXFxGb3JtYXRVdGlscy50cyIsInNyY3RzXFx1dGlsc1xcU3RhbmRhcmRMaWIudHMiLCJzcmNcXGluZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7OztJQ0VZLEFBQUssQUFBTSxBQUFPOzs7Ozs7Ozs7O0FBRTlCLHVCQUE2QztBQUN6QyxBQUFVLGdCQUFFLEFBQU07QUFDbEIsQUFBTyxhQUFFLEFBQUU7QUFDWCxBQUFNLFlBQUUsQUFBQztBQUNULEFBQVMsZUFBRSxBQUFZO0FBQ3ZCLEFBQWMsb0JBQUUsQUFBUztBQUN6QixBQUFRLGNBQUUsQUFBTztBQUNqQixBQUFVLGdCQUFFLEFBQVE7QUFDcEIsQUFBYSxtQkFBRSxBQUFNLEFBQ3hCLEFBQUMsQUFTRjtDQWxCTSxBQUFnQjs7Ozs7QUFvQmxCLHlCQUFZLEFBQXVCOzs7bUdBQ3pCLEFBQUssQUFBQyxBQUFDOztBQUNiLEFBQUksY0FBQyxBQUFLLFFBQUc7QUFDVCxBQUFLLG1CQUFFLEFBQWdCLEFBQzFCLEFBQUMsQUFDTixBQUFDLEFBRUQsQUFBTTtVQU5GOzs7Ozs7O0FBT0EsQUFBTSxtQkFBQyxBQUFDLEFBQUcsNkJBQUMsQUFBSyxBQUFDLE9BQUMsQUFBSSxLQUFDLEFBQUssTUFBQyxBQUFLLEFBQUMsQUFBRSxBQUFDLEFBQzNDLEFBQUMsQUFDTCxBQUFDLEFBRUQ7Ozs7O0VBZDBCLEFBQUssTUFBQyxBQUFTOztrQkFjMUIsQUFBVyxBQUFDOzs7Ozs7Ozs7Ozs7O0lDOUJmLEFBQUssQUFBTSxBQUFPLEFBQ3ZCOzs7O0lBQUssQUFBUSxBQUFNLEFBQVcsQUFDOUI7Ozs7SUFBSyxBQUFDLEFBQU0sQUFBUSxBQUNwQixBQUFNLEFBQU0sQUFBZ0MsQUFHNUMsQUFBZSxBQUFNLEFBQTJCLEFBQ2hELEFBQWtCLEFBQU0sQUFBOEIsQUFDdEQsQUFBa0IsQUFBTSxBQUE4QixBQUN0RCxBQUFxQixBQUFNLEFBQWlDLEFBQzVELEFBQWdCLEFBQU0sQUFBNEIsQUFDbEQsQUFBZSxBQUFNLEFBQTJCLEFBQ2hELEFBQWdCLEFBQU0s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S0FBUCxHQUFlLFFBQVEsSUFBSSxLQUFKLEVBQVIsQ0FEaEI7QUFFQyxLQUFJLFlBQVksc0JBQVksWUFBWixFQUFaLENBRkw7QUFHQyxLQUFJLHFCQUFxQixPQUFPLE1BQVAsSUFBaUIsT0FBTyxNQUFQLENBQWMsa0JBQWQsQ0FIM0M7QUFJQyxLQUFJLFVBQVUsSUFBVixFQUNKO0FBQ0MsVUFBUSxJQUFSLENBQWEsWUFBYixDQUEwQixPQUExQixDQUFrQyxLQUFsQyxFQUF5QyxVQUFVLElBQVYsQ0FBekMsQ0FBeUQsSUFBekQsQ0FBOEQsTUFBOUQsRUFERDtFQURBLE1BSUssSUFBSSxzQkFBc0IsbUJBQW1CLE9BQU8sSUFBUCxDQUF6QyxFQUNUOztBQUVDLE1BQUksWUFBWSxtQkFBbUIsT0FBTyxJQUFQLENBQW5CLENBQWdDLElBQWhDLENBRmpCO0FBR0MsTUFBSSxVQUFVLEtBQUssVUFBVSxRQUFWLENBQW1CLHNDQUFuQixDQUFMLENBQVYsQ0FITDtBQUlDLFVBQVEsSUFBUixDQUFhLFlBQWIsQ0FBMEIsZUFBMUIsQ0FBMEMsS0FBMUMsRUFBaUQsT0FBakQsRUFKRDtBQUtDLFdBTEQ7RUFESyxNQVNMO0FBQ0MsV0FERDtFQVRLO0NBYk47O0FBMkJBLFNBQVMsTUFBVCxHQUFrQjtBQUNqQix1QkFBRSxZQUFNO0FBQ1AscUJBQVMsTUFBVCxDQUFnQiw4REFBb0IsT0FBTyxLQUFQLEVBQXBCLENBQWhCLEVBQXFELFNBQVMsY0FBVCxDQUF3QixVQUF4QixDQUFyRCxFQURPO0VBQU4sQ0FBRixDQURpQjtDQUFsQiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC5kLnRzXCIvPlxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcblxuY29uc3QgdG9vbE92ZXJsYXlTdHlsZTpSZWFjdC5DU1NQcm9wZXJ0aWVzID0ge1xuICAgIGJhY2tncm91bmQ6IFwiIzAwMFwiLFxuICAgIG9wYWNpdHk6IC4yLFxuICAgIHpJbmRleDogMyxcbiAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgIGJhY2tncm91bmRDbGlwOiBcInBhZGRpbmdcIixcbiAgICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICAgIHZpc2liaWxpdHk6IFwiaGlkZGVuXCIsXG4gICAgcG9pbnRlckV2ZW50czogXCJub25lXCJcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVRvb2xPdmVybGF5UHJvcHMgZXh0ZW5kcyBSZWFjdC5Qcm9wczxUb29sT3ZlcmxheT4ge1xuXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVRvb2xPdmVybGF5U3RhdGUge1xuICAgIHN0eWxlOiBSZWFjdC5DU1NQcm9wZXJ0aWVzO1xufVxuY2xhc3MgVG9vbE92ZXJsYXkgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SVRvb2xPdmVybGF5UHJvcHMsIElUb29sT3ZlcmxheVN0YXRlPiB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczpJVG9vbE92ZXJsYXlQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBzdHlsZTogdG9vbE92ZXJsYXlTdHlsZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIDxkaXYgc3R5bGU9e3RoaXMuc3RhdGUuc3R5bGV9Lz47XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUb29sT3ZlcmxheTtcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC1kb20uZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL3dlYXZlL1dlYXZlLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vdHlwaW5ncy93ZWF2ZS93ZWF2ZWpzLmQudHNcIi8+XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgTGF5b3V0IGZyb20gXCIuL3JlYWN0LWZsZXhpYmxlLWxheW91dC9MYXlvdXRcIjtcbmltcG9ydCB7TGF5b3V0U3RhdGV9IGZyb20gXCIuL3JlYWN0LWZsZXhpYmxlLWxheW91dC9MYXlvdXRcIjtcbmltcG9ydCBDdXN0b21TZWFyY2hUb29sIGZyb20gXCIuL0N1c3RvbVNlYXJjaFRvb2xcIjtcbmltcG9ydCBXZWF2ZUMzQmFyY2hhcnQgZnJvbSBcIi4vdG9vbHMvd2VhdmUtYzMtYmFyY2hhcnRcIjtcbmltcG9ydCBXZWF2ZUMzU2NhdHRlclBsb3QgZnJvbSBcIi4vdG9vbHMvd2VhdmUtYzMtc2NhdHRlcnBsb3RcIjtcbmltcG9ydCBXZWF2ZUMzQ29sb3JMZWdlbmQgZnJvbSBcIi4vdG9vbHMvd2VhdmUtYzMtY29sb3JsZWdlbmRcIjtcbmltcG9ydCBXZWF2ZUMzQmFyQ2hhcnRMZWdlbmQgZnJvbSBcIi4vdG9vbHMvd2VhdmUtYzMtYmFyY2hhcnRsZWdlbmRcIlxuaW1wb3J0IFdlYXZlQzNMaW5lQ2hhcnQgZnJvbSBcIi4vdG9vbHMvd2VhdmUtYzMtbGluZWNoYXJ0XCI7XG5pbXBvcnQgV2VhdmVDM1BpZUNoYXJ0IGZyb20gXCIuL3Rvb2xzL3dlYXZlLWMzLXBpZWNoYXJ0XCI7XG5pbXBvcnQgV2VhdmVDM0hpc3RvZ3JhbSBmcm9tIFwiLi90b29scy93ZWF2ZS1jMy1oaXN0b2dyYW1cIjtcbmltcG9ydCBTZXNzaW9uU3RhdGVNZW51VG9vbCBmcm9tIFwiLi90b29scy93ZWF2ZS1zZXNzaW9uLXN0YXRlLW1lbnVcIjtcbmltcG9ydCBXZWF2ZU9wZW5MYXllcnNNYXAgZnJvbSBcIi4vdG9vbHMvT3BlbkxheWVyc01hcFRvb2xcIjtcbmltcG9ydCBXZWF2ZVJlYWN0VGFibGUgZnJvbSBcIi4vdG9vbHMvd2VhdmUtcmVhY3QtdGFibGVcIjtcblxuLy8gVGVtcG9yYXJ5IHNvbHV0aW9uXG4vLyBiZWNhdXNlIHR5cGVzY3JpcHQgcmVtb3Zlc1xuLy8gdW51c2VkIGltcG9ydHNcbnZhciB2MTphbnkgPSBbXG5cdFdlYXZlQzNCYXJjaGFydCxcblx0V2VhdmVDM1NjYXR0ZXJQbG90LFxuXHRXZWF2ZUMzQ29sb3JMZWdlbmQsXG4gICAgV2VhdmVDM0JhckNoYXJ0TGVnZW5kLFxuXHRXZWF2ZUMzTGluZUNoYXJ0LFxuXHRXZWF2ZUMzUGllQ2hhcnQsXG5cdFdlYXZlQzNIaXN0b2dyYW0sXG5cdFNlc3Npb25TdGF0ZU1lbnVUb29sLFxuXHRXZWF2ZU9wZW5MYXllcnNNYXAsXG5cdFdlYXZlUmVhY3RUYWJsZVxuXTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cblxuLy9pbXBvcnQgQ3VzdG9tU2VhcmNoVG9vbCBmcm9tIFwiLi9vdXR0cy9DdXN0b21TZWFyY2hUb29sLmpzeFwiO1xuaW1wb3J0IHtXZWF2ZVRvb2wsIGdldFRvb2xJbXBsZW1lbnRhdGlvbn0gZnJvbSBcIi4vV2VhdmVUb29sXCI7XG5pbXBvcnQgVG9vbE92ZXJsYXkgZnJvbSBcIi4vVG9vbE92ZXJsYXlcIjtcbmltcG9ydCBTdGFuZGFyZExpYiBmcm9tIFwiLi91dGlscy9TdGFuZGFyZExpYlwiO1xuY29uc3QgTEFZT1VUOnN0cmluZyA9IFwiTGF5b3V0XCI7XG5cbmNvbnN0IExFRlQ6c3RyaW5nID0gXCJsZWZ0XCI7XG5jb25zdCBSSUdIVDpzdHJpbmcgPSBcInJpZ2h0XCI7XG5jb25zdCBUT1A6c3RyaW5nID0gXCJ0b3BcIjtcbmNvbnN0IEJPVFRPTTpzdHJpbmcgPSBcImJvdHRvbVwiO1xuY29uc3QgVkVSVElDQUw6c3RyaW5nID0gXCJ2ZXJ0aWNhbFwiO1xuY29uc3QgSE9SSVpPTlRBTDpzdHJpbmcgPSBcImhvcml6b250YWxcIjtcblxuY29uc3QgVE9PTE9WRVJMQVk6c3RyaW5nID0gXCJ0b29sb3ZlcmxheVwiO1xuXG5kZWNsYXJlIHR5cGUgUG9pbnQgPSB7XG4gICAgeD86IG51bWJlcjtcbiAgICB5PzogbnVtYmVyO1xuICAgIHI/OiBudW1iZXI7XG4gICAgdGhldGE/OiBudW1iZXI7XG59O1xuXG5kZWNsYXJlIHR5cGUgUG9sYXJQb2ludCA9IHtcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xufTtcblxuaW50ZXJmYWNlIElXZWF2ZUxheW91dE1hbmFnZXJQcm9wcyBleHRlbmRzIFJlYWN0LlByb3BzPFdlYXZlTGF5b3V0TWFuYWdlcj4ge1xuICAgIHdlYXZlOldlYXZlXG59XG5cbmludGVyZmFjZSBJV2VhdmVMYXlvdXRNYW5hZ2VyU3RhdGUge1xuXG59XG5cbmNsYXNzIFdlYXZlTGF5b3V0TWFuYWdlciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJV2VhdmVMYXlvdXRNYW5hZ2VyUHJvcHMsIElXZWF2ZUxheW91dE1hbmFnZXJTdGF0ZT4ge1xuXG4gICAgcHJpdmF0ZSBlbGVtZW50OkhUTUxFbGVtZW50O1xuICAgIHByaXZhdGUgd2VhdmU6V2VhdmU7XG4gICAgcHJpdmF0ZSBtYXJnaW46bnVtYmVyO1xuICAgIHByaXZhdGUgX2ZvcmNlVXBkYXRlOigpID0+IHZvaWQ7XG4gICAgcHJpdmF0ZSBkaXJ0eTpib29sZWFuO1xuICAgIHByaXZhdGUgdG9vbERyYWdnZWQ6c3RyaW5nW107XG4gICAgcHJpdmF0ZSB0b29sT3ZlcjpzdHJpbmdbXTtcbiAgICBwcml2YXRlIGRyb3Bab25lOnN0cmluZztcbiAgICBjb25zdHJ1Y3Rvcihwcm9wczpJV2VhdmVMYXlvdXRNYW5hZ2VyUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLndlYXZlID0gdGhpcy5wcm9wcy53ZWF2ZSB8fCBuZXcgV2VhdmUoKTtcbiAgICAgICAgdGhpcy53ZWF2ZS5wYXRoKExBWU9VVCkucmVxdWVzdChcIkZsZXhpYmxlTGF5b3V0XCIpO1xuICAgICAgICB0aGlzLm1hcmdpbiA9IDg7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKTp2b2lkIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5fZm9yY2VVcGRhdGUgPSBfLnRocm90dGxlKCgpID0+IHsgdGhpcy5kaXJ0eSA9IHRydWU7IHRoaXMuZm9yY2VVcGRhdGUoKTsgfSwgMzApKTtcbiAgICAgICAgdGhpcy53ZWF2ZS5yb290LmNoaWxkTGlzdENhbGxiYWNrcy5hZGRHcm91cGVkQ2FsbGJhY2sodGhpcywgXy5kZWJvdW5jZSh0aGlzLmZvcmNlVXBkYXRlLmJpbmQodGhpcyksIDApLCB0cnVlKTtcbiAgICAgICAgdGhpcy53ZWF2ZS5wYXRoKExBWU9VVCkuYWRkQ2FsbGJhY2sodGhpcywgXy5kZWJvdW5jZSh0aGlzLmZvcmNlVXBkYXRlLmJpbmQodGhpcyksIDApLCB0cnVlKTtcbiAgICAgICAgdGhpcy53ZWF2ZS5wYXRoKExBWU9VVCkuc3RhdGUodGhpcy5zaW1wbGlmeVN0YXRlKHRoaXMud2VhdmUucGF0aChMQVlPVVQpLmdldFN0YXRlKCkpKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpOnZvaWQge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLl9mb3JjZVVwZGF0ZSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCk6dm9pZCB7XG4gICAgICAgIGlmKFdlYXZlLmRldGVjdENoYW5nZSh0aGlzLCB0aGlzLndlYXZlLmdldE9iamVjdChMQVlPVVQpKSB8fCB0aGlzLmRpcnR5KSB7XG4gICAgICAgICAgICAvLyBkaXJ0eSBmbGFnIHRvIHRyaWdnZXIgcmVuZGVyIG9uIHdpbmRvdyByZXNpemVcbiAgICAgICAgICAgIHRoaXMuZGlydHkgPSBmYWxzZTtcbiAgICAgICAgICAgIC8vXy5kZWJvdW5jZSh0aGlzLmZvcmNlVXBkYXRlLmJpbmQodGhpcyksIDApKCk7XG4gICAgICAgICAgICB0aGlzLmZvcmNlVXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzYXZlU3RhdGUobmV3U3RhdGU6TGF5b3V0U3RhdGUpOnZvaWQge1xuICAgICAgICBuZXdTdGF0ZSA9IHRoaXMuc2ltcGxpZnlTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgIG5ld1N0YXRlLmZsZXggPSAxO1xuICAgICAgICB0aGlzLndlYXZlLnBhdGgoTEFZT1VUKS5zdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgIC8vIHRlbXBvcmFyeSBoYWNrIGJlY2F1c2Ugd2VhdmVcbiAgICAgICAgLy8gZG9lc24ndCBwcm9wZXJseSBjYWxsYmFjayBmb3JjZVVwZGF0ZVxuICAgICAgICAvL3RoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICB9XG5cbiAgICBvbkRyYWdTdGFydChpZDpzdHJpbmdbXSwgZXZlbnQ6UmVhY3QuTW91c2VFdmVudCk6dm9pZCB7XG4gICAgICAgIHRoaXMudG9vbERyYWdnZWQgPSBpZDtcbiAgICAgICAgdmFyIHRvb2xSZWYgPSBpZFswXTsgLy8gdG9vbE5hbWUgYXMgdXNlZCBpbiB0aGUgcmVmIGZvciB0aGUgd2VhdmUgdG9vbC5cbiAgICAgICAgdmFyIGVsZW1lbnQgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzLnJlZnNbdG9vbFJlZl0pO1xuXG4gICAgICAgIC8vIGhhY2sgYmVjYXVzZSBkYXRhVHJhbnNmZXIgZG9lc24ndCBleGlzdCBvbiB0eXBlIGV2ZW50XG4gICAgICAgIChldmVudCBhcyBhbnkpLmRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UoZWxlbWVudCwgMCwgMCk7XG4gICAgICAgIChldmVudCBhcyBhbnkpLmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L2h0bWwnLCBudWxsKTtcbiAgICB9XG5cbiAgICBoaWRlT3ZlcmxheSgpOnZvaWQge1xuICAgICAgICB2YXIgdG9vbE92ZXJsYXlTdHlsZSA9IF8uY2xvbmUoKHRoaXMucmVmc1tUT09MT1ZFUkxBWV0gYXMgVG9vbE92ZXJsYXkpLnN0YXRlLnN0eWxlKTtcbiAgICAgICAgdG9vbE92ZXJsYXlTdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgdG9vbE92ZXJsYXlTdHlsZS5sZWZ0ID0gdG9vbE92ZXJsYXlTdHlsZS50b3AgPSB0b29sT3ZlcmxheVN0eWxlLndpZHRoID0gdG9vbE92ZXJsYXlTdHlsZS5oZWlnaHQgPSAwO1xuICAgICAgICAodGhpcy5yZWZzW1RPT0xPVkVSTEFZXSBhcyBUb29sT3ZlcmxheSkuc2V0U3RhdGUoe1xuICAgICAgICAgICAgc3R5bGU6IHRvb2xPdmVybGF5U3R5bGVcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25EcmFnRW5kKCk6dm9pZCB7XG4gICAgICAgIGlmKHRoaXMudG9vbERyYWdnZWQgJiYgdGhpcy50b29sT3Zlcikge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQodGhpcy50b29sRHJhZ2dlZCwgdGhpcy50b29sT3ZlciwgdGhpcy5kcm9wWm9uZSk7XG4gICAgICAgICAgICB0aGlzLnRvb2xEcmFnZ2VkID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZHJvcFpvbmUgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5oaWRlT3ZlcmxheSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25EcmFnT3Zlcih0b29sT3ZlcjpzdHJpbmdbXSwgZXZlbnQ6UmVhY3QuTW91c2VFdmVudCk6dm9pZCB7XG4gICAgICAgIGlmKCF0aGlzLnRvb2xEcmFnZ2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYoXy5pc0VxdWFsKHRoaXMudG9vbERyYWdnZWQsIHRvb2xPdmVyKSkge1xuICAgICAgICAgICAgLy8gaGlkZSB0aGUgb3ZlcmxheSBpZiBob3ZlcmluZyBvdmVyIHRoZSB0b29sIGJlaW5nIGRyYWdnZWRcbiAgICAgICAgICAgIHRoaXMudG9vbE92ZXIgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5oaWRlT3ZlcmxheSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHRvb2xOb2RlID0gKHRoaXMucmVmc1tMQVlPVVRdIGFzIExheW91dCkuZ2V0RE9NTm9kZUZyb21JZCh0b29sT3Zlcik7XG4gICAgICAgIHZhciB0b29sTm9kZVBvc2l0aW9uID0gdG9vbE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICAgICAgdmFyIHRvb2xPdmVybGF5U3R5bGUgPSBfLmNsb25lKCh0aGlzLnJlZnNbVE9PTE9WRVJMQVldIGFzIFRvb2xPdmVybGF5KS5zdGF0ZS5zdHlsZSk7XG4gICAgICAgIHZhciBkcm9wWm9uZSA9IHRoaXMuZ2V0RHJvcFpvbmUodG9vbE92ZXIsIGV2ZW50KTtcbiAgICAgICAgdG9vbE92ZXJsYXlTdHlsZS5sZWZ0ID0gdG9vbE5vZGVQb3NpdGlvbi5sZWZ0O1xuICAgICAgICB0b29sT3ZlcmxheVN0eWxlLnRvcCA9IHRvb2xOb2RlUG9zaXRpb24udG9wO1xuICAgICAgICB0b29sT3ZlcmxheVN0eWxlLndpZHRoID0gdG9vbE5vZGVQb3NpdGlvbi53aWR0aDtcbiAgICAgICAgdG9vbE92ZXJsYXlTdHlsZS5oZWlnaHQgPSB0b29sTm9kZVBvc2l0aW9uLmhlaWdodDtcbiAgICAgICAgdG9vbE92ZXJsYXlTdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG5cbiAgICAgICAgaWYoZHJvcFpvbmUgPT09IExFRlQpIHtcbiAgICAgICAgICAgIHRvb2xPdmVybGF5U3R5bGUud2lkdGggPSB0b29sTm9kZVBvc2l0aW9uLndpZHRoIC8gMjtcbiAgICAgICAgfSBlbHNlIGlmKGRyb3Bab25lID09PSBSSUdIVCkge1xuICAgICAgICAgICAgdG9vbE92ZXJsYXlTdHlsZS5sZWZ0ID0gdG9vbE5vZGVQb3NpdGlvbi5sZWZ0ICsgdG9vbE5vZGVQb3NpdGlvbi53aWR0aCAvIDI7XG4gICAgICAgICAgICB0b29sT3ZlcmxheVN0eWxlLndpZHRoID0gdG9vbE5vZGVQb3NpdGlvbi53aWR0aCAvIDI7XG4gICAgICAgIH0gZWxzZSBpZihkcm9wWm9uZSA9PT0gQk9UVE9NKSB7XG4gICAgICAgICAgICB0b29sT3ZlcmxheVN0eWxlLnRvcCA9IHRvb2xOb2RlUG9zaXRpb24udG9wICsgdG9vbE5vZGVQb3NpdGlvbi5oZWlnaHQgLyAyO1xuICAgICAgICAgICAgdG9vbE92ZXJsYXlTdHlsZS5oZWlnaHQgPSB0b29sTm9kZVBvc2l0aW9uLmhlaWdodCAvIDI7XG4gICAgICAgIH0gZWxzZSBpZihkcm9wWm9uZSA9PT0gVE9QKSB7XG4gICAgICAgICAgICB0b29sT3ZlcmxheVN0eWxlLmhlaWdodCA9IHRvb2xOb2RlUG9zaXRpb24uaGVpZ2h0IC8gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkcm9wWm9uZSAhPT0gdGhpcy5kcm9wWm9uZSB8fCAhXy5pc0VxdWFsKHRvb2xPdmVyLCB0aGlzLnRvb2xPdmVyKSkge1xuICAgICAgICAgICAgKHRoaXMucmVmc1tUT09MT1ZFUkxBWV0gYXMgVG9vbE92ZXJsYXkpLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICBzdHlsZTogdG9vbE92ZXJsYXlTdHlsZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmRyb3Bab25lID0gZHJvcFpvbmU7XG4gICAgICAgIHRoaXMudG9vbE92ZXIgPSB0b29sT3ZlcjtcbiAgICB9XG5cbiAgICBnZXREcm9wWm9uZShpZDpzdHJpbmdbXSwgZXZlbnQ6UmVhY3QuTW91c2VFdmVudCk6c3RyaW5nIHtcbiAgICAgICAgaWYodGhpcy50b29sRHJhZ2dlZCkge1xuICAgICAgICAgICAgaWYoIV8uaXNFcXVhbCh0aGlzLnRvb2xEcmFnZ2VkLCBpZCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG9vbE5vZGUgPSAodGhpcy5yZWZzW0xBWU9VVF0gYXMgTGF5b3V0KS5nZXRET01Ob2RlRnJvbUlkKGlkKTtcbiAgICAgICAgICAgICAgICB2YXIgdG9vbE5vZGVQb3NpdGlvbiA9IHRvb2xOb2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGNlbnRlcjpQb2ludCA9IHtcbiAgICAgICAgICAgICAgICAgICAgeDogKHRvb2xOb2RlUG9zaXRpb24ucmlnaHQgLSB0b29sTm9kZVBvc2l0aW9uLmxlZnQpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgeTogKHRvb2xOb2RlUG9zaXRpb24uYm90dG9tIC0gdG9vbE5vZGVQb3NpdGlvbi50b3ApIC8gMlxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgbW91c2VQb3NSZWxhdGl2ZVRvQ2VudGVyOlBvaW50ID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiBldmVudC5jbGllbnRYIC0gKHRvb2xOb2RlUG9zaXRpb24ubGVmdCArIGNlbnRlci54KSxcbiAgICAgICAgICAgICAgICAgICAgeTogZXZlbnQuY2xpZW50WSAtICh0b29sTm9kZVBvc2l0aW9uLnRvcCArIGNlbnRlci55KVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgbW91c2VOb3JtOlBvaW50ID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiAobW91c2VQb3NSZWxhdGl2ZVRvQ2VudGVyLngpIC8gKHRvb2xOb2RlUG9zaXRpb24ud2lkdGggLyAyKSxcbiAgICAgICAgICAgICAgICAgICAgeTogKG1vdXNlUG9zUmVsYXRpdmVUb0NlbnRlci55KSAvICh0b29sTm9kZVBvc2l0aW9uLmhlaWdodCAvIDIpXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBtb3VzZVBvbGFyQ29vcmQ6UG9pbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHI6IE1hdGguc3FydChtb3VzZU5vcm0ueCAqIG1vdXNlTm9ybS54ICsgbW91c2VOb3JtLnkgKiBtb3VzZU5vcm0ueSksXG4gICAgICAgICAgICAgICAgICAgIHRoZXRhOiBNYXRoLmF0YW4yKG1vdXNlTm9ybS55LCBtb3VzZU5vcm0ueClcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIHpvbmVzOnN0cmluZ1tdID0gW1JJR0hULCBCT1RUT00sIExFRlQsIFRPUF07XG5cbiAgICAgICAgICAgICAgICB2YXIgem9uZUluZGV4Om51bWJlciA9IE1hdGgucm91bmQoKG1vdXNlUG9sYXJDb29yZC50aGV0YSAvICgyICogTWF0aC5QSSkgKiA0KSArIDQpICUgNDtcblxuICAgICAgICAgICAgICAgIGlmKG1vdXNlUG9sYXJDb29yZC5yIDwgMC4zNCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gem9uZXNbem9uZUluZGV4XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaW1wbGlmeVN0YXRlKHN0YXRlOkxheW91dFN0YXRlKTpMYXlvdXRTdGF0ZSB7XG4gICAgXHRpZiAoIXN0YXRlKVxuICAgIFx0XHRyZXR1cm4ge307XG4gICAgICAgIHZhciBjaGlsZHJlbjpMYXlvdXRTdGF0ZVtdID0gc3RhdGUuY2hpbGRyZW47XG5cbiAgICAgICAgaWYgKCFjaGlsZHJlbikge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoaWxkcmVuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2ltcGxpZnlTdGF0ZShjaGlsZHJlblswXSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc2ltcGxlQ2hpbGRyZW46TGF5b3V0U3RhdGVbXSA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjaGlsZDpMYXlvdXRTdGF0ZSA9IHRoaXMuc2ltcGxpZnlTdGF0ZShjaGlsZHJlbltpXSk7XG4gICAgICAgICAgICBpZiAoY2hpbGQuY2hpbGRyZW4gJiYgY2hpbGQuZGlyZWN0aW9uID09PSBzdGF0ZS5kaXJlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGRDaGlsZHJlbjpMYXlvdXRTdGF0ZVtdID0gY2hpbGQuY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGNoaWxkQ2hpbGRyZW4ubGVuZ3RoOyBpaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZENoaWxkOkxheW91dFN0YXRlID0gY2hpbGRDaGlsZHJlbltpaV07XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkQ2hpbGQuZmxleCAqPSBjaGlsZC5mbGV4O1xuICAgICAgICAgICAgICAgICAgICBzaW1wbGVDaGlsZHJlbi5wdXNoKGNoaWxkQ2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHNpbXBsZUNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHN0YXRlLmNoaWxkcmVuID0gc2ltcGxlQ2hpbGRyZW47XG4gICAgICAgIHZhciB0b3RhbFNpemVDaGlsZHJlbjpudW1iZXIgPSBfLnN1bShfLm1hcChjaGlsZHJlbiwgXCJmbGV4XCIpKTtcblxuICAgICAgICAvL1NjYWxlIGZsZXggdmFsdWVzIGJldHdlZW4gMCBhbmQgMSBzbyB0aGV5IHN1bSB0byAxLCBhdm9pZGluZyBhbiBhcHBhcmVudFxuICAgICAgICAvL2ZsZXggYnVnIHdoZXJlIHNwYWNlIGlzIGxvc3QgaWYgc3VtIG9mIGZsZXggdmFsdWVzIGlzIGxlc3MgdGhhbiAxLlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0YXRlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBzdGF0ZS5jaGlsZHJlbltpXS5mbGV4ID0gU3RhbmRhcmRMaWIubm9ybWFsaXplKHN0YXRlLmNoaWxkcmVuW2ldLmZsZXgsIDAsIHRvdGFsU2l6ZUNoaWxkcmVuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICB1cGRhdGVMYXlvdXQodG9vbERyYWdnZWQ6c3RyaW5nW10sIHRvb2xEcm9wcGVkT246c3RyaW5nW10sIGRyb3Bab25lOnN0cmluZykge1xuXG4gICAgICAgIGlmKCF0aGlzLnRvb2xEcmFnZ2VkIHx8ICF0aGlzLnRvb2xPdmVyIHx8ICF0aGlzLmRyb3Bab25lKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbmV3U3RhdGU6TGF5b3V0U3RhdGUgPSBfLmNsb25lRGVlcCh0aGlzLndlYXZlLnBhdGgoTEFZT1VUKS5nZXRTdGF0ZSgpKTtcbiAgICAgICAgdmFyIHNyYzpMYXlvdXRTdGF0ZSA9IFN0YW5kYXJkTGliLmZpbmREZWVwKG5ld1N0YXRlLCB7aWQ6IHRvb2xEcmFnZ2VkfSk7XG4gICAgICAgIHZhciBkZXN0OkxheW91dFN0YXRlID0gU3RhbmRhcmRMaWIuZmluZERlZXAobmV3U3RhdGUsIHtpZDogdG9vbERyb3BwZWRPbn0pO1xuICAgICAgICBpZihfLmlzRXF1YWwoc3JjLmlkLCBkZXN0LmlkKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoZHJvcFpvbmUgPT09IFwiY2VudGVyXCIpIHtcbiAgICAgICAgICAgIHZhciBzcmNJZCA9IHNyYy5pZDtcbiAgICAgICAgICAgIHNyYy5pZCA9IGRlc3QuaWQ7XG4gICAgICAgICAgICBkZXN0LmlkID0gc3JjSWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgc3JjUGFyZW50QXJyYXk6TGF5b3V0U3RhdGVbXSA9IFN0YW5kYXJkTGliLmZpbmREZWVwKG5ld1N0YXRlLCAob2JqOkxheW91dFN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob2JqKSAmJiBvYmouaW5kZXhPZihzcmMpID49IDA7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc3JjUGFyZW50QXJyYXkuc3BsaWNlKHNyY1BhcmVudEFycmF5LmluZGV4T2Yoc3JjKSwgMSk7XG5cbiAgICAgICAgICAgIGRlbGV0ZSBkZXN0LmlkO1xuICAgICAgICAgICAgZGVzdC5kaXJlY3Rpb24gPSAoZHJvcFpvbmUgPT09IFRPUCB8fCBkcm9wWm9uZSA9PT0gQk9UVE9NKSA/IFZFUlRJQ0FMIDogSE9SSVpPTlRBTDtcblxuICAgICAgICAgICAgZGVzdC5jaGlsZHJlbiA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB0b29sRHJhZ2dlZCxcbiAgICAgICAgICAgICAgICAgICAgZmxleDogMC41XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiB0b29sRHJvcHBlZE9uLFxuICAgICAgICAgICAgICAgICAgICBmbGV4OiAwLjVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYoZHJvcFpvbmUgPT09IEJPVFRPTSB8fCBkcm9wWm9uZSA9PT0gUklHSFQpIHtcbiAgICAgICAgICAgICAgICBkZXN0LmNoaWxkcmVuLnJldmVyc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNhdmVTdGF0ZShuZXdTdGF0ZSk7XG4gICAgfVxuXG4gICAgcmVuZGVyICgpIHtcbiAgICAgICAgdmFyIGNoaWxkcmVuOkxheW91dFN0YXRlW10gPSBbXTtcbiAgICAgICAgdmFyIG5ld1N0YXRlOkxheW91dFN0YXRlID0gdGhpcy53ZWF2ZS5wYXRoKExBWU9VVCkuZ2V0U3RhdGUoKTtcblxuICAgICAgICB2YXIgcGF0aHM6V2VhdmVQYXRoW10gPSB0aGlzLndlYXZlLnBhdGgoKS5nZXRDaGlsZHJlbigpO1xuICAgICAgICB2YXIgcmVjdDpDbGllbnRSZWN0O1xuICAgICAgICBpZih0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJlY3QgPSB0aGlzLmVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgcGF0aHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXRoOldlYXZlUGF0aCA9IHBhdGhzW2ldO1xuICAgICAgICAgICAgdmFyIGltcGw6c3RyaW5nfEZ1bmN0aW9uID0gcGF0aC5nZXRUeXBlKCk7XG4gICAgICAgICAgICBpZihpbXBsID09PSBcIndlYXZlLnZpc3VhbGl6YXRpb24udG9vbHM6OkV4dGVybmFsVG9vbFwiICYmIHBhdGguZ2V0VHlwZShcInRvb2xDbGFzc1wiKSkge1xuICAgICAgICAgICAgICAgIGltcGwgPSBwYXRoLmdldFN0YXRlKFwidG9vbENsYXNzXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGltcGwgPT09IFwid2VhdmVqcy5jb3JlLkxpbmthYmxlSGFzaE1hcFwiICYmIHBhdGguZ2V0VHlwZShcImNsYXNzXCIpKVxuICAgICAgICAgICAgaW1wbCA9IHBhdGguZ2V0U3RhdGUoXCJjbGFzc1wiKTtcbiAgICAgICAgICAgIGltcGwgPSBnZXRUb29sSW1wbGVtZW50YXRpb24oaW1wbCBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgdmFyIHRvb2xOYW1lOnN0cmluZyA9IHBhdGguZ2V0UGF0aCgpWzBdO1xuICAgICAgICAgICAgdmFyIG5vZGU6RWxlbWVudDtcbiAgICAgICAgICAgIHZhciB0b29sUmVjdDpDbGllbnRSZWN0O1xuICAgICAgICAgICAgdmFyIHRvb2xQb3NpdGlvbjpSZWFjdC5DU1NQcm9wZXJ0aWVzO1xuICAgICAgICAgICAgaWYoaW1wbCkge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMucmVmc1tMQVlPVVRdICYmIHJlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZSA9ICh0aGlzLnJlZnNbTEFZT1VUXSBhcyBMYXlvdXQpLmdldERPTU5vZGVGcm9tSWQocGF0aC5nZXRQYXRoKCkpO1xuICAgICAgICAgICAgICAgICAgICBpZihub2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sUmVjdCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sUG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0b29sUmVjdC50b3AgLSByZWN0LnRvcCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB0b29sUmVjdC5sZWZ0IC0gcmVjdC5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0b29sUmVjdC5yaWdodCAtIHRvb2xSZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiB0b29sUmVjdC5ib3R0b20gLSB0b29sUmVjdC50b3AsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKDxXZWF2ZVRvb2wgcmVmPXt0b29sTmFtZX0ga2V5PXt0b29sTmFtZX0gdG9vbFBhdGg9e3BhdGh9IHN0eWxlPXt0b29sUG9zaXRpb259XG4gICAgICAgICAgICAgICAgICAgIG9uRHJhZ092ZXI9e3RoaXMub25EcmFnT3Zlci5iaW5kKHRoaXMsIHBhdGguZ2V0UGF0aCgpKX0gb25EcmFnU3RhcnQ9e3RoaXMub25EcmFnU3RhcnQuYmluZCh0aGlzLCBwYXRoLmdldFBhdGgoKSl9IG9uRHJhZ0VuZD17dGhpcy5vbkRyYWdFbmQuYmluZCh0aGlzKX1cbiAgICAgICAgICAgICAgICAgICAgLz4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IHJlZj17KGVsdCkgPT4geyB0aGlzLmVsZW1lbnQgPSBlbHQ7IH19IHN0eWxlPXt7d2lkdGg6IFwiMTAwJVwiLCBoZWlnaHQ6IFwiMTAwJVwiLCBkaXNwbGF5OiBcImZsZXhcIiwgcG9zaXRpb246IFwicmVsYXRpdmVcIn19PlxuICAgICAgICAgICAgICAgICAgICA8TGF5b3V0IGtleT17TEFZT1VUfSByZWY9e0xBWU9VVH0gc3RhdGU9e18uY2xvbmVEZWVwKG5ld1N0YXRlKX0gb25TdGF0ZUNoYW5nZT17dGhpcy5zYXZlU3RhdGUuYmluZCh0aGlzKX0vPlxuICAgICAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICAgICAgICAgIDxUb29sT3ZlcmxheSByZWY9e1RPT0xPVkVSTEFZfS8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGV4cG9ydCBkZWZhdWx0IFdlYXZlTGF5b3V0TWFuYWdlcjtcbiIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvcmVhY3QvcmVhY3QtZG9tLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uL3R5cGluZ3MvcmVhY3QtdmVuZG9yLXByZWZpeC9yZWFjdC12ZW5kb3ItcHJlZml4LmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi90eXBpbmdzL3JlYWN0LWJvb3RzdHJhcC9yZWFjdC1ib290c3RyYXAuZC50c1wiLz5cblxuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB1aSBmcm9tIFwiLi9yZWFjdC11aS91aVwiO1xuaW1wb3J0ICogYXMgVmVuZG9yUHJlZml4IGZyb20gXCJyZWFjdC12ZW5kb3ItcHJlZml4XCI7XG5pbXBvcnQgU3RhbmRhcmRMaWIgZnJvbSBcIi4vdXRpbHMvU3RhbmRhcmRMaWJcIjtcbmltcG9ydCB7R2x5cGhpY29ufSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwXCI7XG5pbXBvcnQge0NTU1Byb3BlcnRpZXN9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtJVmlzVG9vbCwgSVZpc1Rvb2xQcm9wcywgSVZpc1Rvb2xTdGF0ZX0gZnJvbSBcIi4vdG9vbHMvSVZpc1Rvb2xcIjtcbmltcG9ydCBUb29sVGlwIGZyb20gXCIuL3Rvb2xzL3Rvb2x0aXBcIjtcbmltcG9ydCB7SVRvb2xUaXBQcm9wcywgSVRvb2xUaXBTdGF0ZX0gZnJvbSBcIi4vdG9vbHMvdG9vbHRpcFwiO1xuXG5jb25zdCB0b29sUmVnaXN0cnk6e1tuYW1lOnN0cmluZ106IEZ1bmN0aW9ufSA9IHt9O1xuXG5kZWNsYXJlIHR5cGUgSVRvb2xUaXAgPSBSZWFjdC5Db21wb25lbnQ8SVRvb2xUaXBQcm9wcywgSVRvb2xUaXBTdGF0ZT47XG5cbmNvbnN0IGdyYWJiZXJTdHlsZTpDU1NQcm9wZXJ0aWVzID0ge1xuICAgIHdpZHRoOiBcIjE2XCIsXG4gICAgaGVpZ2h0OiBcIjE2XCIsXG4gICAgY3Vyc29yOiBcIm1vdmVcIixcbiAgICBiYWNrZ3JvdW5kOiBcInVybChodHRwOi8vcGxhY2Vob2xkLml0LzMyeDMyKVwiXG59O1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJUb29sSW1wbGVtZW50YXRpb24oYXNDbGFzc05hbWU6c3RyaW5nLCBqc0NsYXNzOkZ1bmN0aW9uKSB7XG4gICAgdG9vbFJlZ2lzdHJ5W2FzQ2xhc3NOYW1lXSA9IGpzQ2xhc3M7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb29sSW1wbGVtZW50YXRpb24oYXNDbGFzc05hbWU6c3RyaW5nKTpGdW5jdGlvbiB7XG4gICAgcmV0dXJuIHRvb2xSZWdpc3RyeVthc0NsYXNzTmFtZV07XG59XG5cbmludGVyZmFjZSBJV2VhdmVUb29sUHJvcHMgZXh0ZW5kcyBSZWFjdC5Qcm9wczxXZWF2ZVRvb2w+IHtcbiAgICB0b29sUGF0aDpXZWF2ZVBhdGg7XG4gICAgdG9vbENsYXNzPzpzdHJpbmc7XG4gICAgc3R5bGU6Q1NTUHJvcGVydGllcztcbiAgICBvbkRyYWdTdGFydDpSZWFjdC5Nb3VzZUV2ZW50O1xuICAgIG9uRHJhZ0VuZDpSZWFjdC5Nb3VzZUV2ZW50O1xuICAgIG9uRHJhZ092ZXI6UmVhY3QuTW91c2VFdmVudDtcbn1cblxuaW50ZXJmYWNlIElXZWF2ZVRvb2xTdGF0ZSB7XG5cbn1cblxuZXhwb3J0IGNsYXNzIFdlYXZlVG9vbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJV2VhdmVUb29sUHJvcHMsIElXZWF2ZVRvb2xTdGF0ZT4ge1xuXG4gICAgcHJpdmF0ZSB0b29sUGF0aDpXZWF2ZVBhdGg7XG4gICAgcHJpdmF0ZSBUb29sQ2xhc3M6YW55O1xuICAgIHByaXZhdGUgdG9vbDpJVmlzVG9vbDtcbiAgICBwcml2YXRlIHRvb2xXaWR0aDpudW1iZXI7XG4gICAgcHJpdmF0ZSB0b29sSGVpZ2h0Om51bWJlcjtcbiAgICBwcml2YXRlIHRvb2xUaXA6SVRvb2xUaXA7XG4gICAgcHJpdmF0ZSB0aXRsZUJhckhlaWdodDogbnVtYmVyO1xuICAgIHByaXZhdGUgdGl0bGVCYXI6UmVhY3QuQ29tcG9uZW50PElUaXRsZUJhclByb3BzLCBJVGl0bGVCYXJTdGF0ZT47XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczpJV2VhdmVUb29sUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnRvb2xQYXRoID0gdGhpcy5wcm9wcy50b29sUGF0aDtcbiAgICAgICAgdmFyIHRvb2xUeXBlOnN0cmluZyA9IHRoaXMudG9vbFBhdGggPyB0aGlzLnRvb2xQYXRoLmdldFR5cGUoKSA6IHRoaXMucHJvcHMudG9vbENsYXNzO1xuICAgICAgICBpZih0b29sVHlwZSA9PT0gXCJ3ZWF2ZS52aXN1YWxpemF0aW9uLnRvb2xzOjpFeHRlcm5hbFRvb2xcIiAmJiB0aGlzLnRvb2xQYXRoLmdldFR5cGUoXCJ0b29sQ2xhc3NcIikpIHtcbiAgICAgICAgICAgIHRvb2xUeXBlID0gdGhpcy50b29sUGF0aC5nZXRTdGF0ZShcInRvb2xDbGFzc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0b29sVHlwZSA9PT0gXCJ3ZWF2ZWpzLmNvcmUuTGlua2FibGVIYXNoTWFwXCIgJiYgdGhpcy50b29sUGF0aC5nZXRUeXBlKFwiY2xhc3NcIikpXG4gICAgICAgICAgICB0b29sVHlwZSA9IHRoaXMudG9vbFBhdGguZ2V0U3RhdGUoXCJjbGFzc1wiKTtcbiAgICAgICAgdGhpcy5Ub29sQ2xhc3MgPSBnZXRUb29sSW1wbGVtZW50YXRpb24odG9vbFR5cGUpO1xuICAgICAgICB0aGlzLnRpdGxlQmFySGVpZ2h0ID0gMjU7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKTp2b2lkIHtcbiAgICAgICAgLy8gaWYodGhpcy50b29sUGF0aCkge1xuICAgICAgICAvLyAgICAgdGhpcy50b29sUGF0aC5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLmZvcmNlVXBkYXRlKTtcbiAgICAgICAgLy8gfVxuICAgIH1cblxuICAgIGdldCB0aXRsZSgpOnN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2wgPyB0aGlzLnRvb2wudGl0bGUgOiBcIlwiO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIHRvb2xIZWlnaHQ6bnVtYmVyID0gdGhpcy5wcm9wcy5zdHlsZSA/IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0IC0gdGhpcy50aXRsZUJhckhlaWdodCA6IDMyMDtcbiAgICAgICAgdmFyIHRvb2xXaWR0aDpudW1iZXIgPSB0aGlzLnByb3BzLnN0eWxlID8gdGhpcy5wcm9wcy5zdHlsZS53aWR0aCA6IDMyMDtcblxuICAgICAgICB2YXIgcmVhY3RUb29sOmFueTtcbiAgICAgICAgaWYgKFJlYWN0LkNvbXBvbmVudC5pc1Byb3RvdHlwZU9mKHRoaXMuVG9vbENsYXNzKSkge1xuICAgICAgICAgICAgcmVhY3RUb29sID0gUmVhY3QuY3JlYXRlRWxlbWVudCh0aGlzLlRvb2xDbGFzcywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IFwidG9vbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY6IChjOklWaXNUb29sKSA9PiB7IHRoaXMudG9vbCA9IGM7IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xQYXRoOiB0aGlzLnRvb2xQYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogeyBoZWlnaHQ6IHRvb2xIZWlnaHQsIHdpZHRoOiB0b29sV2lkdGggfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbFRpcDogdGhpcy50b29sVGlwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dWkuVkJveCBzdHlsZT17dGhpcy5wcm9wcy5zdHlsZX0gb25Nb3VzZUVudGVyPXsoKSA9PiB7IHRoaXMudGl0bGVCYXIuc2V0U3RhdGUoeyBzaG93Q29udHJvbHM6IHRydWUgfSk7IH19IG9uTW91c2VMZWF2ZT17KCkgPT4geyB0aGlzLnRpdGxlQmFyLnNldFN0YXRlKHsgc2hvd0NvbnRyb2xzOiBmYWxzZSB9KTsgfX0gb25EcmFnT3Zlcj17dGhpcy5wcm9wcy5vbkRyYWdPdmVyfSBvbkRyYWdFbmQ9e3RoaXMucHJvcHMub25EcmFnRW5kfT5cbiAgICAgICAgICAgICAgICA8VGl0bGVCYXIgcmVmPXsoYzpSZWFjdC5Db21wb25lbnQ8SVRpdGxlQmFyUHJvcHMsIElUaXRsZUJhclN0YXRlPikgPT4geyB0aGlzLnRpdGxlQmFyID0gYzsgfSB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9uRHJhZ1N0YXJ0PXt0aGlzLnByb3BzLm9uRHJhZ1N0YXJ0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZUJhckhlaWdodD17dGhpcy50aXRsZUJhckhlaWdodH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU9e3RoaXMudGl0bGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6IHRvb2xXaWR0aCwgaGVpZ2h0OiB0b29sSGVpZ2h0fX0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6IFwiMTAwJVwiLCBoZWlnaHQ6IFwiMTAwJVwiLCBtYXhIZWlnaHQ6IFwiMTAwJVwifX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWFjdFRvb2xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIDxUb29sVGlwIHJlZj17KGM6UmVhY3QuQ29tcG9uZW50PElUb29sVGlwUHJvcHMsIElUb29sVGlwU3RhdGU+KSA9PiB7IHRoaXMudG9vbFRpcCA9IGMgfX0vPlxuICAgICAgICAgICAgPC91aS5WQm94Pik7XG4gICAgfVxufVxuXG5pbnRlcmZhY2UgSVRpdGxlQmFyUHJvcHMgZXh0ZW5kcyBSZWFjdC5Qcm9wczxUaXRsZUJhcj4ge1xuICAgIG9uRHJhZ1N0YXJ0OlJlYWN0Lk1vdXNlRXZlbnQ7XG4gICAgdGl0bGVCYXJIZWlnaHQ6bnVtYmVyO1xuICAgIHRpdGxlOnN0cmluZztcbn1cblxuaW50ZXJmYWNlIElUaXRsZUJhclN0YXRlIHtcbiAgICBzaG93Q29udHJvbHM6IGJvb2xlYW47XG59XG5cbmNsYXNzIFRpdGxlQmFyIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElUaXRsZUJhclByb3BzLCBJVGl0bGVCYXJTdGF0ZT4ge1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6SVRpdGxlQmFyUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgc2hvd0NvbnRyb2xzOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciB3aW5kb3dCYXI6Q1NTUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICAgICAgICAgIGhlaWdodDogdGhpcy5wcm9wcy50aXRsZUJhckhlaWdodCxcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogdGhpcy5zdGF0ZS5zaG93Q29udHJvbHMgPyBcIiNmOGY4ZjhcIjogXCJcIlxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciB0aXRsZVN0eWxlOkNTU1Byb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBjdXJzb3I6IFwibW92ZVwiLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnByb3BzLnRpdGxlQmFySGVpZ2h0LFxuICAgICAgICAgICAgdGV4dEFsaWduOiBcImNlbnRlclwiLFxuICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCIsXG4gICAgICAgICAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiLFxuICAgICAgICAgICAgZmxleDogMSxcbiAgICAgICAgICAgIHRleHRPdmVyZmxvdzogXCJlbGxpcHNpc1wiLFxuICAgICAgICAgICAgcGFkZGluZ1RvcDogXCIzXCJcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdHJhbnNpdGlvbnM6Q1NTUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIHZpc2liaWxpdHk6IHRoaXMuc3RhdGUuc2hvd0NvbnRyb2xzID8gXCJ2aXNpYmxlXCIgOiBcImhpZGRlblwiLFxuICAgICAgICAgICAgb3BhY2l0eTogdGhpcy5zdGF0ZS5zaG93Q29udHJvbHMgPyAwLjcgOiAwLFxuICAgICAgICAgICAgdHJhbnNpdGlvbjogdGhpcy5zdGF0ZS5zaG93Q29udHJvbHMgPyBcInZpc2liaWxpeSAwcyAwLjFzLCBvcGFjaXR5IDAuMXMgbGluZWFyXCIgOiBcInZpc2liaWxpdHkgMHMgMC4xcywgb3BhY2l0eSAwLjFzIGxpbmVhclwiXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGxlZnRDb250cm9sczpDU1NQcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgbWFyZ2luTGVmdDogNSxcbiAgICAgICAgICAgIG1hcmdpblRvcDogMixcbiAgICAgICAgICAgIHdpZHRoOiAyMFxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciByaWdodENvbnRyb2xzOkNTU1Byb3BlcnRpZXMgPSB7XG4gICAgICAgICAgICBtYXJnaW5Ub3A6IDIsXG4gICAgICAgICAgICB3aWR0aDogMzhcbiAgICAgICAgfTtcblxuICAgICAgICBTdGFuZGFyZExpYi5tZXJnZShsZWZ0Q29udHJvbHMsIHRyYW5zaXRpb25zKTtcbiAgICAgICAgU3RhbmRhcmRMaWIubWVyZ2UocmlnaHRDb250cm9scywgdHJhbnNpdGlvbnMpO1xuXG4gICAgICAgIHJldHVybihcbiAgICAgICAgICAgIDx1aS5IQm94IHJlZj1cImhlYWRlclwiIHN0eWxlPXt3aW5kb3dCYXJ9IGRyYWdnYWJsZT17dHJ1ZX0gb25EcmFnU3RhcnQ9e3RoaXMucHJvcHMub25EcmFnU3RhcnR9PlxuICAgICAgICAgICAgey8qPHVpLkhCb3ggc3R5bGU9e1ZlbmRvclByZWZpeC5wcmVmaXgoe3N0eWxlczogbGVmdENvbnRyb2xzfSkuc3R5bGVzfT5cbiAgICAgICAgICAgIDxHbHlwaGljb24gZ2x5cGg9XCJjb2dcIi8+XG4gICAgICAgICAgICA8L3VpLkhCb3g+Ki99XG4gICAgICAgICAgICA8c3BhbiBzdHlsZT17dGl0bGVTdHlsZX0+e3RoaXMucHJvcHMudGl0bGV9PC9zcGFuPlxuICAgICAgICAgICAgey8qPHVpLkhCb3ggc3R5bGU9e1ZlbmRvclByZWZpeC5wcmVmaXgoe3N0eWxlczogcmlnaHRDb250cm9sc30pLnN0eWxlc30+XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7bWFyZ2luUmlnaHQ6IDV9fT5cbiAgICAgICAgICAgIDxHbHlwaGljb24gZ2x5cGg9XCJ1bmNoZWNrZWRcIi8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3ttYXJnaW5SaWdodDogNX19PlxuICAgICAgICAgICAgPEdseXBoaWNvbiBnbHlwaD1cInJlbW92ZVwiLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC91aS5IQm94PiovfVxuICAgICAgICAgICAgPC91aS5IQm94PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC1ib290c3RyYXAvcmVhY3QtYm9vdHN0cmFwLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtUYWJsZX0gZnJvbSBcInJlYWN0LWJvb3RzdHJhcFwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgVGFibGVIZWFkIGZyb20gXCIuL1RhYmxlSGVhZFwiO1xuaW1wb3J0IFRhYmxlQm9keSBmcm9tIFwiLi9UYWJsZUJvZHlcIjtcbmltcG9ydCB7SVJvd30gZnJvbSBcIi4vVGFibGVSb3dcIjtcbmltcG9ydCB7SUNvbHVtblRpdGxlc30gZnJvbSBcIi4vVGFibGVIZWFkXCI7XG5cbmludGVyZmFjZSBJUmVhY3RCb290c3RyYXBUYWJsZVByb3BzIGV4dGVuZHMgUmVhY3QuUHJvcHM8UmVhY3RCb290c3RyYXBUYWJsZT4ge1xuICAgIHN0cmlwZWQ/OmJvb2xlYW47XG4gICAgYm9yZGVyZWQ/OmJvb2xlYW47XG4gICAgY29uZGVuc2VkPzpib29sZWFuO1xuICAgIGhvdmVyPzpib29sZWFuO1xuICAgIHJvd3M6SVJvd1tdO1xuICAgIGNvbHVtblRpdGxlczpJQ29sdW1uVGl0bGVzO1xuICAgIGhlaWdodDpudW1iZXJ8c3RyaW5nO1xuICAgIHNvcnRhYmxlPzpib29sZWFuO1xuICAgIGlkUHJvcGVydHk6c3RyaW5nO1xuICAgIHNlbGVjdGVkSWRzOnN0cmluZ1tdO1xuICAgIHByb2JlZElkczpzdHJpbmdbXTtcbiAgICBvblByb2JlPzooaWQ6c3RyaW5nW10pID0+IHZvaWQ7XG4gICAgb25TZWxlY3Rpb24/OihpZDpzdHJpbmdbXSkgPT4gdm9pZDtcbiAgICBzaG93SWRDb2x1bW46Ym9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIElSZWFjdEJvb3RTdHJhcFRhYmxlU3RhdGUge1xuICAgIHByb2JlZElkcz86c3RyaW5nW107XG4gICAgc2VsZWN0ZWRJZHM/OnN0cmluZ1tdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWFjdEJvb3RzdHJhcFRhYmxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElSZWFjdEJvb3RzdHJhcFRhYmxlUHJvcHMsIElSZWFjdEJvb3RTdHJhcFRhYmxlU3RhdGU+IHtcblxuICAgIHByaXZhdGUgdGFibGVIZWFkOlRhYmxlSGVhZDtcbiAgICBwcml2YXRlIHRhYmxlQm9keTpUYWJsZUJvZHk7XG4gICAgcHJpdmF0ZSBrZXlEb3duOmJvb2xlYW47XG4gICAgcHJpdmF0ZSBzaGlmdERvd246Ym9vbGVhbjtcbiAgICBwcml2YXRlIGZpcnN0SW5kZXg6bnVtYmVyO1xuICAgIHByaXZhdGUgc2Vjb25kSW5kZXg6bnVtYmVyO1xuICAgIHByaXZhdGUgbGFzdENsaWNrZWQ6c3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6SVJlYWN0Qm9vdHN0cmFwVGFibGVQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICBwcm9iZWRJZHM6IFtdLFxuICAgICAgICAgICAgc2VsZWN0ZWRJZHM6IFtdXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk1vdXNlT3ZlcihpZDpzdHJpbmcsIHN0YXR1czpib29sZWFuKSB7XG5cbiAgICAgICAgdmFyIHByb2JlZElkczpzdHJpbmdbXSA9IHRoaXMuc3RhdGUucHJvYmVkSWRzLnNsaWNlKDApO1xuXG4gICAgICAgIC8vIGZpbmQgdGhlIHNlbGVjdGVkIHJlY29yZCBsb2NhdGlvblxuICAgICAgICB2YXIga2V5TG9jYXRpb246bnVtYmVyID0gcHJvYmVkSWRzLmluZGV4T2YoaWQpO1xuICAgICAgICBpZighc3RhdHVzICYmIGtleUxvY2F0aW9uID4gLTEpIHtcbiAgICAgICAgICAgIHByb2JlZElkcy5zcGxpY2Uoa2V5TG9jYXRpb24sIDEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvYmVkSWRzLnB1c2goaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5wcm9wcy5vblByb2JlKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BzLm9uUHJvYmUocHJvYmVkSWRzKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIHByb2JlZElkc1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkNsaWNrKGlkOnN0cmluZywgZXZlbnQ6UmVhY3QuTW91c2VFdmVudCkge1xuICAgICAgICB2YXIgc2VsZWN0ZWRJZHM6c3RyaW5nW10gPSB0aGlzLnN0YXRlLnNlbGVjdGVkSWRzLnNsaWNlKDApO1xuXG5cbiAgICAgICAgLy8gaW4gc2luZ2xlIHNlbGVjdGlvbiBtb2RlLFxuICAgICAgICAvLyBvciBjdHJsL2NtZCBzZWxjZWN0aW9uIG1vZGVcbiAgICAgICAgLy8gYWxyZWFkeSBzZWxlY3RlZCBrZXlzIGdldCB1bnNlbGVjdGVkXG5cbiAgICAgICAgLy8gZmluZCB0aGUgc2VsZWN0ZWQgcmVjb3JkIGxvY2F0aW9uXG4gICAgICAgIHZhciBrZXlMb2NhdGlvbjpudW1iZXIgPSBzZWxlY3RlZElkcy5pbmRleE9mKGlkKTtcblxuICAgICAgICAvLyBtdWx0aXBsZSBzZWxlY3Rpb25cbiAgICAgICAgaWYoKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZSByZWNvcmQgaXMgYWxyZWFkeSBpbiB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAgICAvLyB3ZSByZW1vdmUgaXRcbiAgICAgICAgICAgIGlmKGtleUxvY2F0aW9uID4gLTEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJZHMuc3BsaWNlKGtleUxvY2F0aW9uLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZElkcy5wdXNoKGlkKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5sYXN0Q2xpY2tlZCA9IGlkO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2hpZnQgc2VsZWN0aW9uXG4gICAgICAgIGVsc2UgaWYoZXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkSWRzID0gW107XG4gICAgICAgICAgICBpZighdGhpcy5sYXN0Q2xpY2tlZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0Om51bWJlciA9IF8uZmluZEluZGV4KHRoaXMucHJvcHMucm93cywgKHJvdzpJUm93KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByb3dbXCJpZFwiXSA9PSB0aGlzLmxhc3RDbGlja2VkO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIGVuZDpudW1iZXIgPSBfLmZpbmRJbmRleCh0aGlzLnByb3BzLnJvd3MsIChyb3c6SVJvdykgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcm93W1wiaWRcIl0gPT0gaWQ7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBpZihzdGFydCA+IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcDpudW1iZXIgPSBzdGFydDtcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQgPSBlbmQ7XG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IHRlbXA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZm9yKHZhciBpOm51bWJlciA9IHN0YXJ0OyBpIDw9IGVuZDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSWRzLnB1c2godGhpcy5wcm9wcy5yb3dzW2ldW1wiaWRcIl0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc2luZ2xlIHNlbGVjdGlvblxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGlmIHRoZXJlIHdhcyBvbmx5IG9uZSByZWNvcmQgc2VsZWN0ZWRcbiAgICAgICAgICAgIC8vIGFuZCB3ZSBhcmUgY2xpY2tpbmcgb24gaXQgYWdhaW4sIHRoZW4gd2Ugd2FudCB0b1xuICAgICAgICAgICAgLy8gY2xlYXIgdGhlIHNlbGVjdGlvbi5cbiAgICAgICAgICAgIGlmKHNlbGVjdGVkSWRzLmxlbmd0aCA9PSAxICYmIHNlbGVjdGVkSWRzWzBdID09IGlkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkSWRzID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0Q2xpY2tlZCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRJZHMgPSBbaWRdO1xuICAgICAgICAgICAgICAgIHRoaXMubGFzdENsaWNrZWQgPSBpZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRoaXMucHJvcHMub25TZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMucHJvcHMub25TZWxlY3Rpb24oc2VsZWN0ZWRJZHMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBzZWxlY3RlZElkc1xuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIHJlbmRlcigpIHtcblxuICAgICAgICB2YXIgdGFibGVDb250YWluZXI6UmVhY3QuQ1NTUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnByb3BzLmhlaWdodFxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBzZWxlY3RlZElkczpzdHJpbmdbXTtcbiAgICAgICAgdmFyIHByb2JlZElkczpzdHJpbmdbXTtcblxuICAgICAgICBpZih0aGlzLnByb3BzLnNlbGVjdGVkSWRzKSB7XG4gICAgICAgICAgICBzZWxlY3RlZElkcyA9IHRoaXMucHJvcHMuc2VsZWN0ZWRJZHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZWxlY3RlZElkcyA9IHRoaXMuc3RhdGUuc2VsZWN0ZWRJZHM7XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLnByb3BzLnByb2JlZElkcykge1xuICAgICAgICAgICAgcHJvYmVkSWRzID0gdGhpcy5wcm9wcy5wcm9iZWRJZHM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9iZWRJZHMgPSB0aGlzLnN0YXRlLnByb2JlZElkcztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt0YWJsZUNvbnRhaW5lcn0+XG4gICAgICAgICAgICAgICAgPFRhYmxlIGtleT1cInRhYmxlXCIgcmVmPVwidGFibGVcIiBzdHJpcGVkPXt0aGlzLnByb3BzLnN0cmlwZWR9IGJvcmRlcmVkPXt0aGlzLnByb3BzLmJvcmRlcmVkfSBjb25kZW5zZWQ9e3RoaXMucHJvcHMuY29uZGVuc2VkfSBob3Zlcj17dHJ1ZX0+XG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZUhlYWQga2V5PVwiaGVhZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVmPXsoYzpUYWJsZUhlYWQpID0+IHt0aGlzLnRhYmxlSGVhZCA9IGM7fX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5UaXRsZXM9e3RoaXMucHJvcHMuY29sdW1uVGl0bGVzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkUHJvcGVydHk9e3RoaXMucHJvcHMuaWRQcm9wZXJ0eX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93SWRDb2x1bW49e3RoaXMucHJvcHMuc2hvd0lkQ29sdW1ufS8+XG4gICAgICAgICAgICAgICAgICAgIDxUYWJsZUJvZHkga2V5PVwiYm9keVwiIHJlZj17KGM6VGFibGVCb2R5KSA9PiB7dGhpcy50YWJsZUJvZHkgPSBjO319XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRQcm9wZXJ0eT17dGhpcy5wcm9wcy5pZFByb3BlcnR5fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uTW91c2VPdmVyPXt0aGlzLm9uTW91c2VPdmVyLmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5vbkNsaWNrLmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93cz17dGhpcy5wcm9wcy5yb3dzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkSWRzPXtzZWxlY3RlZElkc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9iZWRJZHM9e3Byb2JlZElkc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93SWRDb2x1bW49e3RoaXMucHJvcHMuc2hvd0lkQ29sdW1ufS8+XG4gICAgICAgICAgICAgICAgPC9UYWJsZT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC1ib290c3RyYXAvcmVhY3QtYm9vdHN0cmFwLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtUYWJsZX0gZnJvbSBcInJlYWN0LWJvb3RzdHJhcFwiO1xuaW1wb3J0IFRhYmxlUm93IGZyb20gXCIuL1RhYmxlUm93XCI7XG5pbXBvcnQge0lSb3d9IGZyb20gXCIuL1RhYmxlUm93XCI7XG5cbmludGVyZmFjZSBJVGFibGVCb2R5UHJvcHMgZXh0ZW5kcyBSZWFjdC5Qcm9wczxUYWJsZUJvZHk+IHtcbiAgICByb3dzOklSb3dbXTtcbiAgICBpZFByb3BlcnR5OnN0cmluZztcbiAgICBzZWxlY3RlZElkczpzdHJpbmdbXTtcbiAgICBwcm9iZWRJZHM6c3RyaW5nW107XG4gICAgb25Nb3VzZU92ZXI6KGlkOnN0cmluZywgc3RhdHVzOmJvb2xlYW4pID0+IHZvaWQ7XG4gICAgb25DbGljazooaWQ6c3RyaW5nKSA9PiB2b2lkO1xuICAgIHNob3dJZENvbHVtbjpib29sZWFuXG59XG5cbmludGVyZmFjZSBJVGFibGVCb2R5U3RhdGUge1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYmxlQm9keSBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJVGFibGVCb2R5UHJvcHMsIElUYWJsZUJvZHlTdGF0ZT4ge1xuXG4gICAgcHJpdmF0ZSB0YWJsZVJvd3M6e1tpZDpzdHJpbmddOiBUYWJsZVJvd307XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczpJVGFibGVCb2R5UHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuXG4gICAgICAgIHRoaXMudGFibGVSb3dzID0ge307XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIH1cblxuICAgIHJlbmRlcigpOkpTWC5FbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucm93cy5tYXAoKHJvdzpJUm93LCBpbmRleDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiA8VGFibGVSb3dcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWY9eyh0YWJsZVJvdzpUYWJsZVJvdykgPT4geyB0aGlzLnRhYmxlUm93c1tyb3dbdGhpcy5wcm9wcy5pZFByb3BlcnR5XV0gPSB0YWJsZVJvdyB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aW5kZXh9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Nb3VzZU92ZXI9e3RoaXMucHJvcHMub25Nb3VzZU92ZXIuYmluZCh0aGlzLCByb3dbdGhpcy5wcm9wcy5pZFByb3BlcnR5XSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5wcm9wcy5vbkNsaWNrLmJpbmQodGhpcywgcm93W3RoaXMucHJvcHMuaWRQcm9wZXJ0eV0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkUHJvcGVydHk9e3RoaXMucHJvcHMuaWRQcm9wZXJ0eX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3c9e3Jvd31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9iZWQ9e3RoaXMucHJvcHMucHJvYmVkSWRzLmluZGV4T2Yocm93W3RoaXMucHJvcHMuaWRQcm9wZXJ0eV0pID4gLTF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWQ9e3RoaXMucHJvcHMuc2VsZWN0ZWRJZHMuaW5kZXhPZihyb3dbdGhpcy5wcm9wcy5pZFByb3BlcnR5XSkgPiAtMX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93SWRDb2x1bW49e3RoaXMucHJvcHMuc2hvd0lkQ29sdW1ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPjtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC1ib290c3RyYXAvcmVhY3QtYm9vdHN0cmFwLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG5cbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtUYWJsZX0gZnJvbSBcInJlYWN0LWJvb3RzdHJhcFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElDb2x1bW5UaXRsZXMge1xuICAgIFtjb2x1bW5JZDogc3RyaW5nXSA6IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgSVRhYmxlSGVhZFByb3BzIGV4dGVuZHMgUmVhY3QuUHJvcHM8VGFibGVIZWFkPiB7XG4gICAgY29sdW1uVGl0bGVzOklDb2x1bW5UaXRsZXM7XG4gICAgc2hvd0lkQ29sdW1uOmJvb2xlYW47XG4gICAgaWRQcm9wZXJ0eTpzdHJpbmc7XG59XG5cbmludGVyZmFjZSBJVGFibGVIZWFkU3RhdGUge1xuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRhYmxlSGVhZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJVGFibGVIZWFkUHJvcHMsIElUYWJsZUhlYWRTdGF0ZT4ge1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6SVRhYmxlSGVhZFByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKTpKU1guRWxlbWVudCB7XG5cbiAgICAgICAgdmFyIGhlYWRlcnM6SlNYLkVsZW1lbnRbXSA9IFtdO1xuXG4gICAgICAgIHZhciBrZXlzOnN0cmluZ1tdID0gT2JqZWN0LmtleXModGhpcy5wcm9wcy5jb2x1bW5UaXRsZXMpO1xuICAgICAgICBpZighdGhpcy5wcm9wcy5zaG93SWRDb2x1bW4pIHtcbiAgICAgICAgICAgIGtleXMuc3BsaWNlKGtleXMuaW5kZXhPZih0aGlzLnByb3BzLmlkUHJvcGVydHkpLCAxKTtcbiAgICAgICAgfVxuICAgICAgICBoZWFkZXJzID0ga2V5cy5tYXAoKGNvbHVtbklkOnN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIDx0aCBrZXk9e2NvbHVtbklkfT57dGhpcy5wcm9wcy5jb2x1bW5UaXRsZXNbY29sdW1uSWRdfTwvdGg+O1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHRoZWFkIGNsYXNzTmFtZT1cInRhYmxlLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0LWJvb3RzdHJhcC9yZWFjdC1ib290c3RyYXAuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0LXZlbmRvci1wcmVmaXgvcmVhY3QtdmVuZG9yLXByZWZpeC5kLnRzXCIvPlxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7VGFibGV9IGZyb20gXCJyZWFjdC1ib290c3RyYXBcIjtcbmltcG9ydCB7Q1NTUHJvcGVydGllc30gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgU3RhbmRhcmRMaWIgZnJvbSBcIi4uL3V0aWxzL1N0YW5kYXJkTGliXCI7XG5pbXBvcnQgKiBhcyBQcmVmaXhlciBmcm9tIFwicmVhY3QtdmVuZG9yLXByZWZpeFwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJvdyB7XG4gICAgW2NvbHVtbklkOnN0cmluZ106IHN0cmluZ1xufTtcblxuaW50ZXJmYWNlIElUYWJsZVJvd1Byb3BzIGV4dGVuZHMgUmVhY3QuUHJvcHM8VGFibGVSb3c+IHtcbiAgICByb3c6SVJvdztcbiAgICBpZFByb3BlcnR5OnN0cmluZztcbiAgICBvbk1vdXNlT3ZlcjooKSA9PiB2b2lkO1xuICAgIG9uQ2xpY2s6KCkgPT4gdm9pZDtcbiAgICBwcm9iZWQ6Ym9vbGVhbjtcbiAgICBzZWxlY3RlZDpib29sZWFuO1xuICAgIHNob3dJZENvbHVtbjpib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgSVRhYmxlUm93U3RhdGUge1xufVxuXG5jb25zdCBiYXNlU3R5bGU6Q1NTUHJvcGVydGllcyA9IHtcbiAgICB1c2VyU2VsZWN0OiBcIm5vbmVcIlxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGFibGVSb3cgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SVRhYmxlUm93UHJvcHMsIElUYWJsZVJvd1N0YXRlPiB7XG5cbiAgICBwcml2YXRlIHNlbGVjdGVkU3R5bGU6Q1NTUHJvcGVydGllcztcbiAgICBwcml2YXRlIGNsZWFyOkNTU1Byb3BlcnRpZXM7XG4gICAgcHJpdmF0ZSBwcm9iZWRTdHlsZTpDU1NQcm9wZXJ0aWVzO1xuICAgIHByaXZhdGUgcHJvYmVkQW5kU2VsZWN0ZWQ6Q1NTUHJvcGVydGllcztcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOklUYWJsZVJvd1Byb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcblxuICAgICAgICB0aGlzLnNlbGVjdGVkU3R5bGUgPSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzgwQ0NGRlwiXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5jbGVhciA9IHt9O1xuXG4gICAgICAgIHRoaXMucHJvYmVkQW5kU2VsZWN0ZWQgPSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzk5RDZGRlwiXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5wcm9iZWRTdHlsZSA9IHtcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogXCJyZ2JhKDE1MywgMjE0LCAyNTUsIDAuNClcIlxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wczpJVGFibGVSb3dQcm9wcywgbmV4dFN0YXRlOklUYWJsZVJvd1N0YXRlKSB7XG4gICAgICAgIC8vIG9ubHkgdXBkYXRlIHRoZSByb3cgaWYgdGhlIGtleSBoYXMgY2hhbmdlZFxuICAgICAgICByZXR1cm4gKHRoaXMucHJvcHMuc2VsZWN0ZWQgIT0gbmV4dFByb3BzLnNlbGVjdGVkKSB8fFxuICAgICAgICAgICAgICAgKHRoaXMucHJvcHMucHJvYmVkICE9IG5leHRQcm9wcy5wcm9iZWQpIHx8XG4gICAgICAgICAgICAgICAoIV8uaXNFcXVhbCh0aGlzLnByb3BzLnJvdywgbmV4dFByb3BzLnJvdykpO1xuICAgIH1cblxuICAgIHJlbmRlcigpOkpTWC5FbGVtZW50IHtcbiAgICAgICAgdmFyIHN0eWxlID0ge31cbiAgICAgICAgdmFyIHNlbGVjdGVkOmJvb2xlYW4gPSB0aGlzLnByb3BzLnNlbGVjdGVkO1xuICAgICAgICB2YXIgcHJvYmVkOmJvb2xlYW4gPSB0aGlzLnByb3BzLnByb2JlZDtcblxuICAgICAgICBpZihzZWxlY3RlZCAmJiBwcm9iZWQpIHtcbiAgICAgICAgICAgIHN0eWxlID0gdGhpcy5wcm9iZWRBbmRTZWxlY3RlZDtcbiAgICAgICAgfVxuICAgICAgICBpZihzZWxlY3RlZCAmJiAhcHJvYmVkKSB7XG4gICAgICAgICAgICBzdHlsZSA9IHRoaXMuc2VsZWN0ZWRTdHlsZTtcbiAgICAgICAgfVxuICAgICAgICBpZighc2VsZWN0ZWQgJiYgcHJvYmVkKSB7XG4gICAgICAgICAgICBzdHlsZSA9IHRoaXMucHJvYmVkU3R5bGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYoIXNlbGVjdGVkICYmICFwcm9iZWQpIHtcbiAgICAgICAgICAgIHN0eWxlID0gdGhpcy5jbGVhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIFN0YW5kYXJkTGliLm1lcmdlKHN0eWxlLCBiYXNlU3R5bGUpO1xuXG4gICAgICAgIHZhciBjZWxsczpKU1guRWxlbWVudFtdID0gW107XG5cbiAgICAgICAgdmFyIGtleXM6c3RyaW5nW10gPSBPYmplY3Qua2V5cyh0aGlzLnByb3BzLnJvdyk7XG4gICAgICAgIGlmKCF0aGlzLnByb3BzLnNob3dJZENvbHVtbikge1xuICAgICAgICAgICAga2V5cy5zcGxpY2Uoa2V5cy5pbmRleE9mKHRoaXMucHJvcHMuaWRQcm9wZXJ0eSksIDEpO1xuICAgICAgICB9XG4gICAgICAgIGNlbGxzID0ga2V5cy5tYXAoKGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiA8dGQga2V5PXtrZXl9Pnt0aGlzLnByb3BzLnJvd1trZXldfTwvdGQ+O1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHRyIHN0eWxlPXtQcmVmaXhlci5wcmVmaXgoe3N0eWxlczogc3R5bGV9KS5zdHlsZXN9IG9uTW91c2VPdmVyPXt0aGlzLnByb3BzLm9uTW91c2VPdmVyLmJpbmQodGhpcywgdHJ1ZSl9IG9uTW91c2VPdXQ9e3RoaXMucHJvcHMub25Nb3VzZU92ZXIuYmluZCh0aGlzLCBmYWxzZSl9IG9uQ2xpY2s9e3RoaXMucHJvcHMub25DbGljay5iaW5kKHRoaXMpfT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNlbGxzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgPC90cj5cbiAgICAgICAgKVxuICAgIH1cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QtZG9tLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC12ZW5kb3ItcHJlZml4L3JlYWN0LXZlbmRvci1wcmVmaXguZC50c1wiLz5cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCAqIGFzIFZlbmRvclByZWZpeCBmcm9tIFwicmVhY3QtdmVuZG9yLXByZWZpeFwiO1xuaW1wb3J0IFN0YW5kYXJkTGliIGZyb20gXCIuLi91dGlscy9TdGFuZGFyZExpYlwiO1xuaW1wb3J0IFJlc2l6ZXIgZnJvbSBcIi4vUmVzaXplclwiO1xuaW1wb3J0IFJlc2l6ZXJPdmVybGF5IGZyb20gXCIuL1Jlc2l6ZXJPdmVybGF5XCI7XG5cbmNvbnN0IFJFU0laRVJPVkVSTEFZOnN0cmluZyA9IFwicmVzaXplclwiO1xuY29uc3QgSE9SSVpPTlRBTDpzdHJpbmcgPSBcImhvcml6b250YWxcIjtcblxuZXhwb3J0IGludGVyZmFjZSBMYXlvdXRTdGF0ZSB7XG4gICAgaWQ/OiBzdHJpbmdbXTtcbiAgICBjaGlsZHJlbj86IExheW91dFN0YXRlW107XG4gICAgZGlyZWN0aW9uPzogc3RyaW5nO1xuICAgIGZsZXg/OiBudW1iZXJcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMYXlvdXRQcm9wcyBleHRlbmRzIFJlYWN0LlByb3BzPExheW91dD4ge1xuICAgIHN0YXRlOiBMYXlvdXRTdGF0ZTtcbiAgICBvblN0YXRlQ2hhbmdlOiBGdW5jdGlvbjtcbiAgICBwYW5lMT86IHN0cmluZztcbiAgICBwYW5lMj86c3RyaW5nO1xuICAgIHdlYXZlPzogYW55XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExheW91dCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxMYXlvdXRQcm9wcywgTGF5b3V0U3RhdGU+IHtcblxuICAgIHB1YmxpYyBzdGF0ZTpMYXlvdXRTdGF0ZTtcblxuICAgIHByaXZhdGUgbWluU2l6ZTogbnVtYmVyO1xuICAgIHByaXZhdGUgZHJhZ2dpbmc6IGJvb2xlYW47XG5cbiAgICBwcml2YXRlIGJvdW5kTW91c2VVcDogYW55O1xuICAgIHByaXZhdGUgYm91bmRNb3VzZURvd246IGFueTtcbiAgICBwcml2YXRlIGJvdW5kTW91c2VNb3ZlOiBhbnk7XG5cbiAgICBwcml2YXRlIHBhbmVsRHJhZ2dpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHByaXZhdGUgZWxlbWVudDogRWxlbWVudDtcblxuICAgIHByaXZhdGUgY2hpbGROYW1lczpzdHJpbmdbXTtcbiAgICBwcml2YXRlIHJlc2l6ZXJOYW1lczpzdHJpbmdbXTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBMYXlvdXRQcm9wcywgc3RhdGU6IExheW91dFN0YXRlKSB7XG4gICAgICAgIHN1cGVyKHByb3BzLCBzdGF0ZSk7XG4gICAgICAgIHZhciBwcyA9IHByb3BzLnN0YXRlIHx8IHt9O1xuICAgICAgICB0aGlzLnN0YXRlID0ge2lkOiBwcy5pZCwgZGlyZWN0aW9uOiBwcy5kaXJlY3Rpb24sIGNoaWxkcmVuOiBwcy5jaGlsZHJlbiwgZmxleDogcHMuZmxleH07XG4gICAgICAgIHRoaXMubWluU2l6ZSA9IDE2O1xuICAgICAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKTogdm9pZCB7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLmJvdW5kTW91c2VVcCA9IHRoaXMub25Nb3VzZVVwLmJpbmQodGhpcykpO1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmJvdW5kTW91c2VEb3duID0gdGhpcy5vbk1vdXNlRG93bi5iaW5kKHRoaXMpKTtcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5ib3VuZE1vdXNlTW92ZSA9IHRoaXMub25Nb3VzZU1vdmUuYmluZCh0aGlzKSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHM6IExheW91dFByb3BzKTogdm9pZCB7XG4gICAgICB0aGlzLnNldFN0YXRlKFN0YW5kYXJkTGliLmluY2x1ZGVNaXNzaW5nUHJvcGVydHlQbGFjZWhvbGRlcnModGhpcy5zdGF0ZSwgbmV4dFByb3BzLnN0YXRlKSk7XG4gICAgfVxuXG4gICAgY29tcG9lbmVudFdpbGxVbm1vdW50KCk6IHZvaWQge1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLmJvdW5kTW91c2VEb3duKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMuYm91bmRNb3VzZVVwKTtcbiAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZU1vdmVcIiwgdGhpcy5ib3VuZE1vdXNlTW92ZSk7XG4gICAgfVxuXG4gICAgc2hvdWxkQ29tcG9uZW50VXBkYXRlKG5leHRQcm9wczpMYXlvdXRQcm9wcywgbmV4dFN0YXRlOkxheW91dFN0YXRlKTogYm9vbGVhbiB7XG4gICAgICByZXR1cm4gIV8uaXNFcXVhbCh0aGlzLnN0YXRlLCBuZXh0U3RhdGUpIHx8ICFfLmlzRXF1YWwodGhpcy5zdGF0ZSwgbmV4dFByb3BzLnN0YXRlKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRVcGRhdGUoKTp2b2lkIHtcbiAgICAgIGlmKHRoaXMucHJvcHMub25TdGF0ZUNoYW5nZSAmJiB0aGlzLnN0YXRlKSB7XG4gICAgICAgIHRoaXMucHJvcHMub25TdGF0ZUNoYW5nZSh0aGlzLnN0YXRlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0RE9NTm9kZUZyb21JZCAoaWQ6c3RyaW5nW10pOiBFbGVtZW50IHtcbiAgICAgICAgdmFyIGNvbXBvbmVudCA9IHRoaXMuZ2V0Q29tcG9uZW50RnJvbUlkKGlkKTtcbiAgICAgICAgaWYoY29tcG9uZW50KSB7XG4gICAgICAgICAgcmV0dXJuIGNvbXBvbmVudC5lbGVtZW50O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRDb21wb25lbnRGcm9tSWQgKGlkOnN0cmluZ1tdKTogTGF5b3V0IHtcbiAgICAgIGlmKHRoaXMuc3RhdGUuaWQgJiYgXy5pc0VxdWFsKHRoaXMuc3RhdGUuaWQsIGlkKSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZvcih2YXIgaTpudW1iZXIgPSAwOyBpIDwgdGhpcy5jaGlsZE5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGNvbXBvbmVudDogTGF5b3V0ID0gKHRoaXMucmVmc1t0aGlzLmNoaWxkTmFtZXNbaV1dIGFzIExheW91dCkuZ2V0Q29tcG9uZW50RnJvbUlkKGlkKTtcbiAgICAgICAgICBpZihjb21wb25lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21wb25lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG5cblxuICAgIHByaXZhdGUgb25Nb3VzZURvd24gKGV2ZW50OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gICAgICB0aGlzLnJlc2l6ZXJOYW1lcy5mb3JFYWNoKChyZXNpemVyTmFtZTpzdHJpbmcpID0+IHtcbiAgICAgICAgICB2YXIgcmVzaXplcjpSZXNpemVyID0gdGhpcy5yZWZzW3Jlc2l6ZXJOYW1lXSBhcyBSZXNpemVyO1xuICAgICAgICAgIGlmKHJlc2l6ZXIgJiYgcmVzaXplci5zdGF0ZSAmJiByZXNpemVyLnN0YXRlLmFjdGl2ZSkge1xuICAgICAgICAgICAgdmFyIG92ZXJsYXlSYW5nZTpudW1iZXJbXSA9IHRoaXMuZ2V0UmVzaXplclJhbmdlKHJlc2l6ZXIpO1xuICAgICAgICAgICAgb3ZlcmxheVJhbmdlWzBdICs9IHRoaXMubWluU2l6ZTtcbiAgICAgICAgICAgIG92ZXJsYXlSYW5nZVsxXSAtPSB0aGlzLm1pblNpemU7XG4gICAgICAgICAgICAodGhpcy5yZWZzW1JFU0laRVJPVkVSTEFZXSBhcyBSZXNpemVyT3ZlcmxheSkuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBhY3RpdmU6IHRydWUsXG4gICAgICAgICAgICAgIHJhbmdlOiBvdmVybGF5UmFuZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBvbk1vdXNlTW92ZShldmVudDpNb3VzZUV2ZW50KTp2b2lkIHtcblxuICAgIH1cblxuICAgIGdldFJlc2l6ZXJSYW5nZShyZXNpemVyOlJlc2l6ZXIpOiBudW1iZXJbXSB7XG4gICAgICB2YXIgZGlyZWN0aW9uOnN0cmluZyA9IHJlc2l6ZXIucHJvcHMuZGlyZWN0aW9uO1xuICAgICAgdmFyIHBhbmUxOkxheW91dCA9IHRoaXMucmVmc1tyZXNpemVyLnByb3BzLnBhbmUxXSBhcyBMYXlvdXQ7XG4gICAgICB2YXIgcGFuZTI6TGF5b3V0ID0gdGhpcy5yZWZzW3Jlc2l6ZXIucHJvcHMucGFuZTJdIGFzIExheW91dDtcblxuICAgICAgdmFyIGVsZW1lbnQxOkhUTUxFbGVtZW50ID0gUmVhY3RET00uZmluZERPTU5vZGUocGFuZTEpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgdmFyIGVsZW1lbnQyOkhUTUxFbGVtZW50ID0gUmVhY3RET00uZmluZERPTU5vZGUocGFuZTIpIGFzIEhUTUxFbGVtZW50O1xuXG4gICAgICB2YXIgcmVjdDpDbGllbnRSZWN0ID0gdGhpcy5lbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgdmFyIHBhZ2VMZWZ0Om51bWJlciA9IHdpbmRvdy5wYWdlWE9mZnNldCArIHJlY3QubGVmdDtcbiAgICAgIHZhciBwYWdlVG9wOm51bWJlciA9IHdpbmRvdy5wYWdlWU9mZnNldCArIHJlY3QudG9wO1xuXG4gICAgICBpZihkaXJlY3Rpb24gPT09IEhPUklaT05UQUwpIHtcbiAgICAgICAgcmV0dXJuIFtlbGVtZW50MS5vZmZzZXRMZWZ0ICsgcGFnZUxlZnQsIGVsZW1lbnQyLm9mZnNldExlZnQgKyBlbGVtZW50Mi5jbGllbnRXaWR0aCArIHBhZ2VMZWZ0XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBbZWxlbWVudDEub2Zmc2V0VG9wICsgcGFnZVRvcCwgZWxlbWVudDIub2Zmc2V0VG9wICsgZWxlbWVudDIuY2xpZW50SGVpZ2h0ICsgcGFnZVRvcF07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk1vdXNlVXAgKGV2ZW50Ok1vdXNlRXZlbnQpIHtcbiAgICAgICAgdmFyIG5ld1N0YXRlOkxheW91dFN0YXRlID0gXy5jbG9uZURlZXAodGhpcy5zdGF0ZSk7XG5cbiAgICAgICAgdGhpcy5yZXNpemVyTmFtZXMuZm9yRWFjaChyZXNpemVyTmFtZSA9PiB7XG4gICAgICAgICAgICB2YXIgcmVzaXplcjpSZXNpemVyID0gdGhpcy5yZWZzW3Jlc2l6ZXJOYW1lXSBhcyBSZXNpemVyO1xuICAgICAgICAgICAgdmFyIHJlc2l6ZXJPdmVybGF5OlJlc2l6ZXJPdmVybGF5ID0gdGhpcy5yZWZzW1JFU0laRVJPVkVSTEFZXSBhcyBSZXNpemVyT3ZlcmxheTtcblxuICAgICAgICAgICAgaWYgKHJlc2l6ZXIgJiYgcmVzaXplci5zdGF0ZSAmJiByZXNpemVyLnN0YXRlLmFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIHZhciByYW5nZTpudW1iZXJbXSA9IHRoaXMuZ2V0UmVzaXplclJhbmdlKHJlc2l6ZXIpO1xuICAgICAgICAgICAgICAgIHZhciBiZWdpbjpudW1iZXIgPSByYW5nZVswXTtcbiAgICAgICAgICAgICAgICB2YXIgZW5kOm51bWJlciA9IHJhbmdlWzFdO1xuICAgICAgICAgICAgICAgIHZhciBtb3VzZVBvczpudW1iZXIgPSB0aGlzLnN0YXRlLmRpcmVjdGlvbiA9PT0gSE9SSVpPTlRBTCA/IGV2ZW50LnBhZ2VYIDogZXZlbnQucGFnZVk7XG4gICAgICAgICAgICAgICAgdmFyIHNpemU6bnVtYmVyID0gdGhpcy5zdGF0ZS5kaXJlY3Rpb24gPT09IEhPUklaT05UQUwgPyB0aGlzLmVsZW1lbnQuY2xpZW50V2lkdGggOiB0aGlzLmVsZW1lbnQuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgbW91c2VQb3MgPSBNYXRoLm1heChiZWdpbiArIHRoaXMubWluU2l6ZSwgTWF0aC5taW4obW91c2VQb3MsIGVuZCAtIHRoaXMubWluU2l6ZSkpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHJlZjE6c3RyaW5nID0gcmVzaXplci5wcm9wcy5wYW5lMTtcbiAgICAgICAgICAgICAgICB2YXIgcmVmMjpzdHJpbmcgPSByZXNpemVyLnByb3BzLnBhbmUyO1xuXG4gICAgICAgICAgICAgICAgdmFyIHBhbmUxOiBMYXlvdXQgPSB0aGlzLnJlZnNbcmVmMV0gYXMgTGF5b3V0O1xuICAgICAgICAgICAgICAgIHZhciBwYW5lMjogTGF5b3V0ID0gdGhpcy5yZWZzW3JlZjJdIGFzIExheW91dDtcblxuXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4MTpudW1iZXIgPSB0aGlzLmNoaWxkTmFtZXMuaW5kZXhPZihyZWYxKTtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXgyOm51bWJlciA9IHRoaXMuY2hpbGROYW1lcy5pbmRleE9mKHJlZjIpO1xuXG4gICAgICAgICAgICAgICAgdmFyIGZsZXgxOm51bWJlciA9IChtb3VzZVBvcyAtIGJlZ2luKSAvIHNpemU7XG4gICAgICAgICAgICAgICAgdmFyIGZsZXgyOiBudW1iZXIgPSAoZW5kIC0gbW91c2VQb3MpIC8gc2l6ZTtcblxuICAgICAgICAgICAgICAgIG5ld1N0YXRlLmNoaWxkcmVuW2luZGV4MV0uZmxleCA9IGZsZXgxO1xuICAgICAgICAgICAgICAgIG5ld1N0YXRlLmNoaWxkcmVuW2luZGV4Ml0uZmxleCA9IGZsZXgyO1xuXG4gICAgICAgICAgICAgICAgcGFuZTEuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgIGZsZXg6IGZsZXgxXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBwYW5lMi5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGZsZXg6IGZsZXgyXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXNpemVyLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiBmYWxzZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgcmVzaXplck92ZXJsYXkuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShuZXdTdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnBhbmVsRHJhZ2dpbmcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBoYW5kbGVTdGF0ZUNoYW5nZShjaGlsZFJlZjpzdHJpbmcsIG5ld1N0YXRlOkxheW91dFN0YXRlKTogdm9pZCB7XG4gICAgICAgIHZhciBzdGF0ZUNvcHk6TGF5b3V0U3RhdGUgPSBfLmNsb25lRGVlcCh0aGlzLnN0YXRlKTtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5jaGlsZE5hbWVzLmluZGV4T2YoY2hpbGRSZWYpO1xuXG4gICAgICAgIHN0YXRlQ29weS5jaGlsZHJlbltpbmRleF0gPSBuZXdTdGF0ZTtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZShzdGF0ZUNvcHkpO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdGhpcy5jaGlsZE5hbWVzID0gW107XG4gICAgICAgIHRoaXMucmVzaXplck5hbWVzID0gW107XG4gICAgICAgIHZhciBzdHlsZTphbnkgPSB7XG4gICAgICAgICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgICAgICAgIGZsZXg6IHRoaXMuc3RhdGUuZmxleCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICBvdXRsaW5lOiBcIm5vbmVcIixcbiAgICAgICAgICAgIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICAgICAgICAgICAgdXNlclNlbGVjdDogXCJub25lXCIsXG4gICAgICAgICAgICBmbGV4RGlyZWN0aW9uOiB0aGlzLnN0YXRlLmRpcmVjdGlvbiA9PT0gSE9SSVpPTlRBTCA/IFwicm93XCIgOiBcImNvbHVtblwiXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYodGhpcy5zdGF0ZS5kaXJlY3Rpb24gPT09IEhPUklaT05UQUwpIHtcbiAgICAgICAgICBzdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuc3RhdGUuY2hpbGRyZW4gJiYgdGhpcy5zdGF0ZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgIHZhciBuZXdDaGlsZHJlbjpKU1guRWxlbWVudFtdID0gbmV3IEFycmF5KHRoaXMuc3RhdGUuY2hpbGRyZW4ubGVuZ3RoICogMiAtIDEpO1xuXG4gICAgICAgICAgIHRoaXMuc3RhdGUuY2hpbGRyZW4uZm9yRWFjaCgoY2hpbGRTdGF0ZTpMYXlvdXRTdGF0ZSwgaTpudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHJlZjpzdHJpbmcgPSBcImNoaWxkXCIgKyBpO1xuICAgICAgICAgICAgICB0aGlzLmNoaWxkTmFtZXNbaV0gPSByZWY7XG4gICAgICAgICAgICAgIG5ld0NoaWxkcmVuW2kgKiAyXSA9IDxMYXlvdXQgb25TdGF0ZUNoYW5nZT17dGhpcy5oYW5kbGVTdGF0ZUNoYW5nZS5iaW5kKHRoaXMsIHJlZil9IHJlZj17cmVmfSBzdGF0ZT17Y2hpbGRTdGF0ZX0ga2V5PXtpICogMn0vPjtcbiAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgdmFyIGk6bnVtYmVyO1xuICAgICAgICAgICBmb3IoaSA9IDE7IGkgPCBuZXdDaGlsZHJlbi5sZW5ndGggLSAxOyBpICs9IDIpIHtcbiAgICAgICAgICAgICB2YXIgcmVzaXplck5hbWU6c3RyaW5nID0gXCJyZXNpemVyXCIgKyAoaSAvIDIpO1xuICAgICAgICAgICAgIHRoaXMucmVzaXplck5hbWVzLnB1c2gocmVzaXplck5hbWUpO1xuICAgICAgICAgICAgIHZhciByZXNpemVyOkpTWC5FbGVtZW50ID0gPFJlc2l6ZXIgcmVmPXtyZXNpemVyTmFtZX0ga2V5PXtpfSBkaXJlY3Rpb249e3RoaXMuc3RhdGUuZGlyZWN0aW9ufSBwYW5lMT17bmV3Q2hpbGRyZW5baSAtIDFdLnJlZiBhcyBzdHJpbmd9IHBhbmUyPXtuZXdDaGlsZHJlbltpICsgMV0ucmVmIGFzIHN0cmluZ30vPjtcbiAgICAgICAgICAgICBuZXdDaGlsZHJlbltpXSA9IHJlc2l6ZXI7XG4gICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcmVmaXhlZDphbnkgPSBWZW5kb3JQcmVmaXgucHJlZml4KHtzdHlsZXM6IHN0eWxlfSk7XG5cbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgcmVmPXsoZWx0OkVsZW1lbnQpID0+IHsgdGhpcy5lbGVtZW50ID0gZWx0OyB9fSBzdHlsZT17cHJlZml4ZWQuc3R5bGVzfT5cbiAgICAgICAgICAgICAgICB7bmV3Q2hpbGRyZW59XG4gICAgICAgICAgICAgICAgPFJlc2l6ZXJPdmVybGF5IHJlZj17UkVTSVpFUk9WRVJMQVl9IGtleT17UkVTSVpFUk9WRVJMQVl9IGRpcmVjdGlvbj17dGhpcy5zdGF0ZS5kaXJlY3Rpb259Lz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QtZG9tLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC12ZW5kb3ItcHJlZml4L3JlYWN0LXZlbmRvci1wcmVmaXguZC50c1wiLz5cblxuaW1wb3J0ICogYXMgVmVuZG9yUHJlZml4IGZyb20gXCJyZWFjdC12ZW5kb3ItcHJlZml4XCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCBTdGFuZGFyZExpYiBmcm9tIFwiLi4vdXRpbHMvU3RhbmRhcmRMaWJcIjtcblxuY29uc3QgSE9SSVpPTlRBTDogc3RyaW5nID0gXCJob3Jpem9udGFsXCI7XG5cbnZhciByZXNpemVyU3R5bGU6IGFueSA9IHt9O1xuXG5yZXNpemVyU3R5bGUuYmFzaWMgPSB7XG5cdGJhY2tncm91bmQ6IFwiIzAwMFwiLFxuICAgIG9wYWNpdHk6IC4xLFxuICAgIHpJbmRleDogMSxcbiAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgIGJhY2tncm91bmRDbGlwOiBcInBhZGRpbmdcIlxufTtcblxucmVzaXplclN0eWxlLnZlcnRpY2FsID0ge1xuICAgIGhlaWdodDogXCI0cHhcIixcbiAgICBjdXJzb3I6IFwicm93LXJlc2l6ZVwiLFxuICAgIHdpZHRoOiBcIjEwMCVcIlxufTtcblxucmVzaXplclN0eWxlLmhvcml6b250YWwgPSB7XG4gICAgd2lkdGg6IFwiNHB4XCIsXG4gICAgY3Vyc29yOiBcImNvbC1yZXNpemVcIixcbiAgICBoZWlnaHQ6IFwiMTAwJVwiXG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIElSZXNpemVyUHJvcHMgZXh0ZW5kcyBSZWFjdC5Qcm9wczxSZXNpemVyPiB7XG5cdHJlZjogc3RyaW5nO1xuXHRrZXk6IG51bWJlcjtcblx0ZGlyZWN0aW9uOiBzdHJpbmc7XG5cdHBhbmUxOiBzdHJpbmc7XG5cdHBhbmUyOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJlc2l6ZXJTdGF0ZSB7XG5cdGFjdGl2ZT86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc2l6ZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SVJlc2l6ZXJQcm9wcywgSVJlc2l6ZXJTdGF0ZT4ge1xuXG5cdFx0cHJpdmF0ZSBlbGVtZW50OkVsZW1lbnQ7XG5cblx0XHRwcml2YXRlIGJvdW5kTW91c2VEb3duOmFueTtcblxuXHRcdGNvbnN0cnVjdG9yKHByb3BzOklSZXNpemVyUHJvcHMpIHtcblx0XHRcdHN1cGVyKHByb3BzKTtcblx0XHRcdHRoaXMuc3RhdGUgPSB7XG5cdFx0XHRcdGFjdGl2ZTogZmFsc2Vcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29tcG9uZW50RGlkTW91bnQgKCkge1xuXHRcdFx0dGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5ib3VuZE1vdXNlRG93biA9IHRoaXMub25Nb3VzZURvd24uYmluZCh0aGlzKSk7XG5cdFx0fVxuXG5cdFx0Y29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuXHRcdFx0dGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5ib3VuZE1vdXNlRG93bik7XG5cdFx0fVxuXG5cdFx0b25Nb3VzZURvd24gKCkge1xuXHRcdFx0dGhpcy5zZXRTdGF0ZSh7XG5cdFx0XHRcdGFjdGl2ZTp0cnVlXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZW5kZXIoKSB7XG5cdFx0XHR2YXIgZGlyZWN0aW9uOnN0cmluZyA9IHRoaXMucHJvcHMuZGlyZWN0aW9uO1xuXHRcdFx0dmFyIHN0eWxlOmFueSA9IHJlc2l6ZXJTdHlsZS5iYXNpYztcblxuXHRcdFx0U3RhbmRhcmRMaWIubWVyZ2Uoc3R5bGUsIHJlc2l6ZXJTdHlsZVtkaXJlY3Rpb25dKTtcblxuXHRcdFx0dmFyIHByZWZpeGVkID0gVmVuZG9yUHJlZml4LnByZWZpeCh7c3R5bGVzOiBzdHlsZX0pO1xuXHRcdFx0cmV0dXJuIDxzcGFuIHJlZj17KGVsdDpFbGVtZW50KSA9PiB7IHRoaXMuZWxlbWVudCA9IGVsdCB9fSBzdHlsZT17cHJlZml4ZWQuc3R5bGVzfS8+O1xuXHRcdH1cbn1cbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIiAvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QtdmVuZG9yLXByZWZpeC9yZWFjdC12ZW5kb3ItcHJlZml4LmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC1kb20uZC50c1wiLz5cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XG5pbXBvcnQgKiBhcyBWZW5kb3JQcmVmaXggZnJvbSBcInJlYWN0LXZlbmRvci1wcmVmaXhcIjtcbmltcG9ydCBTdGFuZGFyZExpYiBmcm9tIFwiLi4vdXRpbHMvU3RhbmRhcmRMaWJcIjtcbmNvbnN0IEhPUklaT05UQUw6IHN0cmluZyA9IFwiaG9yaXpvbnRhbFwiO1xuXG5jb25zdCBtb3VzZWV2ZW50czpzdHJpbmdbXSA9IFtcIm1vdXNlb3ZlclwiLCBcIm1vdXNlb3V0XCIsIFwibW91c2VsZWF2ZVwiXTtcblxudmFyIHJlc2l6ZXJTdHlsZTphbnkgPSB7fTtcblxucmVzaXplclN0eWxlLmJhc2ljID0ge1xuICAgIGJhY2tncm91bmQ6IFwiIzAwMFwiLFxuICAgIG9wYWNpdHk6IC4zLFxuICAgIHpJbmRleDogMSxcbiAgICBib3hTaXppbmc6IFwiYm9yZGVyLWJveFwiLFxuICAgIGJhY2tncm91bmRDbGlwOiBcInBhZGRpbmdcIixcbiAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiXG59O1xuXG5yZXNpemVyU3R5bGUudmVydGljYWwgPSB7XG4gICAgaGVpZ2h0OiBcIjRweFwiLFxuICAgIGN1cnNvcjogXCJyb3ctcmVzaXplXCIsXG4gICAgd2lkdGg6IFwiMTAwJVwiXG59O1xuXG5yZXNpemVyU3R5bGUuaG9yaXpvbnRhbCA9IHtcbiAgICB3aWR0aDogXCI0cHhcIixcbiAgICBjdXJzb3I6IFwiY29sLXJlc2l6ZVwiLFxuICAgIGhlaWdodDogXCIxMDAlXCJcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJlc2l6ZXJPdmVybGF5UHJvcHMgZXh0ZW5kcyBSZWFjdC5Qcm9wczxSZXNpemVyT3ZlcmxheT4ge1xuICAgIHJlZjogc3RyaW5nO1xuICAgIGRpcmVjdGlvbjogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSVJlc2l6ZXJPdmVybGF5U3RhdGUge1xuICAgIGFjdGl2ZT86IGJvb2xlYW47XG4gICAgcmFuZ2U/OiBudW1iZXJbXTtcbiAgICB4PzogbnVtYmVyO1xuICAgIHk/OiBudW1iZXI7XG59O1xuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlc2l6ZXJPdmVybGF5IGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElSZXNpemVyT3ZlcmxheVByb3BzLCBJUmVzaXplck92ZXJsYXlTdGF0ZT4ge1xuXG4gICAgcHJpdmF0ZSBlbGVtZW50OiBFbGVtZW50O1xuICAgIHB1YmxpYyBzdGF0ZTogSVJlc2l6ZXJPdmVybGF5U3RhdGU7XG5cbiAgICBwcml2YXRlIF9vbk1vdXNlTW92ZTogRXZlbnRMaXN0ZW5lcjtcbiAgICBwcml2YXRlIF9zdG9wRXZlbnRQcm9wYWdhdGlvbjogRXZlbnRMaXN0ZW5lcjtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOiBJUmVzaXplck92ZXJsYXlQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcylcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICBhY3RpdmU6IGZhbHNlLFxuICAgICAgICAgIHJhbmdlOiBbXSxcbiAgICAgICAgICB4OiBOYU4sXG4gICAgICAgICAgeTogTmFOXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5fb25Nb3VzZU1vdmUgPSB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcyksIHRydWUpO1xuICAgICAgICBtb3VzZWV2ZW50cy5mb3JFYWNoKChtb3VzZWV2ZW50OiBzdHJpbmcpID0+IGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIobW91c2VldmVudCwgdGhpcy5fc3RvcEV2ZW50UHJvcGFnYXRpb24gPSB0aGlzLnN0b3BFdmVudFByb3BhZ2F0aW9uLmJpbmQodGhpcyksIHRydWUpKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl9vbk1vdXNlTW92ZSlcbiAgICAgICAgbW91c2VldmVudHMuZm9yRWFjaCgobW91c2VldmVudCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihtb3VzZWV2ZW50LCB0aGlzLl9zdG9wRXZlbnRQcm9wYWdhdGlvbikpO1xuICAgIH1cblxuICAgIHN0b3BFdmVudFByb3BhZ2F0aW9uKGV2ZW50OiBFdmVudCkge1xuICAgICAgICBpZih0aGlzLnN0YXRlLmFjdGl2ZSkge1xuICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk1vdXNlTW92ZShldmVudDogTW91c2VFdmVudCkge1xuICAgICAgICBpZih0aGlzLnN0YXRlLmFjdGl2ZSkge1xuICAgICAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB2YXIgY29udGFpbmVyOkVsZW1lbnQgPSB0aGlzLmVsZW1lbnQucGFyZW50Tm9kZSBhcyBFbGVtZW50O1xuICAgICAgICAgICAgdmFyIHJlY3Q6Q2xpZW50UmVjdCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHZhciBsZWZ0OiBudW1iZXIgPSB3aW5kb3cucGFnZVhPZmZzZXQgKyByZWN0LmxlZnQ7XG4gICAgICAgICAgICB2YXIgdG9wOiBudW1iZXIgPSB3aW5kb3cucGFnZVlPZmZzZXQgKyByZWN0LnRvcDtcbiAgICAgICAgICAgIHZhciBtb3VzZVBvczogbnVtYmVyID0gdGhpcy5wcm9wcy5kaXJlY3Rpb24gPT09IEhPUklaT05UQUwgPyBldmVudC5wYWdlWCA6IGV2ZW50LnBhZ2VZO1xuXG4gICAgICAgICAgICBtb3VzZVBvcyA9IE1hdGgubWF4KHRoaXMuc3RhdGUucmFuZ2VbMF0sIE1hdGgubWluKG1vdXNlUG9zLCB0aGlzLnN0YXRlLnJhbmdlWzFdKSk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnByb3BzLmRpcmVjdGlvbiA9PT0gSE9SSVpPTlRBTCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICB4OiBtb3VzZVBvcyAtIGxlZnQsXG4gICAgICAgICAgICAgICAgICAgIHk6IE5hTlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgeDogTmFOLFxuICAgICAgICAgICAgICAgICAgICB5OiBtb3VzZVBvcyAtIHRvcFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB2YXIgZGlyZWN0aW9uOiBzdHJpbmcgPSB0aGlzLnByb3BzLmRpcmVjdGlvbjtcbiAgICAgICAgdmFyIHN0eWxlOmFueSA9IHt9O1xuXG4gICAgICAgIFN0YW5kYXJkTGliLm1lcmdlKHN0eWxlLCByZXNpemVyU3R5bGUuYmFzaWMpO1xuICAgICAgICBTdGFuZGFyZExpYi5tZXJnZShzdHlsZSwgcmVzaXplclN0eWxlW2RpcmVjdGlvbl0pO1xuXG4gICAgICAgIGlmKHRoaXMuc3RhdGUuYWN0aXZlKSB7XG4gICAgICAgICAgICBzdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG4gICAgICAgICAgICBzdHlsZS5sZWZ0ID0gdGhpcy5zdGF0ZS54O1xuICAgICAgICAgICAgc3R5bGUudG9wID0gdGhpcy5zdGF0ZS55O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcHJlZml4ZWQgPSBWZW5kb3JQcmVmaXgucHJlZml4KHsgc3R5bGVzOiBzdHlsZSB9KTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPHNwYW4gcmVmPXsoZWx0OkVsZW1lbnQpID0+IHsgdGhpcy5lbGVtZW50ID0gZWx0OyB9fSBzdHlsZT17cHJlZml4ZWQuc3R5bGVzfS8+XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhCb3ggZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8YW55LCBhbnk+IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOmFueSwgc3RhdGU6YW55KSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBzdHlsZTphbnkgPSB0aGlzLnByb3BzLnN0eWxlIHx8IHt9O1xuICAgICAgICB2YXIgb3RoZXJQcm9wczphbnkgPSB7fTtcbiAgICAgICAgZm9yKHZhciBrZXkgaW4gdGhpcy5wcm9wcykge1xuICAgICAgICAgICAgaWYoa2V5ICE9PSBcInN0eWxlXCIpIHtcbiAgICAgICAgICAgICAgICBvdGhlclByb3BzW2tleV0gPSB0aGlzLnByb3BzW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdHlsZSA9IHN0eWxlIHx8IHt9O1xuICAgICAgICBzdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICAgIHN0eWxlLmZsZXhEaXJlY3Rpb24gPSBcInJvd1wiO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXtzdHlsZX0gey4uLm90aGVyUHJvcHN9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgfVxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZCb3ggZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8YW55LCBhbnk+IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOmFueSwgc3RhdGU6YW55KSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHZhciBzdHlsZTphbnkgPSB0aGlzLnByb3BzLnN0eWxlIHx8IHt9O1xuICAgICAgICB2YXIgb3RoZXJQcm9wczphbnkgPSB7fTtcbiAgICAgICAgZm9yKHZhciBrZXkgaW4gdGhpcy5wcm9wcykge1xuICAgICAgICAgICAgaWYoa2V5ICE9PSBcInN0eWxlXCIpIHtcbiAgICAgICAgICAgICAgICBvdGhlclByb3BzW2tleV0gPSB0aGlzLnByb3BzW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBzdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gICAgICAgIHN0eWxlLmZsZXhEaXJlY3Rpb24gPSBcImNvbHVtblwiO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXtzdHlsZX0gey4uLm90aGVyUHJvcHN9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgfVxufVxuIiwiaW1wb3J0IEhCb3ggZnJvbSBcIi4vSEJveFwiO1xuaW1wb3J0IFZCb3ggZnJvbSBcIi4vVkJveFwiO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gICAgSEJveCxcbiAgICBWQm94XG59XG4iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LWRvbS5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvZDMvZDMuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2MzL2MzLmQudHNcIi8+XG5cbmltcG9ydCB7SVZpc1Rvb2wsIElWaXNUb29sUHJvcHMsIElWaXNUb29sU3RhdGV9IGZyb20gXCIuL0lWaXNUb29sXCI7XG5pbXBvcnQge0NoYXJ0QVBJLCBDaGFydENvbmZpZ3VyYXRpb259IGZyb20gXCJjM1wiO1xuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIElUb29sUGF0aHMge1xuICAgIFtuYW1lOnN0cmluZ10gOiBXZWF2ZVBhdGhcbn1cblxuXG5pbnRlcmZhY2UgUGF0aENvbmZpZyB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHBhdGg6IFdlYXZlUGF0aDtcbiAgICBjYWxsYmFja3M/OiBGdW5jdGlvbnxGdW5jdGlvbltdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBYnN0cmFjdEMzVG9vbCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJVmlzVG9vbFByb3BzLCBJVmlzVG9vbFN0YXRlPiBpbXBsZW1lbnRzIElWaXNUb29sIHtcblxuICAgIHByb3RlY3RlZCB0b29sUGF0aDpXZWF2ZVBhdGg7XG4gICAgcHJvdGVjdGVkIGVsZW1lbnQ6SFRNTEVsZW1lbnQ7XG4gICAgcHJvdGVjdGVkIHBhdGhzOklUb29sUGF0aHM7XG4gICAgcHJvdGVjdGVkIGNoYXJ0OkNoYXJ0QVBJO1xuICAgIHByb3RlY3RlZCBjM0NvbmZpZzpDaGFydENvbmZpZ3VyYXRpb247XG5cbiAgICBwcml2YXRlIHByZXZpb3VzV2lkdGg6bnVtYmVyO1xuICAgIHByaXZhdGUgcHJldmlvdXNIZWlnaHQ6bnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6SVZpc1Rvb2xQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMudG9vbFBhdGggPSBwcm9wcy50b29sUGF0aDtcbiAgICAgICAgdGhpcy5wYXRocyA9IHt9O1xuICAgIH1cblxuICAgIGdldCB0aXRsZSgpOnN0cmluZyB7XG4gICAgICAgcmV0dXJuICh0aGlzLnRvb2xQYXRoLmdldFR5cGUoJ3BhbmVsVGl0bGUnKSA/IHRoaXMudG9vbFBhdGguZ2V0U3RhdGUoJ3BhbmVsVGl0bGUnKSA6ICcnKSB8fCB0aGlzLnRvb2xQYXRoLmdldFBhdGgoKS5wb3AoKTtcbiAgICB9XG5cblxuICAgIGNvbXBvbmVudERpZFVwZGF0ZSgpOnZvaWQge1xuICAgICAgICBpZih0aGlzLmMzQ29uZmlnLnNpemUud2lkdGggIT0gdGhpcy5wcm9wcy5zdHlsZS53aWR0aCB8fCB0aGlzLmMzQ29uZmlnLnNpemUuaGVpZ2h0ICE9IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0KSB7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLnNpemUgPSB7d2lkdGg6IHRoaXMucHJvcHMuc3R5bGUud2lkdGgsIGhlaWdodDogdGhpcy5wcm9wcy5zdHlsZS5oZWlnaHR9O1xuICAgICAgICAgICAgdGhpcy5jaGFydC5yZXNpemUoe3dpZHRoOnRoaXMucHJvcHMuc3R5bGUud2lkdGgsIGhlaWdodDp0aGlzLnByb3BzLnN0eWxlLmhlaWdodH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gdGhpcyBmdW5jdGlvbiBhY2NlcHRzIGFuIGFycnkgb2YgcGF0aCBjb25maWd1cmF0aW9uc1xuICAgIC8vIGEgcGF0aCBjb25maWcgaXMgYW4gb2JqZWN0IHdpdGggYSBwYXRoIG9iamVjdCBuYW1lLCB0aGUgd2VhdmUgcGF0aCBhbmQgYW5cbiAgICAvLyBvcHRpb25hbCBjYWxsYmFjayBvciBhcnJheSBvZiBjYWxsYmFja3NcbiAgICBpbml0aWFsaXplUGF0aHMocHJvcGVydGllczpQYXRoQ29uZmlnW10pOnZvaWQge1xuICAgICAgICBwcm9wZXJ0aWVzLmZvckVhY2goKHBhdGhDb25mOlBhdGhDb25maWcpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGF0aHNbcGF0aENvbmYubmFtZV0gPSBwYXRoQ29uZi5wYXRoO1xuICAgICAgICAgICAgaWYocGF0aENvbmYuY2FsbGJhY2tzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrczpGdW5jdGlvbltdID0gQXJyYXkuaXNBcnJheShwYXRoQ29uZi5jYWxsYmFja3MpID8gcGF0aENvbmYuY2FsbGJhY2tzIGFzIEZ1bmN0aW9uW10gOiBbcGF0aENvbmYuY2FsbGJhY2tzIGFzIEZ1bmN0aW9uXTtcbiAgICAgICAgICAgICAgICBjYWxsYmFja3MuZm9yRWFjaCgoY2FsbGJhY2s6RnVuY3Rpb24pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXRoc1twYXRoQ29uZi5uYW1lXS5hZGRDYWxsYmFjayh0aGlzLCBjYWxsYmFjaywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBoYW5kbGVNaXNzaW5nU2Vzc2lvblN0YXRlUHJvcGVydGllcyhuZXdTdGF0ZTphbnkpXG4gICAge1xuXG4gICAgfVxuXG4gICAgY3VzdG9tU3R5bGUoYXJyYXk6QXJyYXk8bnVtYmVyPiwgdHlwZTpzdHJpbmcsIGZpbHRlcjpzdHJpbmcsIHN0eWxlOmFueSkge1xuICAgICAgICBhcnJheS5mb3JFYWNoKCAoaW5kZXgpID0+IHtcbiAgICAgICAgXHR2YXIgZmlsdGVyZWQgPSBkMy5zZWxlY3QodGhpcy5lbGVtZW50KS5zZWxlY3RBbGwodHlwZSkuZmlsdGVyKGZpbHRlcik7XG4gICAgICAgIFx0aWYgKGZpbHRlcmVkLmxlbmd0aClcbiAgICAgICAgXHRcdGQzLnNlbGVjdChmaWx0ZXJlZFswXVtpbmRleF0pLnN0eWxlKHN0eWxlKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY3VzdG9tU2VsZWN0b3JTdHlsZShhcnJheTpBcnJheTxudW1iZXI+LCBzZWxlY3Rvciwgc3R5bGU6YW55KSB7XG4gICAgICAgIGFycmF5LmZvckVhY2goIChpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKHNlbGVjdG9yLmxlbmd0aClcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3Qoc2VsZWN0b3JbMF1baW5kZXhdKS5zdHlsZShzdHlsZSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHJlbmRlcigpOkpTWC5FbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIDxkaXYgcmVmPXsoYzpIVE1MRWxlbWVudCkgPT4ge3RoaXMuZWxlbWVudCA9IGM7fX0gc3R5bGU9e3t3aWR0aDogXCIxMDAlXCIsIGhlaWdodDogXCIxMDAlXCIsIG1heEhlaWdodDogXCIxMDAlXCJ9fS8+O1xuICAgIH1cbn1cbiIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9vcGVubGF5ZXJzL29wZW5sYXllcnMuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvanF1ZXJ5L2pxdWVyeS5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC1kb20uZC50c1wiLz5cblxuaW1wb3J0ICogYXMgb2wgZnJvbSBcIm9wZW5sYXllcnNcIjtcbmltcG9ydCAqIGFzIGxvZGFzaCBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCBqcXVlcnkgZnJvbSBcImpxdWVyeVwiO1xuXG5pbXBvcnQge0lWaXNUb29sLCBJVmlzVG9vbFByb3BzLCBJVmlzVG9vbFN0YXRlfSBmcm9tIFwiLi9JVmlzVG9vbFwiO1xuaW1wb3J0IHtyZWdpc3RlclRvb2xJbXBsZW1lbnRhdGlvbn0gZnJvbSBcIi4uL1dlYXZlVG9vbFwiO1xuLyogZXNsaW50LWRpc2FibGUgKi9cbmltcG9ydCBMYXllciBmcm9tIFwiLi9PcGVuTGF5ZXJzTWFwL0xheWVycy9MYXllclwiO1xuaW1wb3J0IEZlYXR1cmVMYXllciBmcm9tIFwiLi9PcGVuTGF5ZXJzTWFwL0xheWVycy9GZWF0dXJlTGF5ZXJcIjtcbmltcG9ydCBHZW9tZXRyeUxheWVyIGZyb20gXCIuL09wZW5MYXllcnNNYXAvTGF5ZXJzL0dlb21ldHJ5TGF5ZXJcIjtcbmltcG9ydCBUaWxlTGF5ZXIgZnJvbSBcIi4vT3BlbkxheWVyc01hcC9MYXllcnMvVGlsZUxheWVyXCI7XG5pbXBvcnQgSW1hZ2VHbHlwaExheWVyIGZyb20gXCIuL09wZW5MYXllcnNNYXAvTGF5ZXJzL0ltYWdlR2x5cGhMYXllclwiO1xuaW1wb3J0IFNjYXR0ZXJQbG90TGF5ZXIgZnJvbSBcIi4vT3BlbkxheWVyc01hcC9MYXllcnMvU2NhdHRlclBsb3RMYXllclwiO1xuaW1wb3J0IExhYmVsTGF5ZXIgZnJvbSBcIi4vT3BlbkxheWVyc01hcC9MYXllcnMvTGFiZWxMYXllclwiO1xuLyogZXNsaW50LWVuYWJsZSAqL1xuXG5pbXBvcnQgUGFuQ2x1c3RlciBmcm9tIFwiLi9PcGVuTGF5ZXJzTWFwL1BhbkNsdXN0ZXJcIjtcbmltcG9ydCBJbnRlcmFjdGlvbk1vZGVDbHVzdGVyIGZyb20gXCIuL09wZW5MYXllcnNNYXAvSW50ZXJhY3Rpb25Nb2RlQ2x1c3RlclwiO1xuaW1wb3J0IFByb2JlSW50ZXJhY3Rpb24gZnJvbSBcIi4vT3BlbkxheWVyc01hcC9Qcm9iZUludGVyYWN0aW9uXCI7XG5pbXBvcnQgRHJhZ1NlbGVjdGlvbiBmcm9tIFwiLi9PcGVuTGF5ZXJzTWFwL0RyYWdTZWxlY3Rpb25cIjtcbi8qIGdsb2JhbCBXZWF2ZSwgd2VhdmVqcyAqL1xuXG5kZWNsYXJlIHZhciBXZWF2ZTphbnk7XG5kZWNsYXJlIHZhciB3ZWF2ZWpzOmFueTtcblxuY2xhc3MgV2VhdmVPcGVuTGF5ZXJzTWFwIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElWaXNUb29sUHJvcHMsIElWaXNUb29sU3RhdGU+IHtcblxuXHRsYXllcnM6TWFwPHN0cmluZyxMYXllcj47XG5cdGludGVyYWN0aW9uTW9kZVBhdGg6V2VhdmVQYXRoO1xuXHRtYXA6b2wuTWFwO1xuXHR6b29tQnV0dG9uczpvbC5jb250cm9sLlpvb207XG5cdHNsaWRlcjpvbC5jb250cm9sLlpvb21TbGlkZXI7XG5cdHBhbjpQYW5DbHVzdGVyO1xuXHRtb3VzZU1vZGVCdXR0b25zOkludGVyYWN0aW9uTW9kZUNsdXN0ZXI7XG5cdHBsb3RNYW5hZ2VyOldlYXZlUGF0aDtcblx0cGxvdHRlcnNQYXRoOldlYXZlUGF0aDtcblx0bGF5ZXJTZXR0aW5nc1BhdGg6V2VhdmVQYXRoO1xuXHR6b29tQm91bmRzUGF0aDpXZWF2ZVBhdGg7XG5cblx0Y2VudGVyQ2FsbGJhY2tIYW5kbGU6YW55O1xuXHRyZXNvbHV0aW9uQ2FsbGJhY2tIYW5kbGU6YW55O1xuXHRwcml2YXRlIGVsZW1lbnQ6RWxlbWVudDtcblx0cHJpdmF0ZSB0b29sUGF0aDpXZWF2ZVBhdGg7XG5cblx0Y29uc3RydWN0b3IocHJvcHMpXG5cdHtcblx0XHRzdXBlcihwcm9wcyk7XG5cdFx0R2VvbWV0cnlMYXllcjsgVGlsZUxheWVyOyBJbWFnZUdseXBoTGF5ZXI7IFNjYXR0ZXJQbG90TGF5ZXI7IExhYmVsTGF5ZXI7LyogRm9yY2VzIHRoZSBpbmNsdXNpb24gb2YgdGhlIGxheWVycy4gKi9cblx0XHR0aGlzLmxheWVycyA9IG5ldyBNYXA8c3RyaW5nLExheWVyPigpO1xuXHRcdHRoaXMudG9vbFBhdGggPSBwcm9wcy50b29sUGF0aDtcblx0fVxuXG5cdGhhbmRsZU1pc3NpbmdTZXNzaW9uU3RhdGVQcm9wZXJ0aWVzKG5ld1N0YXRlKVxuXHR7XG5cblx0fVxuXG5cdGNvbXBvbmVudERpZE1vdW50KClcblx0e1xuXHRcdHRoaXMubWFwID0gbmV3IG9sLk1hcCh7XG5cdFx0XHRpbnRlcmFjdGlvbnM6IG9sLmludGVyYWN0aW9uLmRlZmF1bHRzKHsgZHJhZ1BhbjogZmFsc2UgfSksXG5cdFx0XHRjb250cm9sczogW10sXG5cdFx0XHR0YXJnZXQ6IHRoaXMuZWxlbWVudFxuXHRcdH0pO1xuXG5cdFx0LyogU2V0dXAgY3VzdG9tIGludGVyYWN0aW9ucyAqL1xuXG5cdFx0dGhpcy5pbnRlcmFjdGlvbk1vZGVQYXRoID0gdGhpcy50b29sUGF0aC53ZWF2ZS5wYXRoKFwiV2VhdmVQcm9wZXJ0aWVzXCIsIFwidG9vbEludGVyYWN0aW9uc1wiLCBcImRlZmF1bHREcmFnTW9kZVwiKTtcblxuXHRcdGxldCBkcmFnUGFuOiBvbC5pbnRlcmFjdGlvbi5EcmFnUGFuID0gbmV3IG9sLmludGVyYWN0aW9uLkRyYWdQYW4oKTtcblx0XHRsZXQgZHJhZ1NlbGVjdDogRHJhZ1NlbGVjdGlvbiA9IG5ldyBEcmFnU2VsZWN0aW9uKCk7XG5cdFx0bGV0IHByb2JlSW50ZXJhY3Rpb246IFByb2JlSW50ZXJhY3Rpb24gPSBuZXcgUHJvYmVJbnRlcmFjdGlvbih0aGlzKTtcblx0XHRsZXQgZHJhZ1pvb206IG9sLmludGVyYWN0aW9uLkRyYWdab29tID0gbmV3IG9sLmludGVyYWN0aW9uLkRyYWdab29tKHsgY29uZGl0aW9uOiBvbC5ldmVudHMuY29uZGl0aW9uLmFsd2F5cyB9KTtcblxuXHRcdHRoaXMubWFwLmFkZEludGVyYWN0aW9uKGRyYWdQYW4pO1xuXHRcdHRoaXMubWFwLmFkZEludGVyYWN0aW9uKGRyYWdTZWxlY3QpO1xuXHRcdHRoaXMubWFwLmFkZEludGVyYWN0aW9uKHByb2JlSW50ZXJhY3Rpb24pO1xuXHRcdHRoaXMubWFwLmFkZEludGVyYWN0aW9uKGRyYWdab29tKTtcblxuXHRcdHRoaXMuaW50ZXJhY3Rpb25Nb2RlUGF0aC5hZGRDYWxsYmFjayh0aGlzLCAoKSA9PiB7XG5cdFx0XHRsZXQgaW50ZXJhY3Rpb25Nb2RlID0gdGhpcy5pbnRlcmFjdGlvbk1vZGVQYXRoLmdldFN0YXRlKCk7XG5cdFx0XHRkcmFnUGFuLnNldEFjdGl2ZShpbnRlcmFjdGlvbk1vZGUgPT09IFwicGFuXCIpO1xuXHRcdFx0ZHJhZ1NlbGVjdC5zZXRBY3RpdmUoaW50ZXJhY3Rpb25Nb2RlID09PSBcInNlbGVjdFwiKTtcblx0XHRcdGRyYWdab29tLnNldEFjdGl2ZShpbnRlcmFjdGlvbk1vZGUgPT09IFwiem9vbVwiKTtcblx0XHR9KTtcblxuXHRcdC8qIFNldHVwIGN1c3RvbSBjb250cm9scyAqL1xuXG5cdFx0dGhpcy56b29tQnV0dG9ucyA9IG5ldyBvbC5jb250cm9sLlpvb20oKTtcblx0XHR0aGlzLnNsaWRlciA9IG5ldyBvbC5jb250cm9sLlpvb21TbGlkZXIoKTtcblx0XHR0aGlzLnBhbiA9IG5ldyBQYW5DbHVzdGVyKCk7XG5cblx0XHR0aGlzLnRvb2xQYXRoLnB1c2goXCJzaG93Wm9vbUNvbnRyb2xzXCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMub25ab29tQ29udHJvbFRvZ2dsZSwgdHJ1ZSk7XG5cdFx0dGhpcy50b29sUGF0aC5wdXNoKFwic2hvd01vdXNlTW9kZUNvbnRyb2xzXCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMub25Nb3VzZU1vZGVDb250cm9sVG9nZ2xlLCB0cnVlKTtcblxuXHRcdHRoaXMubW91c2VNb2RlQnV0dG9ucyA9IG5ldyBJbnRlcmFjdGlvbk1vZGVDbHVzdGVyKHtpbnRlcmFjdGlvbk1vZGVQYXRoOiB0aGlzLmludGVyYWN0aW9uTW9kZVBhdGh9KTtcblxuXHRcdHRoaXMucGxvdE1hbmFnZXIgPSB0aGlzLnRvb2xQYXRoLnB1c2goXCJjaGlsZHJlblwiLCBcInZpc3VhbGl6YXRpb25cIiwgXCJwbG90TWFuYWdlclwiKTtcblxuXHRcdC8qIFRvZG8gcmVwbGFjZSBvdmVycmlkZVtYLFldW01pbixNYXhdIHdpdGggYSBzaW5nbGUgb3ZlcnJpZGVab29tQm91bmRzIGVsZW1lbnQ7IGFsdGVybmF0aXZlbHksXG5cdFx0ICogbWFrZSBhIHNldCBvZiBwYXJhbWV0ZXJzIG9uIHpvb21ib3VuZHMgaXRzZWxmLiAqL1xuXG5cdFx0Zm9yIChsZXQgZXh0cmVtZSBvZiBbXCJNaW5cIiwgXCJNYXhcIl0pXG5cdFx0XHRmb3IgKGxldCBheGlzIG9mIFtcIlhcIiwgXCJZXCJdKVxuXHRcdFx0XHR0aGlzLnBsb3RNYW5hZ2VyLnB1c2goXCJvdmVycmlkZVwiICsgYXhpcyArIGV4dHJlbWUpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMub25WaWV3UGFyYW1ldGVyc0NoYW5nZWQpO1xuXG5cdFx0dGhpcy50b29sUGF0aC5wdXNoKFwicHJvamVjdGlvblNSU1wiKS5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLm9uVmlld1BhcmFtZXRlcnNDaGFuZ2VkLCB0cnVlKTtcblxuXG5cdFx0dGhpcy5wbG90dGVyc1BhdGggPSB0aGlzLnBsb3RNYW5hZ2VyLnB1c2goXCJwbG90dGVyc1wiKTtcblx0XHR0aGlzLmxheWVyU2V0dGluZ3NQYXRoID0gdGhpcy5wbG90TWFuYWdlci5wdXNoKFwibGF5ZXJTZXR0aW5nc1wiKTtcblx0XHR0aGlzLnpvb21Cb3VuZHNQYXRoID0gdGhpcy5wbG90TWFuYWdlci5wdXNoKFwiem9vbUJvdW5kc1wiKTtcblxuXHRcdHRoaXMucGxvdE1hbmFnZXIuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5yZXF1ZXN0RGV0YWlsLCB0cnVlKTtcblx0XHR0aGlzLnBsb3R0ZXJzUGF0aC5nZXRPYmplY3QoKS5jaGlsZExpc3RDYWxsYmFja3MuYWRkSW1tZWRpYXRlQ2FsbGJhY2sodGhpcywgdGhpcy5wbG90dGVyc0NoYW5nZWQsIHRydWUpO1xuXHRcdHRoaXMuem9vbUJvdW5kc1BhdGguYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5nZXRTZXNzaW9uQ2VudGVyLCB0cnVlKTtcblx0fVxuXG5cdG9uVmlld1BhcmFtZXRlcnNDaGFuZ2VkKClcblx0e1xuXHRcdGxldCBleHRlbnQgPSBbXTtcblxuXHRcdGZvciAobGV0IGV4dHJlbWUgb2YgW1wiTWluXCIsIFwiTWF4XCJdKVxuXHRcdFx0Zm9yIChsZXQgYXhpcyBvZiBbXCJYXCIsIFwiWVwiXSlcblx0XHRcdFx0ZXh0ZW50LnB1c2godGhpcy5wbG90TWFuYWdlci5wdXNoKFwib3ZlcnJpZGVcIiArIGF4aXMgKyBleHRyZW1lKS5nZXRTdGF0ZSgpKTtcblxuXHRcdGlmICghbG9kYXNoLmV2ZXJ5KGV4dGVudCwgTnVtYmVyLmlzRmluaXRlKSlcblx0XHR7XG5cdFx0XHRleHRlbnQgPSB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0bGV0IHByb2plY3Rpb24gPSB0aGlzLnRvb2xQYXRoLnB1c2goXCJwcm9qZWN0aW9uU1JTXCIpLmdldFN0YXRlKCkgfHwgXCJFUFNHOjM4NTdcIjtcblx0XHRsZXQgdmlldyA9IG5ldyBvbC5WaWV3KHtwcm9qZWN0aW9uLCBleHRlbnR9KTtcblx0XHR2aWV3LnNldChcImV4dGVudFwiLCBleHRlbnQpO1xuXG5cdFx0dGhpcy5jZW50ZXJDYWxsYmFja0hhbmRsZSA9IHZpZXcub24oXCJjaGFuZ2U6Y2VudGVyXCIsIHRoaXMuc2V0U2Vzc2lvbkNlbnRlciwgdGhpcyk7XG5cdFx0dGhpcy5yZXNvbHV0aW9uQ2FsbGJhY2tIYW5kbGUgPSB2aWV3Lm9uKFwiY2hhbmdlOnJlc29sdXRpb25cIiwgdGhpcy5zZXRTZXNzaW9uWm9vbSwgdGhpcyk7XG5cdFx0dGhpcy5tYXAuc2V0Vmlldyh2aWV3KTtcblxuXHRcdHRoaXMuZ2V0U2Vzc2lvbkNlbnRlcigpO1xuXHR9XG5cblx0Y29tcG9uZW50RGlkVXBkYXRlKClcblx0e1xuXHRcdHRoaXMubWFwLnVwZGF0ZVNpemUoKTtcblx0XHR2YXIgdmlld3BvcnQgPSB0aGlzLm1hcC5nZXRWaWV3cG9ydCgpO1xuXHRcdHZhciBzY3JlZW5Cb3VuZHMgPSBuZXcgd2VhdmVqcy5nZW9tLkJvdW5kczJEKDAsIDAsIHZpZXdwb3J0LmNsaWVudFdpZHRoLCB2aWV3cG9ydC5jbGllbnRIZWlnaHQpO1xuXHRcdHRoaXMuem9vbUJvdW5kc1BhdGguZ2V0T2JqZWN0KCkuc2V0U2NyZWVuQm91bmRzKHNjcmVlbkJvdW5kcywgdHJ1ZSk7XG5cdH1cblxuXHR1cGRhdGVDb250cm9sUG9zaXRpb25zKClcblx0e1xuXHRcdGlmICh0aGlzLnRvb2xQYXRoLnB1c2goXCJzaG93Wm9vbUNvbnRyb2xzXCIpLmdldFN0YXRlKCkpXG5cdFx0e1xuXHRcdFx0anF1ZXJ5KHRoaXMuZWxlbWVudCkuZmluZChcIi5vbC1jb250cm9sLnBhbkNsdXN0ZXJcIikuY3NzKHt0b3A6IFwiMC41ZW1cIiwgbGVmdDogXCIwLjVlbVwifSk7XG5cdFx0XHRqcXVlcnkodGhpcy5lbGVtZW50KS5maW5kKFwiLm9sLWNvbnRyb2wub2wtem9vbVwiKS5jc3Moe3RvcDogXCI1LjVlbVwiLCBsZWZ0OiBcIjIuMDc1ZW1cIn0pO1xuXHRcdFx0anF1ZXJ5KHRoaXMuZWxlbWVudCkuZmluZChcIi5vbC1jb250cm9sLm9sLXpvb21zbGlkZXJcIikuY3NzKHt0b3A6IFwiOS4yNWVtXCIsIGxlZnQ6IFwiMi4wNzVlbVwifSk7XG5cdFx0XHRqcXVlcnkodGhpcy5lbGVtZW50KS5maW5kKFwiLm9sLWNvbnRyb2wuaU1vZGVDbHVzdGVyXCIpLmNzcyh7dG9wOiBcIjIwLjc1ZW1cIiwgbGVmdDogXCIwLjZlbVwifSk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHRqcXVlcnkodGhpcy5lbGVtZW50KS5maW5kKFwiLm9sLWNvbnRyb2xcIik7XG5cdFx0fVxuXHR9XG5cblxuXHRvbk1vdXNlTW9kZUNvbnRyb2xUb2dnbGUoKVxuXHR7XG5cdFx0bGV0IHNob3dNb3VzZU1vZGVDb250cm9scyA9IHRoaXMudG9vbFBhdGgucHVzaChcInNob3dNb3VzZU1vZGVDb250cm9sc1wiKS5nZXRTdGF0ZSgpO1xuXHRcdGlmIChzaG93TW91c2VNb2RlQ29udHJvbHMpXG5cdFx0e1xuXHRcdFx0dGhpcy5tYXAuYWRkQ29udHJvbCh0aGlzLm1vdXNlTW9kZUJ1dHRvbnMpO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0dGhpcy5tYXAucmVtb3ZlQ29udHJvbCh0aGlzLm1vdXNlTW9kZUJ1dHRvbnMpO1xuXHRcdH1cblx0XHR0aGlzLnVwZGF0ZUNvbnRyb2xQb3NpdGlvbnMoKTtcblx0fVxuXG5cblx0b25ab29tQ29udHJvbFRvZ2dsZSgpXG5cdHtcblx0XHRsZXQgc2hvd1pvb21Db250cm9scyA9IHRoaXMudG9vbFBhdGgucHVzaChcInNob3dab29tQ29udHJvbHNcIikuZ2V0U3RhdGUoKTtcblx0XHRpZiAoc2hvd1pvb21Db250cm9scylcblx0XHR7XG5cdFx0XHR0aGlzLm1hcC5hZGRDb250cm9sKHRoaXMuc2xpZGVyKTtcblx0XHRcdHRoaXMubWFwLmFkZENvbnRyb2wodGhpcy5wYW4pO1xuXHRcdFx0dGhpcy5tYXAuYWRkQ29udHJvbCh0aGlzLnpvb21CdXR0b25zKTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdHRoaXMubWFwLnJlbW92ZUNvbnRyb2wodGhpcy5zbGlkZXIpO1xuXHRcdFx0dGhpcy5tYXAucmVtb3ZlQ29udHJvbCh0aGlzLnBhbik7XG5cdFx0XHR0aGlzLm1hcC5yZW1vdmVDb250cm9sKHRoaXMuem9vbUJ1dHRvbnMpO1xuXHRcdH1cblx0XHR0aGlzLnVwZGF0ZUNvbnRyb2xQb3NpdGlvbnMoKTtcblx0fVxuXG5cdHNldFNlc3Npb25DZW50ZXIoKVxuXHR7XG5cdFx0dmFyIFt4Q2VudGVyLCB5Q2VudGVyXSA9IHRoaXMubWFwLmdldFZpZXcoKS5nZXRDZW50ZXIoKTtcblxuXHRcdHZhciB6b29tQm91bmRzID0gdGhpcy56b29tQm91bmRzUGF0aC5nZXRPYmplY3QoKTtcblxuXHRcdHZhciBkYXRhQm91bmRzID0gbmV3IHdlYXZlanMuZ2VvbS5Cb3VuZHMyRCgpO1xuXHRcdHpvb21Cb3VuZHMuZ2V0RGF0YUJvdW5kcyhkYXRhQm91bmRzKTtcblx0XHRkYXRhQm91bmRzLnNldFhDZW50ZXIoeENlbnRlcik7XG5cdFx0ZGF0YUJvdW5kcy5zZXRZQ2VudGVyKHlDZW50ZXIpO1xuXHRcdHpvb21Cb3VuZHMuc2V0RGF0YUJvdW5kcyhkYXRhQm91bmRzKTtcblx0fVxuXG5cdHNldFNlc3Npb25ab29tKClcblx0e1xuXHRcdHZhciByZXNvbHV0aW9uID0gdGhpcy5tYXAuZ2V0VmlldygpLmdldFJlc29sdXRpb24oKTtcblxuXHRcdHZhciB6b29tQm91bmRzID0gdGhpcy56b29tQm91bmRzUGF0aC5nZXRPYmplY3QoKTtcblxuXHRcdHZhciBkYXRhQm91bmRzID0gbmV3IHdlYXZlanMuZ2VvbS5Cb3VuZHMyRCgpO1xuXHRcdHZhciBzY3JlZW5Cb3VuZHMgPSBuZXcgd2VhdmVqcy5nZW9tLkJvdW5kczJEKCk7XG5cdFx0em9vbUJvdW5kcy5nZXREYXRhQm91bmRzKGRhdGFCb3VuZHMpO1xuXHRcdHpvb21Cb3VuZHMuZ2V0U2NyZWVuQm91bmRzKHNjcmVlbkJvdW5kcyk7XG5cdFx0ZGF0YUJvdW5kcy5zZXRXaWR0aChzY3JlZW5Cb3VuZHMuZ2V0V2lkdGgoKSAqIHJlc29sdXRpb24pO1xuXHRcdGRhdGFCb3VuZHMuc2V0SGVpZ2h0KHNjcmVlbkJvdW5kcy5nZXRIZWlnaHQoKSAqIHJlc29sdXRpb24pO1xuXHRcdGRhdGFCb3VuZHMubWFrZVNpemVQb3NpdGl2ZSgpO1xuXHRcdHpvb21Cb3VuZHMuc2V0RGF0YUJvdW5kcyhkYXRhQm91bmRzKTtcblx0fVxuXG5cdGdldFNlc3Npb25DZW50ZXIoKVxuXHR7XG5cdFx0dmFyIHpvb21Cb3VuZHMgPSB0aGlzLnpvb21Cb3VuZHNQYXRoLmdldE9iamVjdCgpO1xuXHRcdHZhciBkYXRhQm91bmRzID0gbmV3IHdlYXZlanMuZ2VvbS5Cb3VuZHMyRCgpO1xuXHRcdHpvb21Cb3VuZHMuZ2V0RGF0YUJvdW5kcyhkYXRhQm91bmRzKTtcblx0XHR2YXIgY2VudGVyID0gW2RhdGFCb3VuZHMuZ2V0WENlbnRlcigpLCBkYXRhQm91bmRzLmdldFlDZW50ZXIoKV07XG5cdFx0dmFyIHNjYWxlID0gem9vbUJvdW5kcy5nZXRYU2NhbGUoKTtcblx0XHRcblx0XHR0aGlzLm1hcC5nZXRWaWV3KCkudW4oXCJjaGFuZ2U6Y2VudGVyXCIsIHRoaXMuc2V0U2Vzc2lvbkNlbnRlciwgdGhpcyk7XG5cdFx0dGhpcy5tYXAuZ2V0VmlldygpLnVuKFwiY2hhbmdlOnJlc29sdXRpb25cIiwgdGhpcy5zZXRTZXNzaW9uWm9vbSwgdGhpcyk7XG5cblx0XHR0aGlzLm1hcC5nZXRWaWV3KCkuc2V0Q2VudGVyKGNlbnRlcik7XG5cdFx0dGhpcy5tYXAuZ2V0VmlldygpLnNldFJlc29sdXRpb24oMSAvIHNjYWxlKTtcblxuXHRcdGxvZGFzaC5kZWZlcigoKSA9PiB7XG5cdFx0XHR0aGlzLm1hcC5nZXRWaWV3KCkub24oXCJjaGFuZ2U6Y2VudGVyXCIsIHRoaXMuc2V0U2Vzc2lvbkNlbnRlciwgdGhpcyk7XG5cdFx0XHR0aGlzLm1hcC5nZXRWaWV3KCkub24oXCJjaGFuZ2U6cmVzb2x1dGlvblwiLCB0aGlzLnNldFNlc3Npb25ab29tLCB0aGlzKTtcblx0XHR9KTtcblx0fVxuXHRcblx0cmVxdWVzdERldGFpbCgpXG5cdHtcblx0XHR2YXIgem9vbUJvdW5kcyA9IHRoaXMuem9vbUJvdW5kc1BhdGguZ2V0T2JqZWN0KCk7XG5cdFx0Zm9yICh2YXIgc2djIG9mIFdlYXZlLmdldERlc2NlbmRhbnRzKHRoaXMudG9vbFBhdGguZ2V0T2JqZWN0KCksIHdlYXZlanMuZGF0YS5jb2x1bW4uU3RyZWFtZWRHZW9tZXRyeUNvbHVtbikpXG5cdFx0e1xuXHRcdFx0Ly9UT0RPIC0gdGhpcyBkb2Vzbid0IGhhbmRsZSBhIGRhdGFCb3VuZHMgb2YgZGlmZmVyZW50IHByb2plY3Rpb24gdGhhbiB0aGUgc3RyZWFtZWQgZ2VvbWV0cmllcyBhcmUgaW5cblx0XHRcdHNnYy5yZXF1ZXN0R2VvbWV0cnlEZXRhaWxGb3Jab29tQm91bmRzKHpvb21Cb3VuZHMpO1xuXHRcdH1cblx0fVxuXG5cdHBsb3R0ZXJzQ2hhbmdlZCgpXG5cdHtcblx0XHR2YXIgb2xkTmFtZXMgPSBBcnJheS5mcm9tKHRoaXMubGF5ZXJzLmtleXMoKSk7XG5cdFx0dmFyIG5ld05hbWVzID0gdGhpcy5wbG90dGVyc1BhdGguZ2V0TmFtZXMoKTtcblxuXHRcdHZhciByZW1vdmVkTmFtZXMgPSBsb2Rhc2guZGlmZmVyZW5jZShvbGROYW1lcywgbmV3TmFtZXMpO1xuXHRcdHZhciBhZGRlZE5hbWVzID0gbG9kYXNoLmRpZmZlcmVuY2UobmV3TmFtZXMsIG9sZE5hbWVzKTtcblxuXHRcdHJlbW92ZWROYW1lcy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG5cdFx0XHRpZiAodGhpcy5sYXllcnMuZ2V0KG5hbWUpKSB7XG5cdFx0XHRcdHRoaXMubGF5ZXJzLmdldChuYW1lKS5kaXNwb3NlKCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmxheWVycy5kZWxldGUobmFtZSk7XG5cdFx0fSwgdGhpcyk7XG5cblx0XHRhZGRlZE5hbWVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcblx0XHRcdGxldCBsYXllcjpMYXllciA9IExheWVyLm5ld0xheWVyKHRoaXMsIG5hbWUpO1xuXHRcdFx0dGhpcy5sYXllcnMuc2V0KG5hbWUsIGxheWVyKTtcblx0XHR9LCB0aGlzKTtcblx0XHQvKiAqL1xuXHRcdGZvciAobGV0IGlkeCBpbiBuZXdOYW1lcylcblx0XHR7XG5cdFx0XHRsZXQgbGF5ZXI6TGF5ZXIgPSB0aGlzLmxheWVycy5nZXQobmV3TmFtZXNbaWR4XSk7XG5cblx0XHRcdGlmICghbGF5ZXIgfHwgIWxheWVyLm9sTGF5ZXIpIHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGxheWVyLm9sTGF5ZXIuc2V0WkluZGV4KGlkeCArIDIpO1xuXHRcdH1cblx0fVxuXG5cdGRlc3Ryb3koKVxuXHR7XG5cblx0fVxuXG5cdHJlbmRlcigpOkpTWC5FbGVtZW50IHtcbiAgICAgICAgcmV0dXJuIDxkaXYgcmVmPXsoYzpIVE1MRWxlbWVudCkgPT4ge3RoaXMuZWxlbWVudCA9IGM7fX0gc3R5bGU9e3t3aWR0aDogXCIxMDAlXCIsIGhlaWdodDogXCIxMDAlXCJ9fS8+O1xuICAgIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgV2VhdmVPcGVuTGF5ZXJzTWFwO1xuXG5yZWdpc3RlclRvb2xJbXBsZW1lbnRhdGlvbihcIndlYXZlLnZpc3VhbGl6YXRpb24udG9vbHM6Ok1hcFRvb2xcIiwgV2VhdmVPcGVuTGF5ZXJzTWFwKTtcbiIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vdHlwaW5ncy9vcGVubGF5ZXJzL29wZW5sYXllcnMuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL3R5cGluZ3MvanF1ZXJ5L2pxdWVyeS5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cblxuaW1wb3J0ICogYXMgb2wgZnJvbSBcIm9wZW5sYXllcnNcIjtcbmltcG9ydCAqIGFzIGxvZGFzaCBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgRmVhdHVyZUxheWVyIGZyb20gXCIuL0xheWVycy9GZWF0dXJlTGF5ZXJcIjtcbmltcG9ydCBPcGVuTGF5ZXJzTWFwVG9vbCBmcm9tIFwiLi4vT3BlbkxheWVyc01hcFRvb2xcIjtcbmltcG9ydCBMYXllciBmcm9tIFwiLi9MYXllcnMvTGF5ZXJcIjtcbmltcG9ydCBQcm9iZUludGVyYWN0aW9uIGZyb20gXCIuL1Byb2JlSW50ZXJhY3Rpb25cIjtcblxuZGVjbGFyZSB2YXIgV2VhdmU6IGFueTtcbmRlY2xhcmUgdmFyIHdlYXZlanM6IGFueTtcblxuZW51bSBEcmFnU2VsZWN0aW9uTW9kZSB7XG5cdFNVQlRSQUNUID0gLTEsXG5cdFNFVCA9IDAsXG5cdEFERCA9IDFcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYWdTZWxlY3Rpb24gZXh0ZW5kcyBvbC5pbnRlcmFjdGlvbi5EcmFnQm94XG57XG5cdHByaXZhdGUgbWFwVG9vbDogT3BlbkxheWVyc01hcFRvb2w7XG5cdHByaXZhdGUgbW9kZTogRHJhZ1NlbGVjdGlvbk1vZGU7XG5cdHByaXZhdGUgX3Byb2JlSW50ZXJhY3Rpb246IFByb2JlSW50ZXJhY3Rpb247XG5cblx0Y29uc3RydWN0b3IoKVxuXHR7XG5cdFx0c3VwZXIoeyBib3hFbmRDb25kaXRpb246ICgpID0+IHRydWUgfSk7XG5cblx0XHR0aGlzLm9uKCdib3hzdGFydCcsIERyYWdTZWxlY3Rpb24ucHJvdG90eXBlLm9uQm94U3RhcnQsIHRoaXMpO1xuXHRcdHRoaXMub24oJ2JveGRyYWcnLCBEcmFnU2VsZWN0aW9uLnByb3RvdHlwZS5vbkJveERyYWcsIHRoaXMpO1xuXHRcdHRoaXMub24oJ2JveGVuZCcsIERyYWdTZWxlY3Rpb24ucHJvdG90eXBlLm9uQm94RW5kLCB0aGlzKTtcblx0fVxuXG5cdHByaXZhdGUgZ2V0IHByb2JlSW50ZXJhY3Rpb24oKTpQcm9iZUludGVyYWN0aW9uXG5cdHtcblx0XHRpZiAoIXRoaXMuX3Byb2JlSW50ZXJhY3Rpb24pIHtcblx0XHRcdGZvciAobGV0IGludGVyYWN0aW9uIG9mIHRoaXMuZ2V0TWFwKCkuZ2V0SW50ZXJhY3Rpb25zKCkuZ2V0QXJyYXkoKSkge1xuXHRcdFx0XHRpZiAoaW50ZXJhY3Rpb24gaW5zdGFuY2VvZiBQcm9iZUludGVyYWN0aW9uKSB7XG5cdFx0XHRcdFx0dGhpcy5fcHJvYmVJbnRlcmFjdGlvbiA9IGludGVyYWN0aW9uO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMuX3Byb2JlSW50ZXJhY3Rpb247XG5cdH1cblxuXHRvbkJveFN0YXJ0KGV2ZW50OiBhbnkpIHtcblx0XHRpZiAodGhpcy5wcm9iZUludGVyYWN0aW9uKVxuXHRcdFx0dGhpcy5wcm9iZUludGVyYWN0aW9uLnNldEFjdGl2ZShmYWxzZSk7XG5cblx0XHRsZXQgZHJhZ0JveEV2ZW50OiBvbC5EcmFnQm94RXZlbnQgPSA8b2wuRHJhZ0JveEV2ZW50PmV2ZW50O1xuXG5cdFx0bGV0IGJyb3dzZXJFdmVudDogTW91c2VFdmVudCA9IDxNb3VzZUV2ZW50PmRyYWdCb3hFdmVudC5tYXBCcm93c2VyRXZlbnQub3JpZ2luYWxFdmVudDtcblxuXHRcdGlmIChicm93c2VyRXZlbnQuY3RybEtleSAmJiBicm93c2VyRXZlbnQuc2hpZnRLZXkpXG5cdFx0e1xuXHRcdFx0dGhpcy5tb2RlID0gRHJhZ1NlbGVjdGlvbk1vZGUuU1VCVFJBQ1Q7XG5cdFx0fVxuXHRcdGVsc2UgaWYgKGJyb3dzZXJFdmVudC5jdHJsS2V5KVxuXHRcdHtcblx0XHRcdHRoaXMubW9kZSA9IERyYWdTZWxlY3Rpb25Nb2RlLkFERDtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdHRoaXMubW9kZSA9IERyYWdTZWxlY3Rpb25Nb2RlLlNFVDtcblx0XHR9XG5cdH1cblxuXHR1cGRhdGVTZWxlY3Rpb24oZXh0ZW50KVxuXHR7XG5cdFx0bGV0IHNlbGVjdGVkRmVhdHVyZXM6IFNldDxzdHJpbmc+ID0gbmV3IFNldCgpO1xuXHRcdGxldCBzZWxlY3RGZWF0dXJlOiBGdW5jdGlvbiA9IChmZWF0dXJlKSA9PiB7IHNlbGVjdGVkRmVhdHVyZXMuYWRkKGZlYXR1cmUuZ2V0SWQoKSk7IH07XG5cdFx0bGV0IG1hcFRvb2w6IE9wZW5MYXllcnNNYXBUb29sID0gdGhpcy5tYXBUb29sO1xuXG5cdFx0Zm9yIChsZXQgb2xMYXllciBvZiB0aGlzLmdldE1hcCgpLmdldExheWVycygpLmdldEFycmF5KCkpIHtcblx0XHRcdGxldCBzZWxlY3RhYmxlOiBib29sZWFuID0gPGJvb2xlYW4+b2xMYXllci5nZXQoXCJzZWxlY3RhYmxlXCIpO1xuXHRcdFx0bGV0IHdlYXZlTGF5ZXI6IExheWVyID0gb2xMYXllci5nZXQoXCJsYXllck9iamVjdFwiKTtcblxuXHRcdFx0aWYgKHdlYXZlTGF5ZXIgaW5zdGFuY2VvZiBGZWF0dXJlTGF5ZXIgJiYgc2VsZWN0YWJsZSkge1xuXHRcdFx0XHRsZXQga2V5U2V0ID0gd2VhdmVMYXllci5zZWxlY3Rpb25LZXlTZXQ7XG5cdFx0XHRcdGxldCBzb3VyY2U6IG9sLnNvdXJjZS5WZWN0b3IgPSA8b2wuc291cmNlLlZlY3Rvcj4oPG9sLmxheWVyLlZlY3Rvcj5vbExheWVyKS5nZXRTb3VyY2UoKTtcblxuXHRcdFx0XHRzb3VyY2UuZm9yRWFjaEZlYXR1cmVJbnRlcnNlY3RpbmdFeHRlbnQoZXh0ZW50LCBzZWxlY3RGZWF0dXJlKTtcblxuXHRcdFx0XHRsZXQga2V5cyA9IEFycmF5LmZyb20oc2VsZWN0ZWRGZWF0dXJlcyk7XG5cblx0XHRcdFx0c3dpdGNoICh0aGlzLm1vZGUpIHtcblx0XHRcdFx0XHRjYXNlIERyYWdTZWxlY3Rpb25Nb2RlLlNFVDpcblx0XHRcdFx0XHRcdGtleVNldC5zZXRLZXlzKGtleXMpO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0Y2FzZSBEcmFnU2VsZWN0aW9uTW9kZS5BREQ6XG5cdFx0XHRcdFx0XHRrZXlTZXQuYWRkS2V5cyhrZXlzKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdGNhc2UgRHJhZ1NlbGVjdGlvbk1vZGUuU1VCVFJBQ1Q6XG5cdFx0XHRcdFx0XHRrZXlTZXQucmVtb3ZlS2V5cyhrZXlzKTtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0b25Cb3hEcmFnKGV2ZW50OmFueSlcblx0e1xuXHRcdGxldCBleHRlbnQgPSB0aGlzLmdldEdlb21ldHJ5KCkuZ2V0RXh0ZW50KCk7XG5cblx0XHR0aGlzLnVwZGF0ZVNlbGVjdGlvbihleHRlbnQpO1xuXHR9XG5cblx0b25Cb3hFbmQoZXZlbnQ6YW55KVxuXHR7XG5cdFx0bGV0IGV4dGVudCA9IHRoaXMuZ2V0R2VvbWV0cnkoKS5nZXRFeHRlbnQoKTtcblxuXHRcdHRoaXMudXBkYXRlU2VsZWN0aW9uKGV4dGVudCk7XG5cdFx0aWYgKHRoaXMucHJvYmVJbnRlcmFjdGlvbilcblx0XHRcdHRoaXMucHJvYmVJbnRlcmFjdGlvbi5zZXRBY3RpdmUodHJ1ZSk7XG5cdH1cbn0iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL3R5cGluZ3Mvb3BlbmxheWVycy9vcGVubGF5ZXJzLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi90eXBpbmdzL2pxdWVyeS9qcXVlcnkuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL3R5cGluZ3Mvd2VhdmUvV2VhdmVQYXRoLmQudHNcIi8+XG5cbmltcG9ydCAqIGFzIG9sIGZyb20gXCJvcGVubGF5ZXJzXCI7XG5pbXBvcnQganF1ZXJ5IGZyb20gXCJqcXVlcnlcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50ZXJhY3Rpb25Nb2RlQ2x1c3RlciBleHRlbmRzIG9sLmNvbnRyb2wuQ29udHJvbCB7XG5cdGNvbnN0cnVjdG9yKG9wdE9wdGlvbnMpIHtcblx0XHR2YXIgaW50ZXJhY3Rpb25Nb2RlUGF0aCA9IG9wdE9wdGlvbnMuaW50ZXJhY3Rpb25Nb2RlUGF0aDtcblx0XHR2YXIgb3B0aW9ucyA9IG9wdE9wdGlvbnMgfHwge307XG5cdFx0dmFyIGJ1dHRvblRhYmxlID0ganF1ZXJ5KGBcblx0XHRcdDx0YWJsZSBjbGFzcz1cIm9sLXVuc2VsZWN0YWJsZSBvbC1jb250cm9sIGlNb2RlQ2x1c3RlclwiPlxuXHRcdFx0XHQ8dHIgc3R5bGU9XCJmb250LXNpemU6IDgwJVwiPlxuXHRcdFx0XHRcdDx0ZD48YnV0dG9uIGNsYXNzPVwiaU1vZGVDbHVzdGVyIHBhbiBmYSBmYS1oYW5kLWdyYWItb1wiPjwvYnV0dG9uPjwvdGQ+XG5cdFx0XHRcdFx0PHRkPjxidXR0b24gY2xhc3M9XCJpTW9kZUNsdXN0ZXIgc2VsZWN0IGZhIGZhLW1vdXNlLXBvaW50ZXJcIj48L2J1dHRvbj48L3RkPlxuXHRcdFx0XHRcdDx0ZD48YnV0dG9uIGNsYXNzPVwiaU1vZGVDbHVzdGVyIHpvb20gZmEgZmEtc2VhcmNoLXBsdXNcIj48L2J1dHRvbj48L3RkPlxuXHRcdFx0XHQ8L3RyPlxuXHRcdFx0PC90YWJsZT5cblx0XHRgKTtcblxuXHRcdGJ1dHRvblRhYmxlLmZpbmQoXCJidXR0b24uaU1vZGVDbHVzdGVyLnBhblwiKS5jbGljaygoKSA9PiBpbnRlcmFjdGlvbk1vZGVQYXRoLnN0YXRlKFwicGFuXCIpKTtcblx0XHRidXR0b25UYWJsZS5maW5kKFwiYnV0dG9uLmlNb2RlQ2x1c3Rlci5zZWxlY3RcIikuY2xpY2soKCkgPT4gaW50ZXJhY3Rpb25Nb2RlUGF0aC5zdGF0ZShcInNlbGVjdFwiKSk7XG5cdFx0YnV0dG9uVGFibGUuZmluZChcImJ1dHRvbi5pTW9kZUNsdXN0ZXIuem9vbVwiKS5jbGljaygoKSA9PiBpbnRlcmFjdGlvbk1vZGVQYXRoLnN0YXRlKFwiem9vbVwiKSk7XG5cblx0XHRzdXBlcih7IGVsZW1lbnQ6IGJ1dHRvblRhYmxlWzBdLCB0YXJnZXQ6IG9wdGlvbnMudGFyZ2V0IH0pO1xuXG5cdFx0aW50ZXJhY3Rpb25Nb2RlUGF0aC5hZGRDYWxsYmFjayh0aGlzLCAoKSA9PiB7XG5cdFx0XHRidXR0b25UYWJsZS5maW5kKFwiYnV0dG9uLmlNb2RlQ2x1c3RlclwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHRcdGJ1dHRvblRhYmxlLmZpbmQoXCJidXR0b24uaU1vZGVDbHVzdGVyLlwiICsgaW50ZXJhY3Rpb25Nb2RlUGF0aC5nZXRTdGF0ZSgpKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcblx0XHR9LCB0cnVlKTtcblx0fVxufSIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy9vcGVubGF5ZXJzL29wZW5sYXllcnMuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL3R5cGluZ3Mvd2VhdmUvV2VhdmVQYXRoLmQudHNcIi8+XG5cbmltcG9ydCAqIGFzIG9sIGZyb20gXCJvcGVubGF5ZXJzXCI7XG5pbXBvcnQgKiBhcyBsb2Rhc2ggZnJvbSBcImxvZGFzaFwiO1xuXG5pbXBvcnQgTGF5ZXIgZnJvbSBcIi4vTGF5ZXJcIjtcbmltcG9ydCBTdGFuZGFyZExpYiBmcm9tIFwiLi4vLi4vLi4vdXRpbHMvU3RhbmRhcmRMaWJcIjtcblxuZGVjbGFyZSB2YXIgd2VhdmU7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBGZWF0dXJlTGF5ZXIgZXh0ZW5kcyBMYXllciB7XG5cdC8qIEEgRmVhdHVyZUxheWVyIGFzc3VtZXMgdGhhdCBlYWNoIGZlYXR1cmUgd2lsbCBoYXZlIG11bHRpcGxlIGN1c3RvbSBzdHlsZSBwcm9wZXJ0aWVzIG9uIGVhY2ggZmVhdHVyZSwgd2hpY2ggYXJlIG1hbmFnZWQgYmFzZWQgb24gc2VsZWN0aW9uLiAqL1xuXHRwcml2YXRlIHVwZGF0ZU1ldGFTdHlsZTpGdW5jdGlvbjtcblx0cHJpdmF0ZSBkZWJvdW5jZWRfdXBkYXRlTWV0YVN0eWxlczpGdW5jdGlvbjtcblxuXHRwcml2YXRlIGNoYW5nZWRJdGVtczpTZXQ8c3RyaW5nPjtcblx0cHJpdmF0ZSBwcm9iZWRTZXQ6U2V0PHN0cmluZz47XG5cdHByaXZhdGUgc2VsZWN0ZWRTZXQ6U2V0PHN0cmluZz47XG5cdHByaXZhdGUgZmlsdGVyZWRTZXQ6U2V0PHN0cmluZz47XG5cblx0cHVibGljIHNlbGVjdGlvbktleVNldDpXZWF2ZVBhdGg7XG5cdHB1YmxpYyBwcm9iZUtleVNldDpXZWF2ZVBhdGg7XG5cdHB1YmxpYyBmaWx0ZXJlZEtleVNldDpXZWF2ZVBhdGg7XG5cdHByaXZhdGUgdGVtcFNlbGVjdGFibGU6Ym9vbGVhbjtcblxuXHRzb3VyY2U6b2wuc291cmNlLlZlY3RvcjtcblxuXHRjb25zdHJ1Y3RvcihwYXJlbnQsIGxheWVyTmFtZSlcblx0e1xuXHRcdHN1cGVyKHBhcmVudCwgbGF5ZXJOYW1lKTtcblx0XHRcblx0XHR0aGlzLnVwZGF0ZU1ldGFTdHlsZSA9IHRoaXMudXBkYXRlTWV0YVN0eWxlX3VuYm91bmQuYmluZCh0aGlzKTtcblx0XHR0aGlzLmRlYm91bmNlZF91cGRhdGVNZXRhU3R5bGVzID0gbG9kYXNoLmRlYm91bmNlKHRoaXMudXBkYXRlTWV0YVN0eWxlcy5iaW5kKHRoaXMpLCAwKTtcblxuXHRcdHRoaXMub2xMYXllciA9IG5ldyBvbC5sYXllci5WZWN0b3IoKTtcblx0XHR0aGlzLnNvdXJjZSA9IG5ldyBvbC5zb3VyY2UuVmVjdG9yKHt3cmFwWDogZmFsc2V9KTtcblxuXHRcdC8qIEV2ZXJ5IGZlYXR1cmUgdGhhdCBpcyBhZGRlZCBzaG91bGQgcmVnaXN0ZXIgYSBoYW5kbGVyIHRvIGF1dG9tYXRpY2FsbHkgcmVjb21wdXRlIHRoZSBtZXRhc3R5bGVzIHdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UuICovXG5cdFx0dGhpcy5zb3VyY2Uub24oXCJhZGRmZWF0dXJlXCIsIHRoaXMub25GZWF0dXJlQWRkLCB0aGlzKTtcblxuXHRcdHRoaXMuY2hhbmdlZEl0ZW1zID0gbmV3IFNldCgpO1xuXHRcdHRoaXMucHJvYmVkU2V0ID0gbmV3IFNldCgpO1xuXHRcdHRoaXMuc2VsZWN0ZWRTZXQgPSBuZXcgU2V0KCk7XG5cdFx0dGhpcy5maWx0ZXJlZFNldCA9IG5ldyBTZXQoKTtcblxuXHRcdHRoaXMuc2VsZWN0aW9uS2V5U2V0ID0gdGhpcy5sYXllclBhdGguc2VsZWN0aW9uX2tleXNldDtcblx0XHR0aGlzLnByb2JlS2V5U2V0ID0gdGhpcy5sYXllclBhdGgucHJvYmVfa2V5c2V0O1xuXHRcdHRoaXMuZmlsdGVyZWRLZXlTZXQgPSB0aGlzLmxheWVyUGF0aC5wdXNoKFwiZmlsdGVyZWRLZXlTZXRcIik7XG5cblx0XHRsZXQgc2VsZWN0aW9uS2V5SGFuZGxlciA9IHRoaXMudXBkYXRlU2V0RnJvbUtleVNldC5iaW5kKHRoaXMsIHRoaXMuc2VsZWN0aW9uS2V5U2V0LCB0aGlzLnNlbGVjdGVkU2V0KTtcblx0XHRsZXQgcHJvYmVLZXlIYW5kbGVyID0gdGhpcy51cGRhdGVTZXRGcm9tS2V5U2V0LmJpbmQodGhpcywgdGhpcy5wcm9iZUtleVNldCwgdGhpcy5wcm9iZWRTZXQpO1xuXG5cdFx0dGhpcy5zZWxlY3Rpb25LZXlTZXQuYWRkS2V5U2V0Q2FsbGJhY2soc2VsZWN0aW9uS2V5SGFuZGxlcik7XG5cdFx0dGhpcy5wcm9iZUtleVNldC5hZGRLZXlTZXRDYWxsYmFjayhwcm9iZUtleUhhbmRsZXIpO1xuXG5cdFx0dGhpcy5maWx0ZXJlZEtleVNldC5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLnVwZGF0ZUZpbHRlcmVkS2V5U2V0LCB0cnVlKTtcblx0XHR0aGlzLnNldHRpbmdzUGF0aC5wdXNoKFwic2VsZWN0YWJsZVwiKS5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLnVwZGF0ZU1ldGFTdHlsZXMpO1xuXHR9XG5cblx0b25GZWF0dXJlQWRkKHZlY3RvckV2ZW50KVxuXHR7XG5cdFx0dmVjdG9yRXZlbnQuZmVhdHVyZS5vbihcInByb3BlcnR5Y2hhbmdlXCIsIHRoaXMub25GZWF0dXJlUHJvcGVydHlDaGFuZ2UsIHRoaXMpO1xuXHR9XG5cblx0b25GZWF0dXJlUHJvcGVydHlDaGFuZ2Uob2JqZWN0RXZlbnQpXG5cdHtcblx0XHRsZXQgcHJvcGVydHlOYW1lID0gb2JqZWN0RXZlbnQua2V5O1xuXG5cdFx0aWYgKCFsb2Rhc2guY29udGFpbnMoRmVhdHVyZUxheWVyLlN0eWxlcywgcHJvcGVydHlOYW1lKSlcblx0XHR7XG5cdFx0XHQvKiBUaGUgcHJvcGVydHkgdGhhdCBjaGFuZ2VkIGlzbid0IG9uZSBvZiBvdXIgbWV0YVN0eWxlIHByb3BlcnRpZXMsIHNvIHdlIGRvbid0IGNhcmUuICovXG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHQvKiBUaGUgcHJvcGVydHkgdGhhdCBjaGFuZ2VkIHdhcyBhIG1ldGFzdHlsZSwgYW5kIGFzIHN1Y2ggdGhlIHN0eWxlcyBzaG91bGQgYmUgcmVjb21wdXRlZCAqL1xuXHRcdFx0dGhpcy5kZWJvdW5jZWRfdXBkYXRlTWV0YVN0eWxlcygpO1xuXHRcdH1cblx0fVxuXG5cdGFic3RyYWN0IHVwZGF0ZVN0eWxlRGF0YSgpOnZvaWQ7XG5cblx0Z2V0VG9vbFRpcENvbHVtbnMoKTogQXJyYXk8YW55PiAvKiBBcnJheTxJQXR0cmlidXRlQ29sdW1uPiAqL1xuXHR7XG5cdFx0cmV0dXJuIFtdO1xuXHR9XG5cblx0LyogVE9ETzogTW92ZSB0aGlzIGludG8gV2VhdmVUb29sICovXG5cdHN0YXRpYyBnZXRUb29sVGlwRGF0YShrZXk6YW55IC8qIElRdWFsaWZpZWRLZXkgKi8sIGFkZGl0aW9uYWxDb2x1bW5zOkFycmF5PGFueT4gPSBbXSAvKiBBcnJheTxJQXR0cmlidXRlQ29sdW1uICovKTogeyBbY29sdW1uTmFtZTogc3RyaW5nXTogc3RyaW5nIHwgbnVtYmVyIH0gXG5cdHtcblx0XHRsZXQgY29sdW1uSGFzaE1hcCA9IHdlYXZlLnJvb3QuZ2V0T2JqZWN0KFwiUHJvYmVkIENvbHVtbnNcIik7XG5cblx0XHR2YXIgcmVzdWx0OiB7IFtjb2x1bW5OYW1lOiBzdHJpbmddOiBzdHJpbmcgfCBudW1iZXIgfSA9IHt9O1xuXG5cdFx0Zm9yIChsZXQgY2hpbGQgb2YgY29sdW1uSGFzaE1hcC5nZXRPYmplY3RzKCkuY29uY2F0KGFkZGl0aW9uYWxDb2x1bW5zKSlcblx0XHR7XG5cdFx0XHRsZXQgdGl0bGU6c3RyaW5nID0gY2hpbGQuZ2V0TWV0YWRhdGEoXCJ0aXRsZVwiKTtcblx0XHRcdGxldCB2YWx1ZTpzdHJpbmcgPSBjaGlsZC5nZXRWYWx1ZUZyb21LZXkoa2V5LCBTdHJpbmcpO1xuXHRcdFx0aWYgKHZhbHVlKVxuXHRcdFx0e1xuXHRcdFx0XHRyZXN1bHRbdGl0bGVdID0gdmFsdWU7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdC8qIFRPRE86IE1vdmUgdGhpcyBpbnRvIFdlYXZlVG9vbCAqL1xuXHRzdGF0aWMgZ2V0VG9vbFRpcFRpdGxlKGtleTphbnkgLyogSVF1YWxpZmllZEtleSAqLyk6IHN0cmluZ1xuXHR7XG5cdFx0bGV0IHRpdGxlSGFzaE1hcCA9IHdlYXZlLnJvb3QuZ2V0T2JqZWN0KFwiUHJvYmUgSGVhZGVyIENvbHVtbnNcIik7XG5cblx0XHRyZXR1cm4gbG9kYXNoLm1hcCh0aXRsZUhhc2hNYXAuZ2V0T2JqZWN0cygpLCAoZDphbnkpID0+IGQuZ2V0VmFsdWVGcm9tS2V5KGtleSwgU3RyaW5nKSkuam9pbihcIiwgXCIpO1xuXHR9XG5cblx0c3RhdGljIHRvQ29sb3JBcnJheShjb2xvclN0cmluZywgYWxwaGEpXG5cdHtcblx0XHR2YXIgY29sb3JBcnJheTtcblx0XHRpZiAoY29sb3JTdHJpbmdbMF0gPT09IFwiI1wiKVxuXHRcdHtcblx0XHRcdGNvbG9yQXJyYXkgPSBvbC5jb2xvci5hc0FycmF5KGNvbG9yU3RyaW5nKTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdGNvbG9yQXJyYXkgPSBvbC5jb2xvci5hc0FycmF5KFwiI1wiICsgU3RhbmRhcmRMaWIuZGVjaW1hbFRvSGV4KE51bWJlcihjb2xvclN0cmluZykpKTtcblx0XHR9XG5cblx0XHRjb2xvckFycmF5ID0gW10uY29uY2F0KGNvbG9yQXJyYXkpOyAvKiBTaG91bGQgbm90IGJlIG1vZGlmaWVkIHNpbmNlIGl0IGlzIGNhY2hlZCBpbiBvbC5jb2xvci5hc0FycmF5ICovXG5cblx0XHRpZiAoIWNvbG9yQXJyYXkpIHtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblxuXHRcdGNvbG9yQXJyYXlbM10gPSBOdW1iZXIoYWxwaGEpO1xuXHRcdHJldHVybiBjb2xvckFycmF5O1xuXHR9XG5cblx0c3RhdGljIHRvQ29sb3JSR0JBKGNvbG9yU3RyaW5nLCBhbHBoYSlcblx0e1xuXHRcdHZhciBjb2xvckFycmF5ID0gRmVhdHVyZUxheWVyLnRvQ29sb3JBcnJheShjb2xvclN0cmluZywgYWxwaGEpO1xuXHRcdHJldHVybiBvbC5jb2xvci5hc1N0cmluZyhjb2xvckFycmF5KTtcblx0fVxuXG5cdHVwZGF0ZVNldEZyb21LZXlTZXQoa2V5U2V0LCBzZXQsIGRpZmYpXG5cdHtcblx0XHRpZiAoIXRoaXMuc291cmNlKSByZXR1cm47IC8vSEFDS1xuXHRcdFxuXHRcdGxldCB3YXNFbXB0eSA9IHNldC5zaXplID09PSAwO1xuXG5cdFx0dGhpcy5jaGFuZ2VkSXRlbXMuY2xlYXIoKTtcblxuXHRcdGZvciAobGV0IGtleSBvZiBkaWZmLmFkZGVkKVxuXHRcdHtcblx0XHRcdHNldC5hZGQoa2V5KTtcblx0XHRcdHRoaXMuY2hhbmdlZEl0ZW1zLmFkZChrZXkpO1xuXHRcdH1cblxuXHRcdGZvciAobGV0IGtleSBvZiBkaWZmLnJlbW92ZWQpXG5cdFx0e1xuXHRcdFx0c2V0LmRlbGV0ZShrZXkpO1xuXHRcdFx0dGhpcy5jaGFuZ2VkSXRlbXMuYWRkKGtleSk7XG5cdFx0fVxuXG5cdFx0bGV0IGlzRW1wdHkgPSBzZXQuc2l6ZSA9PT0gMDtcblxuXHRcdC8qIElmIGEgc2V0IGJlY29tZXMgZW1wdHkgb3Igbm9uZW1wdHksIHdlIHNob3VsZCByZWNvbXB1dGUgYWxsIHRoZSBzdHlsZXMuIE90aGVyd2lzZSwgb25seSByZWNvbXB1dGUgdGhlIHN0eWxlcyBvZiB0aGUgZmVhdHVyZXMgd2hpY2ggY2hhbmdlZC4gKi9cblx0XHRpZiAoaXNFbXB0eSAhPT0gd2FzRW1wdHkpXG5cdFx0e1xuXHRcdFx0dGhpcy51cGRhdGVNZXRhU3R5bGVzKCk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHR0aGlzLmNoYW5nZWRJdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChmZWF0dXJlSWQpXG5cdFx0XHR7XG5cdFx0XHRcdGxldCBmZWF0dXJlID0gdGhpcy5zb3VyY2UuZ2V0RmVhdHVyZUJ5SWQoZmVhdHVyZUlkKTtcblx0XHRcdFx0aWYgKGZlYXR1cmUpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHR0aGlzLnVwZGF0ZU1ldGFTdHlsZShmZWF0dXJlKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgdGhpcyk7XG5cdFx0fVxuXHR9XG5cblx0dXBkYXRlRmlsdGVyZWRLZXlTZXQoKVxuXHR7XG5cdFx0aWYgKCF0aGlzLnNvdXJjZSkgcmV0dXJuOyAvL0hBQ0tcblx0XHRcblx0XHRsZXQgc291cmNlS2V5cyA9IHRoaXMuc291cmNlLmdldEZlYXR1cmVzKCkubWFwKGZlYXR1cmUgPT4gZmVhdHVyZS5nZXRJZCgpKTtcblxuXHRcdHRoaXMuZmlsdGVyZWRTZXQuY2xlYXIoKTtcblxuXHRcdHZhciBmaWx0ZXJlZEtleXMgPSB0aGlzLmZpbHRlcmVkS2V5U2V0LmZpbHRlcktleXMoc291cmNlS2V5cyk7XG5cdFx0Zm9yIChsZXQga2V5IG9mIGZpbHRlcmVkS2V5cylcblx0XHR7XG5cdFx0XHR0aGlzLmZpbHRlcmVkU2V0LmFkZChrZXkpO1xuXHRcdH1cblxuXHRcdHRoaXMudXBkYXRlTWV0YVN0eWxlcygpO1xuXHR9XG5cblx0dXBkYXRlTWV0YVN0eWxlcygpXG5cdHtcblx0XHRpZiAoIXRoaXMuc291cmNlKSByZXR1cm47IC8vSEFDS1xuXHRcdFxuXHRcdHRoaXMudGVtcFNlbGVjdGFibGUgPSB0aGlzLnNldHRpbmdzUGF0aC5wdXNoKFwic2VsZWN0YWJsZVwiKS5nZXRTdGF0ZSgpO1xuXG5cdFx0dGhpcy5zb3VyY2UuZm9yRWFjaEZlYXR1cmUodGhpcy51cGRhdGVNZXRhU3R5bGUsIHRoaXMpO1xuXHR9XG5cblx0dXBkYXRlTWV0YVN0eWxlX3VuYm91bmQoZmVhdHVyZSlcblx0e1xuXHRcdGxldCBpZCA9IGZlYXR1cmUuZ2V0SWQoKTtcblx0XHRsZXQgbnVsbFN0eWxlID0gbmV3IG9sLnN0eWxlLlN0eWxlKHt9KTtcblx0XHRsZXQgdW5zZWxlY3RlZFN0eWxlID0gZmVhdHVyZS5nZXQoXCJ1bnNlbGVjdGVkU3R5bGVcIikgfHwgbnVsbFN0eWxlO1xuXHRcdGxldCBub3JtYWxTdHlsZSA9IGZlYXR1cmUuZ2V0KFwibm9ybWFsU3R5bGVcIikgfHwgbnVsbFN0eWxlO1xuXHRcdGxldCBzZWxlY3RlZFN0eWxlID0gZmVhdHVyZS5nZXQoXCJzZWxlY3RlZFN0eWxlXCIpIHx8IG51bGxTdHlsZTtcblx0XHRsZXQgcHJvYmVkU3R5bGUgPSBmZWF0dXJlLmdldChcInByb2JlZFN0eWxlXCIpIHx8IG51bGxTdHlsZTtcblx0XHRsZXQgek9yZGVyID0gZmVhdHVyZS5nZXQoXCJ6T3JkZXJcIikgfHwgMDtcblx0XHRsZXQgcmVwbGFjZSA9IGZlYXR1cmUuZ2V0KFwicmVwbGFjZVwiKTtcblx0XHRsZXQgbmV3U3R5bGU7XG5cblx0XHRpZiAoIXRoaXMuZmlsdGVyZWRTZXQuaGFzKGlkKSlcblx0XHR7XG5cdFx0XHRmZWF0dXJlLnNldFN0eWxlKG51bGxTdHlsZSk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCF0aGlzLnRlbXBTZWxlY3RhYmxlKVxuXHRcdHtcblx0XHRcdGZlYXR1cmUuc2V0U3R5bGUobm9ybWFsU3R5bGUpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICghdGhpcy5zZWxlY3RlZFNldC5oYXMoaWQpICYmICF0aGlzLnByb2JlZFNldC5oYXMoaWQpICYmIHRoaXMuc2VsZWN0ZWRTZXQuc2l6ZSA+IDApXG5cdFx0e1xuXHRcdFx0aWYgKHJlcGxhY2UpXG5cdFx0XHR7XG5cdFx0XHRcdG5ld1N0eWxlID0gdW5zZWxlY3RlZFN0eWxlO1xuXHRcdFx0XHRuZXdTdHlsZS5zZXRaSW5kZXgoek9yZGVyKTtcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0bmV3U3R5bGUgPSBbXS5jb25jYXQodW5zZWxlY3RlZFN0eWxlKTtcblx0XHRcdFx0bmV3U3R5bGVbMF0uc2V0WkluZGV4KHpPcmRlcik7XG5cdFx0XHR9XG5cblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdG5ld1N0eWxlID0gW10uY29uY2F0KG5vcm1hbFN0eWxlKTtcblx0XHRcdG5ld1N0eWxlWzBdLnNldFpJbmRleCh6T3JkZXIpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLnNlbGVjdGVkU2V0LmhhcyhpZCkpXG5cdFx0e1xuXHRcdFx0aWYgKHJlcGxhY2UpXG5cdFx0XHR7XG5cdFx0XHRcdG5ld1N0eWxlID0gc2VsZWN0ZWRTdHlsZTtcblx0XHRcdFx0bmV3U3R5bGUuc2V0WkluZGV4KE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIC0gMyk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHR7XG5cdFx0XHRcdG5ld1N0eWxlID0gbmV3U3R5bGUuY29uY2F0KHNlbGVjdGVkU3R5bGUpO1xuXHRcdFx0XHRuZXdTdHlsZVswXS5zZXRaSW5kZXgoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgLSAzKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAodGhpcy5wcm9iZWRTZXQuaGFzKGlkKSlcblx0XHR7XG5cdFx0XHRpZiAocmVwbGFjZSlcblx0XHRcdHtcblx0XHRcdFx0bmV3U3R5bGUgPSBwcm9iZWRTdHlsZTtcblx0XHRcdFx0bmV3U3R5bGUuc2V0WkluZGV4KE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKTtcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0bmV3U3R5bGUgPSBuZXdTdHlsZS5jb25jYXQocHJvYmVkU3R5bGUpO1xuXHRcdFx0XHRuZXdTdHlsZVswXS5zZXRaSW5kZXgoTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGZlYXR1cmUuc2V0U3R5bGUobmV3U3R5bGUpO1xuXHR9XG5cblx0c3RhdGljIG9sRmlsbEZyb21XZWF2ZUZpbGwoZmlsbCwgZmFkZT8pXG5cdHtcblx0XHRpZiAoZmFkZSA9PT0gdW5kZWZpbmVkKSBmYWRlID0gMTtcblxuXHRcdGxldCBjb2xvciA9IGZpbGwuY29sb3IgJiYgRmVhdHVyZUxheWVyLnRvQ29sb3JBcnJheShmaWxsLmNvbG9yLCBmaWxsLmFscGhhICogZmFkZSkgfHwgWzAsIDAsIDAsIDBdO1xuXHRcdHJldHVybiBuZXcgb2wuc3R5bGUuRmlsbCh7Y29sb3J9KTtcblx0fVxuXG5cdHN0YXRpYyBvbFN0cm9rZUZyb21XZWF2ZVN0cm9rZShzdHJva2U6YW55LCBmYWRlPzpudW1iZXIpXG5cdHtcblx0XHRpZiAoZmFkZSA9PT0gdW5kZWZpbmVkKSBmYWRlID0gMTtcblxuXHRcdGxldCBjb2xvcjpBcnJheTxudW1iZXI+ID0gc3Ryb2tlLmNvbG9yICYmIEZlYXR1cmVMYXllci50b0NvbG9yQXJyYXkoc3Ryb2tlLmNvbG9yLCBzdHJva2UuYWxwaGEgKiBmYWRlKSB8fCBbMCwgMCwgMCwgMV07XG5cblx0XHRsZXQgbGluZUNhcDpzdHJpbmcgPSBzdHJva2UubGluZUNhcCA9PT0gXCJub25lXCIgPyBcImJ1dHRcIiA6IHN0cm9rZS5saW5lQ2FwIHx8IFwicm91bmRcIjtcblx0XHRsZXQgbGluZUpvaW46c3RyaW5nID0gc3Ryb2tlLmxpbmVKb2luID09PSBudWxsID8gXCJyb3VuZFwiIDogc3Ryb2tlLmxpbmVKb2luIHx8IFwicm91bmRcIjtcblx0XHRsZXQgbWl0ZXJMaW1pdDpudW1iZXIgPSBOdW1iZXIoc3Ryb2tlLm1pdGVyTGltaXQpO1xuXHRcdGxldCB3aWR0aDpudW1iZXIgPSBOdW1iZXIoc3Ryb2tlLndlaWdodCk7XG5cblx0XHRyZXR1cm4gbmV3IG9sLnN0eWxlLlN0cm9rZSh7Y29sb3IsIGxpbmVDYXAsIGxpbmVKb2luLCBtaXRlckxpbWl0LCB3aWR0aH0pO1xuXHR9XG5cblx0c3RhdGljIGdldE9sUHJvYmVkU3R5bGUoYmFzZVN0cm9rZVN0eWxlKVxuXHR7XG5cdFx0bGV0IHdpZHRoID0gYmFzZVN0cm9rZVN0eWxlLmdldFdpZHRoKCk7XG5cblx0XHRyZXR1cm4gW1xuXHRcdFx0XHRuZXcgb2wuc3R5bGUuU3R5bGUoe1xuXHRcdFx0XHRcdHN0cm9rZTogbmV3IG9sLnN0eWxlLlN0cm9rZSh7XG5cdFx0XHRcdFx0XHRjb2xvcjogWzAsIDAsIDAsIDFdLFxuXHRcdFx0XHRcdFx0d2lkdGg6IHdpZHRoICsgRmVhdHVyZUxheWVyLlBST0JFX0hBTE9fV0lEVEggKyBGZWF0dXJlTGF5ZXIuUFJPQkVfTElORV9XSURUSFxuXHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdHpJbmRleDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgLSAyXG5cdFx0XHRcdH0pLFxuXHRcdFx0XHRuZXcgb2wuc3R5bGUuU3R5bGUoe1xuXHRcdFx0XHRcdHN0cm9rZTogbmV3IG9sLnN0eWxlLlN0cm9rZSh7XG5cdFx0XHRcdFx0XHRjb2xvcjogWzI1NSwgMjU1LCAyNTUsIDFdLFxuXHRcdFx0XHRcdFx0d2lkdGg6IHdpZHRoICsgRmVhdHVyZUxheWVyLlBST0JFX0hBTE9fV0lEVEhcblx0XHRcdFx0XHR9KSxcblx0XHRcdFx0XHR6SW5kZXg6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIC0gMVxuXHRcdFx0XHR9KVxuXHRcdF07XG5cdH1cblxuXHRzdGF0aWMgZ2V0T2xTZWxlY3Rpb25TdHlsZShiYXNlU3Ryb2tlU3R5bGUpXG5cdHtcblx0XHRsZXQgd2lkdGggPSBiYXNlU3Ryb2tlU3R5bGUuZ2V0V2lkdGgoKTtcblx0XHRsZXQgbGluZUNhcCA9IGJhc2VTdHJva2VTdHlsZS5nZXRMaW5lQ2FwKCk7XG5cdFx0bGV0IGxpbmVKb2luID0gYmFzZVN0cm9rZVN0eWxlLmdldExpbmVKb2luKCk7XG5cdFx0bGV0IG1pdGVyTGltaXQgPSBiYXNlU3Ryb2tlU3R5bGUuZ2V0TWl0ZXJMaW1pdCgpO1xuXG5cdFx0cmV0dXJuIFtuZXcgb2wuc3R5bGUuU3R5bGUoe1xuXHRcdFx0XHRzdHJva2U6IG5ldyBvbC5zdHlsZS5TdHJva2Uoe1xuXHRcdFx0XHRcdGNvbG9yOiBbMCwgMCwgMCwgMC41XSxcblx0XHRcdFx0XHR3aWR0aDogd2lkdGggKyBGZWF0dXJlTGF5ZXIuU0VMRUNUX1dJRFRILFxuXHRcdFx0XHRcdGxpbmVDYXAsIGxpbmVKb2luLCBtaXRlckxpbWl0fSksXG5cdFx0XHRcdHpJbmRleDogTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgLSA0XG5cdFx0fSldO1xuXHR9XG5cblx0c3RhdGljIFNFTEVDVF9XSURUSDpudW1iZXIgPSA1O1xuXHRzdGF0aWMgUFJPQkVfSEFMT19XSURUSDpudW1iZXIgPSA0O1xuXHRzdGF0aWMgUFJPQkVfTElORV9XSURUSDpudW1iZXIgPSAxO1xuXHRzdGF0aWMgU3R5bGVzOk9iamVjdCA9IHtcblx0XHROT1JNQUw6IFwibm9ybWFsU3R5bGVcIixcblx0XHRVTlNFTEVDVEVEOiBcInVuc2VsZWN0ZWRTdHlsZVwiLCAvKiBGb3IgdGhlIGNhc2Ugd2hlcmUgYSBzZWxlY3Rpb24gaGFzIGJlZW4gbWFkZSBpbiB0aGUgbGF5ZXIgYnV0IHRoZSBlbGVtZW50IGlzIG5vdCBvbmUgb2YgdGhlbS4gKi9cblx0XHRTRUxFQ1RFRDogXCJzZWxlY3RlZFN0eWxlXCIsXG5cdFx0UFJPQkVEOiBcInByb2JlZFN0eWxlXCJcdFxuXHR9XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIE1ldGFTdHlsZVByb3BlcnRpZXMge1xuXHRub3JtYWxTdHlsZTogb2wuc3R5bGUuU3R5bGV8QXJyYXk8b2wuc3R5bGUuU3R5bGU+O1xuXHR1bnNlbGVjdGVkU3R5bGU6IG9sLnN0eWxlLlN0eWxlfEFycmF5PG9sLnN0eWxlLlN0eWxlPjtcblx0c2VsZWN0ZWRTdHlsZTogb2wuc3R5bGUuU3R5bGV8QXJyYXk8b2wuc3R5bGUuU3R5bGU+O1xuXHRwcm9iZWRTdHlsZTogb2wuc3R5bGUuU3R5bGV8QXJyYXk8b2wuc3R5bGUuU3R5bGU+O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRmVhdHVyZUxheWVyO1xuIiwiLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL29wZW5sYXllcnMvb3BlbmxheWVycy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cblxuaW1wb3J0ICogYXMgb2wgZnJvbSBcIm9wZW5sYXllcnNcIjtcbmltcG9ydCB7RmVhdHVyZUxheWVyLCBNZXRhU3R5bGVQcm9wZXJ0aWVzfSBmcm9tIFwiLi9GZWF0dXJlTGF5ZXJcIjtcbmltcG9ydCBMYXllciBmcm9tIFwiLi9MYXllclwiO1xuXG5kZWNsYXJlIHZhciB3ZWF2ZWpzOmFueTtcbmRlY2xhcmUgdmFyIFdlYXZlOmFueTtcblxuY2xhc3MgR2VvbWV0cnlMYXllciBleHRlbmRzIEZlYXR1cmVMYXllciB7XG5cblx0Z2VvSnNvblBhcnNlcjphbnk7IC8vVE9ETyBvbC5mb3JtYXQuR2VvSlNPTlxuXHRnZW9Db2x1bW5QYXRoOldlYXZlUGF0aDtcblx0ZmlsbFN0eWxlUGF0aDpXZWF2ZVBhdGg7XG5cdGxpbmVTdHlsZVBhdGg6V2VhdmVQYXRoO1xuXG5cdGNvbnN0cnVjdG9yKHBhcmVudCwgbGF5ZXJOYW1lKVxuXHR7XG5cdFx0c3VwZXIocGFyZW50LCBsYXllck5hbWUpO1xuXG5cdFx0dGhpcy5nZW9Kc29uUGFyc2VyID0gbmV3IG9sLmZvcm1hdC5HZW9KU09OKCk7XG5cblx0XHR0aGlzLmdlb0NvbHVtblBhdGggPSB0aGlzLmxheWVyUGF0aC5wdXNoKFwiZ2VvbWV0cnlDb2x1bW5cIik7XG5cdFx0dGhpcy5maWxsU3R5bGVQYXRoID0gdGhpcy5sYXllclBhdGgucHVzaChcImZpbGxcIik7XG5cdFx0dGhpcy5saW5lU3R5bGVQYXRoID0gdGhpcy5sYXllclBhdGgucHVzaChcImxpbmVcIik7XG5cblx0XHR0aGlzLmdlb0NvbHVtblBhdGguYWRkQ2FsbGJhY2sodGhpcywgdGhpcy51cGRhdGVHZW9tZXRyeURhdGEsIHRydWUpO1xuXHRcdHRoaXMucHJvamVjdGlvblBhdGguYWRkQ2FsbGJhY2sodGhpcywgdGhpcy51cGRhdGVHZW9tZXRyeURhdGEsIHRydWUpO1xuXG5cdFx0dGhpcy5maWxsU3R5bGVQYXRoLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMudXBkYXRlU3R5bGVEYXRhKTtcblx0XHR0aGlzLmxpbmVTdHlsZVBhdGguYWRkQ2FsbGJhY2sodGhpcywgdGhpcy51cGRhdGVTdHlsZURhdGEsIHRydWUpO1xuXHRcdHRoaXMuZmlsdGVyZWRLZXlTZXQuZ2V0T2JqZWN0KCkuc2V0Q29sdW1uS2V5U291cmNlcyhbdGhpcy5nZW9Db2x1bW5QYXRoLmdldE9iamVjdChcImludGVybmFsRHluYW1pY0NvbHVtblwiKV0pO1xuXHR9XG5cblx0aGFuZGxlTWlzc2luZ1Nlc3Npb25TdGF0ZVByb3BlcnRpZXMobmV3U3RhdGUpXG5cdHtcblxuXHR9XG5cblx0dXBkYXRlR2VvbWV0cnlEYXRhKClcblx0e1xuXHRcdHZhciBwcm9qZWN0aW9uU3BlYyA9IHRoaXMuZ2VvQ29sdW1uUGF0aC5nZXRPYmplY3QoXCJpbnRlcm5hbER5bmFtaWNDb2x1bW5cIiwgbnVsbCkuZ2V0TWV0YWRhdGEoJ3Byb2plY3Rpb24nKTtcblx0XG5cdFx0dmFyIG91dHB1dFByb2plY3Rpb24gPSB0aGlzLnByb2plY3Rpb25QYXRoLmdldFN0YXRlKCkgfHwgXCJFUFNHOjM4NTdcIjtcblx0XHR2YXIgaW5wdXRQcm9qZWN0aW9uID0gcHJvamVjdGlvblNwZWMgfHwgb3V0cHV0UHJvamVjdGlvbjtcblxuXHRcdHRoaXMuc291cmNlLmNsZWFyKCk7XG5cblx0XHR2YXIga2V5cyA9IHRoaXMuZ2VvQ29sdW1uUGF0aC5wdXNoKCdpbnRlcm5hbER5bmFtaWNDb2x1bW4nKS5nZXRLZXlzKCk7XG5cdFx0dmFyIGlkYyA9IHRoaXMuZ2VvQ29sdW1uUGF0aC5nZXRPYmplY3QoXCJpbnRlcm5hbER5bmFtaWNDb2x1bW5cIik7XG5cdFx0dmFyIHJhd0dlb21ldHJpZXMgPSB3ZWF2ZWpzLmRhdGEuQ29sdW1uVXRpbHMuZ2V0R2VvSnNvbkdlb21ldHJpZXMoaWRjLCBpZGMua2V5cyk7XG5cblx0XHRmb3IgKGxldCBpZHggPSAwOyBpZHggPCBrZXlzLmxlbmd0aDsgaWR4KyspXG5cdFx0e1xuXHRcdFx0bGV0IGlkID0ga2V5c1tpZHhdO1xuXG5cdFx0XHRsZXQgZ2VvbWV0cnkgPSB0aGlzLmdlb0pzb25QYXJzZXIucmVhZEdlb21ldHJ5KHJhd0dlb21ldHJpZXNbaWR4XSwge2RhdGFQcm9qZWN0aW9uOiBpbnB1dFByb2plY3Rpb24sIGZlYXR1cmVQcm9qZWN0aW9uOiBvdXRwdXRQcm9qZWN0aW9ufSk7XG5cblx0XHRcdGxldCBmZWF0dXJlID0gbmV3IG9sLkZlYXR1cmUoe2dlb21ldHJ5fSk7XG5cdFx0XHRmZWF0dXJlLnNldElkKGlkKTtcblxuXHRcdFx0dGhpcy5zb3VyY2UuYWRkRmVhdHVyZShmZWF0dXJlKTtcblx0XHR9XG5cblx0XHR0aGlzLnVwZGF0ZVN0eWxlRGF0YSgpO1xuXHRcdHRoaXMudXBkYXRlRmlsdGVyZWRLZXlTZXQoKTtcblx0fVxuXG5cdGdldFRvb2xUaXBDb2x1bW5zKCk6IEFycmF5PGFueT4gLyogQXJyYXk8SUF0dHJpYnV0ZUNvbHVtbj4gKi9cblx0e1xuXHRcdGxldCBhZGRpdGlvbmFsQ29sdW1uczogQXJyYXk8YW55PiA9IG5ldyBBcnJheTxhbnk+KCk7XG5cblx0XHRmb3IgKGxldCBjb2x1bW4gb2YgdGhpcy5maWxsU3R5bGVQYXRoLmdldENoaWxkcmVuKCkuY29uY2F0KHRoaXMubGluZVN0eWxlUGF0aC5nZXRDaGlsZHJlbigpKSlcblx0XHR7XG5cdFx0XHRsZXQgaW50ZXJuYWxDb2x1bW4gPSB3ZWF2ZWpzLmRhdGEuQ29sdW1uVXRpbHMuaGFja19maW5kSW50ZXJuYWxEeW5hbWljQ29sdW1uKGNvbHVtbi5nZXRPYmplY3QoKSk7XG5cdFx0XHRpZiAoaW50ZXJuYWxDb2x1bW4pXG5cdFx0XHRcdGFkZGl0aW9uYWxDb2x1bW5zLnB1c2goaW50ZXJuYWxDb2x1bW4pO1xuXHRcdH1cblxuXHRcdHJldHVybiBhZGRpdGlvbmFsQ29sdW1ucztcblx0fVxuXG5cblx0dXBkYXRlU3R5bGVEYXRhKClcblx0e1xuXHRcdGxldCBmaWxsRW5hYmxlZCA9IHRoaXMuZmlsbFN0eWxlUGF0aC5wdXNoKFwiZW5hYmxlXCIpLmdldFN0YXRlKCk7XG5cdFx0bGV0IHN0cm9rZUVuYWJsZWQgPSB0aGlzLmxpbmVTdHlsZVBhdGgucHVzaChcImVuYWJsZVwiKS5nZXRTdGF0ZSgpO1xuXG5cdFx0dmFyIHN0eWxlUmVjb3JkcyA9IHRoaXMubGF5ZXJQYXRoLnJldHJpZXZlUmVjb3Jkcyh7XG5cdFx0XHRmaWxsOiB7XG5cdFx0XHRcdGNvbG9yOiB0aGlzLmZpbGxTdHlsZVBhdGgucHVzaChcImNvbG9yXCIpLFxuXHRcdFx0XHRhbHBoYTogdGhpcy5maWxsU3R5bGVQYXRoLnB1c2goXCJhbHBoYVwiKSxcblx0XHRcdFx0aW1hZ2VVUkw6IHRoaXMuZmlsbFN0eWxlUGF0aC5wdXNoKFwiaW1hZ2VVUkxcIilcblx0XHRcdH0sXG5cdFx0XHRzdHJva2U6IHtcblx0XHRcdFx0Y29sb3I6IHRoaXMubGluZVN0eWxlUGF0aC5wdXNoKFwiY29sb3JcIiksXG5cdFx0XHRcdGFscGhhOiB0aGlzLmxpbmVTdHlsZVBhdGgucHVzaChcImFscGhhXCIpLFxuXHRcdFx0XHR3ZWlnaHQ6IHRoaXMubGluZVN0eWxlUGF0aC5wdXNoKFwid2VpZ2h0XCIpLFxuXHRcdFx0XHRsaW5lQ2FwOiB0aGlzLmxpbmVTdHlsZVBhdGgucHVzaChcImNhcHNcIiksXG5cdFx0XHRcdGxpbmVKb2luOiB0aGlzLmxpbmVTdHlsZVBhdGgucHVzaChcImpvaW50c1wiKSxcblx0XHRcdFx0bWl0ZXJMaW1pdDogdGhpcy5saW5lU3R5bGVQYXRoLnB1c2goXCJtaXRlckxpbWl0XCIpXG5cdFx0XHR9XG5cdFx0fSwgdGhpcy5nZW9Db2x1bW5QYXRoLnB1c2goXCJpbnRlcm5hbER5bmFtaWNDb2x1bW5cIikpO1xuXG5cdFx0Zm9yIChsZXQgcmVjb3JkIG9mIHN0eWxlUmVjb3Jkcylcblx0XHR7XG5cdFx0XHRsZXQgb2xTdHJva2UgPSBGZWF0dXJlTGF5ZXIub2xTdHJva2VGcm9tV2VhdmVTdHJva2UocmVjb3JkLnN0cm9rZSk7XG5cdFx0XHRsZXQgb2xGaWxsID0gRmVhdHVyZUxheWVyLm9sRmlsbEZyb21XZWF2ZUZpbGwocmVjb3JkLmZpbGwpO1xuXG5cdFx0XHRsZXQgb2xTdHJva2VGYWRlZCA9IEZlYXR1cmVMYXllci5vbFN0cm9rZUZyb21XZWF2ZVN0cm9rZShyZWNvcmQuc3Ryb2tlLCAwLjUpO1xuXHRcdFx0bGV0IG9sRmlsbEZhZGVkID0gRmVhdHVyZUxheWVyLm9sRmlsbEZyb21XZWF2ZUZpbGwocmVjb3JkLmZpbGwsIDAuNSk7XG5cblx0XHRcdGxldCBub3JtYWxTdHlsZSA9IFtuZXcgb2wuc3R5bGUuU3R5bGUoe1xuXHRcdFx0XHRmaWxsOiBmaWxsRW5hYmxlZCA/IG9sRmlsbCA6IHVuZGVmaW5lZCxcblx0XHRcdFx0c3Ryb2tlOiBzdHJva2VFbmFibGVkID8gb2xTdHJva2UgOiB1bmRlZmluZWQsXG5cdFx0XHRcdHpJbmRleDogMFxuXHRcdFx0fSldO1xuXG5cdFx0XHRsZXQgdW5zZWxlY3RlZFN0eWxlID0gW25ldyBvbC5zdHlsZS5TdHlsZSh7XG5cdFx0XHRcdGZpbGw6IGZpbGxFbmFibGVkID8gb2xGaWxsIDogdW5kZWZpbmVkLFxuXHRcdFx0XHRzdHJva2U6IHN0cm9rZUVuYWJsZWQgPyBvbFN0cm9rZUZhZGVkIDogdW5kZWZpbmVkLFxuXHRcdFx0XHR6SW5kZXg6IDBcblx0XHRcdH0pXTtcblxuXHRcdFx0bGV0IHNlbGVjdGVkU3R5bGUgPSAoc3Ryb2tlRW5hYmxlZCB8fCBmaWxsRW5hYmxlZCkgJiYgRmVhdHVyZUxheWVyLmdldE9sU2VsZWN0aW9uU3R5bGUob2xTdHJva2UpO1xuXHRcdFx0bGV0IHByb2JlZFN0eWxlID0gKHN0cm9rZUVuYWJsZWQgfHwgZmlsbEVuYWJsZWQpICYmIEZlYXR1cmVMYXllci5nZXRPbFByb2JlZFN0eWxlKG9sU3Ryb2tlKTtcblxuXHRcdFx0bGV0IGZlYXR1cmUgPSB0aGlzLnNvdXJjZS5nZXRGZWF0dXJlQnlJZChyZWNvcmQuaWQpO1xuXG5cdFx0XHRpZiAoZmVhdHVyZSlcblx0XHRcdHtcblx0XHRcdFx0bGV0IG1ldGFTdHlsZTphbnkgPSB7fTtcblx0XHRcdFx0XG5cdFx0XHRcdG1ldGFTdHlsZS5ub3JtYWxTdHlsZSA9IG5vcm1hbFN0eWxlO1xuXHRcdFx0XHRtZXRhU3R5bGUudW5zZWxlY3RlZFN0eWxlID0gdW5zZWxlY3RlZFN0eWxlO1xuXHRcdFx0XHRtZXRhU3R5bGUuc2VsZWN0ZWRTdHlsZSA9IHNlbGVjdGVkU3R5bGU7XG5cdFx0XHRcdG1ldGFTdHlsZS5wcm9iZWRTdHlsZSA9IHByb2JlZFN0eWxlO1xuXG5cdFx0XHRcdGZlYXR1cmUuc2V0UHJvcGVydGllcyhtZXRhU3R5bGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxufVxuXG5MYXllci5yZWdpc3RlckNsYXNzKFwid2VhdmUudmlzdWFsaXphdGlvbi5wbG90dGVyczo6R2VvbWV0cnlQbG90dGVyXCIsIEdlb21ldHJ5TGF5ZXIsIFt3ZWF2ZWpzLmFwaS5jb3JlLklMaW5rYWJsZU9iamVjdFdpdGhOZXdQcm9wZXJ0aWVzXSk7XG5leHBvcnQgZGVmYXVsdCBHZW9tZXRyeUxheWVyO1xuIiwiLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL29wZW5sYXllcnMvb3BlbmxheWVycy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cblxuaW1wb3J0IEZlYXR1cmVMYXllciBmcm9tIFwiLi9GZWF0dXJlTGF5ZXJcIjtcbmltcG9ydCAqIGFzIGxvZGFzaCBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgKiBhcyBvbCBmcm9tIFwib3BlbmxheWVyc1wiO1xuXG5hYnN0cmFjdCBjbGFzcyBHbHlwaExheWVyIGV4dGVuZHMgRmVhdHVyZUxheWVyIHtcblxuXHRjb25zdHJ1Y3RvcihwYXJlbnQsIGxheWVyTmFtZSlcblx0e1xuXHRcdHN1cGVyKHBhcmVudCwgbGF5ZXJOYW1lKTtcblxuXHRcdHRoaXMucHJvamVjdGlvblBhdGguYWRkQ2FsbGJhY2sodGhpcywgdGhpcy51cGRhdGVMb2NhdGlvbnMpO1xuXHRcdHRoaXMubGF5ZXJQYXRoLnB1c2goXCJzb3VyY2VQcm9qZWN0aW9uXCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMudXBkYXRlTG9jYXRpb25zKTtcblxuXHRcdHRoaXMubGF5ZXJQYXRoLnB1c2goXCJkYXRhWFwiKS5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLnVwZGF0ZUxvY2F0aW9ucyk7XG5cdFx0dGhpcy5sYXllclBhdGgucHVzaChcImRhdGFZXCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMudXBkYXRlTG9jYXRpb25zLCB0cnVlKTtcblxuXHRcdHRoaXMuZmlsdGVyZWRLZXlTZXQuZ2V0T2JqZWN0KCkuc2V0Q29sdW1uS2V5U291cmNlcyhbdGhpcy5sYXllclBhdGgucHVzaChcImRhdGFYXCIpLmdldE9iamVjdCgpLCB0aGlzLmxheWVyUGF0aC5wdXNoKFwiZGF0YVlcIikuZ2V0T2JqZWN0KCldKTtcblx0fVxuXG5cdF9nZXRGZWF0dXJlSWRzKCkge1xuXHRcdHJldHVybiBsb2Rhc2gubWFwKHRoaXMuc291cmNlLmdldEZlYXR1cmVzKCksIChpdGVtOm9sLkZlYXR1cmUpID0+IGl0ZW0uZ2V0SWQoKSk7XG5cdH1cblxuXHRzdGF0aWMgX3RvUG9pbnQoZGF0dW0sIGZpZWxkMSwgZmllbGQyKSB7XG5cdFx0aWYgKHR5cGVvZiBkYXR1bSA9PT0gXCJvYmplY3RcIilcblx0XHR7XG5cdFx0XHRsZXQgZmlyc3RQb2x5ID0gZGF0dW1bMF07XG5cdFx0XHRyZXR1cm4gKGZpcnN0UG9seS5ib3VuZHNbZmllbGQxXSArIGZpcnN0UG9seS5ib3VuZHNbZmllbGQyXSkgLyAyO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0cmV0dXJuIGRhdHVtO1xuXHRcdH1cblx0fVxuXG5cdHVwZGF0ZUxvY2F0aW9ucygpIHtcblx0XHQvKiBVcGRhdGUgZmVhdHVyZSBsb2NhdGlvbnMgKi9cblx0XHR2YXIgcmVjb3JkcyA9IHRoaXMubGF5ZXJQYXRoLnJldHJpZXZlUmVjb3JkcyhbXCJkYXRhWFwiLCBcImRhdGFZXCJdLCB0aGlzLmxheWVyUGF0aC5wdXNoKFwiZGF0YVhcIikpO1xuXG5cdFx0dmFyIHJlY29yZElkcyA9IGxvZGFzaC5wbHVjayhyZWNvcmRzLCBcImlkXCIpO1xuXG5cdFx0dmFyIHJlbW92ZWRJZHMgPSBsb2Rhc2guZGlmZmVyZW5jZSh0aGlzLl9nZXRGZWF0dXJlSWRzKCksIHJlY29yZElkcyk7XG5cblx0XHR2YXIgcmF3UHJvaiA9IHRoaXMubGF5ZXJQYXRoLmdldFN0YXRlKFwic291cmNlUHJvamVjdGlvblwiKSB8fCB0aGlzLmxheWVyUGF0aC5nZXRPYmplY3QoXCJkYXRhWFwiKS5nZXRNZXRhZGF0YShcInByb2plY3Rpb25cIikgfHwgXCJFUFNHOjQzMjZcIjtcblx0XHR2YXIgbWFwUHJvaiA9IHRoaXMucHJvamVjdGlvblBhdGguZ2V0U3RhdGUoKSB8fCBcIkVQU0c6Mzg1N1wiO1xuXG5cdFx0Zm9yIChsZXQgaWQgb2YgcmVtb3ZlZElkcylcblx0XHR7XG5cdFx0XHRsZXQgZmVhdHVyZSA9IHRoaXMuc291cmNlLmdldEZlYXR1cmVCeUlkKGlkKTtcblx0XHRcdHRoaXMuc291cmNlLnJlbW92ZUZlYXR1cmUoZmVhdHVyZSk7XG5cdFx0fVxuXG5cdFx0Zm9yIChsZXQgcmVjb3JkIG9mIHJlY29yZHMpXG5cdFx0e1xuXHRcdFx0bGV0IGZlYXR1cmUgPSB0aGlzLnNvdXJjZS5nZXRGZWF0dXJlQnlJZChyZWNvcmQuaWQpO1xuXG5cdFx0XHRpZiAoIWZlYXR1cmUpXG5cdFx0XHR7XG5cdFx0XHRcdGZlYXR1cmUgPSBuZXcgb2wuRmVhdHVyZSh7fSk7XG5cdFx0XHRcdGZlYXR1cmUuc2V0SWQocmVjb3JkLmlkKTtcblx0XHRcdFx0dGhpcy5zb3VyY2UuYWRkRmVhdHVyZShmZWF0dXJlKTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IGRhdGFYLCBkYXRhWTtcblxuXHRcdFx0ZGF0YVggPSBHbHlwaExheWVyLl90b1BvaW50KHJlY29yZC5kYXRhWCwgXCJ4TWluXCIsIFwieE1heFwiKTtcblx0XHRcdGRhdGFZID0gR2x5cGhMYXllci5fdG9Qb2ludChyZWNvcmQuZGF0YVksIFwieU1pblwiLCBcInlNYXhcIik7XG5cblx0XHRcdGxldCBwb2ludCA9IG5ldyBvbC5nZW9tLlBvaW50KFtkYXRhWCwgZGF0YVldKTtcblx0XHRcdHBvaW50LnRyYW5zZm9ybShyYXdQcm9qLCBtYXBQcm9qKTtcblx0XHRcdGZlYXR1cmUuc2V0R2VvbWV0cnkocG9pbnQpO1xuXHRcdH1cblx0XHR0aGlzLnVwZGF0ZUZpbHRlcmVkS2V5U2V0KCk7XG5cdFx0dGhpcy51cGRhdGVTdHlsZURhdGEoKTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBHbHlwaExheWVyO1xuIiwiLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL29wZW5sYXllcnMvb3BlbmxheWVycy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cblxuaW1wb3J0IGpxdWVyeSBmcm9tIFwianF1ZXJ5XCI7XG5cbmNsYXNzIE1hcDJEPEsxLEsyLEQ+IHtcblx0cHJpdmF0ZSBfbWFwOk1hcDxLMSxNYXA8SzIsRD4+O1xuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0XHR0aGlzLl9tYXAgPSBuZXcgTWFwKCk7XG5cdH1cblxuXHRnZXQoZmlyc3RLZXksIHNlY29uZEtleSlcblx0e1xuXHRcdGxldCBzZWNvbmRNYXAgPSB0aGlzLl9tYXAuZ2V0KGZpcnN0S2V5KTtcblx0XHRyZXR1cm4gc2Vjb25kTWFwICYmIHNlY29uZE1hcC5nZXQoc2Vjb25kS2V5KTtcblx0fVxuXG5cdHNldChmaXJzdEtleSwgc2Vjb25kS2V5LCB2YWx1ZSlcblx0e1xuXHRcdGxldCBzZWNvbmRNYXAgPSB0aGlzLl9tYXAuZ2V0KGZpcnN0S2V5KTtcblx0XHRpZiAoIXNlY29uZE1hcClcblx0XHR7XG5cdFx0XHRzZWNvbmRNYXAgPSBuZXcgTWFwKCk7XG5cdFx0XHR0aGlzLl9tYXAuc2V0KGZpcnN0S2V5LCBzZWNvbmRNYXApO1xuXHRcdH1cblxuXHRcdHNlY29uZE1hcC5zZXQoc2Vjb25kS2V5LCB2YWx1ZSk7XG5cdH1cbn1cbmNsYXNzIEltYWdlR2x5cGhDYWNoZSB7XG5cdHByaXZhdGUgYmFzZUltYWdlRWxlbWVudHM6TWFwPHN0cmluZyxIVE1MSW1hZ2VFbGVtZW50Pjtcblx0cHJpdmF0ZSBjYW52YXNNYXA6TWFwMkQ8c3RyaW5nLHN0cmluZyxIVE1MQ2FudmFzRWxlbWVudD47XG5cdHByaXZhdGUgaW1hZ2VNYXA6TWFwMkQ8c3RyaW5nLHN0cmluZyxIVE1MSW1hZ2VFbGVtZW50PjtcblxuXHRjb25zdHJ1Y3RvcigpXG5cdHtcblx0XHR0aGlzLmJhc2VJbWFnZUVsZW1lbnRzID0gbmV3IE1hcCgpO1xuXHRcdHRoaXMuY2FudmFzTWFwID0gbmV3IE1hcDJEPHN0cmluZyxzdHJpbmcsSFRNTENhbnZhc0VsZW1lbnQ+KCk7XG5cdFx0dGhpcy5pbWFnZU1hcCA9IG5ldyBNYXAyRDxzdHJpbmcsc3RyaW5nLEhUTUxJbWFnZUVsZW1lbnQ+KCk7XG5cdH1cblxuXHRyZXF1ZXN0QmFzZUltYWdlRWxlbWVudCh1cmwsIGNhbGxiYWNrKVxuXHR7XG5cdFx0bGV0IGltYWdlRWxlbWVudCA9IHRoaXMuYmFzZUltYWdlRWxlbWVudHMuZ2V0KHVybCk7XG5cblx0XHRpZiAoIWltYWdlRWxlbWVudClcblx0XHR7XG5cdFx0XHRpbWFnZUVsZW1lbnQgPSBuZXcgSW1hZ2UoKTtcblx0XHRcdGltYWdlRWxlbWVudC5zcmMgPSB1cmw7XG5cdFx0XHR0aGlzLmJhc2VJbWFnZUVsZW1lbnRzLnNldCh1cmwsIGltYWdlRWxlbWVudCk7XG5cdFx0fVxuXG5cdFx0aWYgKGltYWdlRWxlbWVudC5jb21wbGV0ZSlcblx0XHR7XG5cdFx0XHRjYWxsYmFjayhpbWFnZUVsZW1lbnQpO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0anF1ZXJ5KGltYWdlRWxlbWVudCkub25lKFwibG9hZFwiLCAoKSA9PiBjYWxsYmFjayhpbWFnZUVsZW1lbnQpKTtcblx0XHR9XG5cdH1cblxuXHRnZXRDYWNoZWRDYW52YXModXJsLCBjb2xvcilcblx0e1xuXHRcdGxldCBjYW52YXMgPSB0aGlzLmNhbnZhc01hcC5nZXQodXJsLCBjb2xvcik7XG5cdFx0bGV0IGZyZXNoQ2FudmFzID0gZmFsc2U7XG5cblx0XHRpZiAoIWNhbnZhcylcblx0XHR7XG5cdFx0XHRmcmVzaENhbnZhcyA9IHRydWU7XG5cdFx0XHRjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuXHRcdFx0dGhpcy5jYW52YXNNYXAuc2V0KHVybCwgY29sb3IsIGNhbnZhcyk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHtjYW52YXMsIGZyZXNoQ2FudmFzfTtcblx0fVxuXG5cdHJlcXVlc3REYXRhVXJsKHVybCwgY29sb3IsIGNhbGxiYWNrKVxuXHR7XG5cdFx0bGV0IHtjYW52YXMsIGZyZXNoQ2FudmFzfSA9IHRoaXMuZ2V0Q2FjaGVkQ2FudmFzKHVybCwgY29sb3IpO1xuXHRcdC8qIElmIGZyZXNoQ2FudmFzIGlzIHRydWUsIHRoaXMgbWVhbnMgdGhhdCB3ZSBqdXN0IGNyZWF0ZWQgdGhlIGNhbnZhcyBhbmQgaGF2ZW4ndCByZW5kZXJlZCB0byBpdC4gVGltZSB0byBkbyB0aGF0LiAqL1xuXHRcdGlmIChmcmVzaENhbnZhcylcblx0XHR7XG5cdFx0XHR0aGlzLnJlcXVlc3RCYXNlSW1hZ2VFbGVtZW50KHVybCwgZnVuY3Rpb24gKGltYWdlRWxlbWVudCkge1xuXHRcdFx0XHRbY2FudmFzLmhlaWdodCwgY2FudmFzLndpZHRoXSA9IFtpbWFnZUVsZW1lbnQubmF0dXJhbEhlaWdodCwgaW1hZ2VFbGVtZW50Lm5hdHVyYWxXaWR0aF07XG5cdFx0XHRcdGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHRcdFx0XHRjdHguZmlsbFN0eWxlID0gY29sb3I7XG5cdFx0XHRcdGN0eC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuXG5cdFx0XHRcdGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcImRlc3RpbmF0aW9uLWF0b3BcIjtcblx0XHRcdFx0Y3R4LmRyYXdJbWFnZShpbWFnZUVsZW1lbnQsIDAsIDApO1xuXG5cdFx0XHRcdGN0eC5nbG9iYWxDb21wb3NpdGVPcGVyYXRpb24gPSBcIm11bHRpcGx5XCI7XG5cdFx0XHRcdGN0eC5kcmF3SW1hZ2UoaW1hZ2VFbGVtZW50LCAwLCAwKTtcblxuXHRcdFx0XHRjYWxsYmFjayhjYW52YXMudG9EYXRhVVJMKCkpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGVsc2Vcblx0XHR7XG5cdFx0XHRjYWxsYmFjayhjYW52YXMudG9EYXRhVVJMKCkpO1xuXHRcdH1cblx0fVxuXG5cdGdldEltYWdlKHVybCwgY29sb3IpXG5cdHtcblx0XHRsZXQgaW1hZ2UgPSB0aGlzLmltYWdlTWFwLmdldCh1cmwsIGNvbG9yKTtcblxuXHRcdGlmICghaW1hZ2UpXG5cdFx0e1xuXHRcdFx0aW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblx0XHRcdHRoaXMucmVxdWVzdERhdGFVcmwodXJsLCBjb2xvciwgZnVuY3Rpb24gKGRhdGFVcmwpIHtcblx0XHRcdFx0aW1hZ2Uuc3JjID0gZGF0YVVybDtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBpbWFnZTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBJbWFnZUdseXBoQ2FjaGU7XG4iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL3R5cGluZ3Mvb3BlbmxheWVycy9vcGVubGF5ZXJzLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuXG5pbXBvcnQganF1ZXJ5IGZyb20gXCJqcXVlcnlcIjtcbmltcG9ydCAqIGFzIG9sIGZyb20gXCJvcGVubGF5ZXJzXCI7XG5pbXBvcnQgR2x5cGhMYXllciBmcm9tIFwiLi9HbHlwaExheWVyXCI7XG5pbXBvcnQgRmVhdHVyZUxheWVyIGZyb20gXCIuL0ZlYXR1cmVMYXllclwiO1xuaW1wb3J0IEltYWdlR2x5cGhDYWNoZSBmcm9tIFwiLi9JbWFnZUdseXBoQ2FjaGVcIjtcbmltcG9ydCBMYXllciBmcm9tIFwiLi9MYXllclwiO1xuXG5kZWNsYXJlIHZhciB3ZWF2ZWpzOmFueTtcbmRlY2xhcmUgdmFyIFdlYXZlOmFueTtcblxuY2xhc3MgSW1hZ2VHbHlwaExheWVyIGV4dGVuZHMgR2x5cGhMYXllciB7XG5cblx0cHJpdmF0ZSBpbWFnZUdseXBoQ2FjaGU6SW1hZ2VHbHlwaENhY2hlO1xuXHRjb25zdHJ1Y3RvcihwYXJlbnQsIGxheWVyTmFtZSlcblx0e1xuXHRcdHN1cGVyKHBhcmVudCwgbGF5ZXJOYW1lKTtcblxuXHRcdHRoaXMuaW1hZ2VHbHlwaENhY2hlID0gbmV3IEltYWdlR2x5cGhDYWNoZSgpO1xuXG5cdFx0dGhpcy5sYXllclBhdGgucHVzaChcImltYWdlU2l6ZVwiKS5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLnVwZGF0ZVN0eWxlRGF0YSk7XG5cdFx0dGhpcy5sYXllclBhdGgucHVzaChcImltYWdlVVJMXCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMudXBkYXRlU3R5bGVEYXRhLCB0cnVlKTtcblx0fVxuXG5cdGhhbmRsZU1pc3NpbmdTZXNzaW9uU3RhdGVQcm9wZXJ0aWVzKG5ld1N0YXRlKSBcblx0e1xuXG5cdH1cblxuXHRzZXRJY29uU3R5bGUoZmVhdHVyZSwgaW1nLCBpY29uU2l6ZSlcblx0e1xuXHRcdGxldCBzdHlsZXM6YW55ID0ge307XG5cblx0XHRpZiAoIWltZy5jb21wbGV0ZSB8fCAhaW1nLnNyYylcblx0XHR7XG5cdFx0XHRqcXVlcnkoaW1nKS5vbmUoXCJsb2FkXCIsIHRoaXMuc2V0SWNvblN0eWxlLmJpbmQodGhpcywgZmVhdHVyZSwgaW1nLCBpY29uU2l6ZSkpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGxldCBtYXhEaW0gPSBNYXRoLm1heChpbWcubmF0dXJhbEhlaWdodCwgaW1nLm5hdHVyYWxXaWR0aCk7XG5cblx0XHRsZXQgc2NhbGUgPSBpY29uU2l6ZSAvIG1heERpbTtcblxuXHRcdGxldCBpbWdTaXplID0gW2ltZy5uYXR1cmFsV2lkdGgsIGltZy5uYXR1cmFsSGVpZ2h0XTtcblxuXHRcdGZvciAobGV0IHN0eWxlUHJlZml4IG9mIFtcIm5vcm1hbFwiLCBcInNlbGVjdGVkXCIsIFwicHJvYmVkXCIsIFwidW5zZWxlY3RlZFwiXSlcblx0XHR7XG5cdFx0XHRsZXQgaWNvbjtcblx0XHRcdGlmIChzdHlsZVByZWZpeCA9PT0gXCJwcm9iZWRcIilcblx0XHRcdHtcblx0XHRcdFx0aWNvbiA9IG5ldyBvbC5zdHlsZS5JY29uKHtpbWcsIGltZ1NpemUsIHNjYWxlOiBzY2FsZSAqIDIuMH0pO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZVxuXHRcdFx0e1xuXHRcdFx0XHRpY29uID0gbmV3IG9sLnN0eWxlLkljb24oe2ltZywgaW1nU2l6ZSwgc2NhbGV9KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHN0eWxlUHJlZml4ID09PSBcInVuc2VsZWN0ZWRcIilcblx0XHRcdHtcblx0XHRcdFx0aWNvbi5zZXRPcGFjaXR5KDEgLyAzKTtcblx0XHRcdH1cblxuXHRcdFx0c3R5bGVzW3N0eWxlUHJlZml4ICsgXCJTdHlsZVwiXSA9IG5ldyBvbC5zdHlsZS5TdHlsZSh7aW1hZ2U6IGljb259KTtcblx0XHR9XG5cblx0XHRzdHlsZXMucmVwbGFjZSA9IHRydWU7XG5cblx0XHRmZWF0dXJlLnNldFByb3BlcnRpZXMoc3R5bGVzKTtcblx0fVxuXG5cdHVwZGF0ZVN0eWxlRGF0YSgpIHtcblx0XHQvKiBVcGRhdGUgZmVhdHVyZSBzdHlsZXMgKi9cblxuXHRcdHZhciByZWNvcmRzID0gdGhpcy5sYXllclBhdGgucmV0cmlldmVSZWNvcmRzKFtcImFscGhhXCIsIFwiY29sb3JcIiwgXCJpbWFnZVVSTFwiLCBcImltYWdlU2l6ZVwiXSwgdGhpcy5sYXllclBhdGgucHVzaChcImRhdGFYXCIpKTtcblxuXHRcdGZvciAobGV0IHJlY29yZCBvZiByZWNvcmRzKVxuXHRcdHtcblx0XHRcdGxldCBmZWF0dXJlID0gdGhpcy5zb3VyY2UuZ2V0RmVhdHVyZUJ5SWQocmVjb3JkLmlkKTtcblxuXHRcdFx0aWYgKCFmZWF0dXJlKVxuXHRcdFx0e1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IGltYWdlU2l6ZSA9IE51bWJlcihyZWNvcmQuaW1hZ2VTaXplKTtcblx0XHRcdGxldCBjb2xvciA9IEZlYXR1cmVMYXllci50b0NvbG9yUkdCQShyZWNvcmQuY29sb3IsIHJlY29yZC5hbHBoYSk7XG5cblx0XHRcdGlmICghcmVjb3JkLmltYWdlVVJMKVxuXHRcdFx0e1xuXHRcdFx0XHRmZWF0dXJlLnNldFN0eWxlKG51bGwpO1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IGltZyA9IHRoaXMuaW1hZ2VHbHlwaENhY2hlLmdldEltYWdlKHJlY29yZC5pbWFnZVVSTCwgY29sb3IpO1xuXG5cdFx0XHR0aGlzLnNldEljb25TdHlsZShmZWF0dXJlLCBpbWcsIGltYWdlU2l6ZSk7XG5cdFx0fVxuXHR9XG59XG5cbkxheWVyLnJlZ2lzdGVyQ2xhc3MoXCJ3ZWF2ZS52aXN1YWxpemF0aW9uLnBsb3R0ZXJzOjpJbWFnZUdseXBoUGxvdHRlclwiLCBJbWFnZUdseXBoTGF5ZXIsIFt3ZWF2ZWpzLmFwaS5jb3JlLklMaW5rYWJsZU9iamVjdFdpdGhOZXdQcm9wZXJ0aWVzXSk7XG5leHBvcnQgZGVmYXVsdCBJbWFnZUdseXBoTGF5ZXI7XG4iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL3R5cGluZ3Mvb3BlbmxheWVycy9vcGVubGF5ZXJzLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuXG5pbXBvcnQgKiBhcyBvbCBmcm9tIFwib3BlbmxheWVyc1wiO1xuaW1wb3J0ICogYXMgbG9kYXNoIGZyb20gXCJsb2Rhc2hcIjtcblxuaW1wb3J0IFN0YW5kYXJkTGliIGZyb20gXCIuLi8uLi8uLi91dGlscy9TdGFuZGFyZExpYlwiO1xuaW1wb3J0IHtGZWF0dXJlTGF5ZXIsIE1ldGFTdHlsZVByb3BlcnRpZXN9IGZyb20gXCIuL0ZlYXR1cmVMYXllclwiO1xuaW1wb3J0IEdseXBoTGF5ZXIgZnJvbSBcIi4vR2x5cGhMYXllclwiO1xuaW1wb3J0IExheWVyIGZyb20gXCIuL0xheWVyXCI7XG5pbXBvcnQgT3BlbkxheWVyc01hcFRvb2wgZnJvbSBcIi4uLy4uL09wZW5MYXllcnNNYXBUb29sXCI7XG5cbmRlY2xhcmUgdmFyIFdlYXZlOiBhbnk7XG5kZWNsYXJlIHZhciB3ZWF2ZWpzOiBhbnk7XG5cbmNsYXNzIExhYmVsTGF5ZXIgZXh0ZW5kcyBHbHlwaExheWVyIHtcblx0cHVibGljIGFuZ2xlOiBhbnkgLyp3ZWF2ZWpzLmFwaS5kYXRhLklBdHRyaWJ1dGVDb2x1bW4qLztcblx0cHVibGljIGJvbGQ6IGFueSAvKndlYXZlanMuYXBpLmRhdGEuSUF0dHJpYnV0ZUNvbHVtbiovO1xuXHRwdWJsaWMgY29sb3I6IGFueSAvKndlYXZlanMuYXBpLmRhdGEuSUF0dHJpYnV0ZUNvbHVtbiovO1xuXHRwdWJsaWMgZm9udDogYW55IC8qd2VhdmVqcy5hcGkuZGF0YS5JQXR0cmlidXRlQ29sdW1uKi87XG5cdHB1YmxpYyBoQWxpZ246IGFueSAvKndlYXZlanMuYXBpLmRhdGEuSUF0dHJpYnV0ZUNvbHVtbiovO1xuXHRwdWJsaWMgdkFsaWduOiBhbnkgLyp3ZWF2ZWpzLmFwaS5kYXRhLklBdHRyaWJ1dGVDb2x1bW4qLztcblx0cHVibGljIGl0YWxpYzogYW55IC8qd2VhdmVqcy5hcGkuZGF0YS5JQXR0cmlidXRlQ29sdW1uKi87XG5cdHB1YmxpYyBzaXplOiBhbnkgLyp3ZWF2ZWpzLmFwaS5kYXRhLklBdHRyaWJ1dGVDb2x1bW4qLztcblx0cHVibGljIHRleHQ6IGFueSAvKndlYXZlanMuYXBpLmRhdGEuSUF0dHJpYnV0ZUNvbHVtbiovO1xuXHRwdWJsaWMgdW5kZXJsaW5lOiBhbnkgLyp3ZWF2ZWpzLmFwaS5kYXRhLklBdHRyaWJ1dGVDb2x1bW4qLztcblxuXHRwcml2YXRlIGNvbHVtbnM6IE1hcDxzdHJpbmcsYW55PjtcblxuXG5cdGNvbnN0cnVjdG9yKHBhcmVudDpPcGVuTGF5ZXJzTWFwVG9vbCwgbGF5ZXJOYW1lOnN0cmluZylcblx0e1xuXHRcdHN1cGVyKHBhcmVudCwgbGF5ZXJOYW1lKTtcblxuXHRcdHRoaXMuc2l6ZSA9IHRoaXMubGF5ZXJQYXRoLmdldE9iamVjdChcInNpemVcIik7XG5cdFx0dGhpcy50ZXh0ID0gdGhpcy5sYXllclBhdGguZ2V0T2JqZWN0KFwidGV4dFwiKTtcblx0XHR0aGlzLmNvbG9yID0gdGhpcy5sYXllclBhdGguZ2V0T2JqZWN0KFwiY29sb3JcIik7XG5cblx0XHR0aGlzLnNpemUuYWRkR3JvdXBlZENhbGxiYWNrKHRoaXMsIHRoaXMudXBkYXRlU3R5bGVEYXRhKVxuXHRcdHRoaXMudGV4dC5hZGRHcm91cGVkQ2FsbGJhY2sodGhpcywgdGhpcy51cGRhdGVTdHlsZURhdGEpXG5cdFx0dGhpcy5jb2xvci5hZGRHcm91cGVkQ2FsbGJhY2sodGhpcywgdGhpcy51cGRhdGVTdHlsZURhdGEsIHRydWUpO1xuXHR9XG5cblx0dXBkYXRlU3R5bGVEYXRhKCk6dm9pZCBcblx0e1xuXHRcdGZvciAobGV0IGtleSBvZiB0aGlzLnRleHQua2V5cylcblx0XHR7XG5cdFx0XHRsZXQgZmVhdHVyZTogb2wuRmVhdHVyZSA9IHRoaXMuc291cmNlLmdldEZlYXR1cmVCeUlkKGtleS50b1N0cmluZygpKTtcblx0XHRcdGlmICghZmVhdHVyZSlcblx0XHRcdHtcblx0XHRcdFx0Y29udGludWU7XG5cdFx0XHR9XG5cblx0XHRcdGxldCB0ZXh0OiBzdHJpbmcgPSB0aGlzLnRleHQuZ2V0VmFsdWVGcm9tS2V5KGtleSwgU3RyaW5nKTtcblx0XHRcdGxldCBzaXplOiBudW1iZXIgPSB0aGlzLnNpemUuZ2V0VmFsdWVGcm9tS2V5KGtleSwgTnVtYmVyKTtcblx0XHRcdGxldCBjb2xvcjogc3RyaW5nID0gdGhpcy5jb2xvci5nZXRWYWx1ZUZyb21LZXkoa2V5LCBTdHJpbmcpO1xuXHRcdFx0bGV0IGZvbnQ6IHN0cmluZyA9IGAke3NpemV9cHggc2Fucy1zZXJpZmA7XG5cblx0XHRcdGxldCB0ZXh0Q29sb3I6IHN0cmluZyA9IEZlYXR1cmVMYXllci50b0NvbG9yUkdCQShjb2xvciwgMSk7XG5cdFx0XHRsZXQgZmFkZWRUZXh0Q29sb3I6IHN0cmluZyA9IEZlYXR1cmVMYXllci50b0NvbG9yUkdCQShjb2xvciwgMC41KTtcblxuXHRcdFx0bGV0IHNlbGVjdGVkU3Ryb2tlOiBvbC5zdHlsZS5TdHJva2UgPSBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtcblx0XHRcdFx0Y29sb3I6IFwicmdiYSgxMjgsMTI4LDEyOCwwLjc1KVwiLCB3aWR0aDogM1xuXHRcdFx0fSk7XG5cblx0XHRcdGxldCBwcm9iZVN0cm9rZTpvbC5zdHlsZS5TdHJva2UgPSBuZXcgb2wuc3R5bGUuU3Ryb2tlKHtjb2xvcjogXCJ3aGl0ZVwiLCB3aWR0aDogMn0pO1xuXG5cdFx0XHRsZXQgbm9ybWFsRmlsbDogb2wuc3R5bGUuRmlsbCA9IG5ldyBvbC5zdHlsZS5GaWxsKHsgY29sb3I6IHRleHRDb2xvciB9KTtcblx0XHRcdGxldCBmYWRlZEZpbGw6IG9sLnN0eWxlLkZpbGwgPSBuZXcgb2wuc3R5bGUuRmlsbCh7IGNvbG9yOiBmYWRlZFRleHRDb2xvciB9KTtcblx0XG5cdFx0XHRsZXQgbm9ybWFsVGV4dCA9IG5ldyBvbC5zdHlsZS5UZXh0KHsgdGV4dCwgZm9udCwgZmlsbDogbm9ybWFsRmlsbCB9KTtcblx0XHRcdGxldCBwcm9iZWRUZXh0ID0gbmV3IG9sLnN0eWxlLlRleHQoeyB0ZXh0LCBmb250LCBmaWxsOiBub3JtYWxGaWxsLCBzdHJva2U6IHByb2JlU3Ryb2tlIH0pO1xuXHRcdFx0bGV0IHNlbGVjdGVkVGV4dCA9IG5ldyBvbC5zdHlsZS5UZXh0KHsgdGV4dCwgZm9udCwgZmlsbDogbm9ybWFsRmlsbCwgc3Ryb2tlOiBzZWxlY3RlZFN0cm9rZSB9KTtcblx0XHRcdGxldCB1bnNlbGVjdGVkVGV4dCA9IG5ldyBvbC5zdHlsZS5UZXh0KHsgdGV4dCwgZm9udCwgZmlsbDogZmFkZWRGaWxsIH0pO1xuXG5cdFx0XHRsZXQgbWV0YVN0eWxlOiBhbnkgPSB7fTtcblxuXHRcdFx0bWV0YVN0eWxlLm5vcm1hbFN0eWxlID0gbmV3IG9sLnN0eWxlLlN0eWxlKHsgdGV4dDogbm9ybWFsVGV4dCB9KTtcblx0XHRcdG1ldGFTdHlsZS51bnNlbGVjdGVkU3R5bGUgPSBuZXcgb2wuc3R5bGUuU3R5bGUoeyB0ZXh0OiB1bnNlbGVjdGVkVGV4dCB9KTtcblx0XHRcdG1ldGFTdHlsZS5zZWxlY3RlZFN0eWxlID0gbmV3IG9sLnN0eWxlLlN0eWxlKHt0ZXh0OiBzZWxlY3RlZFRleHR9KTtcblx0XHRcdG1ldGFTdHlsZS5wcm9iZWRTdHlsZSA9IG5ldyBvbC5zdHlsZS5TdHlsZSh7IHRleHQ6IHByb2JlZFRleHQgfSk7XG5cdFx0XHRcblx0XHRcdG1ldGFTdHlsZS5yZXBsYWNlID0gdHJ1ZTtcblxuXHRcdFx0ZmVhdHVyZS5zZXRQcm9wZXJ0aWVzKG1ldGFTdHlsZSk7XG5cdFx0fVxuXHR9XG59XG5cbkxheWVyLnJlZ2lzdGVyQ2xhc3MoXCJ3ZWF2ZS52aXN1YWxpemF0aW9uLnBsb3R0ZXJzOjpUZXh0R2x5cGhQbG90dGVyXCIsIExhYmVsTGF5ZXIsIFt3ZWF2ZWpzLmFwaS5jb3JlLklMaW5rYWJsZU9iamVjdFdpdGhOZXdQcm9wZXJ0aWVzXSk7XG5leHBvcnQgZGVmYXVsdCBMYWJlbExheWVyO1xuIiwiLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi8uLi90eXBpbmdzL29wZW5sYXllcnMvb3BlbmxheWVycy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cblxuaW1wb3J0IE9wZW5MYXllcnNNYXBUb29sIGZyb20gXCIuLi8uLi9PcGVuTGF5ZXJzTWFwVG9vbFwiO1xuaW1wb3J0ICogYXMgbG9kYXNoIGZyb20gXCJsb2Rhc2hcIjtcbmRlY2xhcmUgdmFyIHdlYXZlanM6YW55O1xuZGVjbGFyZSB2YXIgV2VhdmU6YW55O1xuXG5cblxuYWJzdHJhY3QgY2xhc3MgTGF5ZXIge1xuXHRzdGF0aWMgbGF5ZXJSZWdpc3RyeTpNYXA8c3RyaW5nLGFueT47XG5cdHN0YXRpYyByZWdpc3RlckNsYXNzKGFzQ2xhc3NOYW1lOnN0cmluZywganNDbGFzczphbnksIGludGVyZmFjZXM/OkFycmF5PGFueT4pXG5cdHtcblx0XHRpZiAoIUxheWVyLmxheWVyUmVnaXN0cnkpXG5cdFx0e1xuXHRcdFx0TGF5ZXIubGF5ZXJSZWdpc3RyeSA9IG5ldyBNYXA8c3RyaW5nLGFueT4oKTtcblx0XHR9XG5cdFx0TGF5ZXIubGF5ZXJSZWdpc3RyeS5zZXQoYXNDbGFzc05hbWUsIGpzQ2xhc3MpO1xuXHR9XG5cblx0c3RhdGljIG5ld0xheWVyKHBhcmVudDpPcGVuTGF5ZXJzTWFwVG9vbCwgbGF5ZXJOYW1lOnN0cmluZylcblx0e1xuXHRcdGxldCBwYXRoOldlYXZlUGF0aCA9IHBhcmVudC5wbG90dGVyc1BhdGgucHVzaChsYXllck5hbWUpO1xuXHRcdGxldCBsYXllclR5cGU6c3RyaW5nID0gcGF0aC5nZXRUeXBlKCk7XG5cdFx0bGV0IExheWVyQ2xhc3M6YW55ID0gTGF5ZXIubGF5ZXJSZWdpc3RyeS5nZXQobGF5ZXJUeXBlKTtcblx0XHRpZiAoTGF5ZXJDbGFzcylcblx0XHR7XG5cdFx0XHRyZXR1cm4gbmV3IExheWVyQ2xhc3MocGFyZW50LCBsYXllck5hbWUpO1xuXHRcdH1cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdGhhbmRsZU1pc3NpbmdTZXNzaW9uU3RhdGVQcm9wZXJ0aWVzKG5ld1N0YXRlKVxuXHR7XG5cblx0fVxuXG5cdGxheWVyUGF0aDpXZWF2ZVBhdGg7XG5cdHNldHRpbmdzUGF0aDpXZWF2ZVBhdGg7XG5cdHByb2plY3Rpb25QYXRoOldlYXZlUGF0aDtcblx0bGF5ZXJOYW1lOnN0cmluZztcblx0cGFyZW50OmFueTtcblxuXHRfb2xMYXllcjpvbC5sYXllci5MYXllcjtcblx0X2xheWVyUmVhZHlDYWxsYmFja3M6TWFwPHN0cmluZyxGdW5jdGlvbj47XG5cblxuXHRjb25zdHJ1Y3RvcihwYXJlbnQsIGxheWVyTmFtZSlcblx0e1xuXHRcdHRoaXMubGF5ZXJQYXRoID0gcGFyZW50LnBsb3R0ZXJzUGF0aC5wdXNoKGxheWVyTmFtZSk7XG5cdFx0dGhpcy5zZXR0aW5nc1BhdGggPSBwYXJlbnQubGF5ZXJTZXR0aW5nc1BhdGgucHVzaChsYXllck5hbWUpO1xuXHRcdHRoaXMucHJvamVjdGlvblBhdGggPSBwYXJlbnQudG9vbFBhdGgucHVzaChcInByb2plY3Rpb25TUlNcIik7XG5cdFx0dGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG5cdFx0dGhpcy5sYXllck5hbWUgPSBsYXllck5hbWU7XG5cdFx0dGhpcy5fb2xMYXllciA9IG51bGw7XG5cdFx0dGhpcy5fbGF5ZXJSZWFkeUNhbGxiYWNrcyA9IG5ldyBNYXA8c3RyaW5nLEZ1bmN0aW9uPigpO1xuXG5cdFx0dGhpcy5saW5rUHJvcGVydHkodGhpcy5zZXR0aW5nc1BhdGgucHVzaChcImFscGhhXCIpLCBcIm9wYWNpdHlcIik7XG5cdFx0dGhpcy5saW5rUHJvcGVydHkodGhpcy5zZXR0aW5nc1BhdGgucHVzaChcInZpc2libGVcIiksIFwidmlzaWJsZVwiKTtcblx0XHR0aGlzLmxpbmtQcm9wZXJ0eSh0aGlzLnNldHRpbmdzUGF0aC5wdXNoKFwic2VsZWN0YWJsZVwiKSwgXCJzZWxlY3RhYmxlXCIpO1xuXHRcdC8qIFRPRE8gbWF4IGFuZCBtaW52aXNpYmxlc2NhbGUsIG1hcCB0byBtaW4vbWF4IHJlc29sdXRpb24uICovXG5cdH1cblxuXHRnZXQgc291cmNlKCkge1xuXHRcdHJldHVybiB0aGlzLm9sTGF5ZXIgJiYgdGhpcy5vbExheWVyLmdldFNvdXJjZSgpO1xuXHR9XG5cblx0c2V0IHNvdXJjZSh2YWx1ZSkge1xuXHRcdHRoaXMub2xMYXllci5zZXRTb3VyY2UodmFsdWUpO1xuXHR9XG5cblx0LyogSGFuZGxlcyBpbml0aWFsIGFwcGx5IG9mIGxpbmtlZCBwcm9wZXJ0aWVzLCBhZGRpbmcvcmVtb3ZpbmcgZnJvbSBtYXAgKi9cblx0c2V0IG9sTGF5ZXIodmFsdWUpIHtcblx0XHR0aGlzLl9vbExheWVyID0gdmFsdWU7XG5cblx0XHRpZiAodmFsdWUpIHtcblx0XHRcdHRoaXMucGFyZW50Lm1hcC5hZGRMYXllcih2YWx1ZSk7XG5cblx0XHRcdHZhbHVlLnNldChcImxheWVyT2JqZWN0XCIsIHRoaXMpOyAvKiBOZWVkIHRvIHN0b3JlIHRoaXMgYmFja3JlZiAqL1xuXG5cdFx0XHRpZiAodmFsdWUpIHtcblx0XHRcdFx0Zm9yIChsZXQgbmFtZSBvZiB0aGlzLl9sYXllclJlYWR5Q2FsbGJhY2tzLmtleXMoKSkge1xuXHRcdFx0XHRcdHRoaXMuX2xheWVyUmVhZHlDYWxsYmFja3MuZ2V0KG5hbWUpKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRnZXQgb2xMYXllcigpIHtcblx0XHRyZXR1cm4gdGhpcy5fb2xMYXllcjtcblx0fVxuXG5cdGxpbmtQcm9wZXJ0eShwcm9wZXJ0eVBhdGg6V2VhdmVQYXRoLCBwcm9wZXJ0eU5hbWU6c3RyaW5nLCBpblRyYW5zZm9ybT86RnVuY3Rpb24pXG5cdHtcblx0XHQvKiBjaGFuZ2UgaW4gcGF0aCBtb2RpZnlpbmcgcHJvcGVydHlOYW1lICovXG5cdFx0aW5UcmFuc2Zvcm0gPSBpblRyYW5zZm9ybSB8fCBsb2Rhc2guaWRlbnRpdHk7XG5cblx0XHR2YXIgY2FsbGJhY2sgPSAoKSA9PiB7XG5cdFx0XHRcdGlmICh0aGlzLm9sTGF5ZXIpIHtcblx0XHRcdFx0XHR0aGlzLm9sTGF5ZXIuc2V0KHByb3BlcnR5TmFtZSwgaW5UcmFuc2Zvcm0ocHJvcGVydHlQYXRoLmdldFN0YXRlKCkpKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdHRoaXMuX2xheWVyUmVhZHlDYWxsYmFja3Muc2V0KHByb3BlcnR5TmFtZSwgY2FsbGJhY2spO1xuXG5cdFx0cHJvcGVydHlQYXRoLmFkZENhbGxiYWNrKHRoaXMsIGNhbGxiYWNrLCBmYWxzZSwgZmFsc2UpO1xuXHR9XG5cblx0ZGlzcG9zZSgpXG5cdHtcblx0XHRpZiAodGhpcy5fb2xMYXllciAhPSBudWxsKSB7XG5cdFx0XHR0aGlzLnBhcmVudC5tYXAucmVtb3ZlTGF5ZXIodGhpcy5fb2xMYXllcik7XG5cdFx0fVxuXHR9XG59XG5leHBvcnQgZGVmYXVsdCBMYXllcjtcbiIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy9vcGVubGF5ZXJzL29wZW5sYXllcnMuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL3R5cGluZ3Mvd2VhdmUvV2VhdmVQYXRoLmQudHNcIi8+XG5cbmltcG9ydCAqIGFzIG9sIGZyb20gXCJvcGVubGF5ZXJzXCI7XG5pbXBvcnQgKiBhcyBsb2Rhc2ggZnJvbSBcImxvZGFzaFwiO1xuXG5pbXBvcnQgU3RhbmRhcmRMaWIgZnJvbSBcIi4uLy4uLy4uL3V0aWxzL1N0YW5kYXJkTGliXCI7XG5pbXBvcnQge0ZlYXR1cmVMYXllciwgTWV0YVN0eWxlUHJvcGVydGllc30gZnJvbSBcIi4vRmVhdHVyZUxheWVyXCI7XG5pbXBvcnQgR2x5cGhMYXllciBmcm9tIFwiLi9HbHlwaExheWVyXCI7XG5pbXBvcnQgTGF5ZXIgZnJvbSBcIi4vTGF5ZXJcIjtcblxuZGVjbGFyZSB2YXIgV2VhdmU6YW55O1xuZGVjbGFyZSB2YXIgd2VhdmVqczphbnk7XG5cbmNsYXNzIFNjYXR0ZXJQbG90TGF5ZXIgZXh0ZW5kcyBHbHlwaExheWVyIHtcblxuXHRzaXplQnk6V2VhdmVQYXRoO1xuXHRmaWxsU3R5bGVQYXRoOldlYXZlUGF0aDtcblx0bGluZVN0eWxlUGF0aDpXZWF2ZVBhdGg7XG5cdG1heFJhZGl1c1BhdGg6V2VhdmVQYXRoO1xuXHRtaW5SYWRpdXNQYXRoOldlYXZlUGF0aDtcblx0ZGVmYXVsdFJhZGl1c1BhdGg6V2VhdmVQYXRoO1xuXG5cdGNvbnN0cnVjdG9yKHBhcmVudCwgbGF5ZXJOYW1lKVxuXHR7XG5cdFx0c3VwZXIocGFyZW50LCBsYXllck5hbWUpO1xuXG5cdFx0dGhpcy5zaXplQnkgPSB0aGlzLmxheWVyUGF0aC5wdXNoKFwic2l6ZUJ5XCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMudXBkYXRlU3R5bGVEYXRhLCB0cnVlKTtcblxuXHRcdHRoaXMuZmlsbFN0eWxlUGF0aCA9IHRoaXMubGF5ZXJQYXRoLnB1c2goXCJmaWxsXCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMudXBkYXRlU3R5bGVEYXRhKTtcblx0XHR0aGlzLmxpbmVTdHlsZVBhdGggPSB0aGlzLmxheWVyUGF0aC5wdXNoKFwibGluZVwiKS5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLnVwZGF0ZVN0eWxlRGF0YSk7XG5cdFx0dGhpcy5tYXhSYWRpdXNQYXRoID0gdGhpcy5sYXllclBhdGgucHVzaChcIm1heFNjcmVlblJhZGl1c1wiKS5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLnVwZGF0ZVN0eWxlRGF0YSk7XG5cdFx0dGhpcy5taW5SYWRpdXNQYXRoID0gdGhpcy5sYXllclBhdGgucHVzaChcIm1pblNjcmVlblJhZGl1c1wiKS5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLnVwZGF0ZVN0eWxlRGF0YSk7XG5cblx0XHR0aGlzLmRlZmF1bHRSYWRpdXNQYXRoID0gdGhpcy5sYXllclBhdGgucHVzaChcImRlZmF1bHRTY3JlZW5SYWRpdXNcIikuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy51cGRhdGVTdHlsZURhdGEsIHRydWUpO1xuXHR9XG5cblx0aGFuZGxlTWlzc2luZ1Nlc3Npb25TdGF0ZVByb3BlcnRpZXMobmV3U3RhdGUpXG5cdHtcblxuXHR9XG5cblx0Z2V0VG9vbFRpcENvbHVtbnMoKTogQXJyYXk8YW55PiAvKiBBcnJheTxJQXR0cmlidXRlQ29sdW1uPiAqLyB7XG5cdFx0bGV0IGFkZGl0aW9uYWxDb2x1bW5zOiBBcnJheTxhbnk+ID0gbmV3IEFycmF5PGFueT4oKTtcblx0XHRsZXQgaW50ZXJuYWxDb2x1bW46IGFueTtcblxuXHRcdGZvciAobGV0IGNvbHVtbiBvZiB0aGlzLmZpbGxTdHlsZVBhdGguZ2V0Q2hpbGRyZW4oKS5jb25jYXQodGhpcy5saW5lU3R5bGVQYXRoLmdldENoaWxkcmVuKCkpKSB7XG5cdFx0XHRpbnRlcm5hbENvbHVtbiA9IHdlYXZlanMuZGF0YS5Db2x1bW5VdGlscy5oYWNrX2ZpbmRJbnRlcm5hbER5bmFtaWNDb2x1bW4oY29sdW1uLmdldE9iamVjdCgpKTtcblx0XHRcdGlmIChpbnRlcm5hbENvbHVtbilcblx0XHRcdFx0YWRkaXRpb25hbENvbHVtbnMucHVzaChpbnRlcm5hbENvbHVtbik7XG5cdFx0fVxuXG5cdFx0aW50ZXJuYWxDb2x1bW4gPSB3ZWF2ZWpzLmRhdGEuQ29sdW1uVXRpbHMuaGFja19maW5kSW50ZXJuYWxEeW5hbWljQ29sdW1uKHRoaXMuc2l6ZUJ5LmdldE9iamVjdCgpKTtcblx0XHRpZiAoaW50ZXJuYWxDb2x1bW4pXG5cdFx0XHRhZGRpdGlvbmFsQ29sdW1ucy5wdXNoKGludGVybmFsQ29sdW1uKTtcblxuXHRcdHJldHVybiBhZGRpdGlvbmFsQ29sdW1ucztcblx0fVxuXG5cdHVwZGF0ZVN0eWxlRGF0YSgpXG5cdHtcblxuXHRcdGxldCBmaWxsRW5hYmxlZCA9IHRoaXMuZmlsbFN0eWxlUGF0aC5wdXNoKFwiZW5hYmxlXCIpLmdldFN0YXRlKCk7XG5cdFx0bGV0IHN0cm9rZUVuYWJsZWQgPSB0aGlzLmxpbmVTdHlsZVBhdGgucHVzaChcImVuYWJsZVwiKS5nZXRTdGF0ZSgpO1xuXG5cdFx0dmFyIHN0eWxlUmVjb3JkczphbnkgPSB0aGlzLmxheWVyUGF0aC5yZXRyaWV2ZVJlY29yZHMoe1xuXHRcdFx0ZmlsbDoge1xuXHRcdFx0XHRjb2xvcjogdGhpcy5maWxsU3R5bGVQYXRoLnB1c2goXCJjb2xvclwiKSxcblx0XHRcdFx0YWxwaGE6IHRoaXMuZmlsbFN0eWxlUGF0aC5wdXNoKFwiYWxwaGFcIiksXG5cdFx0XHRcdGltYWdlVVJMOiB0aGlzLmZpbGxTdHlsZVBhdGgucHVzaChcImltYWdlVVJMXCIpXG5cdFx0XHR9LFxuXHRcdFx0c3Ryb2tlOiB7XG5cdFx0XHRcdGNvbG9yOiB0aGlzLmxpbmVTdHlsZVBhdGgucHVzaChcImNvbG9yXCIpLFxuXHRcdFx0XHRhbHBoYTogdGhpcy5saW5lU3R5bGVQYXRoLnB1c2goXCJhbHBoYVwiKSxcblx0XHRcdFx0d2VpZ2h0OiB0aGlzLmxpbmVTdHlsZVBhdGgucHVzaChcIndlaWdodFwiKSxcblx0XHRcdFx0bGluZUNhcDogdGhpcy5saW5lU3R5bGVQYXRoLnB1c2goXCJjYXBzXCIpLFxuXHRcdFx0XHRsaW5lSm9pbjogdGhpcy5saW5lU3R5bGVQYXRoLnB1c2goXCJqb2ludHNcIiksXG5cdFx0XHRcdG1pdGVyTGltaXQ6IHRoaXMubGluZVN0eWxlUGF0aC5wdXNoKFwibWl0ZXJMaW1pdFwiKVxuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dmFyIHN0eWxlUmVjb3Jkc0luZGV4ID0gbG9kYXNoLmluZGV4Qnkoc3R5bGVSZWNvcmRzLCBcImlkXCIpO1xuXG5cdFx0dmFyIHNpemVCeU51bWVyaWMgPSB0aGlzLmxheWVyUGF0aC5yZXRyaWV2ZVJlY29yZHMoe3NpemVCeTogdGhpcy5zaXplQnl9LCB7ZGF0YVR5cGU6IFwibnVtYmVyXCJ9KTtcblxuXHRcdGZvciAobGV0IHJlY29yZCBvZiBzaXplQnlOdW1lcmljKVxuXHRcdHtcblx0XHRcdGxldCBpZCA9IHJlY29yZC5pZDtcblx0XHRcdGxldCBmdWxsUmVjb3JkOmFueSA9IHN0eWxlUmVjb3Jkc0luZGV4W2lkXTtcblx0XHRcdGlmIChmdWxsUmVjb3JkKVxuXHRcdFx0e1xuXHRcdFx0XHRmdWxsUmVjb3JkLnNpemVCeSA9IHJlY29yZC5zaXplQnk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bGV0IHNpemVCeSA9IGxvZGFzaC5wbHVjayhzdHlsZVJlY29yZHMsIFwic2l6ZUJ5XCIpO1xuXHRcdGxldCBzaXplQnlNYXggPSBsb2Rhc2gubWF4KHNpemVCeSk7XG5cdFx0bGV0IHNpemVCeU1pbiA9IGxvZGFzaC5taW4oc2l6ZUJ5KTtcblx0XHRsZXQgYWJzTWF4ID0gTWF0aC5tYXgoTWF0aC5hYnMoc2l6ZUJ5TWF4KSwgTWF0aC5hYnMoc2l6ZUJ5TWluKSk7XG5cdFx0bGV0IG1pblNjcmVlblJhZGl1cyA9IHRoaXMubWluUmFkaXVzUGF0aC5nZXRTdGF0ZSgpO1xuXHRcdGxldCBtYXhTY3JlZW5SYWRpdXMgPSB0aGlzLm1heFJhZGl1c1BhdGguZ2V0U3RhdGUoKTtcblx0XHRsZXQgZGVmYXVsdFNjcmVlblJhZGl1cyA9IHRoaXMuZGVmYXVsdFJhZGl1c1BhdGguZ2V0U3RhdGUoKTtcblxuXHRcdHN0eWxlUmVjb3JkcyA9IGxvZGFzaC5zb3J0QnlPcmRlcihzdHlsZVJlY29yZHMsIFtcInNpemVCeVwiLCBcImlkXCJdLCBbXCJkZXNjXCIsIFwiYXNjXCJdKTtcblxuXHRcdGxldCB6T3JkZXIgPSAwO1xuXG5cdFx0Zm9yIChsZXQgcmVjb3JkIG9mIHN0eWxlUmVjb3Jkcylcblx0XHR7XG5cdFx0XHRsZXQgc2NyZWVuUmFkaXVzO1xuXG5cdFx0XHRsZXQgbm9ybVNpemUgPSBTdGFuZGFyZExpYi5ub3JtYWxpemUoTWF0aC5hYnMocmVjb3JkLnNpemVCeSksIDAsIGFic01heCk7XG5cblx0XHRcdGlmIChpc05hTihub3JtU2l6ZSkgfHwgcmVjb3JkLnNpemVCeSA9PT0gbnVsbClcblx0XHRcdHtcblx0XHRcdFx0c2NyZWVuUmFkaXVzID0gZGVmYXVsdFNjcmVlblJhZGl1cztcblx0XHRcdH1cblx0XHRcdGVsc2Vcblx0XHRcdHtcblx0XHRcdFx0c2NyZWVuUmFkaXVzID0gbWluU2NyZWVuUmFkaXVzICsgKG5vcm1TaXplICogKG1heFNjcmVlblJhZGl1cyAtIG1pblNjcmVlblJhZGl1cykpO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgb2xTdHJva2UgPSBGZWF0dXJlTGF5ZXIub2xTdHJva2VGcm9tV2VhdmVTdHJva2UocmVjb3JkLnN0cm9rZSk7XG5cdFx0XHRsZXQgb2xGaWxsID0gRmVhdHVyZUxheWVyLm9sRmlsbEZyb21XZWF2ZUZpbGwocmVjb3JkLmZpbGwpO1xuXG5cdFx0XHRsZXQgb2xTdHJva2VGYWRlZCA9IEZlYXR1cmVMYXllci5vbFN0cm9rZUZyb21XZWF2ZVN0cm9rZShyZWNvcmQuc3Ryb2tlLCAwLjUpO1xuXHRcdFx0bGV0IG9sRmlsbEZhZGVkID0gRmVhdHVyZUxheWVyLm9sRmlsbEZyb21XZWF2ZUZpbGwocmVjb3JkLmZpbGwsIDAuNSk7XG5cblx0XHRcdGxldCBvbFNlbGVjdGlvblN0eWxlID0gRmVhdHVyZUxheWVyLmdldE9sU2VsZWN0aW9uU3R5bGUob2xTdHJva2UpO1xuXHRcdFx0bGV0IG9sUHJvYmVkU3R5bGUgPSBGZWF0dXJlTGF5ZXIuZ2V0T2xQcm9iZWRTdHlsZShvbFN0cm9rZSk7XG5cblx0XHRcdGxldCBub3JtYWxTdHlsZSA9IFtuZXcgb2wuc3R5bGUuU3R5bGUoe1xuXHRcdFx0XHRpbWFnZTogbmV3IG9sLnN0eWxlLkNpcmNsZSh7XG5cdFx0XHRcdFx0ZmlsbDogZmlsbEVuYWJsZWQgPyBvbEZpbGwgOiB1bmRlZmluZWQsIHN0cm9rZTogc3Ryb2tlRW5hYmxlZCA/IG9sU3Ryb2tlIDogdW5kZWZpbmVkLFxuXHRcdFx0XHRcdHJhZGl1czogc2NyZWVuUmFkaXVzXG5cdFx0XHRcdH0pXG5cdFx0XHR9KV07XG5cblx0XHRcdGxldCB1bnNlbGVjdGVkU3R5bGUgPSBbbmV3IG9sLnN0eWxlLlN0eWxlKHtcblx0XHRcdFx0aW1hZ2U6IG5ldyBvbC5zdHlsZS5DaXJjbGUoe1xuXHRcdFx0XHRcdGZpbGw6IGZpbGxFbmFibGVkID8gb2xGaWxsRmFkZWQgOiB1bmRlZmluZWQsIHN0cm9rZTogc3Ryb2tlRW5hYmxlZCA/IG9sU3Ryb2tlRmFkZWQgOiB1bmRlZmluZWQsXG5cdFx0XHRcdFx0cmFkaXVzOiBzY3JlZW5SYWRpdXNcblx0XHRcdFx0fSlcblx0XHRcdH0pXTtcblxuXHRcdFx0bGV0IHNlbGVjdGVkU3R5bGUgPSAoc3Ryb2tlRW5hYmxlZCB8fCBmaWxsRW5hYmxlZCkgJiYgW1xuXHRcdFx0XHRuZXcgb2wuc3R5bGUuU3R5bGUoe1xuXHRcdFx0XHRcdGltYWdlOiBuZXcgb2wuc3R5bGUuQ2lyY2xlKHtcblx0XHRcdFx0XHRcdHN0cm9rZTogb2xTZWxlY3Rpb25TdHlsZVswXS5nZXRTdHJva2UoKSxcblx0XHRcdFx0XHRcdHJhZGl1czogc2NyZWVuUmFkaXVzXG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0ekluZGV4OiBvbFNlbGVjdGlvblN0eWxlWzBdLmdldFpJbmRleCgpXG5cdFx0XHRcdH0pXG5cdFx0XHRdO1xuXG5cdFx0XHRsZXQgcHJvYmVkU3R5bGUgPSAoc3Ryb2tlRW5hYmxlZCB8fCBmaWxsRW5hYmxlZCkgJiYgW1xuXHRcdFx0XHRuZXcgb2wuc3R5bGUuU3R5bGUoe1xuXHRcdFx0XHRcdGltYWdlOiBuZXcgb2wuc3R5bGUuQ2lyY2xlKHtcblx0XHRcdFx0XHRcdHN0cm9rZTogb2xQcm9iZWRTdHlsZVswXS5nZXRTdHJva2UoKSxcblx0XHRcdFx0XHRcdHJhZGl1czogc2NyZWVuUmFkaXVzXG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0ekluZGV4OiBvbFByb2JlZFN0eWxlWzBdLmdldFpJbmRleCgpXG5cdFx0XHRcdH0pLFxuXHRcdFx0XHRuZXcgb2wuc3R5bGUuU3R5bGUoe1xuXHRcdFx0XHRcdGltYWdlOiBuZXcgb2wuc3R5bGUuQ2lyY2xlKHtcblx0XHRcdFx0XHRcdHN0cm9rZTogb2xQcm9iZWRTdHlsZVsxXS5nZXRTdHJva2UoKSxcblx0XHRcdFx0XHRcdHJhZGl1czogc2NyZWVuUmFkaXVzXG5cdFx0XHRcdFx0fSksXG5cdFx0XHRcdFx0ekluZGV4OiBvbFByb2JlZFN0eWxlWzFdLmdldFpJbmRleCgpXG5cdFx0XHRcdH0pXG5cdFx0XHRdO1xuXG5cdFx0XHRsZXQgZmVhdHVyZSA9IHRoaXMuc291cmNlLmdldEZlYXR1cmVCeUlkKHJlY29yZC5pZCk7XG5cblx0XHRcdGlmIChmZWF0dXJlKVxuXHRcdFx0e1xuXHRcdFx0XHRsZXQgbWV0YVN0eWxlOmFueSA9IHt9O1xuXG5cdFx0XHRcdG1ldGFTdHlsZS5ub3JtYWxTdHlsZSA9IG5vcm1hbFN0eWxlO1xuXHRcdFx0XHRtZXRhU3R5bGUudW5zZWxlY3RlZFN0eWxlID0gdW5zZWxlY3RlZFN0eWxlO1xuXHRcdFx0XHRtZXRhU3R5bGUuc2VsZWN0ZWRTdHlsZSA9IHNlbGVjdGVkU3R5bGU7XG5cdFx0XHRcdG1ldGFTdHlsZS5wcm9iZWRTdHlsZSA9IHByb2JlZFN0eWxlO1xuXHRcdFx0XHRcblx0XHRcdFx0ZmVhdHVyZS5zZXRQcm9wZXJ0aWVzKG1ldGFTdHlsZSk7XG5cdFx0XHR9XG5cblx0XHRcdHpPcmRlcisrO1xuXHRcdH1cblx0fVxufVxuTGF5ZXIucmVnaXN0ZXJDbGFzcyhcIndlYXZlLnZpc3VhbGl6YXRpb24ucGxvdHRlcnM6OlNjYXR0ZXJQbG90UGxvdHRlclwiLCBTY2F0dGVyUGxvdExheWVyLCBbd2VhdmVqcy5hcGkuY29yZS5JTGlua2FibGVPYmplY3RXaXRoTmV3UHJvcGVydGllc10pO1xuZXhwb3J0IGRlZmF1bHQgU2NhdHRlclBsb3RMYXllcjtcbiIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vLi4vdHlwaW5ncy9vcGVubGF5ZXJzL29wZW5sYXllcnMuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uLy4uL3R5cGluZ3Mvd2VhdmUvV2VhdmVQYXRoLmQudHNcIi8+XG5cbmltcG9ydCAqIGFzIG9sIGZyb20gXCJvcGVubGF5ZXJzXCI7XG5pbXBvcnQgTGF5ZXIgZnJvbSBcIi4vTGF5ZXJcIjtcblxuZGVjbGFyZSB2YXIgV2VhdmU6YW55O1xuZGVjbGFyZSB2YXIgd2VhdmVqczphbnk7XG5cbmNsYXNzIFRpbGVMYXllciBleHRlbmRzIExheWVyIHtcblxuXHRzZXJ2aWNlUGF0aDpXZWF2ZVBhdGg7XG5cdG9sZFByb3ZpZGVyTmFtZTpzdHJpbmc7XG5cblx0Y29uc3RydWN0b3IocGFyZW50LCBsYXllck5hbWUpXG5cdHtcblx0XHRzdXBlcihwYXJlbnQsIGxheWVyTmFtZSk7XG5cblx0XHR0aGlzLm9sTGF5ZXIgPSBuZXcgb2wubGF5ZXIuVGlsZSgpO1xuXHRcdHRoaXMuc2VydmljZVBhdGggPSB0aGlzLmxheWVyUGF0aC5wdXNoKFwic2VydmljZVwiLCBudWxsKTtcblx0XHR0aGlzLm9sZFByb3ZpZGVyTmFtZSA9IG51bGw7XG5cblx0XHR0aGlzLnNlcnZpY2VQYXRoLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMudXBkYXRlVGlsZVNvdXJjZSwgdHJ1ZSk7XG5cdFx0dGhpcy5wcm9qZWN0aW9uUGF0aC5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLnVwZGF0ZVZhbGlkRXh0ZW50cywgdHJ1ZSk7XG5cdH1cblxuXHRoYW5kbGVNaXNzaW5nU2Vzc2lvblN0YXRlUHJvcGVydGllcyhuZXdTdGF0ZSlcblx0e1xuXHRcdFxuXHR9XG5cblx0dXBkYXRlVmFsaWRFeHRlbnRzKClcblx0e1xuXHRcdHZhciBwcm9qID0gb2wucHJvai5nZXQodGhpcy5wcm9qZWN0aW9uUGF0aC5nZXRTdGF0ZSgpIHx8IFwiRVBTRzozODU3XCIpO1xuXHRcdGlmIChwcm9qKVxuXHRcdFx0dGhpcy5vbExheWVyLnNldEV4dGVudChwcm9qLmdldEV4dGVudCgpKTtcblx0XHRlbHNlXG5cdFx0XHRjb25zb2xlLmxvZygnaW52YWxpZCBwcm9qIC0+IG5vIGV4dGVudCcpO1xuXHR9XG5cdGdldEN1c3RvbVdNU1NvdXJjZSgpXG5cdHtcblx0XHR2YXIgY3VzdG9tV01TUGF0aCA9IHRoaXMuc2VydmljZVBhdGg7XG5cblx0XHRpZiAoY3VzdG9tV01TUGF0aC5wdXNoKFwid21zVVJMXCIpLmdldFR5cGUoKSkge1xuXHRcdFx0bGV0IHVybCA9IGN1c3RvbVdNU1BhdGguZ2V0U3RhdGUoXCJ3bXNVUkxcIik7XG5cdFx0XHRsZXQgYXR0cmlidXRpb25zID0gY3VzdG9tV01TUGF0aC5nZXRTdGF0ZShcImNyZWRpdEluZm9cIik7XG5cdFx0XHRsZXQgcHJvamVjdGlvbiA9IGN1c3RvbVdNU1BhdGguZ2V0U3RhdGUoXCJ0aWxlUHJvamVjdGlvblNSU1wiKTtcblxuXHRcdFx0cmV0dXJuIG5ldyBvbC5zb3VyY2UuWFlaKHtcblx0XHRcdFx0dXJsLCBhdHRyaWJ1dGlvbnMsIHByb2plY3Rpb25cblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdGdldE1vZGVzdE1hcHNTb3VyY2UoKVxuXHR7XG5cdFx0dmFyIHByb3ZpZGVyTmFtZVBhdGggPSB0aGlzLnNlcnZpY2VQYXRoLnB1c2goXCJwcm92aWRlck5hbWVcIik7XG5cblx0XHRpZiAocHJvdmlkZXJOYW1lUGF0aC5nZXRUeXBlKCkpIHtcblx0XHRcdGxldCBwcm92aWRlck5hbWUgPSBwcm92aWRlck5hbWVQYXRoLmdldFN0YXRlKCk7XG5cblx0XHRcdGlmIChwcm92aWRlck5hbWUgPT09IHRoaXMub2xkUHJvdmlkZXJOYW1lKSB7XG5cdFx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0XHR9XG5cblx0XHRcdHN3aXRjaCAocHJvdmlkZXJOYW1lKVxuXHRcdFx0e1xuXHRcdFx0XHRjYXNlIFwiU3RhbWVuIFdhdGVyQ29sb3JcIjpcblx0XHRcdFx0XHRyZXR1cm4gbmV3IG9sLnNvdXJjZS5TdGFtZW4oe2xheWVyOiBcIndhdGVyY29sb3JcIn0pO1xuXHRcdFx0XHRjYXNlIFwiU3RhbWVuIFRvbmVyXCI6XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBvbC5zb3VyY2UuU3RhbWVuKHtsYXllcjogXCJ0b25lclwifSk7XG5cdFx0XHRcdGNhc2UgXCJPcGVuIE1hcFF1ZXN0IEFlcmlhbFwiOlxuXHRcdFx0XHRcdHJldHVybiBuZXcgb2wuc291cmNlLk1hcFF1ZXN0KHtsYXllcjogXCJzYXRcIn0pO1xuXHRcdFx0XHRjYXNlIFwiT3BlbiBNYXBRdWVzdFwiOlxuXHRcdFx0XHRcdHJldHVybiBuZXcgb2wuc291cmNlLk1hcFF1ZXN0KHtsYXllcjogXCJvc21cIn0pO1xuXHRcdFx0XHRjYXNlIFwiT3BlbiBTdHJlZXQgTWFwXCI6XG5cdFx0XHRcdFx0cmV0dXJuIG5ldyBvbC5zb3VyY2UuT1NNKHt3cmFwWDogZmFsc2V9KTtcblx0XHRcdFx0Y2FzZSBcIkJsdWUgTWFyYmxlIE1hcFwiOlxuXHRcdFx0XHRcdHJldHVybiBuZXcgb2wuc291cmNlLlRpbGVXTVMoe3VybDogXCJodHRwOi8vbmVvd21zLnNjaS5nc2ZjLm5hc2EuZ292L3dtcy93bXNcIiwgd3JhcFg6IGZhbHNlfSk7XG5cdFx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0dXBkYXRlVGlsZVNvdXJjZSgpXG5cdHtcblx0XHR2YXIgc2VydmljZURyaXZlck5hbWUgPSB0aGlzLnNlcnZpY2VQYXRoLmdldFR5cGUoKTtcblx0XHR2YXIgbmV3TGF5ZXIgPSBudWxsO1xuXHRcdHN3aXRjaCAoc2VydmljZURyaXZlck5hbWUpXG5cdFx0e1xuXHRcdFx0Y2FzZSBcIndlYXZlLnNlcnZpY2VzLndtczo6TW9kZXN0TWFwc1dNU1wiOlxuXHRcdFx0XHRuZXdMYXllciA9IHRoaXMuZ2V0TW9kZXN0TWFwc1NvdXJjZSgpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJ3ZWF2ZS5zZXJ2aWNlcy53bXM6OkN1c3RvbVdNU1wiOlxuXHRcdFx0XHRuZXdMYXllciA9IHRoaXMuZ2V0Q3VzdG9tV01TU291cmNlKCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0bmV3TGF5ZXIgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChuZXdMYXllciAhPT0gdW5kZWZpbmVkKVxuXHRcdHtcblx0XHRcdHRoaXMuc291cmNlID0gbmV3TGF5ZXI7XG5cdFx0fVxuXHR9XG59XG5cbkxheWVyLnJlZ2lzdGVyQ2xhc3MoXCJ3ZWF2ZS52aXN1YWxpemF0aW9uLnBsb3R0ZXJzOjpXTVNQbG90dGVyXCIsIFRpbGVMYXllciwgW3dlYXZlanMuYXBpLmNvcmUuSUxpbmthYmxlT2JqZWN0V2l0aE5ld1Byb3BlcnRpZXNdKTtcbmV4cG9ydCBkZWZhdWx0IFRpbGVMYXllcjtcblxuXG4iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL3R5cGluZ3Mvb3BlbmxheWVycy9vcGVubGF5ZXJzLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi90eXBpbmdzL2pxdWVyeS9qcXVlcnkuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uLy4uL3R5cGluZ3Mvd2VhdmUvV2VhdmVQYXRoLmQudHNcIi8+XG5cbmltcG9ydCAqIGFzIG9sIGZyb20gXCJvcGVubGF5ZXJzXCI7XG5pbXBvcnQganF1ZXJ5IGZyb20gXCJqcXVlcnlcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFuQ2x1c3RlciBleHRlbmRzIG9sLmNvbnRyb2wuQ29udHJvbCB7XG5cdGNvbnN0cnVjdG9yKG9wdE9wdGlvbnM/KSB7XG5cdFx0dmFyIG9wdGlvbnMgPSBvcHRPcHRpb25zIHx8IHt9O1xuXHRcdGxldCBwYXJlbnQgPSBqcXVlcnkoYFxuXHRcdDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsMCwwLDApXCIgY2xhc3M9XCJvbC11bnNlbGVjdGFibGUgb2wtY29udHJvbCBwYW5DbHVzdGVyXCI+XG5cdFx0XHQ8dGFibGUgc3R5bGU9XCJmb250LXNpemU6NzUlXCI+XG5cdFx0XHRcdDx0cj5cblx0XHRcdFx0XHQ8dGQ+PC90ZD48dGQgY2xhc3M9XCJvbC1jb250cm9sXCIgc3R5bGU9XCJwb3NpdGlvbjpyZWxhdGl2ZVwiPjxidXR0b24gY2xhc3M9XCJwYW5DbHVzdGVyIE5cIj5OPC9idXR0b24+PC90ZD48dGQ+PC90ZD5cblx0XHRcdFx0PC90cj5cblx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdDx0ZCBjbGFzcz1cIm9sLWNvbnRyb2xcIiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlXCI+PGJ1dHRvbiBjbGFzcz1cInBhbkNsdXN0ZXIgV1wiPlc8L2J1dHRvbj48L3RkPlxuXHRcdFx0XHRcdDx0ZCBjbGFzcz1cIm9sLWNvbnRyb2xcIiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlXCI+PGJ1dHRvbiBjbGFzcz1cInBhbkNsdXN0ZXIgWCBmYSBmYS1hcnJvd3MtYWx0XCI+PC9idXR0b24+PC90ZD5cblx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJvbC1jb250cm9sXCIgc3R5bGU9XCJwb3NpdGlvbjpyZWxhdGl2ZVwiPjxidXR0b24gY2xhc3M9XCJwYW5DbHVzdGVyIEVcIj5FPC9idXR0b24+PC90ZD5cblx0XHRcdFx0PC90cj5cblx0XHRcdFx0PHRyPlxuXHRcdFx0XHRcdDx0ZD48L3RkPjx0ZCBjbGFzcz1cIm9sLWNvbnRyb2xcIiBzdHlsZT1cInBvc2l0aW9uOnJlbGF0aXZlXCI+PGJ1dHRvbiBjbGFzcz1cInBhbkNsdXN0ZXIgU1wiPlM8L2J1dHRvbj48L3RkPjx0ZD48L3RkPlxuXHRcdFx0XHQ8L3RyPlxuXHRcdFx0PC90YWJsZT5cblx0XHQ8L2Rpdj5gKTtcblxuXHRcdHZhciBkaXJlY3Rpb25zID0ge1xuXHRcdFx0TjogWzAsIDFdLFxuXHRcdFx0RTogWzEsIDBdLFxuXHRcdFx0UzogWzAsIC0xXSxcblx0XHRcdFc6IFstMSwgMF0sXG5cdFx0XHRYOiBbbnVsbCwgbnVsbF1cblx0XHR9O1xuXG5cdFx0c3VwZXIoeyBlbGVtZW50OiBwYXJlbnRbMF0sIHRhcmdldDogb3B0aW9ucy50YXJnZXQgfSk7XG5cblx0XHRsZXQgc2VsZiA9IHRoaXM7XG5cblx0XHRsZXQgcGFuID0gZnVuY3Rpb24oeFNpZ24sIHlTaWduKSB7XG5cdFx0XHRsZXQgcGFuUGVyY2VudCA9IDAuMztcblx0XHRcdGxldCBtYXAgPSBzZWxmLmdldE1hcCgpO1xuXHRcdFx0bGV0IHZpZXcgPSBtYXAuZ2V0VmlldygpO1xuXHRcdFx0bGV0IGV4dGVudCA9IHZpZXcuY2FsY3VsYXRlRXh0ZW50KG1hcC5nZXRTaXplKCkpO1xuXG5cdFx0XHRsZXQgZXh0ZW50V2lkdGggPSBNYXRoLmFicyhleHRlbnRbMF0gLSBleHRlbnRbMl0pO1xuXHRcdFx0bGV0IGV4dGVudEhlaWdodCA9IE1hdGguYWJzKGV4dGVudFsxXSAtIGV4dGVudFszXSk7XG5cblx0XHRcdGxldCBjZW50ZXIgPSB2aWV3LmdldENlbnRlcigpO1xuXG5cdFx0XHRjZW50ZXJbMF0gKz0gZXh0ZW50V2lkdGggKiB4U2lnbiAqIHBhblBlcmNlbnQ7XG5cdFx0XHRjZW50ZXJbMV0gKz0gZXh0ZW50SGVpZ2h0ICogeVNpZ24gKiBwYW5QZXJjZW50O1xuXG5cdFx0XHR2aWV3LnNldENlbnRlcihjZW50ZXIpO1xuXHRcdH07XG5cblx0XHRsZXQgem9vbUV4dGVudCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0bGV0IG1hcCA9IHNlbGYuZ2V0TWFwKCk7XG5cdFx0XHRsZXQgdmlldyA9IG1hcC5nZXRWaWV3KCk7XG5cdFx0XHRsZXQgZXh0ZW50ID0gdmlldy5nZXQoXCJleHRlbnRcIikgfHwgdmlldy5nZXRQcm9qZWN0aW9uKCkuZ2V0RXh0ZW50KCk7XG5cdFx0XHRsZXQgc2l6ZSA9IG1hcC5nZXRTaXplKCk7XG5cdFx0XHR2aWV3LmZpdChleHRlbnQsIHNpemUpO1xuXHRcdH07XG5cblx0XHRmb3IgKGxldCBkaXJlY3Rpb24gaW4gZGlyZWN0aW9ucykge1xuXHRcdFx0bGV0IHhTaWduID0gZGlyZWN0aW9uc1tkaXJlY3Rpb25dWzBdO1xuXHRcdFx0bGV0IHlTaWduID0gZGlyZWN0aW9uc1tkaXJlY3Rpb25dWzFdO1xuXG5cdFx0XHRsZXQgYnV0dG9uID0gcGFyZW50LmZpbmQoXCIucGFuQ2x1c3Rlci5cIiArIGRpcmVjdGlvbik7XG5cblx0XHRcdGlmICh4U2lnbiAhPT0gbnVsbCkge1xuXHRcdFx0XHRidXR0b24uY2xpY2socGFuLmJpbmQodGhpcywgeFNpZ24sIHlTaWduKSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0YnV0dG9uLmNsaWNrKHpvb21FeHRlbnQuYmluZCh0aGlzKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG59IiwiLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi90eXBpbmdzL29wZW5sYXllcnMvb3BlbmxheWVycy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vLi4vdHlwaW5ncy9qcXVlcnkvanF1ZXJ5LmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuXG5pbXBvcnQgKiBhcyBvbCBmcm9tIFwib3BlbmxheWVyc1wiO1xuaW1wb3J0ICogYXMgbG9kYXNoIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCBGZWF0dXJlTGF5ZXIgZnJvbSBcIi4vTGF5ZXJzL0ZlYXR1cmVMYXllclwiO1xuaW1wb3J0IE9wZW5MYXllcnNNYXBUb29sIGZyb20gXCIuLi9PcGVuTGF5ZXJzTWFwVG9vbFwiO1xuaW1wb3J0IHtJVG9vbFRpcFN0YXRlfSBmcm9tIFwiLi4vdG9vbHRpcFwiO1xuXG5kZWNsYXJlIHZhciBXZWF2ZTphbnk7XG5kZWNsYXJlIHZhciB3ZWF2ZWpzOmFueTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvYmVJbnRlcmFjdGlvbiBleHRlbmRzIG9sLmludGVyYWN0aW9uLlBvaW50ZXJcbntcblx0cHJpdmF0ZSB0b3BLZXlTdHJpbmc6IHN0cmluZztcblx0cHJpdmF0ZSB0b3BaSW5kZXg6IG51bWJlcjtcblx0cHJpdmF0ZSB0b3BLZXlTZXQ6IGFueTtcblx0cHJpdmF0ZSB0b3BMYXllcjogRmVhdHVyZUxheWVyO1xuXHRwcml2YXRlIHRvb2w6IE9wZW5MYXllcnNNYXBUb29sO1xuXG5cdGNvbnN0cnVjdG9yKHRvb2w6T3BlbkxheWVyc01hcFRvb2wpXG5cdHtcblx0XHRzdXBlcih7aGFuZGxlTW92ZUV2ZW50OiBQcm9iZUludGVyYWN0aW9uLnByb3RvdHlwZS5oYW5kbGVNb3ZlRXZlbnR9KTtcblx0XHR0aGlzLnRvb2wgPSB0b29sO1xuXHR9XG5cblx0c2V0TWFwKG1hcDpvbC5NYXApXG5cdHtcblx0XHRzdXBlci5zZXRNYXAobWFwKTtcblx0XHRsZXQgZWxlbWVudDogRWxlbWVudCA9IG1hcC5nZXRUYXJnZXRFbGVtZW50KCk7XG5cblx0XHRtYXAuZ2V0VGFyZ2V0RWxlbWVudCgpLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgdGhpcy5oYW5kbGVPdXRFdmVudC5iaW5kKHRoaXMpKTtcblx0fVxuXG5cdHByaXZhdGUgb25GZWF0dXJlQXRQaXhlbChmZWF0dXJlOiBvbC5GZWF0dXJlLCBsYXllcjogb2wubGF5ZXIuTGF5ZXIpOnZvaWRcblx0e1xuXHRcdGxldCB6SW5kZXg6IG51bWJlciA9IGxheWVyLmdldFpJbmRleCgpO1xuXG5cblx0XHRpZiAoekluZGV4ID4gdGhpcy50b3BaSW5kZXgpXG5cdFx0e1xuXHRcdFx0bGV0IHdlYXZlTGF5ZXJPYmplY3Q6IEZlYXR1cmVMYXllciA9IGxheWVyLmdldChcImxheWVyT2JqZWN0XCIpO1xuXHRcdFx0dGhpcy50b3BLZXlTZXQgPSB3ZWF2ZUxheWVyT2JqZWN0LnByb2JlS2V5U2V0ICYmIHdlYXZlTGF5ZXJPYmplY3QucHJvYmVLZXlTZXQuZ2V0T2JqZWN0KCkgfHwgdGhpcy50b3BLZXlTZXQ7XG5cdFx0XHR0aGlzLnRvcFpJbmRleCA9IHpJbmRleDtcblx0XHRcdHRoaXMudG9wS2V5U3RyaW5nID0gZmVhdHVyZS5nZXRJZCgpLnRvU3RyaW5nKCk7XG5cdFx0XHR0aGlzLnRvcExheWVyID0gd2VhdmVMYXllck9iamVjdDtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIHN0YXRpYyBsYXllckZpbHRlcihsYXllcjpvbC5sYXllci5CYXNlKTpib29sZWFuXG5cdHtcblx0XHRyZXR1cm4gbGF5ZXIuZ2V0KFwic2VsZWN0YWJsZVwiKTtcblx0fVxuXG5cdHByaXZhdGUgcGl4ZWxUb0tleShwaXhlbDpvbC5QaXhlbCk6YW55XG5cdHtcblx0XHRsZXQgbWFwOiBvbC5NYXAgPSB0aGlzLmdldE1hcCgpO1xuXG5cdFx0dGhpcy50b3BLZXlTZXQgPSBudWxsO1xuXHRcdHRoaXMudG9wWkluZGV4ID0gLUluZmluaXR5O1xuXHRcdHRoaXMudG9wTGF5ZXIgPSBudWxsO1xuXHRcdHRoaXMudG9wS2V5U3RyaW5nID0gbnVsbDtcblx0XHRsZXQgdG9wS2V5OiBhbnkgLypJUXVhbGlmaWVkS2V5ICovO1xuXHRcdFxuXHRcdG1hcC5mb3JFYWNoRmVhdHVyZUF0UGl4ZWwocGl4ZWwsIHRoaXMub25GZWF0dXJlQXRQaXhlbCwgdGhpcywgUHJvYmVJbnRlcmFjdGlvbi5sYXllckZpbHRlcik7XG5cblxuXG5cdFx0aWYgKHRoaXMudG9wS2V5U3RyaW5nICYmIHRoaXMudG9wS2V5U2V0KVxuXHRcdHtcblx0XHRcdHRvcEtleSA9IHdlYXZlanMuV2VhdmVBUEkuUUtleU1hbmFnZXIuc3RyaW5nVG9RS2V5KHRoaXMudG9wS2V5U3RyaW5nKTtcblx0XHRcdHRoaXMudG9wS2V5U2V0LnJlcGxhY2VLZXlzKFt0b3BLZXldKTtcblx0XHR9XG5cdFx0XG5cdFx0Zm9yIChsZXQgbGF5ZXIgb2YgbWFwLmdldExheWVycygpLmdldEFycmF5KCkpXG5cdFx0e1xuXHRcdFx0aWYgKCFQcm9iZUludGVyYWN0aW9uLmxheWVyRmlsdGVyKGxheWVyKSkgY29udGludWU7XG5cdFx0XHRsZXQgd2VhdmVMYXllck9iamVjdDogRmVhdHVyZUxheWVyID0gbGF5ZXIuZ2V0KFwibGF5ZXJPYmplY3RcIik7XG5cdFx0XHRsZXQga2V5U2V0OmFueSA9IHdlYXZlTGF5ZXJPYmplY3QucHJvYmVLZXlTZXQgJiYgd2VhdmVMYXllck9iamVjdC5wcm9iZUtleVNldC5nZXRPYmplY3QoKTtcblx0XHRcdGlmIChrZXlTZXQgJiYga2V5U2V0ICE9IHRoaXMudG9wS2V5U2V0KVxuXHRcdFx0e1xuXHRcdFx0XHRrZXlTZXQuY2xlYXJLZXlzKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRvcEtleTtcblx0fVxuXG5cdHByaXZhdGUgaGFuZGxlTW92ZUV2ZW50KGV2ZW50Om9sLk1hcEJyb3dzZXJFdmVudClcblx0e1xuXHRcdGxldCBrZXk6YW55IC8qSVF1YWxpZmllZEtleSovID0gdGhpcy5waXhlbFRvS2V5KGV2ZW50LnBpeGVsKTtcblx0XHRsZXQgdG9vbFRpcFN0YXRlOiBJVG9vbFRpcFN0YXRlID0ge307XG5cblx0XHRpZiAoa2V5KSB7XG5cdFx0XHRsZXQgYnJvd3NlckV2ZW50OiBNb3VzZUV2ZW50ID0gPE1vdXNlRXZlbnQ+KGV2ZW50Lm9yaWdpbmFsRXZlbnQpO1xuXG5cdFx0XHR0b29sVGlwU3RhdGUuc2hvd1Rvb2xUaXAgPSB0cnVlO1xuXHRcdFx0dG9vbFRpcFN0YXRlLnRpdGxlID0gRmVhdHVyZUxheWVyLmdldFRvb2xUaXBUaXRsZShrZXkpO1xuXHRcdFx0dG9vbFRpcFN0YXRlLmNvbHVtbk5hbWVzVG9WYWx1ZSA9IEZlYXR1cmVMYXllci5nZXRUb29sVGlwRGF0YShrZXksIHRoaXMudG9wTGF5ZXIuZ2V0VG9vbFRpcENvbHVtbnMoKSk7XG5cdFx0XHRbdG9vbFRpcFN0YXRlLngsIHRvb2xUaXBTdGF0ZS55XSA9IFticm93c2VyRXZlbnQuY2xpZW50WCwgYnJvd3NlckV2ZW50LmNsaWVudFldO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0dG9vbFRpcFN0YXRlLnNob3dUb29sVGlwID0gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dGhpcy50b29sLnByb3BzLnRvb2xUaXAuc2V0U3RhdGUodG9vbFRpcFN0YXRlKTtcblx0fVxuXG5cdGhhbmRsZU91dEV2ZW50KGV2ZW50Ok1vdXNlRXZlbnQpXG5cdHtcblx0XHRmb3IgKGxldCBsYXllciBvZiB0aGlzLmdldE1hcCgpLmdldExheWVycygpLmdldEFycmF5KCkpIHtcblx0XHRcdGlmICghUHJvYmVJbnRlcmFjdGlvbi5sYXllckZpbHRlcihsYXllcikpIGNvbnRpbnVlO1xuXHRcdFx0bGV0IHdlYXZlTGF5ZXJPYmplY3Q6IEZlYXR1cmVMYXllciA9IGxheWVyLmdldChcImxheWVyT2JqZWN0XCIpO1xuXHRcdFx0bGV0IGtleVNldDogYW55ID0gd2VhdmVMYXllck9iamVjdC5wcm9iZUtleVNldCAmJiB3ZWF2ZUxheWVyT2JqZWN0LnByb2JlS2V5U2V0LmdldE9iamVjdCgpO1xuXHRcdFx0aWYgKGtleVNldCkge1xuXHRcdFx0XHRrZXlTZXQuY2xlYXJLZXlzKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bGV0IHRvb2xUaXBTdGF0ZTogSVRvb2xUaXBTdGF0ZSA9IHt9O1xuXHRcdHRvb2xUaXBTdGF0ZS5zaG93VG9vbFRpcCA9IGZhbHNlO1xuXHRcdHRoaXMudG9vbC5wcm9wcy50b29sVGlwLnNldFN0YXRlKHRvb2xUaXBTdGF0ZSk7XG5cdH1cbn0iLCIvLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIi8+XG5cbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUb29sdGlwQ29udGVudChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbk5hbWVzVG9WYWx1ZTp7W2NvbHVtbk5hbWU6c3RyaW5nXTogc3RyaW5nfG51bWJlcn0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZT86c3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZUZvcm1hdD86RnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUZvcm1hdD86RnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZUZvcm1hdD86RnVuY3Rpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sVGlwQ2xhc3M/OnN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbk5hbWVzVG9Db2xvcj86e1tjb2x1bW5OYW1lOnN0cmluZ106IHN0cmluZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTpzdHJpbmdcbntcbiAgICBuYW1lRm9ybWF0ID0gbmFtZUZvcm1hdCB8fCBfLmlkZW50aXR5O1xuICAgIHZhbHVlRm9ybWF0ID0gdmFsdWVGb3JtYXQgfHwgXy5pZGVudGl0eTtcbiAgICB0aXRsZUZvcm1hdCA9IHRpdGxlRm9ybWF0IHx8IF8uaWRlbnRpdHk7XG4gICAgdG9vbFRpcENsYXNzID0gdG9vbFRpcENsYXNzIHx8IFwiYzMtdG9vbHRpcFwiO1xuXG4gICAgdmFyIHRlbXBsYXRlOnN0cmluZyA9IFwiXCI7XG5cbiAgICB2YXIgY29sdW1uTmFtZXM6c3RyaW5nW10gPSBPYmplY3Qua2V5cyhjb2x1bW5OYW1lc1RvVmFsdWUpO1xuICAgIGlmKGNvbHVtbk5hbWVzLmxlbmd0aCkge1xuICAgICAgICB0ZW1wbGF0ZSArPSBcIjx0YWJsZSBjbGFzcz0nXCIgKyB0b29sVGlwQ2xhc3MgKyBcIic+XCIgKyAgdGl0bGVGb3JtYXQoKHRpdGxlID8gXCI8dHI+PHRoIGNvbHNwYW49JzInPlwiICsgdGl0bGUgKyBcIjwvdGg+PC90cj5cIiA6IFwiXCIpKVxuXG4gICAgICAgIGNvbHVtbk5hbWVzLmZvckVhY2goKGNvbHVtbk5hbWU6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICB0ZW1wbGF0ZSArPSBcIjx0cj5cIjtcbiAgICAgICAgICAgIHRlbXBsYXRlICs9IFwiPHRkIGNsYXNzPSduYW1lJz5cIjtcbiAgICAgICAgICAgIGlmKGNvbHVtbk5hbWVzVG9Db2xvciAmJiBjb2x1bW5OYW1lc1RvQ29sb3JbY29sdW1uTmFtZV0pe1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlICs9IFwiPHNwYW4gc3R5bGU9XCIgKyBcIidiYWNrZ3JvdW5kLWNvbG9yJzogXCIgKyB0aGlzLnN0YXRlLmNvbHVtbk5hbWVzVG9Db2xvcltjb2x1bW5OYW1lXSArIFwiLz5cIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlbXBsYXRlICs9IFwiPGRpdiBzdHlsZT0nZGlzcGxheSc6J2lubGluZSc+XCIgKyBuYW1lRm9ybWF0KGNvbHVtbk5hbWUpICsgXCI8L2Rpdj48L3RkPlwiO1xuICAgICAgICAgICAgdGVtcGxhdGUgKz0gXCI8dGQgY2xhc3M9J3ZhbHVlJz5cIiArIHZhbHVlRm9ybWF0KGNvbHVtbk5hbWVzVG9WYWx1ZVtjb2x1bW5OYW1lXSkgKyBcIjwvdGQ+XCI7XG4gICAgICAgICAgICB0ZW1wbGF0ZSArPSBcIjwvdHI+XCI7XG4gICAgICAgIH0pO1xuICAgICAgICB0ZW1wbGF0ZSArPSBcIjwvdGFibGU+XCI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRlbXBsYXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElUb29sVGlwUHJvcHMgZXh0ZW5kcyBSZWFjdC5Qcm9wczxUb29sVGlwPntcbiAgICB0b29sVGlwQ2xhc3M/OnN0cmluZztcbiAgICB0b29sdGlwQ29udGFpbmVyQ2xhc3M/OnN0cmluZztcbiAgICBuYW1lRm9ybWF0PzpGdW5jdGlvbjtcbiAgICB2YWx1ZUZvcm1hdD86RnVuY3Rpb247XG4gICAgdGl0bGVGb3JtYXQ/OkZ1bmN0aW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElUb29sVGlwU3RhdGUge1xuICAgIHg/Om51bWJlcjtcbiAgICB5PzpudW1iZXI7XG4gICAgdGl0bGU/OnN0cmluZztcbiAgICBjb2x1bW5OYW1lc1RvVmFsdWU/OntbY29sdW1uTmFtZTpzdHJpbmddOiBzdHJpbmd8bnVtYmVyfTtcbiAgICBjb2x1bW5OYW1lc1RvQ29sb3I/OntbY29sdW1uTmFtZTpzdHJpbmddOiBzdHJpbmd9O1xuICAgIHNob3dUb29sVGlwPzpib29sZWFuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb29sVGlwIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElUb29sVGlwUHJvcHMsIElUb29sVGlwU3RhdGU+IHtcblxuICAgIHByaXZhdGUgbmFtZUZvcm1hdDpGdW5jdGlvbjtcbiAgICBwcml2YXRlIHZhbHVlRm9ybWF0OkZ1bmN0aW9uO1xuICAgIHByaXZhdGUgdGl0bGVGb3JtYXQ6RnVuY3Rpb247XG4gICAgcHJpdmF0ZSB0b29sVGlwQ2xhc3M6c3RyaW5nO1xuICAgIHByaXZhdGUgdG9vbHRpcENvbnRhaW5lckNsYXNzOnN0cmluZztcbiAgICBwcml2YXRlIGNvbnRhaW5lclN0eWxlOlJlYWN0LkNTU1Byb3BlcnRpZXM7XG4gICAgcHJpdmF0ZSBlbGVtZW50OkhUTUxFbGVtZW50O1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6SVRvb2xUaXBQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG5cbiAgICAgICAgdGhpcy5uYW1lRm9ybWF0ID0gdGhpcy5wcm9wcy5uYW1lRm9ybWF0IHx8IF8uaWRlbnRpdHk7XG4gICAgICAgIHRoaXMudmFsdWVGb3JtYXQgPSB0aGlzLnByb3BzLnZhbHVlRm9ybWF0IHx8IF8uaWRlbnRpdHk7XG4gICAgICAgIHRoaXMudGl0bGVGb3JtYXQgPSB0aGlzLnByb3BzLnRpdGxlRm9ybWF0IHx8IF8uaWRlbnRpdHk7XG4gICAgICAgIHRoaXMudG9vbFRpcENsYXNzID0gdGhpcy5wcm9wcy50b29sVGlwQ2xhc3MgfHwgXCJjMy10b29sdGlwXCI7XG4gICAgICAgIHRoaXMudG9vbHRpcENvbnRhaW5lckNsYXNzID0gdGhpcy5wcm9wcy50b29sdGlwQ29udGFpbmVyQ2xhc3MgfHwgXCJjMy10b29sdGlwLWNvbnRhaW5lclwiO1xuXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIHRpdGxlOiBcIlwiLFxuICAgICAgICAgICAgY29sdW1uTmFtZXNUb1ZhbHVlOiB7fSxcbiAgICAgICAgICAgIGNvbHVtbk5hbWVzVG9Db2xvcjoge30sXG4gICAgICAgICAgICBzaG93VG9vbFRpcDogZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29udGFpbmVyU3R5bGUgPSB7XG4gICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgcG9pbnRlckV2ZW50czogXCJub25lXCIsXG4gICAgICAgICAgICBkaXNwbGF5OiBcImJsb2NrXCIsXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgLy90aGlzLmVsZW1lbnQgPSBSZWFjdERPTS5maW5kRE9NTm9kZSh0aGlzKTtcbiAgICB9XG5cbiAgICBnZXRUb29sVGlwSHRtbCgpOnN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuaW5uZXJIVE1MO1xuICAgIH1cblxuICAgIHJlbmRlcigpOkpTWC5FbGVtZW50IHtcblxuICAgICAgICBpZighKHRoaXMuZWxlbWVudCAmJiB0aGlzLnN0YXRlLnNob3dUb29sVGlwKSkge1xuICAgICAgICAgICAgcmV0dXJuIDxkaXYgcmVmPXsoYzpIVE1MRWxlbWVudCkgPT4geyB0aGlzLmVsZW1lbnQgPSBjIH19PjwvZGl2PjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciB0YWJsZVJvd3M6SlNYLkVsZW1lbnRbXSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXJTdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG4gICAgICAgICAgICB2YXIgY29udGFpbmVyOmFueSA9IHRoaXMuZWxlbWVudC5wYXJlbnROb2RlIGFzIEVsZW1lbnQ7XG4gICAgICAgICAgICB2YXIgcmVjdDpDbGllbnRSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgdmFyIGxlZnQ6IG51bWJlciA9IHdpbmRvdy5wYWdlWE9mZnNldCArIHJlY3QubGVmdDtcbiAgICAgICAgICAgIHZhciB0b3A6IG51bWJlciA9IHdpbmRvdy5wYWdlWU9mZnNldCArIHJlY3QudG9wO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXJTdHlsZS5sZWZ0ID0gdGhpcy5zdGF0ZS54IC0gbGVmdDtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyU3R5bGUudG9wID0gdGhpcy5zdGF0ZS55IC0gdG9wO1xuXG4gICAgICAgICAgICB2YXIgY29sdW1uTmFtZXM6c3RyaW5nW10gPSBPYmplY3Qua2V5cyh0aGlzLnN0YXRlLmNvbHVtbk5hbWVzVG9WYWx1ZSk7XG4gICAgICAgICAgICBpZihjb2x1bW5OYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0YWJsZVJvd3MgPSBjb2x1bW5OYW1lcy5tYXAoKGNvbHVtbk5hbWU6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2xvclNwYW46SlNYLkVsZW1lbnQgPSB0aGlzLnN0YXRlLmNvbHVtbk5hbWVzVG9Db2xvcltjb2x1bW5OYW1lXSA/ICg8c3BhbiBzdHlsZT17e2JhY2tncm91bmRDb2xvcjogdGhpcy5zdGF0ZS5jb2x1bW5OYW1lc1RvQ29sb3JbY29sdW1uTmFtZV19fS8+KSA6IChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ciBrZXk9e2NvbHVtbk5hbWV9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cIm5hbWVcIj57Y29sb3JTcGFufTxkaXYgc3R5bGU9e3tkaXNwbGF5OlwiaW5saW5lXCJ9fT57dGhpcy5uYW1lRm9ybWF0KGNvbHVtbk5hbWUpfTwvZGl2PjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwidmFsdWVcIj57dGhpcy52YWx1ZUZvcm1hdCh0aGlzLnN0YXRlLmNvbHVtbk5hbWVzVG9WYWx1ZVtjb2x1bW5OYW1lXSl9PC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt0aGlzLmNvbnRhaW5lclN0eWxlfSByZWY9eyhjOkhUTUxFbGVtZW50KSA9PiB7IHRoaXMuZWxlbWVudCA9IGMgfX0gY2xhc3NOYW1lPXt0aGlzLnRvb2x0aXBDb250YWluZXJDbGFzc30+XG4gICAgICAgICAgICAgICAgPHRhYmxlIGNsYXNzTmFtZT17dGhpcy50b29sVGlwQ2xhc3N9PlxuICAgICAgICAgICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0aCBjb2xTcGFuPXsyfT57dGhpcy5zdGF0ZS50aXRsZSA/IHRoaXMudGl0bGVGb3JtYXQodGhpcy5zdGF0ZS50aXRsZSk6IFwiXCJ9PC90aD48L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlUm93c1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICAgIDwvdGFibGU+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYzMvYzMuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvZDMvZDMuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uL3V0aWxzL1N0YW5kYXJkTGliLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3Mvd2VhdmUvd2VhdmVqcy5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3Mvd2VhdmUvV2VhdmUuZC50c1wiLz5cblxuXG5pbXBvcnQge0lWaXNUb29sUHJvcHN9IGZyb20gXCIuL0lWaXNUb29sXCI7XG5pbXBvcnQge0lUb29sUGF0aHN9IGZyb20gXCIuL0Fic3RyYWN0QzNUb29sXCI7XG5pbXBvcnQgQWJzdHJhY3RDM1Rvb2wgZnJvbSBcIi4vQWJzdHJhY3RDM1Rvb2xcIjtcbmltcG9ydCB7cmVnaXN0ZXJUb29sSW1wbGVtZW50YXRpb259IGZyb20gXCIuLi9XZWF2ZVRvb2xcIjtcbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSBcImQzXCI7XG5pbXBvcnQgRm9ybWF0VXRpbHMgZnJvbSBcIi4uL3V0aWxzL0Zvcm1hdFV0aWxzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7Q2hhcnRDb25maWd1cmF0aW9uLCBDaGFydEFQSSwgZ2VuZXJhdGV9IGZyb20gXCJjM1wiO1xuaW1wb3J0IFN0YW5kYXJkTGliIGZyb20gXCIuLi91dGlscy9TdGFuZGFyZExpYlwiO1xuXG5pbnRlcmZhY2UgSUJhcmNoYXJ0UGF0aHMgZXh0ZW5kcyBJVG9vbFBhdGhzIHtcbiAgICBwbG90dGVyOiBXZWF2ZVBhdGg7XG4gICAgaGVpZ2h0Q29sdW1uczogV2VhdmVQYXRoO1xuICAgIGxhYmVsQ29sdW1uOiBXZWF2ZVBhdGg7XG4gICAgc29ydENvbHVtbjogV2VhdmVQYXRoO1xuICAgIGNvbG9yQ29sdW1uOiBXZWF2ZVBhdGg7XG4gICAgY2hhcnRDb2xvcnM6IFdlYXZlUGF0aDtcbiAgICBncm91cGluZ01vZGU6IFdlYXZlUGF0aDtcbiAgICBob3Jpem9udGFsTW9kZTogV2VhdmVQYXRoO1xuICAgIHNob3dWYWx1ZUxhYmVsczogV2VhdmVQYXRoO1xuICAgIHhBeGlzOiBXZWF2ZVBhdGg7XG4gICAgeUF4aXM6IFdlYXZlUGF0aDtcbiAgICBmaWx0ZXJlZEtleVNldDogV2VhdmVQYXRoO1xuICAgIHNlbGVjdGlvbktleVNldDogV2VhdmVQYXRoO1xuICAgIHByb2JlS2V5U2V0OiBXZWF2ZVBhdGg7XG59XG5cblxuY2xhc3MgV2VhdmVDM0JhcmNoYXJ0IGV4dGVuZHMgQWJzdHJhY3RDM1Rvb2wge1xuXG4gICAgcHJpdmF0ZSBrZXlUb0luZGV4Ontba2V5OnN0cmluZ106IG51bWJlcn07XG4gICAgcHJpdmF0ZSBpbmRleFRvS2V5OntbaW5kZXg6bnVtYmVyXTogc3RyaW5nfTtcbiAgICBwcml2YXRlIHhBeGlzVmFsdWVUb0xhYmVsOntbdmFsdWU6bnVtYmVyXTogc3RyaW5nfTtcbiAgICBwcml2YXRlIHlBeGlzVmFsdWVUb0xhYmVsOntbdmFsdWU6bnVtYmVyXTogc3RyaW5nfTtcbiAgICBwcml2YXRlIHlMYWJlbENvbHVtbkRhdGFUeXBlOnN0cmluZztcbiAgICBwcml2YXRlIGdyb3VwaW5nTW9kZTpzdHJpbmc7XG4gICAgcHJpdmF0ZSBoZWlnaHRDb2x1bW5OYW1lczpzdHJpbmdbXTtcbiAgICBwcml2YXRlIGhlaWdodENvbHVtbnNMYWJlbHM6c3RyaW5nW107XG4gICAgcHJpdmF0ZSBzdHJpbmdSZWNvcmRzOlJlY29yZFtdO1xuICAgIHByaXZhdGUgbnVtZXJpY1JlY29yZHM6UmVjb3JkW107XG4gICAgcHJpdmF0ZSByZWNvcmRzOlJlY29yZFtdW107XG4gICAgcHJpdmF0ZSBjb2xvclJhbXA6c3RyaW5nW107XG4gICAgcHJpdmF0ZSBzaG93VmFsdWVMYWJlbHM6Ym9vbGVhbjtcbiAgICBwcml2YXRlIHNob3dYQXhpc0xhYmVsOmJvb2xlYW47XG4gICAgcHJpdmF0ZSB5TGFiZWxDb2x1bW5QYXRoOldlYXZlUGF0aDtcbiAgICBwcm90ZWN0ZWQgYzNDb25maWc6Q2hhcnRDb25maWd1cmF0aW9uO1xuICAgIHByb3RlY3RlZCBjaGFydDpDaGFydEFQSTtcblxuICAgIHByb3RlY3RlZCBwYXRoczpJQmFyY2hhcnRQYXRocztcblxuICAgIHByaXZhdGUgZmxhZzpib29sZWFuO1xuICAgIHByaXZhdGUgYnVzeTpib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6SVZpc1Rvb2xQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMua2V5VG9JbmRleCA9IHt9O1xuICAgICAgICB0aGlzLmluZGV4VG9LZXkgPSB7fTtcbiAgICAgICAgdGhpcy55QXhpc1ZhbHVlVG9MYWJlbCA9IHt9O1xuICAgICAgICB0aGlzLnhBeGlzVmFsdWVUb0xhYmVsID0ge307XG5cbiAgICAgICAgdGhpcy5jM0NvbmZpZyA9IHtcbiAgICAgICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogdGhpcy5wcm9wcy5zdHlsZS53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFkZGluZzoge1xuICAgICAgICAgICAgICAgIHRvcDogMjAsXG4gICAgICAgICAgICAgICAgYm90dG9tOiAyMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBqc29uOiBbXSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJhclwiLFxuICAgICAgICAgICAgICAgIHhTb3J0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZVxuXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsYWJlbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAodiwgaWQsIGksIGopID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc2hvd1ZhbHVlTGFiZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvcmRlcjogbnVsbCxcbiAgICAgICAgICAgICAgICBjb2xvcjogKGNvbG9yOnN0cmluZywgZDphbnkpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuaGVpZ2h0Q29sdW1uTmFtZXMubGVuZ3RoID09PSAxICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIHRoZSBjb3JyZXNwb25kaW5nIGluZGV4IG9mIG51bWVyaWNSZWNvcmRzIGluIHN0cmluZ1JlY29yZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IHRoaXMuaW5kZXhUb0tleVtkLmluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IF8ucGx1Y2sodGhpcy5zdHJpbmdSZWNvcmRzLCBcImlkXCIpLmluZGV4T2YoaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nUmVjb3Jkc1tpbmRleF0gPyB0aGlzLnN0cmluZ1JlY29yZHNbaW5kZXhdW1wiY29sb3JcIl0gYXMgc3RyaW5nIDogXCIjQzBDREQxXCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29sb3IgfHwgXCIjQzBDREQxXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uY2xpY2s6IChkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQ6TW91c2VFdmVudCA9IHRoaXMuY2hhcnQuaW50ZXJuYWwuZDMuZXZlbnQgYXMgTW91c2VFdmVudDtcbiAgICAgICAgICAgICAgICAgICAgaWYoIShldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpJiYgZCAmJiBkLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5zZXRLZXlzKFt0aGlzLmluZGV4VG9LZXlbZC5pbmRleF1dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25zZWxlY3RlZDogKGQ6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmKGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQuYWRkS2V5cyhbdGhpcy5pbmRleFRvS2V5W2QuaW5kZXhdXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9udW5zZWxlY3RlZDogKGQ6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmKGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQucmVtb3ZlS2V5cyhbdGhpcy5pbmRleFRvS2V5W2QuaW5kZXhdXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9ubW91c2VvdmVyOiAoZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoZCAmJiBkLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LnNldEtleXMoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbk5hbWVzVG9WYWx1ZTp7W2NvbHVtbk5hbWU6c3RyaW5nXSA6IHN0cmluZ3xudW1iZXIgfSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbk5hbWVzVG9Db2xvcjp7W2NvbHVtbk5hbWU6c3RyaW5nXSA6IHN0cmluZ30gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29sdW1uTmFtZXMuZm9yRWFjaCggKGNvbHVtbjpzdHJpbmcsIGluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbk5hbWVzVG9WYWx1ZVt0aGlzLmhlaWdodENvbHVtbnNMYWJlbHNbaW5kZXhdXSA9IHRoaXMubnVtZXJpY1JlY29yZHNbZC5pbmRleF1bY29sdW1uXSBhcyBudW1iZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5oZWlnaHRDb2x1bW5OYW1lcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IFN0YW5kYXJkTGliLmludGVycG9sYXRlQ29sb3IoaW5kZXggLyAodGhpcy5oZWlnaHRDb2x1bW5OYW1lcy5sZW5ndGggLSAxKSwgdGhpcy5jb2xvclJhbXApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5OYW1lc1RvQ29sb3JbdGhpcy5oZWlnaHRDb2x1bW5zTGFiZWxzW2luZGV4XV0gPSBcIiNcIiArIFN0YW5kYXJkTGliLmRlY2ltYWxUb0hleChjb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGl0bGU6c3RyaW5nID0gdGhpcy5zdHJpbmdSZWNvcmRzW2QuaW5kZXhdW1wieExhYmVsXCJdIGFzIHN0cmluZztcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy50b29sVGlwLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLmNoYXJ0LmludGVybmFsLmQzLmV2ZW50LnBhZ2VYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuY2hhcnQuaW50ZXJuYWwuZDMuZXZlbnQucGFnZVksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1Rvb2xUaXA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbk5hbWVzVG9WYWx1ZTogY29sdW1uTmFtZXNUb1ZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbk5hbWVzVG9Db2xvcjogY29sdW1uTmFtZXNUb0NvbG9yXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LnNldEtleXMoW3RoaXMuaW5kZXhUb0tleVtkLmluZGV4XV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbm1vdXNlb3V0OiAoZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoZCAmJiBkLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LnNldEtleXMoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy50b29sVGlwLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb29sVGlwOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXhpczoge1xuICAgICAgICAgICAgICAgIHg6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjYXRlZ29yeVwiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcIm91dGVyLWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZTogLTQ1LFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VsbGluZzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heDogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpbGluZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IChudW06bnVtYmVyKTpzdHJpbmcgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc3RyaW5nUmVjb3JkcyAmJiB0aGlzLnN0cmluZ1JlY29yZHNbbnVtXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmVsZW1lbnQgJiYgdGhpcy5wcm9wcy5zdHlsZS5oZWlnaHQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFiZWxIZWlnaHQ6bnVtYmVyID0gKHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0KiAwLjIpL01hdGguY29zKDQ1KihNYXRoLlBJLzE4MCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxhYmVsU3RyaW5nOnN0cmluZyA9ICh0aGlzLnN0cmluZ1JlY29yZHNbbnVtXVtcInhMYWJlbFwiXSBhcyBzdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYobGFiZWxTdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RyaW5nU2l6ZTpudW1iZXIgPSBTdGFuZGFyZExpYi5nZXRUZXh0V2lkdGgobGFiZWxTdHJpbmcsIFwiMTRwdCBIZWx2ZXRpY2EgTmV1ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRqdXN0bWVudENoYXJhY3RlcnM6bnVtYmVyID0gbGFiZWxTdHJpbmcubGVuZ3RoIC0gTWF0aC5mbG9vcihsYWJlbFN0cmluZy5sZW5ndGggKiAobGFiZWxIZWlnaHQgLyBzdHJpbmdTaXplKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFkanVzdG1lbnRDaGFyYWN0ZXJzID4gMCA/IGxhYmVsU3RyaW5nLnN1YnN0cmluZygwLCBsYWJlbFN0cmluZy5sZW5ndGggLSBhZGp1c3RtZW50Q2hhcmFjdGVycyAtIDMpICsgXCIuLi5cIiA6IGxhYmVsU3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN0cmluZ1JlY29yZHNbbnVtXVtcInhMYWJlbFwiXSBhcyBzdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHk6IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6XCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcIm91dGVyLW1pZGRsZVwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aWxpbmU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiAobnVtOm51bWJlcik6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnlMYWJlbENvbHVtblBhdGggJiYgdGhpcy55TGFiZWxDb2x1bW5EYXRhVHlwZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy55QXhpc1ZhbHVlVG9MYWJlbFtudW1dIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmdyb3VwaW5nTW9kZSA9PT0gXCJwZXJjZW50U3RhY2tcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZDMuZm9ybWF0KFwiLjAlXCIpKG51bSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhGb3JtYXRVdGlscy5kZWZhdWx0TnVtYmVyRm9ybWF0dGluZyhudW0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHkyOiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3c6ZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OlwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJvdXRlci1taWRkbGVcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aWNrOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaXQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogKG51bTpudW1iZXIpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy55TGFiZWxDb2x1bW5QYXRoICYmIHRoaXMueUxhYmVsQ29sdW1uRGF0YVR5cGUgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMueUF4aXNWYWx1ZVRvTGFiZWxbbnVtXSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ncm91cGluZ01vZGUgPT09IFwicGVyY2VudFN0YWNrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQzLmZvcm1hdChcIi4wJVwiKShudW0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcoRm9ybWF0VXRpbHMuZGVmYXVsdE51bWJlckZvcm1hdHRpbmcobnVtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICByb3RhdGVkOiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IChudW06bnVtYmVyKTpzdHJpbmcgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5zdHJpbmdSZWNvcmRzICYmIHRoaXMuc3RyaW5nUmVjb3Jkc1tudW1dKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nUmVjb3Jkc1tudW1dW1wieExhYmVsXCJdIGFzIHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAobmFtZTpzdHJpbmcsIHJhdGlvOm51bWJlciwgaWQ6c3RyaW5nLCBpbmRleDpudW1iZXIpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFiZWxJbmRleDpudW1iZXIgPSB0aGlzLmhlaWdodENvbHVtbk5hbWVzLmluZGV4T2YobmFtZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHRoaXMuaGVpZ2h0Q29sdW1uc0xhYmVscyA/IHRoaXMuaGVpZ2h0Q29sdW1uc0xhYmVsc1tsYWJlbEluZGV4XSA6IFwiXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzaG93OiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdyaWQ6IHtcbiAgICAgICAgICAgICAgICB4OiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHk6IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBiaW5kdG86IG51bGwsXG4gICAgICAgICAgICBiYXI6IHtcbiAgICAgICAgICAgICAgICB3aWR0aDoge1xuICAgICAgICAgICAgICAgICAgICByYXRpbzogMC44XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxlZ2VuZDoge1xuICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25yZW5kZXJlZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYnVzeSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3R5bGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaGFuZGxlTWlzc2luZ1Nlc3Npb25TdGF0ZVByb3BlcnRpZXMobmV3U3RhdGU6YW55KVxuXHR7XG5cblx0fVxuXG4gICAgaGFuZGxlQ2xpY2soZXZlbnQ6TW91c2VFdmVudCk6dm9pZCB7XG4gICAgICAgIGlmKCF0aGlzLmZsYWcpIHtcbiAgICAgICAgICAgIHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5zZXRLZXlzKFtdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsYWcgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBtaXJyb3JWZXJ0aWNhbCgpIHtcbiAgICAgICAgdmFyIHRlbXA6c3RyaW5nID0gdGhpcy5jM0NvbmZpZy5kYXRhLmtleXMudmFsdWVbMF07XG4gICAgICAgIGlmKHRoaXMuYzNDb25maWcuYXhpcy55LnNob3cgPT0gdHJ1ZSl7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueTIuc2hvdyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueS5zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmRhdGEuYXhlcyA9IHtbdGVtcF06J3kyJ307XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueTIubGFiZWwgPSB0aGlzLmMzQ29uZmlnLmF4aXMueS5sYWJlbDtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueS5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55Mi5zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmRhdGEuYXhlcyA9IHtbdGVtcF06J3knfTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55LmxhYmVsID0gdGhpcy5jM0NvbmZpZy5heGlzLnkyLmxhYmVsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGF0YUNoYW5nZWQoKTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZSgpO1xuICAgIH1cblxuICAgIHJvdGF0ZUF4ZXMoKSB7XG4gICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy5yb3RhdGVkID0gdGhpcy5wYXRocy5ob3Jpem9udGFsTW9kZS5nZXRTdGF0ZSgpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlKCk7XG4gICAgICAgIC8vIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAvLyAgIHRoaXMuYnVzeSA9IHRydWU7XG4gICAgICAgIC8vICAgYzMuZ2VuZXJhdGUodGhpcy5jM0NvbmZpZyk7XG4gICAgICAgIC8vIH0sIDEwKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGF4aXNDaGFuZ2VkKCk6dm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5jaGFydCB8fCB0aGlzLmJ1c3kpXG4gICAgICAgIFx0cmV0dXJuIFN0YW5kYXJkTGliLmRlYm91bmNlKHRoaXMsICdheGlzQ2hhbmdlZCcpO1xuXG4gICAgICAgIHZhciB4TGFiZWw6c3RyaW5nID0gdGhpcy5wYXRocy54QXhpcy5wdXNoKFwib3ZlcnJpZGVBeGlzTmFtZVwiKS5nZXRTdGF0ZSgpIHx8IFwiU29ydGVkIGJ5IFwiICsgdGhpcy5wYXRocy5zb3J0Q29sdW1uLmdldE9iamVjdCgpLmdldE1ldGFkYXRhKCd0aXRsZScpO1xuICAgICAgICB2YXIgeUxhYmVsOnN0cmluZyA9IHRoaXMucGF0aHMueUF4aXMucHVzaChcIm92ZXJyaWRlQXhpc05hbWVcIikuZ2V0U3RhdGUoKSB8fCAodGhpcy5oZWlnaHRDb2x1bW5zTGFiZWxzID8gdGhpcy5oZWlnaHRDb2x1bW5zTGFiZWxzLmpvaW4oXCIsIFwiKSA6IFwiXCIpO1xuXG4gICAgICAgIGlmKCF0aGlzLnNob3dYQXhpc0xhYmVsKXtcbiAgICAgICAgICAgIHhMYWJlbCA9IFwiIFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5jM0NvbmZpZy5heGlzLnkuc2hvdyl7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0LmF4aXMubGFiZWxzKHtcbiAgICAgICAgICAgICAgICB4OiB4TGFiZWwsXG4gICAgICAgICAgICAgICAgeTogeUxhYmVsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0LmF4aXMubGFiZWxzKHtcbiAgICAgICAgICAgICAgICB4OiB4TGFiZWwsXG4gICAgICAgICAgICAgICAgeTI6IHlMYWJlbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmF4aXNMYWJlbHNDaGFuZ2VkKCk7XG5cbiAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLngubGFiZWwgPSB7dGV4dDp4TGFiZWwsIHBvc2l0aW9uOlwib3V0ZXItY2VudGVyXCJ9O1xuICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueS5sYWJlbCA9IHt0ZXh0OnlMYWJlbCwgcG9zaXRpb246XCJvdXRlci1taWRkbGVcIn07XG4gICAgICAgIHRoaXMuZ2VuZXJhdGUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGF4aXNMYWJlbHNDaGFuZ2VkKCk6dm9pZCB7XG4gICAgICAgIHZhciB3aWR0aDpudW1iZXIgPSB0aGlzLmNoYXJ0LmludGVybmFsLndpZHRoO1xuICAgICAgICB2YXIgdGV4dEhlaWdodDpudW1iZXIgPSBTdGFuZGFyZExpYi5nZXRUZXh0SGVpZ2h0KFwidGVzdFwiLCBcIjE0cHQgSGVsdmV0aWNhIE5ldWVcIik7XG4gICAgICAgIHZhciB4TGFiZWxzVG9TaG93Om51bWJlciA9IE1hdGguZmxvb3Iod2lkdGggLyB0ZXh0SGVpZ2h0KTtcbiAgICAgICAgeExhYmVsc1RvU2hvdyA9IE1hdGgubWF4KDIseExhYmVsc1RvU2hvdyk7XG5cbiAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLngudGljay5jdWxsaW5nID0ge21heDogeExhYmVsc1RvU2hvd307XG4gICAgfVxuXG4gICAgaGFuZGxlU2hvd1ZhbHVlTGFiZWxzICgpIHtcbiAgICAgICAgaWYoIXRoaXMuY2hhcnQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuc2hvd1ZhbHVlTGFiZWxzID0gdGhpcy5wYXRocy5zaG93VmFsdWVMYWJlbHMuZ2V0U3RhdGUoKTtcbiAgICAgICAgdGhpcy5jaGFydC5mbHVzaCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlQ29sdW1ucygpOnZvaWQge1xuICAgICAgICB0aGlzLmhlaWdodENvbHVtbk5hbWVzID0gW107XG4gICAgICAgIHRoaXMuaGVpZ2h0Q29sdW1uc0xhYmVscyA9IFtdO1xuXG4gICAgICAgIHZhciBsaG0gPSB0aGlzLnBhdGhzLmhlaWdodENvbHVtbnMuZ2V0T2JqZWN0KCk7XG4gICAgICAgIHZhciBjb2x1bW5zID0gbGhtLmdldE9iamVjdHMoKTtcbiAgICAgICAgdmFyIG5hbWVzID0gbGhtLmdldE5hbWVzKCk7XG5cbiAgICAgICAgZm9yIChsZXQgaWR4IGluIGNvbHVtbnMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjb2x1bW4gPSBjb2x1bW5zW2lkeF07XG4gICAgICAgICAgICBsZXQgbmFtZSA9IG5hbWVzW2lkeF07XG4gICAgICAgICAgICBsZXQgdGl0bGUgPSBjb2x1bW4uZ2V0TWV0YWRhdGEoJ3RpdGxlJyk7XG5cbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29sdW1uc0xhYmVscy5wdXNoKHRpdGxlKTtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0Q29sdW1uTmFtZXMucHVzaChuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZGF0YUNoYW5nZWQoKTp2b2lkIHtcbiAgICAgICAgaWYgKCF0aGlzLmNoYXJ0IHx8IHRoaXMuYnVzeSlcbiAgICAgICAgXHRyZXR1cm4gU3RhbmRhcmRMaWIuZGVib3VuY2UodGhpcywgJ2RhdGFDaGFuZ2VkJyk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVDb2x1bW5zKCk7XG5cbiAgICAgICAgdmFyIGhlaWdodENvbHVtbnM6V2VhdmVQYXRoW10gPSB0aGlzLnBhdGhzLmhlaWdodENvbHVtbnMuZ2V0Q2hpbGRyZW4oKTtcblxuICAgICAgICB2YXIgbnVtZXJpY01hcHBpbmc6YW55ID0ge1xuICAgICAgICAgICAgc29ydDogdGhpcy5wYXRocy5zb3J0Q29sdW1uLFxuICAgICAgICAgICAgeExhYmVsOiB0aGlzLnBhdGhzLmxhYmVsQ29sdW1uXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHN0cmluZ01hcHBpbmc6YW55ID0ge1xuICAgICAgICAgICAgc29ydDogdGhpcy5wYXRocy5zb3J0Q29sdW1uLFxuICAgICAgICAgICAgY29sb3I6IHRoaXMucGF0aHMuY29sb3JDb2x1bW4sXG4gICAgICAgICAgICB4TGFiZWw6IHRoaXMucGF0aHMubGFiZWxDb2x1bW5cbiAgICAgICAgfTtcblxuICAgICAgICBoZWlnaHRDb2x1bW5zLmZvckVhY2goKGNvbHVtbjpXZWF2ZVBhdGgsIGlkeDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgIGxldCBuYW1lOnN0cmluZyA9IGNvbHVtbi5nZXRQYXRoKCkucG9wKCk7XG4gICAgICAgICAgICBudW1lcmljTWFwcGluZ1tuYW1lXSA9IGNvbHVtbjsgLy8gYWxsIGhlaWdodCBjb2x1bW5zIGFzIG51bWVyaWMgdmFsdWUgZm9yIHRoZSBjaGFydFxuXG4gICAgICAgICAgICBpZihpZHggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnlMYWJlbENvbHVtblBhdGggPSBjb2x1bW47XG4gICAgICAgICAgICAgICAgc3RyaW5nTWFwcGluZ1tcInlMYWJlbFwiXSA9IGNvbHVtbjsgLy8gb25seSB1c2luZyB0aGUgZmlyc3QgY29sdW1uIHRvIGxhYmVsIHRoZSB5IGF4aXNcbiAgICAgICAgICAgICAgICBudW1lcmljTWFwcGluZ1tcInlMYWJlbFwiXSA9IGNvbHVtbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy55TGFiZWxDb2x1bW5EYXRhVHlwZSA9IHRoaXMueUxhYmVsQ29sdW1uUGF0aC5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgnZGF0YVR5cGUnKTtcblxuICAgICAgICB0aGlzLm51bWVyaWNSZWNvcmRzID0gdGhpcy5wYXRocy5wbG90dGVyLnJldHJpZXZlUmVjb3JkcyhudW1lcmljTWFwcGluZywge2tleVNldDogdGhpcy5wYXRocy5maWx0ZXJlZEtleVNldCwgZGF0YVR5cGU6IFwibnVtYmVyXCJ9KTtcbiAgICAgICAgaWYoIXRoaXMubnVtZXJpY1JlY29yZHMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLnN0cmluZ1JlY29yZHMgPSB0aGlzLnBhdGhzLnBsb3R0ZXIucmV0cmlldmVSZWNvcmRzKHN0cmluZ01hcHBpbmcsIHtrZXlTZXQ6IHRoaXMucGF0aHMuZmlsdGVyZWRLZXlTZXQsIGRhdGFUeXBlOiBcInN0cmluZ1wifSk7XG5cbiAgICAgICAgdGhpcy5yZWNvcmRzID0gXy56aXAodGhpcy5udW1lcmljUmVjb3JkcywgdGhpcy5zdHJpbmdSZWNvcmRzKTtcbiAgICAgICAgLy90aGlzLnJlY29yZHMgPSBfLnNvcnRCeU9yZGVyKHRoaXMucmVjb3JkcywgW1wic29ydFwiLCBcImlkXCJdLCBbJ2FzYycsICdhc2MnXSk7XG4gICAgICAgIHRoaXMucmVjb3JkcyA9IF8uc29ydEJ5KHRoaXMucmVjb3JkcywgKHJlY29yZCkgPT57XG4gICAgICAgICAgICByZXR1cm4gcmVjb3JkWzBdW1wic29ydFwiXTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmKHRoaXMuYzNDb25maWcuYXhpcy55LnNob3cgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHRoaXMucmVjb3JkcyA9IHRoaXMucmVjb3Jkcy5yZXZlcnNlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLnJlY29yZHMubGVuZ3RoKVxuICAgICAgICAgICAgW3RoaXMubnVtZXJpY1JlY29yZHMsIHRoaXMuc3RyaW5nUmVjb3Jkc10gPSBfLnVuemlwKHRoaXMucmVjb3Jkcyk7XG5cbiAgICAgICAgdGhpcy55QXhpc1ZhbHVlVG9MYWJlbCA9IHt9O1xuICAgICAgICB0aGlzLnhBeGlzVmFsdWVUb0xhYmVsID0ge307XG4gICAgICAgIHRoaXMua2V5VG9JbmRleCA9IHt9O1xuICAgICAgICB0aGlzLmluZGV4VG9LZXkgPSB7fTtcblxuICAgICAgICB0aGlzLm51bWVyaWNSZWNvcmRzLmZvckVhY2goKHJlY29yZDpSZWNvcmQsIGluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgaWYocmVjb3JkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5rZXlUb0luZGV4W3JlY29yZFtcImlkXCJdIGFzIHN0cmluZ10gPSBpbmRleDtcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4VG9LZXlbaW5kZXhdID0gcmVjb3JkW1wiaWRcIl0gYXMgc3RyaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIHRoaXMuc3RyaW5nUmVjb3Jkcy5mb3JFYWNoKChyZWNvcmQ6UmVjb3JkLCBpbmRleDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgIHZhciBudW1lcmljUmVjb3JkOlJlY29yZCA9IHRoaXMubnVtZXJpY1JlY29yZHNbaW5kZXhdO1xuICAgICAgICAgICAgaWYobnVtZXJpY1JlY29yZCkge1xuICAgICAgICAgICAgICAgIHRoaXMueUF4aXNWYWx1ZVRvTGFiZWxbbnVtZXJpY1JlY29yZFtcInlMYWJlbFwiXSBhcyBudW1iZXJdID0gcmVjb3JkW1wieUxhYmVsXCJdIGFzIHN0cmluZztcbiAgICAgICAgICAgICAgICB0aGlzLnhBeGlzVmFsdWVUb0xhYmVsW251bWVyaWNSZWNvcmRbXCJ4TGFiZWxcIl0gYXMgbnVtYmVyXSA9IHJlY29yZFtcInhMYWJlbFwiXSBhcyBzdHJpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZ3JvdXBpbmdNb2RlID0gdGhpcy5wYXRocy5ncm91cGluZ01vZGUuZ2V0U3RhdGUoKTtcbiAgICAgICAgLy92YXIgaG9yaXpvbnRhbE1vZGUgPSB0aGlzLnBhdGhzLnBsb3R0ZXIucHVzaChcImhvcml6b250YWxNb2RlXCIpLmdldFN0YXRlKCk7XG5cbiAgICAgICAgLy8gc2V0IGF4aXMgcm90YXRpb24gbW9kZVxuICAgICAgICAvL3RoaXMuY2hhcnQubG9hZCh7YXhlczogeyByb3RhdGVkOiBob3Jpem9udGFsTW9kZSB9fSk7XG5cbiAgICAgICAgaWYodGhpcy5ncm91cGluZ01vZGUgPT09IFwic3RhY2tcIikge1xuICAgICAgICAgICAgdGhpcy5jaGFydC5ncm91cHMoW3RoaXMuaGVpZ2h0Q29sdW1uTmFtZXNdKTtcbiAgICAgICAgfSBlbHNlIGlmKHRoaXMuZ3JvdXBpbmdNb2RlID09PSBcImdyb3VwXCIpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhcnQuZ3JvdXBzKFtdKTtcbiAgICAgICAgfSBlbHNlIGlmKHRoaXMuZ3JvdXBpbmdNb2RlID09PSBcInBlcmNlbnRTdGFja1wiKSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0Lmdyb3VwcyhbdGhpcy5oZWlnaHRDb2x1bW5OYW1lc10pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5ncm91cGluZ01vZGUgPT09IFwicGVyY2VudFN0YWNrXCIgJiYgdGhpcy5oZWlnaHRDb2x1bW5OYW1lcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAvLyBub3JtYWxpemUgdGhlIGhlaWdodCBjb2x1bW5zIHRvIGJlIHBlcmNlbnRhZ2VzLlxuICAgICAgICAgICAgdmFyIG5ld1ZhbHVlcyA9IHRoaXMubnVtZXJpY1JlY29yZHMubWFwKChyZWNvcmQ6UmVjb3JkKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodHM6e1trZXk6c3RyaW5nXTogbnVtYmVyfTtcbiAgICAgICAgICAgICAgICBpZihyZWNvcmQpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0cyA9IF8ucGljayhyZWNvcmQsIHRoaXMuaGVpZ2h0Q29sdW1uTmFtZXMpIGFzIHtba2V5OnN0cmluZ106IG51bWJlcn07XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdW06bnVtYmVyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgXy5rZXlzKGhlaWdodHMpLmZvckVhY2goKGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBoZWlnaHRzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIF8ua2V5cyhoZWlnaHRzKS5mb3JFYWNoKChrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHRzW2tleV0gPSBoZWlnaHRzW2tleV0gLyBzdW07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBoZWlnaHRzO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMubnVtZXJpY1JlY29yZHMgPSBuZXdWYWx1ZXM7XG4gICAgICAgIH1cblxuICAgICAgICBpbnRlcmZhY2UgS2V5cyB7eDpzdHJpbmcsIHZhbHVlOnN0cmluZ1tdfTtcbiAgICAgICAgdmFyIGtleXM6S2V5cyA9IHt4OlwiXCIsIHZhbHVlOltdfTtcbiAgICAgICAgLy8gaWYgbGFiZWwgY29sdW1uIGlzIHNwZWNpZmllZFxuICAgICAgICBpZih0aGlzLnBhdGhzLmxhYmVsQ29sdW1uLmdldFN0YXRlKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICBrZXlzLnggPSBcInhMYWJlbFwiO1xuICAgICAgICB9XG5cbiAgICAgICAga2V5cy52YWx1ZSA9IHRoaXMuaGVpZ2h0Q29sdW1uTmFtZXM7XG4gICAgICAgIHZhciBjb2xvcnM6e1tuYW1lOnN0cmluZ106IHN0cmluZ30gPSB7fTtcblxuICAgICAgICBpZih0aGlzLmhlaWdodENvbHVtbk5hbWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIHRoaXMuY29sb3JSYW1wID0gdGhpcy5wYXRocy5jaGFydENvbG9ycy5nZXRTdGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5oZWlnaHRDb2x1bW5OYW1lcy5tYXAoKG5hbWUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gU3RhbmRhcmRMaWIuaW50ZXJwb2xhdGVDb2xvcihpbmRleCAvICh0aGlzLmhlaWdodENvbHVtbk5hbWVzLmxlbmd0aCAtIDEpLCB0aGlzLmNvbG9yUmFtcCk7XG4gICAgICAgICAgICAgICAgY29sb3JzW25hbWVdID0gXCIjXCIgKyBTdGFuZGFyZExpYi5kZWNpbWFsVG9IZXgoY29sb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGF0YSA9IF8uY2xvbmVEZWVwKHRoaXMuYzNDb25maWcuZGF0YSk7XG4gICAgICAgIGRhdGEuanNvbiA9IHRoaXMubnVtZXJpY1JlY29yZHM7XG4gICAgICAgIGRhdGEuY29sb3JzID0gY29sb3JzO1xuICAgICAgICBkYXRhLmtleXMgPSBrZXlzO1xuICAgICAgICBkYXRhLnVubG9hZCA9IHRydWU7XG4gICAgICAgIHRoaXMuYzNDb25maWcuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMuYnVzeSA9IHRydWU7XG4gICAgICAgIHRoaXMuY2hhcnQubG9hZChkYXRhKTtcbiAgICB9XG5cbiAgICB1cGRhdGVTdHlsZSgpIHtcbiAgICBcdGlmKCF0aGlzLmNoYXJ0IHx8ICF0aGlzLmhlaWdodENvbHVtbk5hbWVzKVxuICAgIFx0XHRyZXR1cm47XG5cbiAgICAgICAgZDMuc2VsZWN0KHRoaXMuZWxlbWVudClcbiAgICAgICAgXHQuc2VsZWN0QWxsKFwicGF0aFwiKVxuICAgICAgICBcdC5zdHlsZShcIm9wYWNpdHlcIiwgMSlcbiAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZVwiLCBcImJsYWNrXCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJzdHJva2Utd2lkdGhcIiwgXCIxcHhcIilcbiAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZS1vcGFjaXR5XCIsIDAuNSk7XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkS2V5czpzdHJpbmdbXSA9IHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5nZXRLZXlzKCk7XG4gICAgICAgIHZhciBwcm9iZWRLZXlzOnN0cmluZ1tdID0gdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuZ2V0S2V5cygpO1xuICAgICAgICB2YXIgc2VsZWN0ZWRJbmRpY2VzOm51bWJlcltdID0gc2VsZWN0ZWRLZXlzLm1hcCgoa2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcih0aGlzLmtleVRvSW5kZXhba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcHJvYmVkSW5kaWNlczpudW1iZXJbXSA9IHByb2JlZEtleXMubWFwKChrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgIHJldHVybiBOdW1iZXIodGhpcy5rZXlUb0luZGV4W2tleV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGtleXM6c3RyaW5nW10gPSBPYmplY3Qua2V5cyh0aGlzLmtleVRvSW5kZXgpO1xuICAgICAgICB2YXIgaW5kaWNlczpudW1iZXJbXSA9IGtleXMubWFwKChrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMua2V5VG9JbmRleFtrZXldKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciB1bnNlbGVjdGVkSW5kaWNlczpudW1iZXJbXSA9IF8uZGlmZmVyZW5jZShpbmRpY2VzLHNlbGVjdGVkSW5kaWNlcyk7XG4gICAgICAgIHVuc2VsZWN0ZWRJbmRpY2VzID0gXy5kaWZmZXJlbmNlKHVuc2VsZWN0ZWRJbmRpY2VzLHByb2JlZEluZGljZXMpO1xuICAgICAgICB0aGlzLmhlaWdodENvbHVtbk5hbWVzLmZvckVhY2goKGl0ZW06c3RyaW5nKSA9PiB7XG4gICAgICAgIFx0dmFyIHBhdGhzID0gZDMuc2VsZWN0QWxsKFwiZ1wiKS5maWx0ZXIoXCIuYzMtc2hhcGVzLVwiK2l0ZW0rXCIuYzMtYmFyc1wiKS5zZWxlY3RBbGwoXCJwYXRoXCIpO1xuICAgICAgICBcdHZhciB0ZXh0cyA9IGQzLnNlbGVjdEFsbChcImdcIikuZmlsdGVyKFwiLmMzLXRleHRzLVwiK2l0ZW0pLnNlbGVjdEFsbChcInRleHRcIik7XG4gICAgICAgICAgICBpZihzZWxlY3RlZEluZGljZXMubGVuZ3RoKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tU2VsZWN0b3JTdHlsZSh1bnNlbGVjdGVkSW5kaWNlcywgcGF0aHMsIHtvcGFjaXR5OiAwLjMsIFwic3Ryb2tlLW9wYWNpdHlcIjogMC4wfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21TZWxlY3RvclN0eWxlKHNlbGVjdGVkSW5kaWNlcywgcGF0aHMsIHtvcGFjaXR5OiAxLjAsIFwic3Ryb2tlLW9wYWNpdHlcIjogMS4wfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21TZWxlY3RvclN0eWxlKHVuc2VsZWN0ZWRJbmRpY2VzLCB0ZXh0cywge1wiZmlsbC1vcGFjaXR5XCI6MC4zfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21TZWxlY3RvclN0eWxlKHNlbGVjdGVkSW5kaWNlcywgdGV4dHMsIHtcImZpbGwtb3BhY2l0eVwiOjEuMH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZighcHJvYmVkSW5kaWNlcy5sZW5ndGgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21TZWxlY3RvclN0eWxlKGluZGljZXMsIHBhdGhzLCB7b3BhY2l0eTogMS4wLCBcInN0cm9rZS1vcGFjaXR5XCI6IDAuNX0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9tU2VsZWN0b3JTdHlsZShpbmRpY2VzLCB0ZXh0cywge1wiZmlsbC1vcGFjaXR5XCI6MS4wfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoc2VsZWN0ZWRJbmRpY2VzLmxlbmd0aClcbiAgICAgICAgICAgIHRoaXMuY2hhcnQuc2VsZWN0KHRoaXMuaGVpZ2h0Q29sdW1uTmFtZXMsIHNlbGVjdGVkSW5kaWNlcywgdHJ1ZSk7XG4gICAgICAgIGVsc2UgaWYoIXByb2JlZEluZGljZXMubGVuZ3RoKVxuICAgICAgICAgICAgdGhpcy5jaGFydC5zZWxlY3QodGhpcy5oZWlnaHRDb2x1bW5OYW1lcywgW10sIHRydWUpO1xuICAgIH1cblxuXG4gICAgZ2VuZXJhdGUoKSB7XG4gICAgXHR0aGlzLmJ1c3kgPSB0cnVlO1xuICAgICAgICB0aGlzLmNoYXJ0ID0gZ2VuZXJhdGUodGhpcy5jM0NvbmZpZyk7XG4gICAgfVxuXG4gICAgcmVzaXplKHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlcikge1xuICAgICAgICBpZih0aGlzLnBhdGhzLmxhYmVsQ29sdW1uLmdldFN0YXRlKCkubGVuZ3RoKXtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy54LmhlaWdodCA9IGhlaWdodCAqIDAuMjtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueC5oZWlnaHQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYzNDb25maWcuc2l6ZSA9IHt3aWR0aCwgaGVpZ2h0fTtcbiAgICAgICAgdGhpcy5nZW5lcmF0ZSgpO1xuICAgICAgICBpZih0aGlzLnBhdGhzLmxhYmVsQ29sdW1uLmdldFN0YXRlKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAvL1RPRE86IEZvciBub3cgd2UgaGF2ZSBubyBjaG9pY2UgYnkgdG8gdXBkYXRlIGF4aXMgZm9yIGxhYmVsIHNwYWNpbmcgYWZ0ZXIgZ2VuZXJhdGUsXG4gICAgICAgICAgICAvL3NvIHdlIGNhbiBnZXQgbmV3IHdpZHRoIGFuZCB0aGVuIHVwZGF0ZSBsYWJlbCBzcGFjaW5nIGFwcHJvcHJpYXRlbHksIGJ1dCB0aGlzXG4gICAgICAgICAgICAvL3RoZW4gcmVxdWlyZXMgYW5vdGhlciBjYWxsIHRvIGdlbmVyYXRlLiBXZSBtYXkgd2FudCB0byB0cnkgYW5kIGNhbGN1bGF0ZSB0aGlzXG4gICAgICAgICAgICAvL3dpZHRoIG91cnNlbHZlcyB0byBzYXZlIHRoZSBleHRyYSBnZW5lcmF0ZSBjYWxsIGluIGF4aXNDaGFuZ2VkKClcbiAgICAgICAgICAgIHRoaXMuYXhpc0NoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuc2hvd1hBeGlzTGFiZWwgPSBmYWxzZTtcblxuICAgICAgICB2YXIgcGxvdHRlclBhdGggPSB0aGlzLnRvb2xQYXRoLnB1c2hQbG90dGVyKFwicGxvdFwiKTtcbiAgICAgICAgdmFyIG1hcHBpbmcgPSBbXG4gICAgICAgICAgICB7IG5hbWU6IFwicGxvdHRlclwiLCBwYXRoOiBwbG90dGVyUGF0aCwgY2FsbGJhY2tzOiBudWxsfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJoZWlnaHRDb2x1bW5zXCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJoZWlnaHRDb2x1bW5zXCIpLCBjYWxsYmFja3M6IFt0aGlzLmRhdGFDaGFuZ2VkLCB0aGlzLmF4aXNDaGFuZ2VkXSB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcImxhYmVsQ29sdW1uXCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJsYWJlbENvbHVtblwiKSwgY2FsbGJhY2tzOiBbdGhpcy5kYXRhQ2hhbmdlZCwgdGhpcy5heGlzQ2hhbmdlZF0gfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJzb3J0Q29sdW1uXCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJzb3J0Q29sdW1uXCIpLCBjYWxsYmFja3M6IFt0aGlzLmRhdGFDaGFuZ2VkLCB0aGlzLmF4aXNDaGFuZ2VkXSB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcImNvbG9yQ29sdW1uXCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJjb2xvckNvbHVtblwiKSwgY2FsbGJhY2tzOiB0aGlzLmRhdGFDaGFuZ2VkIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwiY2hhcnRDb2xvcnNcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImNoYXJ0Q29sb3JzXCIpLCBjYWxsYmFja3M6IHRoaXMuZGF0YUNoYW5nZWQgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJncm91cGluZ01vZGVcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImdyb3VwaW5nTW9kZVwiKSwgY2FsbGJhY2tzOiB0aGlzLmRhdGFDaGFuZ2VkIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwiaG9yaXpvbnRhbE1vZGVcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImhvcml6b250YWxNb2RlXCIpLCBjYWxsYmFja3M6IHRoaXMucm90YXRlQXhlcyB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcInNob3dWYWx1ZUxhYmVsc1wiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwic2hvd1ZhbHVlTGFiZWxzXCIpLCBjYWxsYmFja3M6IHRoaXMuaGFuZGxlU2hvd1ZhbHVlTGFiZWxzIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwieEF4aXNcIiwgcGF0aDogdGhpcy50b29sUGF0aC5wdXNoUGxvdHRlcihcInhBeGlzXCIpLCBjYWxsYmFja3M6IHRoaXMuYXhpc0NoYW5nZWQgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJ5QXhpc1wiLCBwYXRoOiB0aGlzLnRvb2xQYXRoLnB1c2hQbG90dGVyKFwieUF4aXNcIiksIGNhbGxiYWNrczogdGhpcy5heGlzQ2hhbmdlZCB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcImZpbHRlcmVkS2V5U2V0XCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJmaWx0ZXJlZEtleVNldFwiKSwgY2FsbGJhY2tzOiB0aGlzLmRhdGFDaGFuZ2VkIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwic2VsZWN0aW9uS2V5U2V0XCIsIHBhdGg6IHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldCwgY2FsbGJhY2tzOiB0aGlzLnVwZGF0ZVN0eWxlIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwicHJvYmVLZXlTZXRcIiwgcGF0aDogdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQsIGNhbGxiYWNrczogdGhpcy51cGRhdGVTdHlsZSB9XG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5pbml0aWFsaXplUGF0aHMobWFwcGluZyk7XG5cbiAgICAgICAgdGhpcy5wYXRocy5maWx0ZXJlZEtleVNldC5nZXRPYmplY3QoKS5zZXRDb2x1bW5LZXlTb3VyY2VzKFt0aGlzLnBhdGhzLnNvcnRDb2x1bW4uZ2V0T2JqZWN0KCldKTtcblxuICAgICAgICB0aGlzLmMzQ29uZmlnLmJpbmR0byA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgaWYodGhpcy5wYXRocy5sYWJlbENvbHVtbi5nZXRTdGF0ZSgpLmxlbmd0aCl7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueC5oZWlnaHQgPSB0aGlzLnByb3BzLnN0eWxlLmhlaWdodCAqIDAuMjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdlbmVyYXRlKCk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBXZWF2ZUMzQmFyY2hhcnQ7XG5yZWdpc3RlclRvb2xJbXBsZW1lbnRhdGlvbihcIndlYXZlLnZpc3VhbGl6YXRpb24udG9vbHM6OkNvbXBvdW5kQmFyQ2hhcnRUb29sXCIsIFdlYXZlQzNCYXJjaGFydCk7XG4vL1dlYXZlLnJlZ2lzdGVyQ2xhc3MoXCJ3ZWF2ZWpzLnRvb2xzLkNvbXBvdW5kQmFyQ2hhcnRUb29sXCIsIFdlYXZlQzNCYXJjaGFydCwgW3dlYXZlanMuYXBpLmNvcmUuSUxpbmthYmxlT2JqZWN0V2l0aE5ld1Byb3BlcnRpZXNdKTtcbiIsIi8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvZDMvZDMuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vcmVhY3QtdWkvdWkudHN4XCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC1kb20uZC50c1wiLz5cblxuaW1wb3J0IHtJVmlzVG9vbCwgSVZpc1Rvb2xQcm9wcywgSVZpc1Rvb2xTdGF0ZX0gZnJvbSBcIi4vSVZpc1Rvb2xcIjtcblxuaW1wb3J0IHtyZWdpc3RlclRvb2xJbXBsZW1lbnRhdGlvbn0gZnJvbSBcIi4uL1dlYXZlVG9vbFwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHVpIGZyb20gXCIuLi9yZWFjdC11aS91aVwiO1xuaW1wb3J0IFN0YW5kYXJkTGliIGZyb20gXCIuLi91dGlscy9TdGFuZGFyZExpYlwiO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IHtDU1NQcm9wZXJ0aWVzfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFByZWZpeGVyIGZyb20gXCJyZWFjdC12ZW5kb3ItcHJlZml4XCI7XG5cbmNvbnN0IFNIQVBFX1RZUEVfQ0lSQ0xFOnN0cmluZyA9IFwiY2lyY2xlXCI7XG5jb25zdCBTSEFQRV9UWVBFX1NRVUFSRTpzdHJpbmcgPSBcInNxdWFyZVwiO1xuY29uc3QgU0hBUEVfVFlQRV9MSU5FOnN0cmluZyA9IFwibGluZVwiO1xuXG5jbGFzcyBXZWF2ZUMzQmFyQ2hhcnRMZWdlbmQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SVZpc1Rvb2xQcm9wcywgSVZpc1Rvb2xTdGF0ZT4gaW1wbGVtZW50cyBJVmlzVG9vbCB7XG5cbiAgICBwcml2YXRlIHBsb3R0ZXJQYXRoOldlYXZlUGF0aDtcbiAgICBwcml2YXRlIGNvbG9yUmFtcFBhdGg6V2VhdmVQYXRoO1xuICAgIHByaXZhdGUgY29sdW1uc1BhdGg6V2VhdmVQYXRoO1xuICAgIHByaXZhdGUgbWF4Q29sdW1uc1BhdGg6V2VhdmVQYXRoO1xuICAgIHByaXZhdGUgZmlsdGVyZWRLZXlTZXQ6V2VhdmVQYXRoO1xuICAgIHByaXZhdGUgdG9vbFBhdGg6V2VhdmVQYXRoO1xuICAgIHByaXZhdGUgc3BhblN0eWxlOkNTU1Byb3BlcnRpZXM7XG4gICAgcHJpdmF0ZSBudW1iZXJPZkxhYmVsczpudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczpJVmlzVG9vbFByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy50b29sUGF0aCA9IHByb3BzLnRvb2xQYXRoO1xuICAgICAgICB0aGlzLnBsb3R0ZXJQYXRoID0gdGhpcy50b29sUGF0aC5wdXNoUGxvdHRlcihcInBsb3RcIik7XG4gICAgICAgIHRoaXMuY29sb3JSYW1wUGF0aCA9IHRoaXMucGxvdHRlclBhdGgucHVzaChcImNoYXJ0Q29sb3JzXCIpO1xuICAgICAgICB0aGlzLmNvbHVtbnNQYXRoID0gdGhpcy5wbG90dGVyUGF0aC5wdXNoKFwiY29sdW1uc1wiKTtcbiAgICAgICAgdGhpcy5tYXhDb2x1bW5zUGF0aCA9IHRoaXMucGxvdHRlclBhdGgucHVzaChcIm1heENvbHVtbnNcIik7XG4gICAgICAgIHRoaXMuZmlsdGVyZWRLZXlTZXQgPSB0aGlzLnBsb3R0ZXJQYXRoLnB1c2goXCJmaWx0ZXJlZEtleVNldFwiKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtzZWxlY3RlZDpbXSwgcHJvYmVkOltdfTtcbiAgICAgICAgdGhpcy5zcGFuU3R5bGUgPSB7dGV4dEFsaWduOlwibGVmdFwiLHZlcnRpY2FsQWxpZ246XCJtaWRkbGVcIiwgb3ZlcmZsb3c6XCJoaWRkZW5cIiwgd2hpdGVTcGFjZTpcIm5vd3JhcFwiLCB0ZXh0T3ZlcmZsb3c6XCJlbGxpcHNpc1wiLCBwYWRkaW5nTGVmdDo1LCB1c2VyU2VsZWN0Olwibm9uZVwifTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaGFuZGxlTWlzc2luZ1Nlc3Npb25TdGF0ZVByb3BlcnRpZXMobmV3U3RhdGU6YW55KVxuICAgIHtcblxuICAgIH1cblxuICAgIGdldCB0aXRsZSgpOnN0cmluZyB7XG4gICAgICAgcmV0dXJuICh0aGlzLnRvb2xQYXRoLmdldFR5cGUoJ3BhbmVsVGl0bGUnKSA/IHRoaXMudG9vbFBhdGguZ2V0U3RhdGUoJ3BhbmVsVGl0bGUnKSA6ICcnKSB8fCB0aGlzLnRvb2xQYXRoLmdldFBhdGgoKS5wb3AoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldHVwQ2FsbGJhY2tzKCkge1xuICAgICAgICB0aGlzLm1heENvbHVtbnNQYXRoLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMuZm9yY2VVcGRhdGUpO1xuICAgICAgICB0aGlzLmZpbHRlcmVkS2V5U2V0LmFkZENhbGxiYWNrKHRoaXMsIHRoaXMuZm9yY2VVcGRhdGUpO1xuICAgICAgICB0aGlzLnBsb3R0ZXJQYXRoLnB1c2goXCJzaGFwZVNpemVcIikuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5mb3JjZVVwZGF0ZSk7XG4gICAgfVxuXG4gICAgLy9nZXRTZWxlY3RlZEJpbnMoKTpudW1iZXJbXSB7XG4gICAgLy9cbiAgICAvL31cblxuICAgIC8vZ2V0UHJvYmVkQmlucygpOm51bWJlcltdIHtcbiAgICAvL1xuICAgIC8vfVxuXG4gICAgaGFuZGxlQ2xpY2sobGFiZWw6bnVtYmVyLHRlbXA6YW55KTp2b2lkIHtcblxuICAgIH1cblxuICAgIGhhbmRsZVByb2JlKGJpbjpudW1iZXIsIG1vdXNlT3Zlcjpib29sZWFuKTp2b2lkIHtcblxuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLnNldHVwQ2FsbGJhY2tzKCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIH1cblxuICAgIGRyYXdDb250aW51b3VzUGxvdCgpIHtcblxuICAgIH1cblxuICAgIHNlbGVjdGlvbktleXNDaGFuZ2VkKCkge1xuXG4gICAgfVxuXG4gICAgcHJvYmVLZXlzQ2hhbmdlZCgpIHtcblxuICAgIH1cblxuICAgIHZpc3VhbGl6YXRpb25DaGFuZ2VkKCkge1xuXG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgfVxuXG4gICAgZ2V0SW50ZXJhY3Rpb25TdHlsZShiaW46bnVtYmVyKTpDU1NQcm9wZXJ0aWVzIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkU3R5bGU6Q1NTUHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIHdpZHRoOlwiMTAwJVwiLFxuICAgICAgICAgICAgZmxleDoxLjAsXG4gICAgICAgICAgICBib3JkZXJXaWR0aDowLFxuICAgICAgICAgICAgYm9yZGVyQ29sb3I6XCJibGFja1wiLFxuICAgICAgICAgICAgYm9yZGVyU3R5bGU6XCJzb2xpZFwiLFxuICAgICAgICAgICAgb3BhY2l0eTogMS4wXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBzZWxlY3RlZFN0eWxlO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIHdpZHRoOm51bWJlciA9IHRoaXMucHJvcHMuc3R5bGUud2lkdGg7XG4gICAgICAgIHZhciBoZWlnaHQ6bnVtYmVyID0gdGhpcy5wcm9wcy5zdHlsZS5oZWlnaHQ7XG4gICAgICAgIHZhciBzaGFwZVNpemU6bnVtYmVyID0gdGhpcy5wbG90dGVyUGF0aC5nZXRTdGF0ZShcInNoYXBlU2l6ZVwiKTtcbiAgICAgICAgdGhpcy5udW1iZXJPZkxhYmVscyA9IHRoaXMuY29sdW1uc1BhdGguZ2V0U3RhdGUoKS5sZW5ndGg7XG4gICAgICAgIHZhciBtYXhDb2x1bW5zOm51bWJlciA9IDE7Ly9UT0RPOiBUaGlzIHNob3VsZCByZWFsbHkgYmUgXCJ0aGlzLm1heENvbHVtbnNQYXRoLmdldFN0YXRlKCk7XCIgYnV0IG9ubHkgc3VwcG9ydGluZyAxIGNvbHVtbiBmb3Igbm93XG4gICAgICAgIHZhciBjb2x1bW5GbGV4Om51bWJlciA9IDEuMC9tYXhDb2x1bW5zO1xuICAgICAgICB2YXIgZXh0cmFCaW5zOm51bWJlciA9IHRoaXMubnVtYmVyT2ZMYWJlbHMlbWF4Q29sdW1ucyA9PSAwID8gMCA6IG1heENvbHVtbnMtKHRoaXMubnVtYmVyT2ZMYWJlbHMlbWF4Q29sdW1ucyk7XG4gICAgICAgIHZhciByYW1wOmFueVtdID0gdGhpcy5jb2xvclJhbXBQYXRoLmdldFN0YXRlKCk7XG5cbiAgICAgICAgdmFyIGxhYmVsczpzdHJpbmdbXSA9IHRoaXMuY29sdW1uc1BhdGguZ2V0U3RhdGUoKS5tYXAoIChjb2x1bW46YW55KTpzdHJpbmcgPT4ge1xuICAgICAgICAgICAgdmFyIGNvbHVtbk5hbWU6c3RyaW5nID0gY29sdW1uLm9iamVjdE5hbWU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb2x1bW5zUGF0aC5wdXNoKGNvbHVtbk5hbWUpLmdldE9iamVjdCgpLmdldE1ldGFkYXRhKCd0aXRsZScpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGZpbmFsRWxlbWVudHM6YW55W10gPSBbXTtcbiAgICAgICAgdmFyIHByZWZpeGVyU3R5bGU6e30gPSBQcmVmaXhlci5wcmVmaXgoe3N0eWxlczogdGhpcy5zcGFuU3R5bGV9KS5zdHlsZXM7XG4gICAgICAgIGZvcih2YXIgajpudW1iZXIgPSAwOyBqPG1heENvbHVtbnM7IGorKykge1xuXG4gICAgICAgICAgICB2YXIgZWxlbWVudDpKU1guRWxlbWVudFtdID0gW107XG4gICAgICAgICAgICB2YXIgZWxlbWVudHM6SlNYLkVsZW1lbnRbXSA9IFtdO1xuICAgICAgICAgICAgZm9yKHZhciBpPTA7IGk8dGhpcy5udW1iZXJPZkxhYmVscytleHRyYUJpbnM7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmKGklbWF4Q29sdW1ucyA9PSBqKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoaTx0aGlzLm51bWJlck9mTGFiZWxzKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dWkuSEJveCBrZXk9e2l9IHN0eWxlPXt0aGlzLmdldEludGVyYWN0aW9uU3R5bGUoaSl9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzLCBpKX0gb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlUHJvYmUuYmluZCh0aGlzLCBpLCB0cnVlKX0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVQcm9iZS5iaW5kKHRoaXMsIGksIGZhbHNlKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1aS5IQm94IHN0eWxlPXt7d2lkdGg6c2hhcGVTaXplLCBwb3NpdGlvbjpcInJlbGF0aXZlXCIsIHBhZGRpbmc6XCIwcHggMHB4IDBweCAwcHhcIn19PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHN2ZyBzdHlsZT17e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIn19IHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCB4PXswfSB5PXsxMH0gaGVpZ2h0PVwiODAlXCIgd2lkdGg9e3NoYXBlU2l6ZX0gc3R5bGU9e3tmaWxsOlwiI1wiICsgU3RhbmRhcmRMaWIuZGVjaW1hbFRvSGV4KFN0YW5kYXJkTGliLmludGVycG9sYXRlQ29sb3IoU3RhbmRhcmRMaWIubm9ybWFsaXplKGksIDAsIHRoaXMubnVtYmVyT2ZMYWJlbHMgLSAxKSwgcmFtcCkpLCBzdHJva2U6XCJibGFja1wiLCBzdHJva2VPcGFjaXR5OjAuNX19PjwvcmVjdD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VpLkhCb3g+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1aS5IQm94IHN0eWxlPXt7d2lkdGg6XCIxMDAlXCIsIGZsZXg6MC44LCBhbGlnbkl0ZW1zOlwiY2VudGVyXCJ9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXtwcmVmaXhlclN0eWxlfT57bGFiZWxzW2ldfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC91aS5IQm94PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWkuSEJveD5cbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1aS5IQm94IGtleT17aX0gc3R5bGU9e3t3aWR0aDpcIjEwMCVcIiwgZmxleDoxLjB9fS8+XG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcHMuc3R5bGUud2lkdGggPiB0aGlzLnByb3BzLnN0eWxlLmhlaWdodCAqIDIgP1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50cy5wdXNoKFxuICAgICAgICAgICAgICAgICAgICAgICAgPHVpLkhCb3gga2V5PXtpfSBzdHlsZT17e3dpZHRoOlwiMTAwJVwiLCBmbGV4OiBjb2x1bW5GbGV4fX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWkuSEJveD5cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICA6XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICAgICA8dWkuVkJveCBrZXk9e2l9IHN0eWxlPXt7aGVpZ2h0OlwiMTAwJVwiLCBmbGV4OiBjb2x1bW5GbGV4fX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWkuVkJveD5cbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmaW5hbEVsZW1lbnRzW2pdID0gZWxlbWVudHM7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKDxkaXYgc3R5bGU9e3t3aWR0aDpcIjEwMCVcIiwgaGVpZ2h0OlwiMTAwJVwiLCBwYWRkaW5nOlwiMHB4IDVweCAwcHggNXB4XCJ9fT5cbiAgICAgICAgICAgIDx1aS5WQm94IHN0eWxlPXt7aGVpZ2h0OlwiMTAwJVwiLGZsZXg6IDEuMCwgb3ZlcmZsb3c6XCJoaWRkZW5cIn19PlxuICAgICAgICAgICAgICAgIDx1aS5IQm94IHN0eWxlPXt7d2lkdGg6XCIxMDAlXCIsIGZsZXg6IDAuMSwgYWxpZ25JdGVtczpcImNlbnRlclwifX0+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPXtwcmVmaXhlclN0eWxlfT5CYXIgY29sb3I8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC91aS5IQm94PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5zdHlsZS53aWR0aCA+IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0ICogMiA/XG4gICAgICAgICAgICAgICAgICAgIDx1aS5IQm94IHN0eWxlPXt7d2lkdGg6XCIxMDAlXCIsIGZsZXg6IDAuOX19PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbEVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDwvdWkuSEJveD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgPHVpLlZCb3ggc3R5bGU9e3toZWlnaHQ6XCIxMDAlXCIsIGZsZXg6IDAuOX19PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaW5hbEVsZW1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDwvdWkuVkJveD5cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICA8L3VpLlZCb3g+XG4gICAgICAgIDwvZGl2Pik7XG4gICAgfVxufVxuXG5cblxuXG5leHBvcnQgZGVmYXVsdCBXZWF2ZUMzQmFyQ2hhcnRMZWdlbmQ7XG5cbnJlZ2lzdGVyVG9vbEltcGxlbWVudGF0aW9uKFwid2VhdmUudmlzdWFsaXphdGlvbi50b29sczo6QmFyQ2hhcnRMZWdlbmRUb29sXCIsIFdlYXZlQzNCYXJDaGFydExlZ2VuZCk7XG4vL1dlYXZlLnJlZ2lzdGVyQ2xhc3MoXCJ3ZWF2ZWpzLnRvb2xzLkNvbG9yQmluTGVnZW5kVG9vbFwiLCBXZWF2ZUMzQ29sb3JMZWdlbmQsIFt3ZWF2ZWpzLmFwaS5jb3JlLklMaW5rYWJsZU9iamVjdFdpdGhOZXdQcm9wZXJ0aWVzXSk7XG4iLCIvLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2QzL2QzLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uL3JlYWN0LXVpL3VpLnRzeFwiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QtZG9tLmQudHNcIi8+XG5cbmltcG9ydCB7SVZpc1Rvb2wsIElWaXNUb29sUHJvcHMsIElWaXNUb29sU3RhdGV9IGZyb20gXCIuL0lWaXNUb29sXCI7XG5pbXBvcnQge3JlZ2lzdGVyVG9vbEltcGxlbWVudGF0aW9ufSBmcm9tIFwiLi4vV2VhdmVUb29sXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdWkgZnJvbSBcIi4uL3JlYWN0LXVpL3VpXCI7XG5pbXBvcnQgU3RhbmRhcmRMaWIgZnJvbSBcIi4uL3V0aWxzL1N0YW5kYXJkTGliXCI7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XG5pbXBvcnQge0NTU1Byb3BlcnRpZXN9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgUHJlZml4ZXIgZnJvbSBcInJlYWN0LXZlbmRvci1wcmVmaXhcIjtcblxuY29uc3QgU0hBUEVfVFlQRV9DSVJDTEU6c3RyaW5nID0gXCJjaXJjbGVcIjtcbmNvbnN0IFNIQVBFX1RZUEVfU1FVQVJFOnN0cmluZyA9IFwic3F1YXJlXCI7XG5jb25zdCBTSEFQRV9UWVBFX0xJTkU6c3RyaW5nID0gXCJsaW5lXCI7XG5cbmNsYXNzIFdlYXZlQzNDb2xvckxlZ2VuZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudDxJVmlzVG9vbFByb3BzLCBJVmlzVG9vbFN0YXRlPlxue1xuXHRwcml2YXRlIHBsb3R0ZXJQYXRoOldlYXZlUGF0aDtcblx0cHJpdmF0ZSBkeW5hbWljQ29sb3JDb2x1bW5QYXRoOldlYXZlUGF0aDtcblx0cHJpdmF0ZSBiaW5uaW5nRGVmaW5pdGlvbjpXZWF2ZVBhdGg7XG5cdHByaXZhdGUgYmlubmVkQ29sdW1uUGF0aDpXZWF2ZVBhdGg7XG5cdHByaXZhdGUgbWF4Q29sdW1uc1BhdGg6V2VhdmVQYXRoO1xuXHRwcml2YXRlIGZpbHRlcmVkS2V5U2V0OldlYXZlUGF0aDtcblx0cHJpdmF0ZSBzZWxlY3Rpb25LZXlTZXQ6V2VhdmVQYXRoO1xuXHRwcml2YXRlIHByb2JlS2V5U2V0OldlYXZlUGF0aDtcblx0cHJvdGVjdGVkIHRvb2xQYXRoOldlYXZlUGF0aDtcblx0cHJpdmF0ZSBzcGFuU3R5bGU6Q1NTUHJvcGVydGllcztcblxuXHRwcml2YXRlIHNlbGVjdGVkQmluczpudW1iZXJbXTtcblxuXHRjb25zdHJ1Y3Rvcihwcm9wczpJVmlzVG9vbFByb3BzKVxuXHR7XG5cdFx0c3VwZXIocHJvcHMpO1xuXHRcdHRoaXMudG9vbFBhdGggPSBwcm9wcy50b29sUGF0aDtcblx0XHR0aGlzLnBsb3R0ZXJQYXRoID0gdGhpcy50b29sUGF0aC5wdXNoUGxvdHRlcihcInBsb3RcIik7XG5cdFx0dGhpcy5keW5hbWljQ29sb3JDb2x1bW5QYXRoID0gdGhpcy5wbG90dGVyUGF0aC5wdXNoKFwiZHluYW1pY0NvbG9yQ29sdW1uXCIsIG51bGwpO1xuXHRcdHRoaXMuYmlubmluZ0RlZmluaXRpb24gPSB0aGlzLmR5bmFtaWNDb2xvckNvbHVtblBhdGgucHVzaChcImludGVybmFsRHluYW1pY0NvbHVtblwiLCBudWxsLCBcImJpbm5pbmdEZWZpbml0aW9uXCIsIG51bGwpO1xuXHRcdHRoaXMuYmlubmVkQ29sdW1uUGF0aCA9IHRoaXMuZHluYW1pY0NvbG9yQ29sdW1uUGF0aC5wdXNoKFwiaW50ZXJuYWxEeW5hbWljQ29sdW1uXCIsIG51bGwpO1xuXHRcdHRoaXMubWF4Q29sdW1uc1BhdGggPSB0aGlzLnBsb3R0ZXJQYXRoLnB1c2goXCJtYXhDb2x1bW5zXCIpO1xuXHRcdHRoaXMuZmlsdGVyZWRLZXlTZXQgPSB0aGlzLnBsb3R0ZXJQYXRoLnB1c2goXCJmaWx0ZXJlZEtleVNldFwiKTtcblx0XHR0aGlzLnNlbGVjdGlvbktleVNldCA9IHRoaXMudG9vbFBhdGgucHVzaChcInNlbGVjdGlvbktleVNldFwiKTtcblx0XHR0aGlzLnByb2JlS2V5U2V0ID0gdGhpcy50b29sUGF0aC5wdXNoKFwicHJvYmVLZXlTZXRcIik7XG5cdFx0dGhpcy5zdGF0ZSA9IHtzZWxlY3RlZDpbXSwgcHJvYmVkOltdfTtcblx0XHR0aGlzLnNlbGVjdGVkQmlucyA9IFtdO1xuXHRcdHRoaXMuc3BhblN0eWxlID0ge1xuXHRcdFx0dGV4dEFsaWduOiBcImxlZnRcIixcblx0XHRcdHZlcnRpY2FsQWxpZ246IFwibWlkZGxlXCIsXG5cdFx0XHRvdmVyZmxvdzogXCJoaWRkZW5cIixcblx0XHRcdHdoaXRlU3BhY2U6IFwibm93cmFwXCIsXG5cdFx0XHR0ZXh0T3ZlcmZsb3c6IFwiZWxsaXBzaXNcIixcblx0XHRcdHBhZGRpbmdMZWZ0OiA1LFxuXHRcdFx0dXNlclNlbGVjdDogXCJub25lXCJcblx0XHR9O1xuXHR9XG5cblx0Z2V0IHRpdGxlKCk6c3RyaW5nXG5cdHtcblx0XHRyZXR1cm4gKHRoaXMudG9vbFBhdGguZ2V0VHlwZSgncGFuZWxUaXRsZScpID8gdGhpcy50b29sUGF0aC5nZXRTdGF0ZSgncGFuZWxUaXRsZScpIDogJycpIHx8IHRoaXMudG9vbFBhdGguZ2V0UGF0aCgpLnBvcCgpO1xuXHR9XG5cdFxuXHRnZXQgbnVtYmVyT2ZCaW5zKCk6bnVtYmVyXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5iaW5uZWRDb2x1bW5QYXRoLmdldE9iamVjdCgpLm51bWJlck9mQmlucztcblx0fVxuXG4gICAgcHJvdGVjdGVkIGhhbmRsZU1pc3NpbmdTZXNzaW9uU3RhdGVQcm9wZXJ0aWVzKG5ld1N0YXRlOmFueSlcblx0e1xuXG5cdH1cblxuXHRwcml2YXRlIHNldHVwQ2FsbGJhY2tzKClcblx0e1xuXHRcdHRoaXMuZHluYW1pY0NvbG9yQ29sdW1uUGF0aC5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLmZvcmNlVXBkYXRlKTtcblx0XHR0aGlzLm1heENvbHVtbnNQYXRoLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMuZm9yY2VVcGRhdGUpO1xuXHRcdHRoaXMuZmlsdGVyZWRLZXlTZXQuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5mb3JjZVVwZGF0ZSk7XG5cdFx0dGhpcy5wbG90dGVyUGF0aC5wdXNoKFwic2hhcGVTaXplXCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMuZm9yY2VVcGRhdGUpO1xuXHRcdHRoaXMuYmlubmVkQ29sdW1uUGF0aC5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLmZvcmNlVXBkYXRlKTtcblx0XHR0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5mb3JjZVVwZGF0ZSk7XG5cdFx0dGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5mb3JjZVVwZGF0ZSk7XG5cdH1cblxuXHRnZXRCaW5JbmRleEZyb21LZXkoa2V5OmFueSk6bnVtYmVyXG5cdHtcblx0XHRyZXR1cm4gdGhpcy5iaW5uZWRDb2x1bW5QYXRoLmdldE9iamVjdCgpLmdldFZhbHVlRnJvbUtleShrZXksTnVtYmVyKTtcblx0fVxuXG5cdGdldFNlbGVjdGVkQmlucygpOm51bWJlcltdXG5cdHtcblx0XHR2YXIga2V5cyA9IHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5nZXRLZXlzKCk7XG5cdFx0dmFyIHNlbGVjdGVkQmluczpudW1iZXJbXSA9IFtdO1xuXHRcdGtleXMuZm9yRWFjaCggKGtleTpzdHJpbmcpID0+IHtcblx0XHRcdHNlbGVjdGVkQmlucy5wdXNoKHRoaXMuZ2V0QmluSW5kZXhGcm9tS2V5KGtleSkpO1xuXHRcdH0pO1xuXHRcdHJldHVybiBfLnVuaXF1ZShzZWxlY3RlZEJpbnMpO1xuXHR9XG5cblx0Z2V0UHJvYmVkQmlucygpOm51bWJlcltdXG5cdHtcblx0XHR2YXIga2V5cyA9IHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LmdldEtleXMoKTtcblx0XHR2YXIgcHJvYmVkQmluczpudW1iZXJbXSA9IFtdO1xuXHRcdGtleXMuZm9yRWFjaCggKGtleTpzdHJpbmcpID0+IHtcblx0XHRcdHByb2JlZEJpbnMucHVzaCh0aGlzLmdldEJpbkluZGV4RnJvbUtleShrZXkpKTtcblx0XHR9KTtcblx0XHRyZXR1cm4gXy51bmlxdWUocHJvYmVkQmlucyk7XG5cdH1cblxuXHRoYW5kbGVDbGljayhiaW46bnVtYmVyLCBldmVudDpSZWFjdC5Nb3VzZUV2ZW50KTp2b2lkXG5cdHtcblx0XHR2YXIgYmlubmVkS2V5czphbnlbXSA9IHRoaXMuYmlubmVkQ29sdW1uUGF0aC5nZXRPYmplY3QoKS5fYmlubmVkS2V5c0FycmF5O1xuXHRcdC8vc2V0S2V5c1xuXHRcdGlmIChfLmNvbnRhaW5zKHRoaXMuc2VsZWN0ZWRCaW5zLGJpbikpXG5cdFx0e1xuXHRcdFx0dmFyIGN1cnJlbnRTZWxlY3Rpb246YW55W10gPSB0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQuZ2V0S2V5cygpO1xuXHRcdFx0Y3VycmVudFNlbGVjdGlvbiA9IF8uZGlmZmVyZW5jZShjdXJyZW50U2VsZWN0aW9uLGJpbm5lZEtleXNbYmluXSk7XG5cdFx0XHR0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQuc2V0S2V5cyhjdXJyZW50U2VsZWN0aW9uKTtcblx0XHRcdF8ucmVtb3ZlKHRoaXMuc2VsZWN0ZWRCaW5zLCAodmFsdWU6bnVtYmVyKSA9Pntcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09IGJpbjtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0aWYgKChldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpKVxuXHRcdFx0e1xuXHRcdFx0XHR0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQuYWRkS2V5cyhiaW5uZWRLZXlzW2Jpbl0pO1xuXHRcdFx0XHR0aGlzLnNlbGVjdGVkQmlucy5wdXNoKGJpbik7XG5cdFx0XHR9XG5cdFx0XHRlbHNlXG5cdFx0XHR7XG5cdFx0XHRcdHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5zZXRLZXlzKGJpbm5lZEtleXNbYmluXSk7XG5cdFx0XHRcdHRoaXMuc2VsZWN0ZWRCaW5zID0gW2Jpbl07XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0aGFuZGxlUHJvYmUoYmluOm51bWJlciwgbW91c2VPdmVyOmJvb2xlYW4pOnZvaWRcblx0e1xuXHRcdGlmIChtb3VzZU92ZXIpXG5cdFx0e1xuXHRcdFx0dmFyIGJpbm5lZEtleXM6YW55W10gPSB0aGlzLmJpbm5lZENvbHVtblBhdGguZ2V0T2JqZWN0KCkuX2Jpbm5lZEtleXNBcnJheTtcblx0XHRcdHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LnNldEtleXMoYmlubmVkS2V5c1tiaW5dKTtcblx0XHR9XG5cdFx0ZWxzZVxuXHRcdHtcblx0XHRcdHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LnNldEtleXMoW10pO1xuXHRcdH1cblx0fVxuXG5cdGNvbXBvbmVudERpZE1vdW50KClcblx0e1xuXHRcdHRoaXMuc2V0dXBDYWxsYmFja3MoKTtcblx0fVxuXG5cdGdldEludGVyYWN0aW9uU3R5bGUoYmluOm51bWJlcik6Q1NTUHJvcGVydGllc1xuXHR7XG5cdFx0dmFyIHByb2JlZDpib29sZWFuID0gdGhpcy5nZXRQcm9iZWRCaW5zKCkuaW5kZXhPZihiaW4pID49IDA7XG5cdFx0dmFyIHNlbGVjdGVkOmJvb2xlYW4gPSB0aGlzLmdldFNlbGVjdGVkQmlucygpLmluZGV4T2YoYmluKSA+PSAwO1xuXHRcdFxuXHRcdHZhciBib3JkZXJBbHBoYTpudW1iZXI7XG5cdFx0aWYgKHByb2JlZClcblx0XHRcdGJvcmRlckFscGhhID0gMTtcblx0XHRlbHNlIGlmIChzZWxlY3RlZClcblx0XHRcdGJvcmRlckFscGhhID0gMC41O1xuXHRcdGVsc2Vcblx0XHRcdGJvcmRlckFscGhhID0gMDtcblx0XHRcblx0XHRyZXR1cm4ge1xuXHRcdFx0d2lkdGg6IFwiMTAwJVwiLFxuXHRcdFx0ZmxleDogMS4wLFxuXHRcdFx0Ym9yZGVyQ29sb3I6IFN0YW5kYXJkTGliLnJnYmEoMCwgMCwgMCwgYm9yZGVyQWxwaGEpLFxuXHRcdFx0Ym9yZGVyU3R5bGU6IFwic29saWRcIixcblx0XHRcdGJvcmRlcldpZHRoOiAxXG5cdFx0fTtcblx0fVxuXG5cdHJlbmRlcigpXG5cdHtcblx0XHRpZiAodGhpcy5udW1iZXJPZkJpbnMpXG5cdFx0e1xuXHRcdFx0Ly9CaW5uZWQgcGxvdCBjYXNlXG5cdFx0XHR2YXIgd2lkdGg6bnVtYmVyID0gdGhpcy5wcm9wcy5zdHlsZS53aWR0aDtcblx0XHRcdHZhciBoZWlnaHQ6bnVtYmVyID0gdGhpcy5wcm9wcy5zdHlsZS5oZWlnaHQ7XG5cdFx0XHR2YXIgc2hhcGVTaXplOm51bWJlciA9IHRoaXMucGxvdHRlclBhdGguZ2V0U3RhdGUoXCJzaGFwZVNpemVcIik7XG5cdFx0XHR2YXIgc2hhcGVUeXBlOnN0cmluZyA9IHRoaXMucGxvdHRlclBhdGguZ2V0U3RhdGUoXCJzaGFwZVR5cGVcIik7XG5cdFx0XHR2YXIgbWF4Q29sdW1uczpudW1iZXIgPSAxOy8vVE9ETzogVGhpcyBzaG91bGQgcmVhbGx5IGJlIFwidGhpcy5tYXhDb2x1bW5zUGF0aC5nZXRTdGF0ZSgpO1wiIGJ1dCBvbmx5IHN1cHBvcnRpbmcgMSBjb2x1bW4gZm9yIG5vd1xuXHRcdFx0dmFyIGNvbHVtbkZsZXg6bnVtYmVyID0gMS4wL21heENvbHVtbnM7XG5cdFx0XHR2YXIgZXh0cmFCaW5zOm51bWJlciA9IHRoaXMubnVtYmVyT2ZCaW5zICUgbWF4Q29sdW1ucyA9PSAwID8gMCA6IG1heENvbHVtbnMgLSB0aGlzLm51bWJlck9mQmlucyAlIG1heENvbHVtbnM7XG5cdFx0XHR2YXIgcmFtcDphbnlbXSA9IHRoaXMuZHluYW1pY0NvbG9yQ29sdW1uUGF0aC5nZXRTdGF0ZShcInJhbXBcIik7XG5cdFx0XHR2YXIgeVNjYWxlOkZ1bmN0aW9uID0gZDMuc2NhbGUubGluZWFyKCkuZG9tYWluKFswLCB0aGlzLm51bWJlck9mQmlucyArIDFdKS5yYW5nZShbMCwgaGVpZ2h0XSk7XG5cdFx0XHR2YXIgeU1hcDpGdW5jdGlvbiA9IChkOm51bWJlcik6bnVtYmVyID0+IHsgcmV0dXJuIHlTY2FsZShkKTsgfTtcblxuXHRcdFx0c2hhcGVTaXplID0gXy5tYXgoWzEsIF8ubWluKFtzaGFwZVNpemUsIGhlaWdodCAvIHRoaXMubnVtYmVyT2ZCaW5zXSldKTtcblx0XHRcdHZhciByOm51bWJlciA9IChzaGFwZVNpemUgLyAxMDAgKiBoZWlnaHQgLyB0aGlzLm51bWJlck9mQmlucykgLyAyO1xuXHRcdFx0dmFyIGJjOmFueSA9IHRoaXMuYmlubmVkQ29sdW1uUGF0aC5nZXRPYmplY3QoKTtcblx0XHRcdHZhciB0ZXh0TGFiZWxGdW5jdGlvbjpGdW5jdGlvbiA9IGJjLmRlcml2ZVN0cmluZ0Zyb21OdW1iZXIuYmluZChiYyk7XG5cdFx0XHR2YXIgZmluYWxFbGVtZW50czphbnlbXSA9IFtdO1xuXHRcdFx0dmFyIHByZWZpeGVyU3R5bGU6e30gPSBQcmVmaXhlci5wcmVmaXgoe3N0eWxlczogdGhpcy5zcGFuU3R5bGV9KS5zdHlsZXM7XG5cdFx0XHRmb3IgKHZhciBqOm51bWJlciA9IDA7IGogPCBtYXhDb2x1bW5zOyBqKyspXG5cdFx0XHR7XG5cdFx0XHRcdHN3aXRjaCAoc2hhcGVUeXBlKVxuXHRcdFx0XHR7XG5cdFx0XHRcdFx0Y2FzZSBTSEFQRV9UWVBFX0NJUkNMRSA6XG5cdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0dmFyIGVsZW1lbnQ6SlNYLkVsZW1lbnRbXSA9IFtdO1xuXHRcdFx0XHRcdFx0dmFyIGVsZW1lbnRzOkpTWC5FbGVtZW50W10gPSBbXTtcblx0XHRcdFx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5udW1iZXJPZkJpbnMgKyBleHRyYUJpbnM7IGkrKylcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0aWYgKGkgJSBtYXhDb2x1bW5zID09IGopXG5cdFx0XHRcdFx0XHRcdHtcblxuXHRcdFx0XHRcdFx0XHRcdGlmIChpIDwgdGhpcy5udW1iZXJPZkJpbnMpXG5cdFx0XHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRcdFx0ZWxlbWVudC5wdXNoKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dWkuSEJveCBrZXk9e2l9IHN0eWxlPXt0aGlzLmdldEludGVyYWN0aW9uU3R5bGUoaSl9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzLCBpKX0gb25Nb3VzZU92ZXI9e3RoaXMuaGFuZGxlUHJvYmUuYmluZCh0aGlzLCBpLCB0cnVlKX0gb25Nb3VzZU91dD17dGhpcy5oYW5kbGVQcm9iZS5iaW5kKHRoaXMsIGksIGZhbHNlKX0+XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8dWkuSEJveCBzdHlsZT17e3dpZHRoOlwiMTAwJVwiLCBmbGV4OjAuMixtaW5XaWR0aDoxMCwgcG9zaXRpb246XCJyZWxhdGl2ZVwiLCBwYWRkaW5nOlwiMHB4IDBweCAwcHggMHB4XCJ9fT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHN2ZyBzdHlsZT17e3Bvc2l0aW9uOlwiYWJzb2x1dGVcIn19XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IHZpZXdCb3g9XCIwIDAgMTAwIDEwMFwiIHdpZHRoPVwiMTAwJVwiIGhlaWdodD1cIjEwMCVcIj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8Y2lyY2xlIGN4PVwiNTAlXCIgY3k9XCI1MCVcIiByPVwiNDUlXCIgc3R5bGU9e3tcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZpbGw6IFwiI1wiICsgU3RhbmRhcmRMaWIuZGVjaW1hbFRvSGV4KFN0YW5kYXJkTGliLmludGVycG9sYXRlQ29sb3IoU3RhbmRhcmRMaWIubm9ybWFsaXplKGksIDAsIHRoaXMubnVtYmVyT2ZCaW5zIC0gMSksIHJhbXApKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0cm9rZTogXCJibGFja1wiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3Ryb2tlT3BhY2l0eTogMC41XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0fX0vPlxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3N2Zz5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvdWkuSEJveD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDx1aS5IQm94IHN0eWxlPXt7d2lkdGg6XCIxMDAlXCIsIGZsZXg6MC44LCBhbGlnbkl0ZW1zOlwiY2VudGVyXCJ9fT5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IDxzcGFuIHN0eWxlPXsgcHJlZml4ZXJTdHlsZSB9PnsgdGV4dExhYmVsRnVuY3Rpb24oaSkgfTwvc3Bhbj5cblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvdWkuSEJveD5cblx0XHRcdFx0XHRcdFx0XHRcdFx0PC91aS5IQm94PlxuXHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0ZWxzZVxuXHRcdFx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0XHRcdGVsZW1lbnQucHVzaChcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHVpLkhCb3gga2V5PXtpfSBzdHlsZT17e3dpZHRoOlwiMTAwJVwiLCBmbGV4OjEuMH19Lz5cblx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdGlmICh0aGlzLnByb3BzLnN0eWxlLndpZHRoID4gdGhpcy5wcm9wcy5zdHlsZS5oZWlnaHQgKiAyKVxuXHRcdFx0XHRcdFx0e1xuXHRcdFx0XHRcdFx0XHRlbGVtZW50cy5wdXNoKFxuXHRcdFx0XHRcdFx0XHRcdDx1aS5IQm94IGtleT17aX0gc3R5bGU9e3t3aWR0aDpcIjEwMCVcIiwgZmxleDogY29sdW1uRmxleH19PiB7IGVsZW1lbnQgfSA8L3VpLkhCb3g+XG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRcdGVsZW1lbnRzLnB1c2goXG5cdFx0XHRcdFx0XHRcdFx0PHVpLlZCb3gga2V5PXtpfSBzdHlsZT17e2hlaWdodDpcIjEwMCVcIiwgZmxleDogY29sdW1uRmxleH19PiB7IGVsZW1lbnQgfSA8L3VpLlZCb3g+XG5cdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdGZpbmFsRWxlbWVudHNbal0gPSBlbGVtZW50cztcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRjYXNlIFNIQVBFX1RZUEVfU1FVQVJFIDpcblx0XHRcdFx0XHRcdGJyZWFrO1xuXG5cdFx0XHRcdFx0Y2FzZSBTSEFQRV9UWVBFX0xJTkUgOlxuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuICg8ZGl2IHN0eWxlPXt7d2lkdGg6XCIxMDAlXCIsIGhlaWdodDpcIjEwMCVcIiwgcGFkZGluZzpcIjBweCA1cHggMHB4IDVweFwifX0+XG5cdFx0XHRcdDx1aS5WQm94IHN0eWxlPXt7aGVpZ2h0OlwiMTAwJVwiLGZsZXg6IDEuMCwgb3ZlcmZsb3c6XCJoaWRkZW5cIn19PlxuXHRcdFx0XHRcdDx1aS5IQm94IHN0eWxlPXt7d2lkdGg6XCIxMDAlXCIsIGZsZXg6IDAuMSwgYWxpZ25JdGVtczpcImNlbnRlclwifX0+XG5cdFx0XHRcdFx0XHQ8c3BhbiBzdHlsZT17cHJlZml4ZXJTdHlsZX0+e3RoaXMuZHluYW1pY0NvbG9yQ29sdW1uUGF0aC5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgndGl0bGUnKX08L3NwYW4+XG5cdFx0XHRcdFx0PC91aS5IQm94PlxuXHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdHRoaXMucHJvcHMuc3R5bGUud2lkdGggPiB0aGlzLnByb3BzLnN0eWxlLmhlaWdodCAqIDJcblx0XHRcdFx0XHRcdD8gPHVpLkhCb3ggc3R5bGU9e3t3aWR0aDpcIjEwMCVcIiwgZmxleDogMC45fX0+IHsgZmluYWxFbGVtZW50cyB9IDwvdWkuSEJveD5cblx0XHRcdFx0XHRcdDogPHVpLlZCb3ggc3R5bGU9e3toZWlnaHQ6XCIxMDAlXCIsIGZsZXg6IDAuOX19PiB7IGZpbmFsRWxlbWVudHMgfSA8L3VpLlZCb3g+XG5cdFx0XHRcdCAgIFx0fVxuXHRcdFx0XHQ8L3VpLlZCb3g+XG5cdFx0XHQ8L2Rpdj4pO1xuXHRcdH1cblx0XHRlbHNlXG5cdFx0e1xuXHRcdFx0Ly9Db250aW51b3VzIHBsb3QgY2FzZVxuXHRcdFx0cmV0dXJuICg8c3ZnPjwvc3ZnPik7XG5cdFx0fVxuXHR9XG59XG5cblxuZXhwb3J0IGRlZmF1bHQgV2VhdmVDM0NvbG9yTGVnZW5kO1xuXG5yZWdpc3RlclRvb2xJbXBsZW1lbnRhdGlvbihcIndlYXZlLnZpc3VhbGl6YXRpb24udG9vbHM6OkNvbG9yQmluTGVnZW5kVG9vbFwiLCBXZWF2ZUMzQ29sb3JMZWdlbmQpO1xuLy9XZWF2ZS5yZWdpc3RlckNsYXNzKFwid2VhdmVqcy50b29scy5Db2xvckJpbkxlZ2VuZFRvb2xcIiwgV2VhdmVDM0NvbG9yTGVnZW5kLCBbd2VhdmVqcy5hcGkuY29yZS5JTGlua2FibGVPYmplY3RXaXRoTmV3UHJvcGVydGllc10pO1xuIiwiLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9jMy9jMy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9kMy9kMy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuXG5cbmltcG9ydCB7SVZpc1Rvb2xQcm9wc30gZnJvbSBcIi4vSVZpc1Rvb2xcIjtcbmltcG9ydCB7SVRvb2xQYXRoc30gZnJvbSBcIi4vQWJzdHJhY3RDM1Rvb2xcIjtcbmltcG9ydCBBYnN0cmFjdEMzVG9vbCBmcm9tIFwiLi9BYnN0cmFjdEMzVG9vbFwiO1xuXG5pbXBvcnQge3JlZ2lzdGVyVG9vbEltcGxlbWVudGF0aW9ufSBmcm9tIFwiLi4vV2VhdmVUb29sXCI7XG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgRm9ybWF0VXRpbHMgZnJvbSBcIi4uL3V0aWxzL0Zvcm1hdFV0aWxzXCI7XG5pbXBvcnQgU3RhbmRhcmRMaWIgZnJvbSBcIi4uL3V0aWxzL1N0YW5kYXJkTGliXCJcblxuaW1wb3J0IHtDaGFydENvbmZpZ3VyYXRpb24sIENoYXJ0QVBJLCBnZW5lcmF0ZX0gZnJvbSBcImMzXCI7XG5pbXBvcnQge01vdXNlRXZlbnR9IGZyb20gXCJyZWFjdFwiO1xuXG5pbnRlcmZhY2UgSUhpc3RvZ3JhbVBhdGhzIGV4dGVuZHMgSVRvb2xQYXRocyB7XG4gICAgcGxvdHRlcjogV2VhdmVQYXRoO1xuICAgIGJpbm5lZENvbHVtbjogV2VhdmVQYXRoO1xuICAgIGNvbHVtblRvQWdncmVnYXRlOiBXZWF2ZVBhdGg7XG4gICAgYWdncmVnYXRpb25NZXRob2Q6IFdlYXZlUGF0aDtcbiAgICBmaWxsU3R5bGU6IFdlYXZlUGF0aDtcbiAgICBsaW5lU3R5bGU6IFdlYXZlUGF0aDtcbiAgICB4QXhpczogV2VhdmVQYXRoO1xuICAgIHlBeGlzOiBXZWF2ZVBhdGg7XG4gICAgZmlsdGVyZWRLZXlTZXQ6IFdlYXZlUGF0aDtcbiAgICBzZWxlY3Rpb25LZXlTZXQ6IFdlYXZlUGF0aDtcbiAgICBwcm9iZUtleVNldDogV2VhdmVQYXRoO1xufVxuXG5jbGFzcyBXZWF2ZUMzSGlzdG9ncmFtIGV4dGVuZHMgQWJzdHJhY3RDM1Rvb2wge1xuICAgIHByaXZhdGUgYnVzeTpib29sZWFuO1xuICAgIHByaXZhdGUgaWRUb1JlY29yZDp7W2lkOnN0cmluZ106IFJlY29yZH07XG4gICAgcHJpdmF0ZSBrZXlUb0luZGV4Ontba2V5OnN0cmluZ106IG51bWJlcn07XG4gICAgcHJpdmF0ZSBpbmRleFRvS2V5OntbaW5kZXg6bnVtYmVyXTogc3RyaW5nfTtcbiAgICBwcml2YXRlIHN0cmluZ1JlY29yZHM6UmVjb3JkW107XG4gICAgcHJpdmF0ZSBudW1lcmljUmVjb3JkczpSZWNvcmRbXTtcbiAgICBwcml2YXRlIGhlaWdodENvbHVtbk5hbWVzOnN0cmluZ1tdO1xuICAgIHByaXZhdGUgYmlubmVkQ29sdW1uRGF0YVR5cGU6c3RyaW5nO1xuICAgIHByaXZhdGUgbnVtYmVyT2ZCaW5zOm51bWJlcjtcbiAgICBwcml2YXRlIHNob3dYQXhpc0xhYmVsOmJvb2xlYW47XG4gICAgcHJpdmF0ZSBoaXN0RGF0YTp7fVtdO1xuICAgIHByb3RlY3RlZCBjM0NvbmZpZzpDaGFydENvbmZpZ3VyYXRpb247XG4gICAgcHJvdGVjdGVkIGNoYXJ0OkNoYXJ0QVBJO1xuXG4gICAgcHJvdGVjdGVkIHBhdGhzOklIaXN0b2dyYW1QYXRocztcblxuICAgIHByaXZhdGUgZmxhZzpib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6SVZpc1Rvb2xQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMuYnVzeSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlkVG9SZWNvcmQgPSB7fTtcbiAgICAgICAgdGhpcy5rZXlUb0luZGV4ID0ge307XG4gICAgICAgIHRoaXMuaW5kZXhUb0tleSA9IHt9O1xuXG4gICAgICAgIHRoaXMuYzNDb25maWcgPSB7XG4gICAgICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMucHJvcHMuc3R5bGUud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnByb3BzLnN0eWxlLmhlaWdodFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhZGRpbmc6IHtcbiAgICAgICAgICAgICAgICB0b3A6IDIwLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogMjAsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IDMwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGNvbHVtbnM6IFtdLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcImJhclwiLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAoY29sb3I6c3RyaW5nLCBkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlY0NvbG9yOm51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuYzNDb25maWcuYXhpcy55Mi5zaG93KXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2hhbmRsZSBjYXNlIHdoZXJlIGxhYmVscyBuZWVkIHRvIGJlIHJldmVyc2VkIGZvciBjaGFydCBmbGlwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXA6bnVtYmVyID0gdGhpcy5oaXN0RGF0YS5sZW5ndGgtMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNDb2xvciA9IHRoaXMucGF0aHMuZmlsbFN0eWxlLnB1c2goXCJjb2xvclwiKS5nZXRPYmplY3QoXCJpbnRlcm5hbER5bmFtaWNDb2x1bW5cIiwgbnVsbCkuZ2V0Q29sb3JGcm9tRGF0YVZhbHVlKHRlbXAtZC5pbmRleCkudG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjQ29sb3IgPSB0aGlzLnBhdGhzLmZpbGxTdHlsZS5wdXNoKFwiY29sb3JcIikuZ2V0T2JqZWN0KFwiaW50ZXJuYWxEeW5hbWljQ29sdW1uXCIsIG51bGwpLmdldENvbG9yRnJvbURhdGFWYWx1ZShkLmluZGV4KS50b1N0cmluZygxNik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCIjXCIgKyBTdGFuZGFyZExpYi5kZWNpbWFsVG9IZXgoZGVjQ29sb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIiNDMENERDFcIjtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uY2xpY2s6IChkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnQ6TW91c2VFdmVudCA9IHRoaXMuY2hhcnQuaW50ZXJuYWwuZDMgYXMgTW91c2VFdmVudDtcbiAgICAgICAgICAgICAgICAgICAgaWYoIShldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkpICYmIGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRJZHM6c3RyaW5nW10gPSB0aGlzLnBhdGhzLmJpbm5lZENvbHVtbi5nZXRPYmplY3QoKS5nZXRLZXlzRnJvbUJpbkluZGV4KGQuaW5kZXgpLm1hcCggKHFLZXk6e30pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b29sUGF0aC5xa2V5VG9TdHJpbmcocUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5zZXRLZXlzKHNlbGVjdGVkSWRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25zZWxlY3RlZDogKGQ6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmKGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRJZHM6c3RyaW5nW10gPSB0aGlzLnBhdGhzLmJpbm5lZENvbHVtbi5nZXRPYmplY3QoKS5nZXRLZXlzRnJvbUJpbkluZGV4KGQuaW5kZXgpLm1hcCggKHFLZXk6e30pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy50b29sUGF0aC5xa2V5VG9TdHJpbmcocUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5hZGRLZXlzKHNlbGVjdGVkSWRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb251bnNlbGVjdGVkOiAoZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYoZCAmJiBkLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1blNlbGVjdGVkSWRzOnN0cmluZ1tdID0gdGhpcy5wYXRocy5iaW5uZWRDb2x1bW4uZ2V0T2JqZWN0KCkuZ2V0S2V5c0Zyb21CaW5JbmRleChkLmluZGV4KS5tYXAoIChxS2V5Ont9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9vbFBhdGgucWtleVRvU3RyaW5nKHFLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQucmVtb3ZlS2V5cyh1blNlbGVjdGVkSWRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25tb3VzZW92ZXI6IChkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkSWRzOnN0cmluZ1tdID0gdGhpcy5wYXRocy5iaW5uZWRDb2x1bW4uZ2V0T2JqZWN0KCkuZ2V0S2V5c0Zyb21CaW5JbmRleChkLmluZGV4KS5tYXAoIChxS2V5Ont9KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudG9vbFBhdGgucWtleVRvU3RyaW5nKHFLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldC5zZXRLZXlzKHNlbGVjdGVkSWRzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25tb3VzZW91dDogKGQ6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldC5zZXRLZXlzKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBiaW5kdG86IHRoaXMuZWxlbWVudCxcbiAgICAgICAgICAgIGxlZ2VuZDoge1xuICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXhpczoge1xuICAgICAgICAgICAgICAgIHg6IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjYXRlZ29yeVwiLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcIm91dGVyLWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZTogLTQ1LFxuICAgICAgICAgICAgICAgICAgICAgICAgbXVsdGlsaW5lOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogKG51bTpudW1iZXIpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5lbGVtZW50ICYmIHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFiZWxIZWlnaHQ6bnVtYmVyID0gKHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0KiAwLjIpL01hdGguY29zKDQ1KihNYXRoLlBJLzE4MCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGFiZWxTdHJpbmc6c3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmMzQ29uZmlnLmF4aXMueTIuc2hvdyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2hhbmRsZSBjYXNlIHdoZXJlIGxhYmVscyBuZWVkIHRvIGJlIHJldmVyc2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcDpudW1iZXIgPSB0aGlzLmhpc3REYXRhLmxlbmd0aC0xO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWxTdHJpbmcgPSB0aGlzLnBhdGhzLmJpbm5lZENvbHVtbi5nZXRPYmplY3QoKS5kZXJpdmVTdHJpbmdGcm9tTnVtYmVyKHRlbXAtbnVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbFN0cmluZyA9IHRoaXMucGF0aHMuYmlubmVkQ29sdW1uLmdldE9iamVjdCgpLmRlcml2ZVN0cmluZ0Zyb21OdW1iZXIobnVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihsYWJlbFN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0cmluZ1NpemU6bnVtYmVyID0gU3RhbmRhcmRMaWIuZ2V0VGV4dFdpZHRoKGxhYmVsU3RyaW5nLCBcIjE0cHQgSGVsdmV0aWNhIE5ldWVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRqdXN0bWVudENoYXJhY3RlcnM6bnVtYmVyID0gbGFiZWxTdHJpbmcubGVuZ3RoIC0gTWF0aC5mbG9vcihsYWJlbFN0cmluZy5sZW5ndGggKiAobGFiZWxIZWlnaHQgLyBzdHJpbmdTaXplKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWRqdXN0bWVudENoYXJhY3RlcnMgPiAwID8gbGFiZWxTdHJpbmcuc3Vic3RyaW5nKDAsIGxhYmVsU3RyaW5nLmxlbmd0aCAtIGFkanVzdG1lbnRDaGFyYWN0ZXJzIC0gMykgKyBcIi4uLlwiIDogbGFiZWxTdHJpbmc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdGhzLmJpbm5lZENvbHVtbi5nZXRPYmplY3QoKS5kZXJpdmVTdHJpbmdGcm9tTnVtYmVyKG51bSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB5OiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwib3V0ZXItbWlkZGxlXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGljazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZml0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogKG51bTpudW1iZXIpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhGb3JtYXRVdGlscy5kZWZhdWx0TnVtYmVyRm9ybWF0dGluZyhudW0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeTI6IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFwib3V0ZXItbWlkZGxlXCJcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGljazoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZml0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogKG51bTpudW1iZXIpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhGb3JtYXRVdGlscy5kZWZhdWx0TnVtYmVyRm9ybWF0dGluZyhudW0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgcm90YXRlZDogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAobnVtOm51bWJlcik6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnBhdGhzLmJpbm5lZENvbHVtbi5nZXRPYmplY3QoKS5kZXJpdmVTdHJpbmdGcm9tTnVtYmVyKG51bSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IChuYW1lOnN0cmluZywgcmF0aW86bnVtYmVyLCBpZDpzdHJpbmcsIGluZGV4Om51bWJlcik6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFlBeGlzTGFiZWwoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBncmlkOiB7XG4gICAgICAgICAgICAgICAgeDoge1xuICAgICAgICAgICAgICAgICAgICBzaG93OiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB5OiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmFyOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHtcbiAgICAgICAgICAgICAgICAgICAgcmF0aW86IDAuOTVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb25yZW5kZXJlZDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlU3R5bGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaGFuZGxlTWlzc2luZ1Nlc3Npb25TdGF0ZVByb3BlcnRpZXMobmV3U3RhdGU6YW55KVxuICAgIHtcblxuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrKGV2ZW50Ok1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYoIXRoaXMuZmxhZykge1xuICAgICAgICAgICAgdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LnNldEtleXMoW10pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmxhZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHJvdGF0ZUF4ZXMoKSB7XG4gICAgICAgIC8vdGhpcy5jM0NvbmZpZy5heGlzLnJvdGF0ZWQgPSB0cnVlO1xuICAgICAgICAvL3RoaXMuZm9yY2VVcGRhdGUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFlBeGlzTGFiZWwoKTpzdHJpbmcge1xuICAgICAgICB2YXIgb3ZlcnJpZGVBeGlzTmFtZSA9IHRoaXMucGF0aHMueUF4aXMucHVzaChcIm92ZXJyaWRlQXhpc05hbWVcIikuZ2V0U3RhdGUoKTtcbiAgICAgICAgaWYob3ZlcnJpZGVBeGlzTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIG92ZXJyaWRlQXhpc05hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZih0aGlzLnBhdGhzLmNvbHVtblRvQWdncmVnYXRlLmdldFN0YXRlKCkubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoKHRoaXMucGF0aHMuYWdncmVnYXRpb25NZXRob2QuZ2V0U3RhdGUoKSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY291bnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIk51bWJlciBvZiByZWNvcmRzXCI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdW1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlN1bSBvZiBcIiArIHRoaXMucGF0aHMuY29sdW1uVG9BZ2dyZWdhdGUuZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ3RpdGxlJyk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtZWFuXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJNZWFuIG9mIFwiICsgdGhpcy5wYXRocy5jb2x1bW5Ub0FnZ3JlZ2F0ZS5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgndGl0bGUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIk51bWJlciBvZiByZWNvcmRzXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBtaXJyb3JWZXJ0aWNhbCgpIHtcbiAgICAgICAgdmFyIHRlbXA6c3RyaW5nID0gXCJoZWlnaHRcIjtcbiAgICAgICAgaWYodGhpcy5jM0NvbmZpZy5heGlzLnkuc2hvdyA9PSB0cnVlKXtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55Mi5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55LnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuZGF0YS5heGVzID0ge1t0ZW1wXToneTInfTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55Mi5sYWJlbCA9IHRoaXMuYzNDb25maWcuYXhpcy55LmxhYmVsO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55LnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkyLnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuZGF0YS5heGVzID0ge1t0ZW1wXToneSd9O1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkubGFiZWwgPSB0aGlzLmMzQ29uZmlnLmF4aXMueTIubGFiZWw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFydCA9IGdlbmVyYXRlKHRoaXMuYzNDb25maWcpO1xuICAgICAgICB0aGlzLl9kYXRhQ2hhbmdlZCgpO1xuICAgIH1cblxuICAgIF9heGlzQ2hhbmdlZCAoKSB7XG4gICAgICAgIGlmKCF0aGlzLmNoYXJ0KVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGlmKHRoaXMuYnVzeSlcbiAgICAgICAgICAgIHJldHVybjtcblxuXG4gICAgICAgIHZhciB4TGFiZWw6c3RyaW5nID0gdGhpcy5wYXRocy54QXhpcy5nZXRTdGF0ZShcIm92ZXJyaWRlQXhpc05hbWVcIikgfHwgdGhpcy5wYXRocy5iaW5uZWRDb2x1bW4uZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ3RpdGxlJyk7XG4gICAgICAgIGlmKCF0aGlzLnNob3dYQXhpc0xhYmVsKXtcbiAgICAgICAgICAgIHhMYWJlbCA9IFwiIFwiO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jaGFydC5heGlzLmxhYmVscyh7XG4gICAgICAgICAgICB4OiB4TGFiZWwsXG4gICAgICAgICAgICB5OiB0aGlzLmdldFlBeGlzTGFiZWwuYmluZCh0aGlzKSgpXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZVN0eWxlKCkge1xuICAgIFx0aWYgKCF0aGlzLmNoYXJ0KVxuICAgIFx0XHRyZXR1cm47XG5cbiAgICAgICAgZDMuc2VsZWN0KHRoaXMuZWxlbWVudCkuc2VsZWN0QWxsKFwicGF0aFwiKS5zdHlsZShcIm9wYWNpdHlcIiwgMSlcbiAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZVwiLCBcImJsYWNrXCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJzdHJva2Utd2lkdGhcIiwgXCIxcHhcIilcbiAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZS1vcGFjaXR5XCIsIDAuNSk7XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkS2V5czpzdHJpbmdbXSA9IHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5nZXRLZXlzKCk7XG4gICAgICAgIHZhciBwcm9iZWRLZXlzOnN0cmluZ1tdID0gdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuZ2V0S2V5cygpO1xuICAgICAgICB2YXIgc2VsZWN0ZWRSZWNvcmRzOlJlY29yZFtdID0gXy5maWx0ZXIodGhpcy5udW1lcmljUmVjb3JkcywgZnVuY3Rpb24ocmVjb3JkOlJlY29yZCkge1xuICAgICAgICAgICAgcmV0dXJuIF8uaW5jbHVkZXMoc2VsZWN0ZWRLZXlzLCByZWNvcmRbXCJpZFwiXSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcHJvYmVkUmVjb3JkczpSZWNvcmRbXSA9IF8uZmlsdGVyKHRoaXMubnVtZXJpY1JlY29yZHMsIGZ1bmN0aW9uKHJlY29yZDpSZWNvcmQpIHtcbiAgICAgICAgICAgIHJldHVybiBfLmluY2x1ZGVzKHByb2JlZEtleXMsIHJlY29yZFtcImlkXCJdKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBzZWxlY3RlZEJpbkluZGljZXM6bnVtYmVyW10gPSBfLnBsdWNrKF8udW5pcShzZWxlY3RlZFJlY29yZHMsICdiaW5uZWRDb2x1bW4nKSwgJ2Jpbm5lZENvbHVtbicpO1xuICAgICAgICB2YXIgcHJvYmVkQmluSW5kaWNlczpudW1iZXJbXSA9IF8ucGx1Y2soXy51bmlxKHByb2JlZFJlY29yZHMsICdiaW5uZWRDb2x1bW4nKSwgJ2Jpbm5lZENvbHVtbicpO1xuICAgICAgICB2YXIgYmluSW5kaWNlczpudW1iZXJbXSA9IF8ucGx1Y2soXy51bmlxKHRoaXMubnVtZXJpY1JlY29yZHMsICdiaW5uZWRDb2x1bW4nKSwgJ2Jpbm5lZENvbHVtbicpO1xuICAgICAgICB2YXIgdW5zZWxlY3RlZEJpbkluZGljZXM6bnVtYmVyW10gPSBfLmRpZmZlcmVuY2UoYmluSW5kaWNlcyxzZWxlY3RlZEJpbkluZGljZXMpO1xuICAgICAgICB1bnNlbGVjdGVkQmluSW5kaWNlcyA9IF8uZGlmZmVyZW5jZSh1bnNlbGVjdGVkQmluSW5kaWNlcyxwcm9iZWRCaW5JbmRpY2VzKTtcblxuICAgICAgICBpZihzZWxlY3RlZEJpbkluZGljZXMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1c3RvbVN0eWxlKHVuc2VsZWN0ZWRCaW5JbmRpY2VzLCBcInBhdGhcIiwgXCIuYzMtc2hhcGVcIiwge29wYWNpdHk6IDAuMywgXCJzdHJva2Utb3BhY2l0eVwiOiAwLjB9KTtcbiAgICAgICAgICAgIHRoaXMuY3VzdG9tU3R5bGUoc2VsZWN0ZWRCaW5JbmRpY2VzLCBcInBhdGhcIiwgXCIuYzMtc2hhcGVcIiwge29wYWNpdHk6IDEuMCwgXCJzdHJva2Utb3BhY2l0eVwiOiAxLjB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKCFwcm9iZWRCaW5JbmRpY2VzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jdXN0b21TdHlsZShiaW5JbmRpY2VzLCBcInBhdGhcIiwgXCIuYzMtc2hhcGVcIiwge29wYWNpdHk6IDEuMCwgXCJzdHJva2Utb3BhY2l0eVwiOiAwLjV9KTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnQuc2VsZWN0KHRoaXMuaGVpZ2h0Q29sdW1uTmFtZXMsIFtdLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9kYXRhQ2hhbmdlZCgpIHtcblxuICAgICAgICBpZighdGhpcy5jaGFydClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYodGhpcy5idXN5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbnVtZXJpY01hcHBpbmc6YW55ID0ge1xuICAgICAgICAgICAgYmlubmVkQ29sdW1uOiB0aGlzLnBhdGhzLmJpbm5lZENvbHVtbixcbiAgICAgICAgICAgIGNvbHVtblRvQWdncmVnYXRlOiB0aGlzLnBhdGhzLmNvbHVtblRvQWdncmVnYXRlXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHN0cmluZ01hcHBpbmc6YW55ID0ge1xuICAgICAgICAgICAgYmlubmVkQ29sdW1uOiB0aGlzLnBhdGhzLmJpbm5lZENvbHVtblxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuYmlubmVkQ29sdW1uRGF0YVR5cGUgPSB0aGlzLnBhdGhzLmJpbm5lZENvbHVtbi5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgnZGF0YVR5cGUnKTtcblxuICAgICAgICB0aGlzLm51bWVyaWNSZWNvcmRzID0gdGhpcy5wYXRocy5wbG90dGVyLnJldHJpZXZlUmVjb3JkcyhudW1lcmljTWFwcGluZywge2tleVNldDogdGhpcy5wYXRocy5maWx0ZXJlZEtleVNldCwgZGF0YVR5cGU6IFwibnVtYmVyXCJ9KTtcbiAgICAgICAgdGhpcy5zdHJpbmdSZWNvcmRzID0gdGhpcy5wYXRocy5wbG90dGVyLnJldHJpZXZlUmVjb3JkcyhzdHJpbmdNYXBwaW5nLCB7a2V5U2V0OiB0aGlzLnBhdGhzLmZpbHRlcmVkS2V5U2V0LCBkYXRhVHlwZTogXCJzdHJpbmdcIn0pO1xuXG4gICAgICAgIHRoaXMuaWRUb1JlY29yZCA9IHt9O1xuICAgICAgICB0aGlzLmtleVRvSW5kZXggPSB7fTtcbiAgICAgICAgdGhpcy5pbmRleFRvS2V5ID0ge307XG5cbiAgICAgICAgdGhpcy5udW1lcmljUmVjb3Jkcy5mb3JFYWNoKChyZWNvcmQ6UmVjb3JkLCBpbmRleDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaWRUb1JlY29yZFtyZWNvcmRbXCJpZFwiXSBhcyBzdHJpbmddID0gcmVjb3JkO1xuICAgICAgICAgICAgdGhpcy5rZXlUb0luZGV4W3JlY29yZFtcImlkXCJdIGFzIHN0cmluZ10gPSBpbmRleDtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhUb0tleVtpbmRleF0gPSByZWNvcmRbXCJpZFwiXSBhcyBzdHJpbmc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubnVtYmVyT2ZCaW5zID0gdGhpcy5wYXRocy5iaW5uZWRDb2x1bW4uZ2V0T2JqZWN0KCkubnVtYmVyT2ZCaW5zO1xuXG4gICAgICAgIHRoaXMuaGlzdERhdGEgPSBbXTtcblxuICAgICAgICAvLyB0aGlzLl9jb2x1bW5Ub0FnZ3JlZ2F0ZVBhdGguZ2V0T2JqZWN0KCkuZ2V0SW50ZXJuYWxDb2x1bW4oKTtcbiAgICAgICAgdmFyIGNvbHVtblRvQWdncmVnYXRlTmFtZUlzRGVmaW5lZDpib29sZWFuID0gdGhpcy5wYXRocy5jb2x1bW5Ub0FnZ3JlZ2F0ZS5nZXRTdGF0ZSgpLmxlbmd0aCA+IDA7XG5cbiAgICAgICAgZm9yKGxldCBpQmluOm51bWJlciA9IDA7IGlCaW4gPCB0aGlzLm51bWJlck9mQmluczsgaUJpbisrKSB7XG5cbiAgICAgICAgICAgIGxldCByZWNvcmRzSW5CaW46UmVjb3JkW10gPSBfLmZpbHRlcih0aGlzLm51bWVyaWNSZWNvcmRzLCB7IGJpbm5lZENvbHVtbjogaUJpbiB9KTtcblxuICAgICAgICAgICAgaWYocmVjb3Jkc0luQmluKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9iajphbnkgPSB7aGVpZ2h0OjB9O1xuICAgICAgICAgICAgICAgIGlmKGNvbHVtblRvQWdncmVnYXRlTmFtZUlzRGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBvYmouaGVpZ2h0ID0gdGhpcy5nZXRBZ2dyZWdhdGVWYWx1ZShyZWNvcmRzSW5CaW4sIFwiY29sdW1uVG9BZ2dyZWdhdGVcIiwgdGhpcy5wYXRocy5hZ2dyZWdhdGlvbk1ldGhvZC5nZXRTdGF0ZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oaXN0RGF0YS5wdXNoKG9iaik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqLmhlaWdodCA9IHRoaXMuZ2V0QWdncmVnYXRlVmFsdWUocmVjb3Jkc0luQmluLCBcImJpbm5lZENvbHVtblwiLCBcImNvdW50XCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpc3REYXRhLnB1c2gob2JqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIga2V5cyA9IHsgdmFsdWU6IFtcImhlaWdodFwiXSB9O1xuICAgICAgICBpZih0aGlzLmMzQ29uZmlnLmF4aXMueTIuc2hvdyl7XG4gICAgICAgICAgICB0aGlzLmhpc3REYXRhID0gdGhpcy5oaXN0RGF0YS5yZXZlcnNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fYXhpc0NoYW5nZWQoKTtcbiAgICAgICAgdGhpcy5idXN5ID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jM0NvbmZpZy5kYXRhLmpzb24gPSB0aGlzLmhpc3REYXRhO1xuICAgICAgICB0aGlzLmMzQ29uZmlnLmRhdGEua2V5cyA9IGtleXM7XG4gICAgICAgIHRoaXMuY2hhcnQubG9hZCh7anNvbjogdGhpcy5oaXN0RGF0YSwga2V5cywgdW5sb2FkOiB0cnVlLCBkb25lOiAoKSA9PiB7IHRoaXMuYnVzeSA9IGZhbHNlOyB9fSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRBZ2dyZWdhdGVWYWx1ZShyZWNvcmRzOlJlY29yZFtdLCBjb2x1bW5Ub0FnZ3JlZ2F0ZU5hbWU6c3RyaW5nLCBhZ2dyZWdhdGlvbk1ldGhvZDpXZWF2ZVBhdGgpOm51bWJlciB7XG5cbiAgICAgICAgdmFyIGNvdW50Om51bWJlciA9IDA7XG4gICAgICAgIHZhciBzdW06bnVtYmVyID0gMDtcblxuICAgICAgICBpZighQXJyYXkuaXNBcnJheShyZWNvcmRzKSkge1xuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cblxuICAgICAgICByZWNvcmRzLmZvckVhY2goKHJlY29yZCkgPT4ge1xuICAgICAgICAgICAgY291bnQrKztcbiAgICAgICAgICAgIHN1bSArPSByZWNvcmRbY29sdW1uVG9BZ2dyZWdhdGVOYW1lXSBhcyBudW1iZXI7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChhZ2dyZWdhdGlvbk1ldGhvZCA9PT0gXCJtZWFuXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBzdW0gLyBjb3VudDsgLy8gY29udmVydCBzdW0gdG8gbWVhblxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFnZ3JlZ2F0aW9uTWV0aG9kID09PSBcImNvdW50XCIpIHtcblxuICAgICAgICAgICAgcmV0dXJuIGNvdW50OyAvLyB1c2UgY291bnQgb2YgZmluaXRlIHZhbHVlc1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3VtXG4gICAgICAgIHJldHVybiBzdW07XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICAvLyBUT0RPIGF2b2lkIGNhbGxpbmcgZ2VuZXJhdGUgYXQgZWFjaCBjb21wb25lbnREaWRVcGRhdGVcbiAgICAgICAgdGhpcy5jM0NvbmZpZy5zaXplID0ge3dpZHRoOiB0aGlzLnByb3BzLnN0eWxlLndpZHRoLCBoZWlnaHQ6IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0fTtcbiAgICAgICAgaWYodGhpcy5wYXRocy5iaW5uZWRDb2x1bW4ucHVzaChcImludGVybmFsRHluYW1pY0NvbHVtblwiKS5nZXRTdGF0ZSgpLmxlbmd0aCl7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueC5oZWlnaHQgPSB0aGlzLnByb3BzLnN0eWxlLmhlaWdodCAqIDAuMjtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueC5oZWlnaHQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhcnQgPSBnZW5lcmF0ZSh0aGlzLmMzQ29uZmlnKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgLyogQ2xlYW51cCBjYWxsYmFja3MgKi9cbiAgICAgICAgLy90aGlzLnRlYXJkb3duQ2FsbGJhY2tzKCk7XG4gICAgICAgIHRoaXMuY2hhcnQuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMuc2hvd1hBeGlzTGFiZWwgPSBmYWxzZTtcbiAgICAgICAgdmFyIGF4aXNDaGFuZ2VkOkZ1bmN0aW9uID0gXy5kZWJvdW5jZSh0aGlzLl9heGlzQ2hhbmdlZC5iaW5kKHRoaXMpLCAxMDApO1xuICAgICAgICB2YXIgZGF0YUNoYW5nZWQ6RnVuY3Rpb24gPSBfLmRlYm91bmNlKHRoaXMuX2RhdGFDaGFuZ2VkLmJpbmQodGhpcyksIDEwMCk7XG4gICAgICAgIHZhciBwbG90dGVyUGF0aCA9IHRoaXMudG9vbFBhdGgucHVzaFBsb3R0ZXIoXCJwbG90XCIpO1xuICAgICAgICB2YXIgbWFwcGluZyA9IFtcbiAgICAgICAgICAgIHsgbmFtZTogXCJwbG90dGVyXCIsIHBhdGg6IHBsb3R0ZXJQYXRoLCBjYWxsYmFja3M6IG51bGx9LFxuICAgICAgICAgICAgeyBuYW1lOiBcImJpbm5lZENvbHVtblwiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwiYmlubmVkQ29sdW1uXCIpLCBjYWxsYmFja3M6IFtkYXRhQ2hhbmdlZCwgYXhpc0NoYW5nZWRdIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwiY29sdW1uVG9BZ2dyZWdhdGVcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImNvbHVtblRvQWdncmVnYXRlXCIpLCBjYWxsYmFja3M6IGRhdGFDaGFuZ2VkIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwiYWdncmVnYXRpb25NZXRob2RcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImFnZ3JlZ2F0aW9uTWV0aG9kXCIpLCBjYWxsYmFja3M6IFtkYXRhQ2hhbmdlZCwgYXhpc0NoYW5nZWRdIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwiZmlsbFN0eWxlXCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJmaWxsU3R5bGVcIiksIGNhbGxiYWNrczogZGF0YUNoYW5nZWQgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJsaW5lU3R5bGVcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImxpbmVTdHlsZVwiKSwgY2FsbGJhY2tzOiBkYXRhQ2hhbmdlZCB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcInhBeGlzXCIsIHBhdGg6IHRoaXMudG9vbFBhdGgucHVzaFBsb3R0ZXIoXCJ4QXhpc1wiKSwgY2FsbGJhY2tzOiBheGlzQ2hhbmdlZCB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcInlBeGlzXCIsIHBhdGg6IHRoaXMudG9vbFBhdGgucHVzaFBsb3R0ZXIoXCJ5QXhpc1wiKSwgY2FsbGJhY2tzOiBheGlzQ2hhbmdlZCB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcImZpbHRlcmVkS2V5U2V0XCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJmaWx0ZXJlZEtleVNldFwiKSwgY2FsbGJhY2tzOiBkYXRhQ2hhbmdlZCB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcInNlbGVjdGlvbktleVNldFwiLCBwYXRoOiB0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQsIGNhbGxiYWNrczogdGhpcy51cGRhdGVTdHlsZSB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcInByb2JlS2V5U2V0XCIsIHBhdGg6IHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LCBjYWxsYmFja3M6IHRoaXMudXBkYXRlU3R5bGUgfVxuICAgICAgICBdO1xuXG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZVBhdGhzKG1hcHBpbmcpO1xuXG4gICAgICAgXHR0aGlzLnBhdGhzLmZpbHRlcmVkS2V5U2V0LmdldE9iamVjdCgpLnNldFNpbmdsZUtleVNvdXJjZSh0aGlzLnBhdGhzLmZpbGxTdHlsZS5nZXRPYmplY3QoJ2NvbG9yJywgJ2ludGVybmFsRHluYW1pY0NvbHVtbicpKTtcblxuICAgICAgICB0aGlzLmMzQ29uZmlnLmJpbmR0byA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgaWYodGhpcy5wYXRocy5iaW5uZWRDb2x1bW4ucHVzaChcImludGVybmFsRHluYW1pY0NvbHVtblwiKS5nZXRTdGF0ZSgpLmxlbmd0aCl7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueC5oZWlnaHQgPSB0aGlzLnByb3BzLnN0eWxlLmhlaWdodCAqIDAuMjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYXJ0ID0gZ2VuZXJhdGUodGhpcy5jM0NvbmZpZyk7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBXZWF2ZUMzSGlzdG9ncmFtO1xuXG5yZWdpc3RlclRvb2xJbXBsZW1lbnRhdGlvbihcIndlYXZlLnZpc3VhbGl6YXRpb24udG9vbHM6Okhpc3RvZ3JhbVRvb2xcIiwgV2VhdmVDM0hpc3RvZ3JhbSk7XG4vL1dlYXZlLnJlZ2lzdGVyQ2xhc3MoXCJ3ZWF2ZWpzLnRvb2xzLkhpc3RvZ3JhbVRvb2xcIiwgV2VhdmVDM0hpc3RvZ3JhbSwgW3dlYXZlanMuYXBpLmNvcmUuSUxpbmthYmxlT2JqZWN0V2l0aE5ld1Byb3BlcnRpZXNdKTtcbiIsIi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYzMvYzMuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvZDMvZDMuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cblxuaW1wb3J0IHtJVmlzVG9vbFByb3BzfSBmcm9tIFwiLi9JVmlzVG9vbFwiO1xuaW1wb3J0IHtJVG9vbFBhdGhzfSBmcm9tIFwiLi9BYnN0cmFjdEMzVG9vbFwiO1xuaW1wb3J0IEFic3RyYWN0QzNUb29sIGZyb20gXCIuL0Fic3RyYWN0QzNUb29sXCI7XG5cbmltcG9ydCB7cmVnaXN0ZXJUb29sSW1wbGVtZW50YXRpb259IGZyb20gXCIuLi9XZWF2ZVRvb2xcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgRm9ybWF0VXRpbHMgZnJvbSBcIi4uL3V0aWxzL0Zvcm1hdFV0aWxzXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7Q2hhcnRDb25maWd1cmF0aW9uLCBDaGFydEFQSSwgZ2VuZXJhdGV9IGZyb20gXCJjM1wiO1xuaW1wb3J0IHtNb3VzZUV2ZW50fSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7Z2V0VG9vbHRpcENvbnRlbnR9IGZyb20gXCIuL3Rvb2x0aXBcIjtcbmltcG9ydCBUb29sdGlwIGZyb20gXCIuL3Rvb2x0aXBcIjtcblxuaW50ZXJmYWNlIElMaW5lQ2hhcnRQYXRocyBleHRlbmRzIElUb29sUGF0aHMge1xuICAgIHBsb3R0ZXI6IFdlYXZlUGF0aDtcbiAgICBjb2x1bW5zOiBXZWF2ZVBhdGg7XG4gICAgbGluZVN0eWxlOiBXZWF2ZVBhdGg7XG4gICAgY3VydmVUeXBlOiBXZWF2ZVBhdGg7XG4gICAgZmlsdGVyZWRLZXlTZXQ6IFdlYXZlUGF0aDtcbiAgICBzZWxlY3Rpb25LZXlTZXQ6IFdlYXZlUGF0aDtcbiAgICBwcm9iZUtleVNldDogV2VhdmVQYXRoO1xufVxuXG5jbGFzcyBXZWF2ZUMzTGluZUNoYXJ0IGV4dGVuZHMgQWJzdHJhY3RDM1Rvb2wge1xuICAgIHByaXZhdGUga2V5VG9JbmRleDp7W2tleTpzdHJpbmddOiBudW1iZXJ9O1xuICAgIHByaXZhdGUgaW5kZXhUb0tleTp7W2luZGV4Om51bWJlcl06IHN0cmluZ307XG4gICAgcHJpdmF0ZSB5QXhpc1ZhbHVlVG9MYWJlbDp7W3ZhbHVlOm51bWJlcl06IHN0cmluZ307XG4gICAgcHJpdmF0ZSBjb2xvcnM6e1tpZDpzdHJpbmddOiBzdHJpbmd9O1xuICAgIHByaXZhdGUgeUxhYmVsQ29sdW1uUGF0aDpXZWF2ZVBhdGg7XG4gICAgcHJpdmF0ZSBudW1lcmljUmVjb3JkczpSZWNvcmRbXTtcbiAgICBwcml2YXRlIHN0cmluZ1JlY29yZHM6UmVjb3JkW107XG4gICAgcHJpdmF0ZSByZWNvcmRzOlJlY29yZFtdW107XG4gICAgcHJpdmF0ZSBjb2x1bW5MYWJlbHM6c3RyaW5nW107XG4gICAgcHJpdmF0ZSBjb2x1bW5OYW1lczpzdHJpbmdbXTtcbiAgICBwcml2YXRlIGZsYWc6Ym9vbGVhbjtcblxuICAgIHByb3RlY3RlZCBjaGFydDpDaGFydEFQSTtcbiAgICBwcm90ZWN0ZWQgYzNDb25maWc6Q2hhcnRDb25maWd1cmF0aW9uO1xuICAgIHByb3RlY3RlZCBwYXRoczpJTGluZUNoYXJ0UGF0aHM7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm9wczpJVmlzVG9vbFByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICAgICAgdGhpcy5rZXlUb0luZGV4ID0ge307XG4gICAgICAgIHRoaXMuaW5kZXhUb0tleSA9IHt9O1xuICAgICAgICB0aGlzLnlBeGlzVmFsdWVUb0xhYmVsID0ge307XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGhhbmRsZU1pc3NpbmdTZXNzaW9uU3RhdGVQcm9wZXJ0aWVzKG5ld1N0YXRlOmFueSlcblx0e1xuXG5cdH1cblxuICAgIF9zZWxlY3Rpb25LZXlzQ2hhbmdlZCgpIHtcbiAgICAgICAgaWYoIXRoaXMuY2hhcnQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIHNlbGVjdGVkS2V5czpzdHJpbmdbXSA9IHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5nZXRLZXlzKCk7XG4gICAgICAgIHZhciBwcm9iZWRLZXlzOnN0cmluZ1tdID0gdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuZ2V0S2V5cygpO1xuICAgICAgICB2YXIgc2VsZWN0ZWRJbmRpY2VzOm51bWJlcltdID0gc2VsZWN0ZWRLZXlzLm1hcCgoa2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcih0aGlzLmtleVRvSW5kZXhba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcHJvYmVkSW5kaWNlczpudW1iZXJbXSA9IHByb2JlZEtleXMubWFwKChrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMua2V5VG9JbmRleFtrZXldKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBrZXlzOnN0cmluZ1tdID0gT2JqZWN0LmtleXModGhpcy5rZXlUb0luZGV4KTtcbiAgICAgICAgdmFyIGluZGljZXM6bnVtYmVyW10gPSBrZXlzLm1hcCgoa2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcih0aGlzLmtleVRvSW5kZXhba2V5XSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciB1bnNlbGVjdGVkSW5kaWNlcyA9IF8uZGlmZmVyZW5jZShpbmRpY2VzLCBzZWxlY3RlZEluZGljZXMpO1xuICAgICAgICB1bnNlbGVjdGVkSW5kaWNlcyA9IF8uZGlmZmVyZW5jZSh1bnNlbGVjdGVkSW5kaWNlcyxwcm9iZWRJbmRpY2VzKTtcbiAgICAgICAgaWYoc2VsZWN0ZWRJbmRpY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy91bmZvY3VzIGFsbCBjaXJjbGVzXG4gICAgICAgICAgICBkMy5zZWxlY3QodGhpcy5lbGVtZW50KS5zZWxlY3RBbGwoXCJjaXJjbGVcIikuZmlsdGVyKFwiLmMzLXNoYXBlXCIpLnN0eWxlKFwib3BhY2l0eVwiLCBcIjAuMVwiKTtcblxuICAgICAgICAgICAgdmFyIGZpbHRlcmVkID0gZDMuc2VsZWN0KHRoaXMuZWxlbWVudCkuc2VsZWN0QWxsKFwiZ1wiKS5maWx0ZXIoXCIuYzMtY2hhcnQtbGluZVwiKS5zZWxlY3RBbGwoXCJjaXJjbGVcIikuZmlsdGVyKFwiLmMzLXNoYXBlXCIpO1xuICAgICAgICAgICAgc2VsZWN0ZWRJbmRpY2VzLmZvckVhY2goIChpbmRleDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAvL2N1c3RvbSBzdHlsZSBmb3IgY2lyY2xlcyBvbiBzZWxlY3RlZCBsaW5lc1xuICAgICAgICAgICAgICAgIHZhciBjaXJjbGVDb3VudCA9IGZpbHRlcmVkW2luZGV4XSA/IGZpbHRlcmVkW2luZGV4XS5sZW5ndGggOiAwO1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZENpcmNsZXMgPSBfLnJhbmdlKDAsY2lyY2xlQ291bnQpO1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkQ2lyY2xlcy5mb3JFYWNoKCAoaTpudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgKGZpbHRlcmVkW2luZGV4XVtpXSBhcyBIVE1MRWxlbWVudCkuc3R5bGUub3BhY2l0eSA9IFwiMS4wXCI7XG4gICAgICAgICAgICAgICAgICAgIChmaWx0ZXJlZFtpbmRleF1baV0gYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnN0cm9rZU9wYWNpdHkgPSBcIjEuMFwiO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuY3VzdG9tU3R5bGUodW5zZWxlY3RlZEluZGljZXMsIFwicGF0aFwiLCBcIi5jMy1zaGFwZS5jMy1saW5lXCIsIHtvcGFjaXR5OiAwLjF9KTtcbiAgICAgICAgICAgIHRoaXMuY3VzdG9tU3R5bGUoc2VsZWN0ZWRJbmRpY2VzLCBcInBhdGhcIiwgXCIuYzMtc2hhcGUuYzMtbGluZVwiLCB7b3BhY2l0eTogMS4wfSk7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0LnNlbGVjdChbXCJ5XCJdLCBzZWxlY3RlZEluZGljZXMsIHRydWUpO1xuICAgICAgICB9ZWxzZSBpZighcHJvYmVkSW5kaWNlcy5sZW5ndGgpe1xuICAgICAgICAgICAgLy9mb2N1cyBhbGwgY2lyY2xlc1xuICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMuZWxlbWVudCkuc2VsZWN0QWxsKFwiY2lyY2xlXCIpLmZpbHRlcihcIi5jMy1zaGFwZVwiKS5zdHlsZSh7b3BhY2l0eTogMS4wLCBcInN0cm9rZS1vcGFjaXR5XCI6IDAuMH0pO1xuICAgICAgICAgICAgdGhpcy5jdXN0b21TdHlsZShpbmRpY2VzLCBcInBhdGhcIiwgXCIuYzMtc2hhcGUuYzMtbGluZVwiLCB7b3BhY2l0eTogMS4wfSk7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0LnNlbGVjdChbXCJ5XCJdLCBbXSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfcHJvYmVkS2V5c0NoYW5nZWQoKSB7XG4gICAgICAgIHZhciBzZWxlY3RlZEtleXM6c3RyaW5nW10gPSB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldC5nZXRLZXlzKCk7XG4gICAgICAgIHZhciBzZWxlY3RlZEluZGljZXM6bnVtYmVyW10gPSBzZWxlY3RlZEtleXMubWFwKChrZXk6c3RyaW5nKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMua2V5VG9JbmRleFtrZXldKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBrZXlzOnN0cmluZ1tdID0gT2JqZWN0LmtleXModGhpcy5rZXlUb0luZGV4KTtcbiAgICAgICAgdmFyIGluZGljZXM6bnVtYmVyW10gPSBrZXlzLm1hcCgoa2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcih0aGlzLmtleVRvSW5kZXhba2V5XSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgdW5zZWxlY3RlZEluZGljZXM6bnVtYmVyW10gPSBfLmRpZmZlcmVuY2UoaW5kaWNlcywgc2VsZWN0ZWRJbmRpY2VzKTtcblxuICAgICAgICBpZiAoc2VsZWN0ZWRJbmRpY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgLy91bmZvY3VzIGFsbCBjaXJjbGVzXG4gICAgICAgICAgICBkMy5zZWxlY3QodGhpcy5lbGVtZW50KS5zZWxlY3RBbGwoXCJjaXJjbGVcIikuZmlsdGVyKFwiLmMzLXNoYXBlXCIpLnN0eWxlKHtvcGFjaXR5OiAwLjEsIFwic3Ryb2tlLW9wYWNpdHlcIjogMC4wfSk7XG5cbiAgICAgICAgICAgIHZhciBmaWx0ZXJlZCA9IGQzLnNlbGVjdCh0aGlzLmVsZW1lbnQpLnNlbGVjdEFsbChcImdcIikuZmlsdGVyKFwiLmMzLWNoYXJ0LWxpbmVcIikuc2VsZWN0QWxsKFwiY2lyY2xlXCIpLmZpbHRlcihcIi5jMy1zaGFwZVwiKTtcbiAgICAgICAgICAgIHNlbGVjdGVkSW5kaWNlcy5mb3JFYWNoKCAoaW5kZXg6bnVtYmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgLy9jdXN0b20gc3R5bGUgZm9yIGNpcmNsZXMgb24gcHJvYmVkIGxpbmVzXG4gICAgICAgICAgICAgICAgdmFyIGNpcmNsZUNvdW50Om51bWJlciA9IGZpbHRlcmVkW2luZGV4XSA/IGZpbHRlcmVkW2luZGV4XS5sZW5ndGggOiAwO1xuICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZENpcmNsZXM6bnVtYmVyW10gPSBfLnJhbmdlKDAsY2lyY2xlQ291bnQpO1xuICAgICAgICAgICAgICAgIHNlbGVjdGVkQ2lyY2xlcy5mb3JFYWNoKCAoaTpudW1iZXIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgKGZpbHRlcmVkW2luZGV4XVtpXSBhcyBIVE1MRWxlbWVudCkuc3R5bGUub3BhY2l0eSA9IFwiMS4wXCI7XG4gICAgICAgICAgICAgICAgICAgIChmaWx0ZXJlZFtpbmRleF1baV0gYXMgSFRNTEVsZW1lbnQpLnN0eWxlLnN0cm9rZU9wYWNpdHkgPSBcIjAuMFwiO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuY3VzdG9tU3R5bGUodW5zZWxlY3RlZEluZGljZXMsIFwicGF0aFwiLCBcIi5jMy1zaGFwZS5jMy1saW5lXCIsIHtvcGFjaXR5OiAwLjF9KTtcbiAgICAgICAgICAgIHRoaXMuY3VzdG9tU3R5bGUoc2VsZWN0ZWRJbmRpY2VzLCBcInBhdGhcIiwgXCIuYzMtc2hhcGUuYzMtbGluZVwiLCB7b3BhY2l0eTogMS4wfSk7XG4gICAgICAgICAgICB0aGlzLl9zZWxlY3Rpb25LZXlzQ2hhbmdlZCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fc2VsZWN0aW9uS2V5c0NoYW5nZWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF91cGRhdGVTdHlsZSgpIHtcbiAgICAgICAgZDMuc2VsZWN0KHRoaXMuZWxlbWVudCkuc2VsZWN0QWxsKFwiY2lyY2xlXCIpLnN0eWxlKFwib3BhY2l0eVwiLCAxKVxuICAgICAgICAgICAgLnN0eWxlKFwic3Ryb2tlXCIsIFwiYmxhY2tcIilcbiAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZS1vcGFjaXR5XCIsIDAuMCk7XG4gICAgfVxuXG4gICAgbWlycm9yVmVydGljYWwoKSB7XG4gICAgICAgIHZhciB0ZW1wOmFueSA9ICB7fTtcbiAgICAgICAgaWYodGhpcy5jM0NvbmZpZy5heGlzLnkuc2hvdyA9PSB0cnVlKXtcbiAgICAgICAgICAgIHRoaXMuc3RyaW5nUmVjb3Jkcy5mb3JFYWNoKCAocmVjb3JkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGVtcFtyZWNvcmRbXCJpZFwiXS50b1N0cmluZygpXSA9ICd5Mic7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55Mi5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55LnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuZGF0YS5heGVzID0gdGVtcDtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55Mi5sYWJlbCA9IHRoaXMuYzNDb25maWcuYXhpcy55LmxhYmVsO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuc3RyaW5nUmVjb3Jkcy5mb3JFYWNoKCAocmVjb3JkKSA9PiB7XG4gICAgICAgICAgICAgICAgdGVtcFtyZWNvcmRbXCJpZFwiXS50b1N0cmluZygpXSA9ICd5JztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkuc2hvdyA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueTIuc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5kYXRhLmF4ZXMgPSB0ZW1wO1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkubGFiZWwgPSB0aGlzLmMzQ29uZmlnLmF4aXMueTIubGFiZWw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFydCA9IGdlbmVyYXRlKHRoaXMuYzNDb25maWcpO1xuICAgICAgICB0aGlzLl9kYXRhQ2hhbmdlZCgpO1xuICAgIH1cblxuICAgIF9kYXRhQ2hhbmdlZCgpIHtcbiAgICAgICAgdGhpcy5jb2x1bW5MYWJlbHMgPSBbXTtcbiAgICAgICAgdGhpcy5jb2x1bW5OYW1lcyA9IFtdO1xuXG4gICAgICAgIHZhciBjaGlsZHJlbjpXZWF2ZVBhdGhbXSA9IHRoaXMucGF0aHMuY29sdW1ucy5nZXRDaGlsZHJlbigpO1xuXG4gICAgICAgIHRoaXMueUxhYmVsQ29sdW1uUGF0aCA9IGNoaWxkcmVuWzBdO1xuXG4gICAgICAgIGxldCBudW1lcmljTWFwcGluZzphbnkgPSB7XG4gICAgICAgICAgICBjb2x1bW5zOiBjaGlsZHJlbixcbiAgICAgICAgICAgIHlMYWJlbDogdGhpcy55TGFiZWxDb2x1bW5QYXRoXG4gICAgICAgIH07XG5cblxuICAgICAgICBsZXQgc3RyaW5nTWFwcGluZzphbnkgPSB7XG4gICAgICAgICAgICBjb2x1bW5zOiBjaGlsZHJlbixcbiAgICAgICAgICAgIGxpbmU6IHtcbiAgICAgICAgICAgICAgICAvL2FscGhhOiB0aGlzLl9saW5lU3R5bGVQYXRoLnB1c2goXCJhbHBoYVwiKSxcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhpcy5wYXRocy5saW5lU3R5bGUucHVzaChcImNvbG9yXCIpXG4gICAgICAgICAgICAgICAgLy9jYXBzOiB0aGlzLl9saW5lU3R5bGVQYXRoLnB1c2goXCJjYXBzXCIpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgeUxhYmVsOiB0aGlzLnlMYWJlbENvbHVtblBhdGhcbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKGxldCBpZHggaW4gY2hpbGRyZW4pIHtcbiAgICAgICAgICAgIGxldCBjaGlsZCA9IGNoaWxkcmVuW2lkeF07XG4gICAgICAgICAgICBsZXQgdGl0bGUgPSBjaGlsZC5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgndGl0bGUnKTtcbiAgICAgICAgICAgIGxldCBuYW1lID0gY2hpbGQuZ2V0UGF0aCgpLnBvcCgpO1xuICAgICAgICAgICAgdGhpcy5jb2x1bW5MYWJlbHMucHVzaCh0aXRsZSk7XG4gICAgICAgICAgICB0aGlzLmNvbHVtbk5hbWVzLnB1c2gobmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm51bWVyaWNSZWNvcmRzID0gdGhpcy5wYXRocy5wbG90dGVyLnJldHJpZXZlUmVjb3JkcyhudW1lcmljTWFwcGluZywge2tleVNldDogdGhpcy5wYXRocy5maWx0ZXJlZEtleVNldCwgZGF0YVR5cGU6IFwibnVtYmVyXCJ9KTtcbiAgICAgICAgdGhpcy5zdHJpbmdSZWNvcmRzID0gdGhpcy5wYXRocy5wbG90dGVyLnJldHJpZXZlUmVjb3JkcyhzdHJpbmdNYXBwaW5nLCB7a2V5U2V0OiB0aGlzLnBhdGhzLmZpbHRlcmVkS2V5U2V0LCBkYXRhVHlwZTogXCJzdHJpbmdcIn0pO1xuXG4gICAgICAgIHRoaXMucmVjb3JkcyA9IF8uemlwKHRoaXMubnVtZXJpY1JlY29yZHMsIHRoaXMuc3RyaW5nUmVjb3Jkcyk7XG4gICAgICAgIHRoaXMucmVjb3JkcyA9IF8uc29ydEJ5KHRoaXMucmVjb3JkcywgWzAsIFwiaWRcIl0pO1xuXG4gICAgICAgIGlmKHRoaXMucmVjb3Jkcy5sZW5ndGgpXG4gICAgICAgICAgICBbdGhpcy5udW1lcmljUmVjb3JkcywgdGhpcy5zdHJpbmdSZWNvcmRzXSA9IF8udW56aXAodGhpcy5yZWNvcmRzKTtcblxuICAgICAgICB0aGlzLmtleVRvSW5kZXggPSB7fTtcbiAgICAgICAgdGhpcy5pbmRleFRvS2V5ID0ge307XG4gICAgICAgIHRoaXMueUF4aXNWYWx1ZVRvTGFiZWwgPSB7fTtcblxuICAgICAgICB0aGlzLm51bWVyaWNSZWNvcmRzLmZvckVhY2goKHJlY29yZDpSZWNvcmQsIGluZGV4Om51bWJlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5rZXlUb0luZGV4W3JlY29yZFtcImlkXCJdIGFzIHN0cmluZ10gPSBpbmRleDtcbiAgICAgICAgICAgIHRoaXMuaW5kZXhUb0tleVtpbmRleF0gPSByZWNvcmRbXCJpZFwiXSBhcyBzdHJpbmc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc3RyaW5nUmVjb3Jkcy5mb3JFYWNoKChyZWNvcmQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICB2YXIgbnVtZXJpY1JlY29yZCA9IHRoaXMubnVtZXJpY1JlY29yZHNbaW5kZXhdO1xuICAgICAgICAgICAgdGhpcy55QXhpc1ZhbHVlVG9MYWJlbFtudW1lcmljUmVjb3JkW1wieUxhYmVsXCJdIGFzIG51bWJlcl0gPSByZWNvcmRbXCJ5TGFiZWxcIl0gYXMgc3RyaW5nO1xuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgY29sdW1uczphbnkgPSBbXTtcblxuICAgICAgICBjb2x1bW5zID0gdGhpcy5udW1lcmljUmVjb3Jkcy5tYXAoZnVuY3Rpb24ocmVjb3JkOlJlY29yZCkge1xuICAgICAgICAgICAgdmFyIHRlbXBBcnI6YW55W10gPSBbXTtcbiAgICAgICAgICAgIHRlbXBBcnIucHVzaChyZWNvcmRbXCJpZFwiXSk7XG4gICAgICAgICAgICBfLmtleXMocmVjb3JkW1wiY29sdW1uc1wiXSkuZm9yRWFjaCgoa2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgICAgIHRlbXBBcnIucHVzaCgocmVjb3JkW1wiY29sdW1uc1wiXSBhcyBSZWNvcmQpW2tleV0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gdGVtcEFycjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jb2xvcnMgPSB7fTtcbiAgICAgICAgdGhpcy5zdHJpbmdSZWNvcmRzLmZvckVhY2goKHJlY29yZDpSZWNvcmQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29sb3JzW3JlY29yZFtcImlkXCJdIGFzIHN0cmluZ10gPSAoKHJlY29yZFtcImxpbmVcIl0gYXMgUmVjb3JkKVtcImNvbG9yXCJdIGFzIHN0cmluZykgfHwgXCIjQzBDREQxXCI7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBjaGFydFR5cGU6c3RyaW5nID0gXCJsaW5lXCI7XG4gICAgICAgIGlmKHRoaXMucGF0aHMucGxvdHRlci5wdXNoKFwiY3VydmVUeXBlXCIpLmdldFN0YXRlKCkgPT09IFwiZG91YmxlXCIpIHtcbiAgICAgICAgICAgIGNoYXJ0VHlwZSA9IFwic3BsaW5lXCI7XG4gICAgICAgIH1cblxuICAgICAgICBpZih0aGlzLmMzQ29uZmlnLmF4aXMueTIuc2hvdyl7XG4gICAgICAgICAgICBjb2x1bW5zLmZvckVhY2goIChjb2x1bW46YW55W10sIGluZGV4Om51bWJlciwgYXJyYXk6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHRlbXA6YW55W10gPSBbXTtcbiAgICAgICAgICAgICAgICB0ZW1wLnB1c2goY29sdW1uLnNoaWZ0KCkpO1xuICAgICAgICAgICAgICAgIGNvbHVtbiA9IGNvbHVtbi5yZXZlcnNlKCk7XG4gICAgICAgICAgICAgICAgY29sdW1uLmZvckVhY2goIChpdGVtOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0ZW1wLnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYXJyYXlbaW5kZXhdID0gdGVtcDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY2hhcnQubG9hZCh7Y29sdW1uczogY29sdW1ucywgY29sb3JzOiB0aGlzLmNvbG9ycywgdHlwZTogY2hhcnRUeXBlLCB1bmxvYWQ6IHRydWV9KTtcbiAgICB9XG5cbiAgICBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgLyogQ2xlYW51cCBjYWxsYmFja3MgKi9cbiAgICAgICAgLy90aGlzLnRlYXJkb3duQ2FsbGJhY2tzKCk7XG4gICAgICAgIHRoaXMuY2hhcnQuZGVzdHJveSgpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuaGFuZGxlQ2xpY2suYmluZCh0aGlzKSk7XG4gICAgICAgIHZhciBkYXRhQ2hhbmdlZDpGdW5jdGlvbiA9IF8uZGVib3VuY2UodGhpcy5fZGF0YUNoYW5nZWQuYmluZCh0aGlzKSwgMTAwKTtcbiAgICAgICAgdmFyIHNlbGVjdGlvbktleVNldENoYW5nZWQ6RnVuY3Rpb24gPSB0aGlzLl9zZWxlY3Rpb25LZXlzQ2hhbmdlZC5iaW5kKHRoaXMpO1xuICAgICAgICB2YXIgcHJvYmVLZXlTZXRDaGFuZ2VkOkZ1bmN0aW9uID0gXy5kZWJvdW5jZSh0aGlzLl9wcm9iZWRLZXlzQ2hhbmdlZC5iaW5kKHRoaXMpLCAxMDApO1xuICAgICAgICB2YXIgcGxvdHRlclBhdGg6V2VhdmVQYXRoID0gdGhpcy50b29sUGF0aC5wdXNoUGxvdHRlcihcInBsb3RcIik7XG4gICAgICAgIHZhciBtYXBwaW5nID0gW1xuICAgICAgICAgICAgeyBuYW1lOiBcInBsb3R0ZXJcIiwgcGF0aDogcGxvdHRlclBhdGgsIGNhbGxiYWNrczogbnVsbH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwiY29sdW1uc1wiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwiY29sdW1uc1wiKSwgY2FsbGJhY2tzOiBkYXRhQ2hhbmdlZCB9LFxuICAgICAgICAgICAgeyBuYW1lOiBcImxpbmVTdHlsZVwiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwibGluZVN0eWxlXCIpLCBjYWxsYmFja3M6IGRhdGFDaGFuZ2VkIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwiY3VydmVUeXBlXCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJjdXJ2ZVR5cGVcIiksIGNhbGxiYWNrczogZGF0YUNoYW5nZWQgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJmaWx0ZXJlZEtleVNldFwiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwiZmlsdGVyZWRLZXlTZXRcIiksIGNhbGxiYWNrczogZGF0YUNoYW5nZWQgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJzZWxlY3Rpb25LZXlTZXRcIiwgcGF0aDogdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LCBjYWxsYmFja3M6IHNlbGVjdGlvbktleVNldENoYW5nZWR9LFxuICAgICAgICAgICAgeyBuYW1lOiBcInByb2JlS2V5U2V0XCIsIHBhdGg6IHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LCBjYWxsYmFja3M6IHByb2JlS2V5U2V0Q2hhbmdlZH1cbiAgICAgICAgXTtcblxuICAgICAgICB0aGlzLmluaXRpYWxpemVQYXRocyhtYXBwaW5nKTtcblxuICAgICAgIFx0dGhpcy5wYXRocy5maWx0ZXJlZEtleVNldC5nZXRPYmplY3QoKS5zZXRDb2x1bW5LZXlTb3VyY2VzKHRoaXMucGF0aHMuY29sdW1ucy5nZXRPYmplY3QoKS5nZXRPYmplY3RzKCkpO1xuXG4gICAgICAgIHRoaXMuYzNDb25maWcgPSB7XG4gICAgICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMucHJvcHMuc3R5bGUud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnByb3BzLnN0eWxlLmhlaWdodFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhZGRpbmc6IHtcbiAgICAgICAgICAgICAgICB0b3A6IDIwLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogMjBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgY29sdW1uczogW10sXG4gICAgICAgICAgICAgICAgeFNvcnQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNlbGVjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZHJhZ2dhYmxlOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbmNsaWNrOiAoZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50Ok1vdXNlRXZlbnQgPSB0aGlzLmNoYXJ0LmludGVybmFsLmQzLmV2ZW50IGFzIE1vdXNlRXZlbnQ7XG4gICAgICAgICAgICAgICAgICAgIGlmKCEoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSAmJiBkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LnNldEtleXMoW2QuaWRdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25zZWxlY3RlZDogKGQ6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmxhZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmKGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQuYWRkS2V5cyhbZC5pZF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbnVuc2VsZWN0ZWQ6IChkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZihkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LnJlbW92ZUtleXMoW2QuaWRdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25tb3VzZW92ZXI6IChkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuc2V0S2V5cyhbZC5pZF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbk5hbWVzVG9WYWx1ZTp7W2NvbHVtbk5hbWU6c3RyaW5nXSA6IHN0cmluZ3xudW1iZXIgfSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbkxhYmVscy5mb3JFYWNoKCAobGFiZWw6c3RyaW5nLGluZGV4Om51bWJlcixhcnJheTphbnlbXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5OYW1lc1RvVmFsdWVbbGFiZWxdID0gdGhpcy5udW1lcmljUmVjb3Jkc1tkLmluZGV4XVtcImNvbHVtbnNcIl1baW5kZXhdIGFzIG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy50b29sVGlwLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IHRoaXMuY2hhcnQuaW50ZXJuYWwuZDMuZXZlbnQucGFnZVgsXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiB0aGlzLmNoYXJ0LmludGVybmFsLmQzLmV2ZW50LnBhZ2VZLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1Rvb2xUaXA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW5OYW1lc1RvVmFsdWU6IGNvbHVtbk5hbWVzVG9WYWx1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9ubW91c2VvdXQ6IChkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuc2V0S2V5cyhbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnRvb2xUaXAuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb29sVGlwOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9vbHRpcDoge1xuICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ3JpZDoge1xuICAgICAgICAgICAgICAgIHg6IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgeToge1xuICAgICAgICAgICAgICAgICAgICBzaG93OiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF4aXM6IHtcbiAgICAgICAgICAgICAgICB4OiB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpbGluZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGU6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IChkOm51bWJlcik6c3RyaW5nID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmMzQ29uZmlnLmF4aXMueTIuc2hvdyl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaGFuZGxlIGNhc2Ugd2hlcmUgbGFiZWxzIG5lZWQgdG8gYmUgcmV2ZXJzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXA6bnVtYmVyID0gdGhpcy5jb2x1bW5MYWJlbHMubGVuZ3RoLTE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbHVtbkxhYmVsc1t0ZW1wLWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jb2x1bW5MYWJlbHNbZF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB5OiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRpY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpbGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogKG51bTpudW1iZXIpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy55TGFiZWxDb2x1bW5QYXRoICYmIHRoaXMueUxhYmVsQ29sdW1uUGF0aC5nZXRWYWx1ZShcInRoaXMuZ2V0TWV0YWRhdGEoJ2RhdGFUeXBlJylcIikgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMueUF4aXNWYWx1ZVRvTGFiZWxbbnVtXSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcoRm9ybWF0VXRpbHMuZGVmYXVsdE51bWJlckZvcm1hdHRpbmcobnVtKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB5Mjoge1xuICAgICAgICAgICAgICAgICAgICBzaG93OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWluOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICBtYXg6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHRpY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpbGluZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogKG51bTpudW1iZXIpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy55TGFiZWxDb2x1bW5QYXRoICYmIHRoaXMueUxhYmVsQ29sdW1uUGF0aC5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgnZGF0YVR5cGUnKSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy55QXhpc1ZhbHVlVG9MYWJlbFtudW1dIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhGb3JtYXRVdGlscy5kZWZhdWx0TnVtYmVyRm9ybWF0dGluZyhudW0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmluZHRvOiB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICBsZWdlbmQ6IHtcbiAgICAgICAgICAgICAgICBzaG93OiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9ucmVuZGVyZWQ6IHRoaXMuX3VwZGF0ZVN0eWxlLmJpbmQodGhpcylcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmNoYXJ0ID0gZ2VuZXJhdGUodGhpcy5jM0NvbmZpZyk7XG4gICAgfVxuXG4gICAgaGFuZGxlQ2xpY2soZXZlbnQ6TW91c2VFdmVudCk6dm9pZCB7XG4gICAgICAgIGlmKCF0aGlzLmZsYWcpIHtcbiAgICAgICAgICAgIHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5zZXRLZXlzKFtdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZsYWcgPSBmYWxzZTtcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFdlYXZlQzNMaW5lQ2hhcnQ7XG5cbnJlZ2lzdGVyVG9vbEltcGxlbWVudGF0aW9uKFwid2VhdmUudmlzdWFsaXphdGlvbi50b29sczo6TGluZUNoYXJ0VG9vbFwiLCBXZWF2ZUMzTGluZUNoYXJ0KTtcbi8vV2VhdmUucmVnaXN0ZXJDbGFzcyhcIndlYXZlanMudG9vbHMuTGluZUNoYXJ0VG9vbFwiLCBXZWF2ZUMzTGluZUNoYXJ0LCBbd2VhdmVqcy5hcGkuY29yZS5JTGlua2FibGVPYmplY3RXaXRoTmV3UHJvcGVydGllc10pO1xuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvYzMvYzMuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2QzL2QzLmQudHNcIi8+XG4vLy8gPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9yZWFjdC9yZWFjdC5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3Mvd2VhdmUvV2VhdmVQYXRoLmQudHNcIi8+XG5cblxuaW1wb3J0IHtJVmlzVG9vbFByb3BzfSBmcm9tIFwiLi9JVmlzVG9vbFwiO1xuaW1wb3J0IHtJVG9vbFBhdGhzfSBmcm9tIFwiLi9BYnN0cmFjdEMzVG9vbFwiO1xuaW1wb3J0IEFic3RyYWN0QzNUb29sIGZyb20gXCIuL0Fic3RyYWN0QzNUb29sXCI7XG5cbmltcG9ydCB7cmVnaXN0ZXJUb29sSW1wbGVtZW50YXRpb259IGZyb20gXCIuLi9XZWF2ZVRvb2xcIjtcbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7Q2hhcnRBUEksIENoYXJ0Q29uZmlndXJhdGlvbiwgZ2VuZXJhdGV9IGZyb20gXCJjM1wiO1xuXG5pbnRlcmZhY2UgSVBpZUNoYXJ0UGF0aHMgZXh0ZW5kcyBJVG9vbFBhdGhzIHtcbiAgICBwbG90dGVyOiBXZWF2ZVBhdGg7XG4gICAgZGF0YTogV2VhdmVQYXRoO1xuICAgIGxhYmVsOiBXZWF2ZVBhdGg7XG4gICAgZmlsbFN0eWxlOldlYXZlUGF0aDtcbiAgICBsaW5lU3R5bGU6V2VhdmVQYXRoO1xuICAgIGlubmVyUmFkaXVzOldlYXZlUGF0aDtcbiAgICBmaWx0ZXJlZEtleVNldDpXZWF2ZVBhdGg7XG4gICAgc2VsZWN0aW9uS2V5U2V0OldlYXZlUGF0aDtcbiAgICBwcm9iZUtleVNldDpXZWF2ZVBhdGg7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXZWF2ZUMzUGllQ2hhcnQgZXh0ZW5kcyBBYnN0cmFjdEMzVG9vbCB7XG5cbiAgICBwcml2YXRlIGtleVRvSW5kZXg6e1trZXk6c3RyaW5nXTogbnVtYmVyfTtcbiAgICBwcml2YXRlIGluZGV4VG9LZXk6e1tpbmRleDpudW1iZXJdOiBzdHJpbmd9O1xuICAgIHByb3RlY3RlZCBjaGFydDpDaGFydEFQSTtcbiAgICBwcm90ZWN0ZWQgYzNDb25maWc6Q2hhcnRDb25maWd1cmF0aW9uO1xuICAgIHByb3RlY3RlZCBwYXRoczpJUGllQ2hhcnRQYXRocztcbiAgICBwcml2YXRlIGZsYWc6Ym9vbGVhbjtcbiAgICBwcml2YXRlIG51bWVyaWNSZWNvcmRzOlJlY29yZFtdO1xuICAgIHByaXZhdGUgc3RyaW5nUmVjb3JkczpSZWNvcmRbXTtcbiAgICBwcml2YXRlIGNvbG9yczp7W2tleTpzdHJpbmddIDogc3RyaW5nfTtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOklWaXNUb29sUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBoYW5kbGVNaXNzaW5nU2Vzc2lvblN0YXRlUHJvcGVydGllcyhuZXdTdGF0ZTphbnkpXG5cdHtcblxuXHR9XG5cbiAgICBwcml2YXRlIHNlbGVjdGlvbktleXNDaGFuZ2VkKCk6dm9pZCB7XG4gICAgICAgIGlmKCF0aGlzLmNoYXJ0KVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIHZhciBrZXlzOnN0cmluZ1tdID0gdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LmdldEtleXMoKTtcbiAgICAgICAgaWYoa2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuY2hhcnQuZm9jdXMoa2V5cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2JlZEtleXNDaGFuZ2VkKCk6dm9pZCB7XG4gICAgICAgIHZhciBrZXlzOnN0cmluZ1tdID0gdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuZ2V0S2V5cygpO1xuXG4gICAgICAgIGlmKGtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0LmZvY3VzKGtleXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25LZXlzQ2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGRhdGVTdHlsZSgpOnZvaWQge1xuXG4gICAgfVxuXG4gICAgaGFuZGxlQ2xpY2soZXZlbnQ6UmVhY3QuTW91c2VFdmVudCk6dm9pZCB7XG4gICAgICAgIGlmKCF0aGlzLmZsYWcpIHtcbiAgICAgICAgICAgIHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5zZXRLZXlzKFtdKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmxhZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZGF0YUNoYW5nZWQoKTp2b2lkIHtcblxuICAgICAgICBpZighdGhpcy5jaGFydClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBsZXQgbnVtZXJpY01hcHBpbmc6YW55ID0ge1xuICAgICAgICAgICAgZGF0YTogdGhpcy5wYXRocy5kYXRhXG4gICAgICAgIH07XG5cbiAgICAgICAgbGV0IHN0cmluZ01hcHBpbmc6YW55ID0ge1xuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLnBhdGhzLmZpbGxTdHlsZS5wdXNoKFwiY29sb3JcIilcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsaW5lOiB7XG5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsYWJlbDogdGhpcy5wYXRocy5sYWJlbFxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5udW1lcmljUmVjb3JkcyA9IHRoaXMucGF0aHMucGxvdHRlci5yZXRyaWV2ZVJlY29yZHMobnVtZXJpY01hcHBpbmcsIHtrZXlTZXQ6IHRoaXMucGF0aHMuZmlsdGVyZWRLZXlTZXQsIGRhdGFUeXBlOiBcIm51bWJlclwifSk7XG4gICAgICAgIHRoaXMuc3RyaW5nUmVjb3JkcyA9IHRoaXMucGF0aHMucGxvdHRlci5yZXRyaWV2ZVJlY29yZHMoc3RyaW5nTWFwcGluZywge2tleVNldDogdGhpcy5wYXRocy5maWx0ZXJlZEtleVNldCwgZGF0YVR5cGU6IFwic3RyaW5nXCJ9KTtcblxuICAgICAgICB0aGlzLmtleVRvSW5kZXggPSB7fTtcbiAgICAgICAgdGhpcy5pbmRleFRvS2V5ID0ge307XG5cbiAgICAgICAgdGhpcy5udW1lcmljUmVjb3Jkcy5mb3JFYWNoKCAocmVjb3JkOlJlY29yZCwgaW5kZXg6bnVtYmVyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmluZGV4VG9LZXlbaW5kZXhdID0gcmVjb3JkW1wiaWRcIl0gYXMgc3RyaW5nO1xuICAgICAgICAgICAgdGhpcy5rZXlUb0luZGV4W3JlY29yZFtcImlkXCJdIGFzIHN0cmluZ10gPSBpbmRleDtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNvbHVtbnM6W3N0cmluZywgbnVtYmVyXVtdID0gW107XG5cbiAgICAgICAgY29sdW1ucyA9IHRoaXMubnVtZXJpY1JlY29yZHMubWFwKGZ1bmN0aW9uKHJlY29yZDpSZWNvcmQpIHtcbiAgICAgICAgICAgIHZhciB0ZW1wQXJyOltzdHJpbmcsIG51bWJlcl0gPSBbcmVjb3JkW1wiaWRcIl0gYXMgc3RyaW5nLCByZWNvcmRbXCJkYXRhXCJdIGFzIG51bWJlcl07XG4gICAgICAgICAgICByZXR1cm4gdGVtcEFycjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIGNoYXJ0VHlwZTpzdHJpbmcgPSBcInBpZVwiO1xuXG4gICAgICAgIGlmKHRoaXMucGF0aHMucGxvdHRlci5nZXRTdGF0ZShcImlubmVyUmFkaXVzXCIpID4gMCkge1xuICAgICAgICAgICAgY2hhcnRUeXBlID0gXCJkb251dFwiXG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbG9ycyA9IHt9XG4gICAgICAgIHRoaXMuc3RyaW5nUmVjb3Jkcy5mb3JFYWNoKChyZWNvcmQ6UmVjb3JkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNvbG9yc1tyZWNvcmRbXCJpZFwiXSBhcyBzdHJpbmddID0gKHJlY29yZFtcImZpbGxcIl0gYXMgUmVjb3JkKVtcImNvbG9yXCJdIGFzIHN0cmluZyB8fCBcIiNDMENERDFcIjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jaGFydC5sb2FkKHtcbiAgICAgICAgICAgIGNvbHVtbnM6IGNvbHVtbnMsXG4gICAgICAgICAgICB0eXBlOiBjaGFydFR5cGUsXG4gICAgICAgICAgICBjb2xvcnM6IHRoaXMuY29sb3JzLFxuICAgICAgICAgICAgdW5sb2FkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50KCk6dm9pZCB7XG4gICAgICAgIC8qIENsZWFudXAgY2FsbGJhY2tzICovXG4gICAgICAgIC8vdGhpcy50ZWFyZG93bkNhbGxiYWNrcygpO1xuICAgICAgICB0aGlzLmNoYXJ0LmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcykpO1xuICAgICAgICB2YXIgZGF0YUNoYW5nZWQ6RnVuY3Rpb24gPSBfLmRlYm91bmNlKHRoaXMuZGF0YUNoYW5nZWQuYmluZCh0aGlzKSwgMTAwKTtcbiAgICAgICAgdmFyIHNlbGVjdGlvbktleVNldENoYW5nZWQ6RnVuY3Rpb24gPSB0aGlzLnNlbGVjdGlvbktleXNDaGFuZ2VkLmJpbmQodGhpcyk7XG4gICAgICAgIHZhciBwcm9iZUtleVNldENoYW5nZWQ6RnVuY3Rpb24gPSBfLmRlYm91bmNlKHRoaXMucHJvYmVkS2V5c0NoYW5nZWQuYmluZCh0aGlzKSwgMTAwKTtcbiAgICAgICAgdmFyIHBsb3R0ZXJQYXRoOldlYXZlUGF0aCA9IHRoaXMudG9vbFBhdGgucHVzaFBsb3R0ZXIoXCJwbG90XCIpO1xuICAgICAgICB2YXIgbWFuaWZlc3QgPSBbXG4gICAgICAgICAgeyBuYW1lOiBcInBsb3R0ZXJcIiwgcGF0aDogcGxvdHRlclBhdGgsIGNhbGxiYWNrczogbnVsbH0sXG4gICAgICAgICAgeyBuYW1lOiBcImRhdGFcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImRhdGFcIiksIGNhbGxiYWNrczogZGF0YUNoYW5nZWQgfSxcbiAgICAgICAgICB7IG5hbWU6IFwibGFiZWxcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImxhYmVsXCIpLCBjYWxsYmFja3M6IGRhdGFDaGFuZ2VkIH0sXG4gICAgICAgICAgeyBuYW1lOiBcImZpbGxTdHlsZVwiLCBwYXRoOiBwbG90dGVyUGF0aC5wdXNoKFwiZmlsbFwiKSwgY2FsbGJhY2tzOiBkYXRhQ2hhbmdlZCB9LFxuICAgICAgICAgIHsgbmFtZTogXCJsaW5lU3R5bGVcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImxpbmVcIiksIGNhbGxiYWNrczogZGF0YUNoYW5nZWQgfSxcbiAgICAgICAgICB7IG5hbWU6IFwiaW5uZXJSYWRpdXNcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImlubmVyUmFkaXVzXCIpLCBjYWxsYmFja3M6IGRhdGFDaGFuZ2VkIH0sXG4gICAgICAgICAgeyBuYW1lOiBcImZpbHRlcmVkS2V5U2V0XCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJmaWx0ZXJlZEtleVNldFwiKSwgY2FsbGJhY2tzOiBkYXRhQ2hhbmdlZCB9LFxuICAgICAgICAgIHsgbmFtZTogXCJzZWxlY3Rpb25LZXlTZXRcIiwgcGF0aDogdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LCBjYWxsYmFja3M6IHNlbGVjdGlvbktleVNldENoYW5nZWR9LFxuICAgICAgICAgIHsgbmFtZTogXCJwcm9iZUtleVNldFwiLCBwYXRoOiB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldCwgY2FsbGJhY2tzOiBwcm9iZUtleVNldENoYW5nZWR9XG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5pbml0aWFsaXplUGF0aHMobWFuaWZlc3QpO1xuXG4gICAgICAgXHR0aGlzLnBhdGhzLmZpbHRlcmVkS2V5U2V0LmdldE9iamVjdCgpLnNldFNpbmdsZUtleVNvdXJjZSh0aGlzLnBhdGhzLmRhdGEuZ2V0T2JqZWN0KCkpO1xuXG4gICAgICAgIHRoaXMuYzNDb25maWcgPSB7XG4gICAgICAgICAgICBzaXplOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMucHJvcHMuc3R5bGUud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnByb3BzLnN0eWxlLmhlaWdodFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJpbmR0bzogdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgcGFkZGluZzoge1xuICAgICAgICAgICAgICB0b3A6IDIwLFxuICAgICAgICAgICAgICBib3R0b206IDIwLFxuICAgICAgICAgICAgICByaWdodDogMzBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b29sdGlwOiB7XG4gICAgICAgICAgICAgICAgc2hvdzogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgY29sdW1uczogW10sXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICBtdWx0aXBsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICBkcmFnZ2FibGU6IHRydWVcbiAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICB0eXBlOiBcInBpZVwiLFxuICAgICAgICAgICAgICAgb25jbGljazogKGQ6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgIHZhciBldmVudDpNb3VzZUV2ZW50ID0gdGhpcy5jaGFydC5pbnRlcm5hbC5kMy5ldmVudCBhcyBNb3VzZUV2ZW50O1xuICAgICAgICAgICAgICAgICBpZighKGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSkgJiYgZCAmJiBkLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5zZXRLZXlzKFt0aGlzLmluZGV4VG9LZXlbZC5pbmRleF1dKTtcbiAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbnNlbGVjdGVkOiAoZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoZCAmJiBkLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5hZGRLZXlzKFt0aGlzLmluZGV4VG9LZXlbZC5pbmRleF1dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb251bnNlbGVjdGVkOiAoZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoZCAmJiBkLmhhc093blByb3BlcnR5KFwiZGF0YVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZCBoYXMgYSBkaWZmZXJlbnQgc3RydWN0dXJlIHRoYW4gXCJvbnNlbGVjdGVkXCIgYXJndW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5zZXRLZXlzKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25tb3VzZW92ZXI6IChkOmFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbk5hbWVzVG9WYWx1ZTp7W2NvbHVtbk5hbWU6c3RyaW5nXSA6IHN0cmluZ3xudW1iZXIgfSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uTmFtZXNUb1ZhbHVlW3RoaXMucGF0aHMuZGF0YS5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YShcInRpdGxlXCIpXSA9IGQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldC5zZXRLZXlzKFt0aGlzLmluZGV4VG9LZXlbZC5pbmRleF1dKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudG9vbFRpcC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1Rvb2xUaXA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDogdGhpcy5jaGFydC5pbnRlcm5hbC5kMy5ldmVudC5wYWdlWCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiB0aGlzLmNoYXJ0LmludGVybmFsLmQzLmV2ZW50LnBhZ2VZLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbk5hbWVzVG9WYWx1ZTogY29sdW1uTmFtZXNUb1ZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25tb3VzZW91dDogKGQ6YW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGQgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldC5zZXRLZXlzKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMudG9vbFRpcC5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1Rvb2xUaXA6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwaWU6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgICAgICBzaG93OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICh2YWx1ZTpudW1iZXIsIHJhdGlvOm51bWJlciwgaWQ6c3RyaW5nKTpzdHJpbmcgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5zdHJpbmdSZWNvcmRzICYmIHRoaXMuc3RyaW5nUmVjb3Jkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVjb3JkOlJlY29yZCA9IHRoaXMuc3RyaW5nUmVjb3Jkc1t0aGlzLmtleVRvSW5kZXhbaWRdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihyZWNvcmQgJiYgcmVjb3JkW1wibGFiZWxcIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlY29yZFtcImxhYmVsXCJdIGFzIHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZG9udXQ6IHtcbiAgICAgICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgICAgICBzaG93OiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6ICh2YWx1ZTpudW1iZXIsIHJhdGlvOm51bWJlciwgaWQ6c3RyaW5nKTpzdHJpbmcgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5zdHJpbmdSZWNvcmRzICYmIHRoaXMuc3RyaW5nUmVjb3Jkcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVjb3JkID0gdGhpcy5zdHJpbmdSZWNvcmRzW3RoaXMua2V5VG9JbmRleFtpZF1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlY29yZCAmJiByZWNvcmRbXCJsYWJlbFwiXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkW1wibGFiZWxcIl0gYXMgc3RyaW5nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBsZWdlbmQ6IHtcbiAgICAgICAgICAgICAgICBzaG93OiBmYWxzZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9ucmVuZGVyZWQ6IHRoaXMudXBkYXRlU3R5bGUuYmluZCh0aGlzKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNoYXJ0ID0gZ2VuZXJhdGUodGhpcy5jM0NvbmZpZyk7XG4gICAgfVxufVxuXG5yZWdpc3RlclRvb2xJbXBsZW1lbnRhdGlvbihcIndlYXZlLnZpc3VhbGl6YXRpb24udG9vbHM6OlBpZUNoYXJ0VG9vbFwiLCBXZWF2ZUMzUGllQ2hhcnQpO1xuLy9XZWF2ZS5yZWdpc3RlckNsYXNzKFwid2VhdmVqcy50b29scy5QaWVDaGFydFRvb2xcIiwgV2VhdmVDM1BpZUNoYXJ0LCBbd2VhdmVqcy5hcGkuY29yZS5JTGlua2FibGVPYmplY3RXaXRoTmV3UHJvcGVydGllc10pO1xuIiwiLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9jMy9jMy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9kMy9kMy5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy9sb2Rhc2gvbG9kYXNoLmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LmQudHNcIi8+XG4vLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3dlYXZlL1dlYXZlUGF0aC5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QtZG9tLmQudHNcIi8+XG5cbmltcG9ydCB7SVZpc1Rvb2xQcm9wc30gZnJvbSBcIi4vSVZpc1Rvb2xcIjtcbmltcG9ydCB7SVRvb2xQYXRoc30gZnJvbSBcIi4vQWJzdHJhY3RDM1Rvb2xcIjtcbmltcG9ydCBBYnN0cmFjdEMzVG9vbCBmcm9tIFwiLi9BYnN0cmFjdEMzVG9vbFwiO1xuaW1wb3J0IHtyZWdpc3RlclRvb2xJbXBsZW1lbnRhdGlvbn0gZnJvbSBcIi4uL1dlYXZlVG9vbFwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tIFwiZDNcIjtcbmltcG9ydCBGb3JtYXRVdGlscyBmcm9tIFwiLi4vdXRpbHMvRm9ybWF0VXRpbHNcIjtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtDaGFydENvbmZpZ3VyYXRpb24sIENoYXJ0QVBJLCBnZW5lcmF0ZX0gZnJvbSBcImMzXCI7XG5pbXBvcnQge01vdXNlRXZlbnR9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtnZXRUb29sdGlwQ29udGVudH0gZnJvbSBcIi4vdG9vbHRpcFwiO1xuaW1wb3J0IFRvb2x0aXAgZnJvbSBcIi4vdG9vbHRpcFwiO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuaW1wb3J0IFN0YW5kYXJkTGliIGZyb20gXCIuLi91dGlscy9TdGFuZGFyZExpYlwiO1xuaW50ZXJmYWNlIElDb2x1bW5TdGF0cyB7XG4gICAgbWluOiBudW1iZXI7XG4gICAgbWF4OiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBJU2NhdHRlcnBsb3RQYXRocyBleHRlbmRzIElUb29sUGF0aHMge1xuICAgIHBsb3R0ZXI6IFdlYXZlUGF0aDtcbiAgICBkYXRhWDogV2VhdmVQYXRoO1xuICAgIGRhdGFZOiBXZWF2ZVBhdGg7XG4gICAgc2l6ZUJ5OiBXZWF2ZVBhdGg7XG4gICAgZmlsbDogV2VhdmVQYXRoO1xuICAgIGxpbmU6IFdlYXZlUGF0aDtcbiAgICB4QXhpczogV2VhdmVQYXRoO1xuICAgIHlBeGlzOiBXZWF2ZVBhdGg7XG4gICAgZmlsdGVyZWRLZXlTZXQ6IFdlYXZlUGF0aDtcbiAgICBzZWxlY3Rpb25LZXlTZXQ6IFdlYXZlUGF0aDtcbiAgICBwcm9iZUtleVNldDogV2VhdmVQYXRoO1xufVxuXG4vKiBwcml2YXRlXG4gKiBAcGFyYW0gcmVjb3JkcyBhcnJheSBvciByZWNvcmRzXG4gKiBAcGFyYW0gYXR0cmlidXRlcyBhcnJheSBvZiBhdHRyaWJ1dGVzIHRvIGJlIG5vcm1hbGl6ZWRcbiAqL1xuY2xhc3MgV2VhdmVDM1NjYXR0ZXJQbG90IGV4dGVuZHMgQWJzdHJhY3RDM1Rvb2wge1xuXG4gICAgcHJpdmF0ZSBrZXlUb0luZGV4Ontba2V5OnN0cmluZ106IG51bWJlcn07XG4gICAgcHJpdmF0ZSBpbmRleFRvS2V5OntbaW5kZXg6bnVtYmVyXTogc3RyaW5nfTtcbiAgICBwcml2YXRlIHhBeGlzVmFsdWVUb0xhYmVsOntbdmFsdWU6bnVtYmVyXTogc3RyaW5nfTtcbiAgICBwcml2YXRlIHlBeGlzVmFsdWVUb0xhYmVsOntbdmFsdWU6bnVtYmVyXTogc3RyaW5nfTtcbiAgICBwcm90ZWN0ZWQgY2hhcnQ6Q2hhcnRBUEk7XG4gICAgcHJpdmF0ZSBkYXRhWFR5cGU6c3RyaW5nO1xuICAgIHByaXZhdGUgZGF0YVlUeXBlOnN0cmluZztcbiAgICBwcml2YXRlIG51bWVyaWNSZWNvcmRzOlJlY29yZFtdO1xuICAgIHByaXZhdGUgc3RyaW5nUmVjb3JkczpSZWNvcmRbXTtcbiAgICBwcml2YXRlIG5vcm1hbGl6ZWRSZWNvcmRzOlJlY29yZFtdO1xuICAgIHByaXZhdGUgcmVjb3JkczpSZWNvcmRbXVtdO1xuXG4gICAgcHJvdGVjdGVkIHBhdGhzOklTY2F0dGVycGxvdFBhdGhzO1xuICAgIHByaXZhdGUgcGxvdHRlclN0YXRlOmFueTtcbiAgICBwcml2YXRlIG5vcm1hbGl6ZWRQb2ludFNpemVzOm51bWJlcltdO1xuXG4gICAgcHJpdmF0ZSBmbGFnOmJvb2xlYW47XG5cbiAgICBwcm90ZWN0ZWQgYzNDb25maWc6Q2hhcnRDb25maWd1cmF0aW9uO1xuXG4gICAgY29uc3RydWN0b3IocHJvcHM6SVZpc1Rvb2xQcm9wcykge1xuICAgICAgICBzdXBlcihwcm9wcyk7XG4gICAgICAgIHRoaXMua2V5VG9JbmRleCA9IHt9O1xuICAgICAgICB0aGlzLmluZGV4VG9LZXkgPSB7fTtcbiAgICAgICAgdGhpcy55QXhpc1ZhbHVlVG9MYWJlbCA9IHt9O1xuICAgICAgICB0aGlzLnhBeGlzVmFsdWVUb0xhYmVsID0ge307XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGhhbmRsZU1pc3NpbmdTZXNzaW9uU3RhdGVQcm9wZXJ0aWVzKG5ld1N0YXRlOmFueSlcblx0e1xuXG5cdH1cblxuICAgIHByaXZhdGUgbm9ybWFsaXplUmVjb3JkcyAocmVjb3JkczpSZWNvcmRbXSwgYXR0cmlidXRlczpzdHJpbmdbXSk6YW55W10ge1xuXG4gICAgICAgIC8vIHRvIGF2b2lkIGNvbXB1dGluZyB0aGUgc3RhdHMgYXQgZWFjaCBpdGVyYXRpb24uXG4gICAgICAgIHZhciBjb2x1bW5TdGF0c0NhY2hlOntbYXR0cmlidXRlOnN0cmluZ106SUNvbHVtblN0YXRzfSA9IHt9O1xuICAgICAgICBhdHRyaWJ1dGVzLmZvckVhY2goZnVuY3Rpb24oYXR0cjpzdHJpbmcpIHtcbiAgICAgICAgICAgIGNvbHVtblN0YXRzQ2FjaGVbYXR0cl0gPSB7XG4gICAgICAgICAgICAgICAgbWluOiBfLm1pbihfLnBsdWNrKHJlY29yZHMsIGF0dHIpKSxcbiAgICAgICAgICAgICAgICBtYXg6IF8ubWF4KF8ucGx1Y2socmVjb3JkcywgYXR0cikpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVjb3Jkcy5tYXAoZnVuY3Rpb24ocmVjb3JkOmFueSkge1xuXG4gICAgICAgICAgICB2YXIgb2JqOmFueSA9IHt9O1xuXG4gICAgICAgICAgICBhdHRyaWJ1dGVzLmZvckVhY2goZnVuY3Rpb24oYXR0cjpzdHJpbmcpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWluOm51bWJlciA9IGNvbHVtblN0YXRzQ2FjaGVbYXR0cl0ubWluO1xuICAgICAgICAgICAgICAgIHZhciBtYXg6bnVtYmVyID0gY29sdW1uU3RhdHNDYWNoZVthdHRyXS5tYXg7XG5cbiAgICAgICAgICAgICAgICBpZighbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSAwO1xuXG4gICAgICAgICAgICAgICAgaWYobWF4IC0gbWluID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmKHJlY29yZFthdHRyXSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyggKHJlY29yZFthdHRyXSAtIG1pbikgLyAobWF4IC0gbWluKSk7XG4gICAgICAgICAgICAgICAgICAgIG9ialthdHRyXSA9IChyZWNvcmRbYXR0cl0gLSBtaW4pIC8gKG1heCAtIG1pbik7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgYW55IG9mIHRoZSB2YWx1ZSBhYm92ZSBpcyBudWxsIHRoZW5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgY2FuJ3Qgbm9ybWFsaXplXG4gICAgICAgICAgICAgICAgICAgIG9ialthdHRyXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG1pcnJvclZlcnRpY2FsKCkge1xuICAgICAgICB2YXIgdGVtcDpzdHJpbmcgPSBcInlcIjtcbiAgICAgICAgaWYodGhpcy5jM0NvbmZpZy5heGlzLnkuc2hvdyA9PSB0cnVlKXtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55Mi5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55LnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuZGF0YS5heGVzID0ge1t0ZW1wXToneTInfTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55Mi5sYWJlbCA9IHRoaXMuYzNDb25maWcuYXhpcy55LmxhYmVsO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy55LnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkyLnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuYzNDb25maWcuZGF0YS5heGVzID0ge1t0ZW1wXToneSd9O1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnkubGFiZWwgPSB0aGlzLmMzQ29uZmlnLmF4aXMueTIubGFiZWw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kYXRhQ2hhbmdlZCgpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBidXN5Om51bWJlcjtcbiAgICBwcml2YXRlICBheGlzQ2hhbmdlZCgpOnZvaWQge1xuICAgICAgICBpZih0aGlzLmJ1c3kpIHtcbiAgICAgICAgICAgIHRoaXMuYnVzeSsrO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5jM0NvbmZpZy5heGlzLnkuc2hvdyl7XG4gICAgICAgICAgICB0aGlzLmNoYXJ0LmF4aXMubGFiZWxzKHtcbiAgICAgICAgICAgICAgICB4OiB0aGlzLnBhdGhzLnhBeGlzLmdldFN0YXRlKFwib3ZlcnJpZGVBeGlzTmFtZVwiKSB8fCB0aGlzLnBhdGhzLmRhdGFYLmdldE9iamVjdCgpLmdldE1ldGFkYXRhKCd0aXRsZScpLFxuICAgICAgICAgICAgICAgIHk6IHRoaXMucGF0aHMueUF4aXMuZ2V0U3RhdGUoXCJvdmVycmlkZUF4aXNOYW1lXCIpIHx8IHRoaXMucGF0aHMuZGF0YVkuZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ3RpdGxlJylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuY2hhcnQuYXhpcy5sYWJlbHMoe1xuICAgICAgICAgICAgICAgIHg6IHRoaXMucGF0aHMueEF4aXMuZ2V0U3RhdGUoXCJvdmVycmlkZUF4aXNOYW1lXCIpIHx8IHRoaXMucGF0aHMuZGF0YVguZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ3RpdGxlJyksXG4gICAgICAgICAgICAgICAgeTI6IHRoaXMucGF0aHMueUF4aXMuZ2V0U3RhdGUoXCJvdmVycmlkZUF4aXNOYW1lXCIpIHx8IHRoaXMucGF0aHMuZGF0YVkuZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ3RpdGxlJylcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5heGlzTGFiZWxzQ2hhbmdlZCgpO1xuICAgICAgICB0aGlzLmdlbmVyYXRlKCk7XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIGF4aXNMYWJlbHNDaGFuZ2VkKCk6dm9pZCB7XG4gICAgICAgIHZhciBjaGFydFdpZHRoOm51bWJlciA9IHRoaXMuY2hhcnQuaW50ZXJuYWwud2lkdGg7XG4gICAgICAgIHZhciB0ZXh0SGVpZ2h0Om51bWJlciA9IFN0YW5kYXJkTGliLmdldFRleHRIZWlnaHQoXCJ0ZXN0XCIsIFwiMTRwdCBIZWx2ZXRpY2EgTmV1ZVwiKTtcbiAgICAgICAgdmFyIHhMYWJlbHNUb1Nob3c6bnVtYmVyID0gTWF0aC5mbG9vcihjaGFydFdpZHRoIC8gdGV4dEhlaWdodCk7XG4gICAgICAgIHhMYWJlbHNUb1Nob3cgPSBNYXRoLm1heCgyLHhMYWJlbHNUb1Nob3cpO1xuXG4gICAgICAgIHRoaXMuYzNDb25maWcuYXhpcy54LnRpY2suY3VsbGluZyA9IHttYXg6IHhMYWJlbHNUb1Nob3d9O1xuICAgIH1cblxuICAgIHByaXZhdGUgZGF0YUNoYW5nZWQoKSB7XG4gICAgICAgIGlmKHRoaXMuYnVzeSkge1xuICAgICAgICAgICAgdGhpcy5idXN5Kys7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbnVtZXJpY01hcHBpbmc6YW55ID0ge1xuICAgICAgICAgICAgcG9pbnQ6IHtcbiAgICAgICAgICAgICAgICB4OiB0aGlzLnBhdGhzLmRhdGFYLFxuICAgICAgICAgICAgICAgIHk6IHRoaXMucGF0aHMuZGF0YVlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaXplOiB0aGlzLnBhdGhzLnNpemVCeVxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBzdHJpbmdNYXBwaW5nOmFueSA9IHtcbiAgICAgICAgICAgIHBvaW50OiB7XG4gICAgICAgICAgICAgICAgeDogdGhpcy5wYXRocy5kYXRhWCxcbiAgICAgICAgICAgICAgICB5OiB0aGlzLnBhdGhzLmRhdGFZXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmlsbDoge1xuICAgICAgICAgICAgICAgIC8vYWxwaGE6IHRoaXMuX2ZpbGxTdHlsZVBhdGgucHVzaChcImFscGhhXCIpLFxuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLnBhdGhzLmZpbGwucHVzaChcImNvbG9yXCIpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGluZToge1xuICAgICAgICAgICAgICAgIC8vYWxwaGE6IHRoaXMuX2xpbmVTdHlsZVBhdGgucHVzaChcImFscGhhXCIpLFxuICAgICAgICAgICAgICAgIGNvbG9yOiB0aGlzLnBhdGhzLmxpbmUucHVzaChcImNvbG9yXCIpXG4gICAgICAgICAgICAgICAgLy9jYXBzOiB0aGlzLl9saW5lU3R5bGVQYXRoLnB1c2goXCJjYXBzXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5kYXRhWFR5cGUgPSB0aGlzLnBhdGhzLmRhdGFYLmdldE9iamVjdCgpLmdldE1ldGFkYXRhKCdkYXRhVHlwZScpO1xuICAgICAgICB0aGlzLmRhdGFZVHlwZSA9IHRoaXMucGF0aHMuZGF0YVkuZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ2RhdGFUeXBlJyk7XG5cbiAgICAgICAgdGhpcy5udW1lcmljUmVjb3JkcyA9IHRoaXMucGF0aHMucGxvdHRlci5yZXRyaWV2ZVJlY29yZHMobnVtZXJpY01hcHBpbmcsIHtrZXlTZXQ6IHRoaXMucGF0aHMuZmlsdGVyZWRLZXlTZXQsIGRhdGFUeXBlOiBcIm51bWJlclwifSk7XG4gICAgICAgIHRoaXMuc3RyaW5nUmVjb3JkcyA9IHRoaXMucGF0aHMucGxvdHRlci5yZXRyaWV2ZVJlY29yZHMoc3RyaW5nTWFwcGluZywge2tleVNldDogdGhpcy5wYXRocy5maWx0ZXJlZEtleVNldCwgZGF0YVR5cGU6IFwic3RyaW5nXCJ9KTtcblxuICAgICAgICB0aGlzLnJlY29yZHMgPSBfLnppcCh0aGlzLm51bWVyaWNSZWNvcmRzLCB0aGlzLnN0cmluZ1JlY29yZHMpO1xuICAgICAgICB0aGlzLnJlY29yZHMgPSBfLnNvcnRCeU9yZGVyKHRoaXMucmVjb3JkcywgW1wic2l6ZVwiLCBcImlkXCJdLCBbXCJkZXNjXCIsIFwiYXNjXCJdKTtcblxuICAgICAgICBpZih0aGlzLmMzQ29uZmlnLmF4aXMueS5zaG93ID09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLnJlY29yZHMgPSB0aGlzLnJlY29yZHMucmV2ZXJzZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5yZWNvcmRzLmxlbmd0aClcbiAgICAgICAgICAgIFt0aGlzLm51bWVyaWNSZWNvcmRzLCB0aGlzLnN0cmluZ1JlY29yZHNdID0gXy51bnppcCh0aGlzLnJlY29yZHMpO1xuXG4gICAgICAgIHRoaXMua2V5VG9JbmRleCA9IHt9O1xuICAgICAgICB0aGlzLmluZGV4VG9LZXkgPSB7fTtcbiAgICAgICAgdGhpcy55QXhpc1ZhbHVlVG9MYWJlbCA9IHt9O1xuICAgICAgICB0aGlzLnhBeGlzVmFsdWVUb0xhYmVsID0ge307XG5cbiAgICAgICAgdGhpcy5udW1lcmljUmVjb3Jkcy5mb3JFYWNoKChyZWNvcmQ6UmVjb3JkLCBpbmRleDpudW1iZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMua2V5VG9JbmRleFtyZWNvcmRbXCJpZFwiXSBhcyBzdHJpbmddID0gaW5kZXg7XG4gICAgICAgICAgICB0aGlzLmluZGV4VG9LZXlbaW5kZXhdID0gcmVjb3JkW1wiaWRcIl0gYXMgc3RyaW5nO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnN0cmluZ1JlY29yZHMuZm9yRWFjaCgocmVjb3JkOmFueSwgaW5kZXg6bnVtYmVyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnhBeGlzVmFsdWVUb0xhYmVsWyh0aGlzLm51bWVyaWNSZWNvcmRzW2luZGV4XVtcInBvaW50XCJdIGFzIFJlY29yZClbXCJ4XCJdIGFzIG51bWJlcl0gPSAocmVjb3JkW1wicG9pbnRcIl0gYXMgUmVjb3JkKVtcInhcIl0gYXMgc3RyaW5nO1xuICAgICAgICAgICAgdGhpcy55QXhpc1ZhbHVlVG9MYWJlbFsodGhpcy5udW1lcmljUmVjb3Jkc1tpbmRleF1bXCJwb2ludFwiXSBhcyBSZWNvcmQpW1wieVwiXSBhcyBudW1iZXJdID0gKHJlY29yZFtcInBvaW50XCJdIGFzIFJlY29yZClbXCJ5XCJdIGFzIHN0cmluZztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5ub3JtYWxpemVkUmVjb3JkcyA9IHRoaXMubm9ybWFsaXplUmVjb3Jkcyh0aGlzLm51bWVyaWNSZWNvcmRzLCBbXCJzaXplXCJdKTtcbiAgICAgICAgdGhpcy5wbG90dGVyU3RhdGUgPSB0aGlzLnBhdGhzLnBsb3R0ZXIuZ2V0VW50eXBlZFN0YXRlID8gdGhpcy5wYXRocy5wbG90dGVyLmdldFVudHlwZWRTdGF0ZSgpIDogdGhpcy5wYXRocy5wbG90dGVyLmdldFN0YXRlKCk7XG4gICAgICAgIHRoaXMubm9ybWFsaXplZFBvaW50U2l6ZXMgPSB0aGlzLm5vcm1hbGl6ZWRSZWNvcmRzLm1hcCgobm9ybWFsaXplZFJlY29yZDpSZWNvcmQpID0+IHtcbiAgICAgICAgICAgIGlmKHRoaXMucGxvdHRlclN0YXRlICYmIHRoaXMucGxvdHRlclN0YXRlLnNpemVCeSkge1xuICAgICAgICAgICAgICAgIGxldCBtaW5TY3JlZW5SYWRpdXMgPSB0aGlzLnBsb3R0ZXJTdGF0ZS5taW5TY3JlZW5SYWRpdXM7XG4gICAgICAgICAgICAgICAgbGV0IG1heFNjcmVlblJhZGl1cyA9IHRoaXMucGxvdHRlclN0YXRlLm1heFNjcmVlblJhZGl1cztcbiAgICAgICAgICAgICAgICByZXR1cm4gKG5vcm1hbGl6ZWRSZWNvcmQgJiYgbm9ybWFsaXplZFJlY29yZFtcInNpemVcIl0gP1xuICAgICAgICAgICAgICAgICAgICBtaW5TY3JlZW5SYWRpdXMgKyBub3JtYWxpemVkUmVjb3JkW1wic2l6ZVwiXSBhcyBudW1iZXIgKiAobWF4U2NyZWVuUmFkaXVzIC0gbWluU2NyZWVuUmFkaXVzKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsb3R0ZXJTdGF0ZS5kZWZhdWx0U2NyZWVuUmFkaXVzKSB8fCAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLnBsb3R0ZXJTdGF0ZS5kZWZhdWx0U2NyZWVuUmFkaXVzKSB8fCAzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmF4aXNDaGFuZ2VkKCk7XG4gICAgICAgIHRoaXMuYnVzeSA9IDE7XG5cbiAgICAgICAgdGhpcy5nZW5lcmF0ZSgpO1xuICAgIH1cblxuICAgIGhhbmRsZUNsaWNrKGV2ZW50Ok1vdXNlRXZlbnQpOnZvaWQge1xuICAgICAgICBpZighdGhpcy5mbGFnKSB7XG4gICAgICAgICAgICB0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQuc2V0S2V5cyhbXSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mbGFnID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdXBkYXRlU3R5bGUoKVxuICAgIHtcbiAgICBcdGlmICghdGhpcy5jaGFydClcbiAgICBcdFx0cmV0dXJuO1xuICAgIFx0XG4gICAgICAgIGQzLnNlbGVjdCh0aGlzLmVsZW1lbnQpXG5cdCAgICAgICAgLnNlbGVjdEFsbChcImNpcmNsZVwiKVxuXHQgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSlcbiAgICAgICAgICAgIC5zdHlsZShcInN0cm9rZVwiLCBcImJsYWNrXCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJzdHJva2Utb3BhY2l0eVwiLCAwLjApO1xuXG4gICAgICAgIHZhciBzZWxlY3RlZEtleXM6c3RyaW5nW10gPSB0aGlzLnRvb2xQYXRoLnNlbGVjdGlvbl9rZXlzZXQuZ2V0S2V5cygpO1xuICAgICAgICB2YXIgcHJvYmVkS2V5czpzdHJpbmdbXSA9IHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LmdldEtleXMoKTtcbiAgICAgICAgdmFyIHNlbGVjdGVkSW5kaWNlczpudW1iZXJbXSA9IHNlbGVjdGVkS2V5cy5tYXAoKGtleTpzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIodGhpcy5rZXlUb0luZGV4W2tleV0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIHByb2JlZEluZGljZXM6bnVtYmVyW10gPSBwcm9iZWRLZXlzLm1hcCgoa2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICByZXR1cm4gTnVtYmVyKHRoaXMua2V5VG9JbmRleFtrZXldKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBrZXlzOnN0cmluZ1tdID0gT2JqZWN0LmtleXModGhpcy5rZXlUb0luZGV4KTtcbiAgICAgICAgdmFyIGluZGljZXM6bnVtYmVyW10gPSBrZXlzLm1hcCgoa2V5OnN0cmluZykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcih0aGlzLmtleVRvSW5kZXhba2V5XSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciB1bnNlbGVjdGVkSW5kaWNlczpudW1iZXJbXSA9IF8uZGlmZmVyZW5jZShpbmRpY2VzLCBzZWxlY3RlZEluZGljZXMpO1xuICAgICAgICB1bnNlbGVjdGVkSW5kaWNlcyA9IF8uZGlmZmVyZW5jZSh1bnNlbGVjdGVkSW5kaWNlcyxwcm9iZWRJbmRpY2VzKTtcbiAgICAgICAgaWYgKHByb2JlZEluZGljZXMubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmN1c3RvbVN0eWxlKHByb2JlZEluZGljZXMsIFwiY2lyY2xlXCIsIFwiLmMzLXNoYXBlXCIsIHtvcGFjaXR5OjEuMCwgXCJzdHJva2Utb3BhY2l0eVwiOiAwLjB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0ZWRJbmRpY2VzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jdXN0b21TdHlsZSh1bnNlbGVjdGVkSW5kaWNlcywgXCJjaXJjbGVcIiwgXCIuYzMtc2hhcGVcIiwge29wYWNpdHk6IDAuMywgXCJzdHJva2Utb3BhY2l0eVwiOiAwLjB9KTtcbiAgICAgICAgICAgIHRoaXMuY3VzdG9tU3R5bGUoc2VsZWN0ZWRJbmRpY2VzLCBcImNpcmNsZVwiLCBcIi5jMy1zaGFwZVwiLCB7b3BhY2l0eTogMS4wLCBcInN0cm9rZS1vcGFjaXR5XCI6IDEuMH0pO1xuICAgICAgICAgICAgdGhpcy5jaGFydC5zZWxlY3QoW1wieVwiXSwgc2VsZWN0ZWRJbmRpY2VzLCB0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghcHJvYmVkSW5kaWNlcy5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuY3VzdG9tU3R5bGUoaW5kaWNlcywgXCJjaXJjbGVcIiwgXCIuYzMtc2hhcGVcIiwge29wYWNpdHk6IDEuMCwgXCJzdHJva2Utb3BhY2l0eVwiOiAwLjB9KTtcbiAgICAgICAgICAgIHRoaXMuY2hhcnQuc2VsZWN0KFtcInlcIl0sIFtdLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdlbmVyYXRlKCkge1xuICAgICAgICB0aGlzLmNoYXJ0ID0gZ2VuZXJhdGUodGhpcy5jM0NvbmZpZyk7XG4gICAgICAgIHRoaXMuY2hhcnQubG9hZCh7ZGF0YTogXy5wbHVjayh0aGlzLm51bWVyaWNSZWNvcmRzLCBcInBvaW50XCIpLCB1bmxvYWQ6IHRydWUsIGRvbmU6ICgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmJ1c3kgPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5idXN5ID0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFDaGFuZ2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmJ1c3kgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9fSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgICAgICAvL2NvbnNvbGUubG9nKFwicmVzaXppbmdcIik7XG4gICAgICAgIC8vdmFyIHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICAgICAgaWYodGhpcy5jM0NvbmZpZy5zaXplLndpZHRoICE9IHRoaXMucHJvcHMuc3R5bGUud2lkdGggfHwgdGhpcy5jM0NvbmZpZy5zaXplLmhlaWdodCAhPSB0aGlzLnByb3BzLnN0eWxlLmhlaWdodCkge1xuICAgICAgICAgICAgdGhpcy5jM0NvbmZpZy5heGlzLnguaGVpZ2h0ID0gdGhpcy5wcm9wcy5zdHlsZS5oZWlnaHQgKiAwLjI7XG4gICAgICAgICAgICB0aGlzLmMzQ29uZmlnLnNpemUgPSB7d2lkdGg6IHRoaXMucHJvcHMuc3R5bGUud2lkdGgsIGhlaWdodDogdGhpcy5wcm9wcy5zdHlsZS5oZWlnaHR9O1xuICAgICAgICAgICAgdGhpcy5jaGFydCA9IGdlbmVyYXRlKHRoaXMuYzNDb25maWcpO1xuICAgICAgICAgICAgdGhpcy5heGlzQ2hhbmdlZCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vdmFyIGVuZCA9IERhdGUubm93KCk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgIC8qIENsZWFudXAgY2FsbGJhY2tzICovXG4gICAgICAgIC8vdGhpcy50ZWFyZG93bkNhbGxiYWNrcygpO1xuICAgICAgICB0aGlzLmNoYXJ0LmRlc3Ryb3koKTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmhhbmRsZUNsaWNrLmJpbmQodGhpcykpO1xuICAgICAgICB2YXIgYXhpc0NoYW5nZWQgPSB0aGlzLmF4aXNDaGFuZ2VkLmJpbmQodGhpcyk7XG4gICAgICAgIHZhciBkYXRhQ2hhbmdlZCA9IHRoaXMuZGF0YUNoYW5nZWQuYmluZCh0aGlzKTtcblxuICAgICAgICB2YXIgcGxvdHRlclBhdGggPSB0aGlzLnRvb2xQYXRoLnB1c2hQbG90dGVyKFwicGxvdFwiKTtcbiAgICAgICAgdmFyIG1hcHBpbmcgPSBbXG4gICAgICAgICAgICB7IG5hbWU6IFwicGxvdHRlclwiLCBwYXRoOiBwbG90dGVyUGF0aCwgY2FsbGJhY2tzOiBkYXRhQ2hhbmdlZH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwiZGF0YVhcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImRhdGFYXCIpLCBjYWxsYmFja3M6IFtkYXRhQ2hhbmdlZCwgYXhpc0NoYW5nZWRdIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwiZGF0YVlcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImRhdGFZXCIpLCBjYWxsYmFja3M6IFtkYXRhQ2hhbmdlZCwgYXhpc0NoYW5nZWRdIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwic2l6ZUJ5XCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJzaXplQnlcIiksIGNhbGxiYWNrczogZGF0YUNoYW5nZWQgfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJmaWxsXCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJmaWxsXCIpLCBjYWxsYmFja3M6IFtkYXRhQ2hhbmdlZF0gfSxcbiAgICAgICAgICAgIHsgbmFtZTogXCJsaW5lXCIsIHBhdGg6IHBsb3R0ZXJQYXRoLnB1c2goXCJsaW5lXCIpLCBjYWxsYmFja3M6IGRhdGFDaGFuZ2VkIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwieEF4aXNcIiwgcGF0aDogdGhpcy50b29sUGF0aC5wdXNoUGxvdHRlcihcInhBeGlzXCIpLCBjYWxsYmFja3M6IGF4aXNDaGFuZ2VkIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwieUF4aXNcIiwgcGF0aDogdGhpcy50b29sUGF0aC5wdXNoUGxvdHRlcihcInlBeGlzXCIpLCBjYWxsYmFja3M6IGF4aXNDaGFuZ2VkIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwiZmlsdGVyZWRLZXlTZXRcIiwgcGF0aDogcGxvdHRlclBhdGgucHVzaChcImZpbHRlcmVkS2V5U2V0XCIpLCBjYWxsYmFja3M6IGRhdGFDaGFuZ2VkIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwic2VsZWN0aW9uS2V5U2V0XCIsIHBhdGg6IHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldCwgY2FsbGJhY2tzOiB0aGlzLnVwZGF0ZVN0eWxlIH0sXG4gICAgICAgICAgICB7IG5hbWU6IFwicHJvYmVLZXlTZXRcIiwgcGF0aDogdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQsIGNhbGxiYWNrczogdGhpcy51cGRhdGVTdHlsZSB9XG4gICAgICAgIF07XG5cbiAgICAgICAgdGhpcy5pbml0aWFsaXplUGF0aHMobWFwcGluZyk7XG5cbiAgICAgICAgdGhpcy5wYXRocy5maWx0ZXJlZEtleVNldC5nZXRPYmplY3QoKS5zZXRDb2x1bW5LZXlTb3VyY2VzKFt0aGlzLnBhdGhzLmRhdGFYLmdldE9iamVjdCgpLCB0aGlzLnBhdGhzLmRhdGFZLmdldE9iamVjdCgpXSk7XG5cbiAgICAgICAgdGhpcy5jM0NvbmZpZyA9IHtcbiAgICAgICAgICAgIHNpemU6IHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMucHJvcHMuc3R5bGUuaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLnByb3BzLnN0eWxlLndpZHRoXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYmluZHRvOiB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICBwYWRkaW5nOiB7XG4gICAgICAgICAgICAgICAgdG9wOiAyMCxcbiAgICAgICAgICAgICAgICBib3R0b206IDIwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIHJvd3M6IFtdLFxuICAgICAgICAgICAgICAgIHg6IFwieFwiLFxuICAgICAgICAgICAgICAgIHhTb3J0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICB0eXBlOiBcInNjYXR0ZXJcIixcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRyYWdnYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY29sb3I6IChjb2xvcjpzdHJpbmcsIGQ6YW55KTpzdHJpbmcgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnN0cmluZ1JlY29yZHMgJiYgZC5oYXNPd25Qcm9wZXJ0eShcImluZGV4XCIpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbmQgdGhlIGNvcnJlc3BvbmRpbmcgaW5kZXggb2YgbnVtZXJpY1JlY29yZHMgaW4gc3RyaW5nUmVjb3Jkc1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlkOnN0cmluZyA9IHRoaXMuaW5kZXhUb0tleVtkLmluZGV4IGFzIG51bWJlcl07XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXg6bnVtYmVyID0gXy5wbHVjayh0aGlzLnN0cmluZ1JlY29yZHMsIFwiaWRcIikuaW5kZXhPZihpZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWNvcmQ6UmVjb3JkID0gdGhpcy5zdHJpbmdSZWNvcmRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAocmVjb3JkICYmIHJlY29yZFtcImZpbGxcIl0gJiYgKHJlY29yZFtcImZpbGxcIl0gYXMgUmVjb3JkKVtcImNvbG9yXCJdKSA/IChyZWNvcmRbXCJmaWxsXCJdIGFzIFJlY29yZClbXCJjb2xvclwiXSBhcyBzdHJpbmcgOiBcIiMwMDAwMDBcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCIjMDAwMDAwXCI7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbmNsaWNrOiAoZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50Ok1vdXNlRXZlbnQgPSAodGhpcy5jaGFydC5pbnRlcm5hbC5kMykuZXZlbnQgYXMgTW91c2VFdmVudDtcbiAgICAgICAgICAgICAgICAgICAgaWYoIShldmVudC5jdHJsS2V5fHxldmVudC5tZXRhS2V5KSAmJiBkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LnNldEtleXMoW3RoaXMuaW5kZXhUb0tleVtkLmluZGV4XV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbnNlbGVjdGVkOiAoZDphbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGFnID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYoZCAmJiBkLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGguc2VsZWN0aW9uX2tleXNldC5hZGRLZXlzKFt0aGlzLmluZGV4VG9LZXlbZC5pbmRleF1dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb251bnNlbGVjdGVkOiAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsYWcgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZihkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5zZWxlY3Rpb25fa2V5c2V0LnJlbW92ZUtleXMoW3RoaXMuaW5kZXhUb0tleVtkLmluZGV4XV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbm1vdXNlb3ZlcjogKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYoZCAmJiBkLmhhc093blByb3BlcnR5KFwiaW5kZXhcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LnNldEtleXMoW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbk5hbWVzVG9WYWx1ZTp7W2NvbHVtbk5hbWU6c3RyaW5nXSA6IHN0cmluZ3xudW1iZXIgfSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHhWYWx1ZTpudW1iZXIgPSB0aGlzLm51bWVyaWNSZWNvcmRzW2QuaW5kZXhdW1wicG9pbnRcIl1bXCJ4XCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoeFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uTmFtZXNUb1ZhbHVlW3RoaXMucGF0aHMuZGF0YVguZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ3RpdGxlJyldID0geFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgeVZhbHVlOm51bWJlciA9IHRoaXMubnVtZXJpY1JlY29yZHNbZC5pbmRleF1bXCJwb2ludFwiXVtcInlcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHlWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbk5hbWVzVG9WYWx1ZVt0aGlzLnBhdGhzLmRhdGFZLmdldE9iamVjdCgpLmdldE1ldGFkYXRhKCd0aXRsZScpXSA9IHlWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpemVCeVZhbHVlOm51bWJlciA9IHRoaXMubnVtZXJpY1JlY29yZHNbZC5pbmRleF1bXCJzaXplXCJdIGFzIG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNpemVCeVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uTmFtZXNUb1ZhbHVlW3RoaXMucGF0aHMuc2l6ZUJ5LmdldE9iamVjdCgpLmdldE1ldGFkYXRhKCd0aXRsZScpXSA9ICBzaXplQnlWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9vbFBhdGgucHJvYmVfa2V5c2V0LnNldEtleXMoW3RoaXMuaW5kZXhUb0tleVtkLmluZGV4XV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy50b29sVGlwLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiB0aGlzLmNoYXJ0LmludGVybmFsLmQzLmV2ZW50LnBhZ2VYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHRoaXMuY2hhcnQuaW50ZXJuYWwuZDMuZXZlbnQucGFnZVksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1Rvb2xUaXA6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uTmFtZXNUb1ZhbHVlOiBjb2x1bW5OYW1lc1RvVmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvbm1vdXNlb3V0OiAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZihkICYmIGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuc2V0S2V5cyhbXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLnRvb2xUaXAuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dUb29sVGlwOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbGVnZW5kOiB7XG4gICAgICAgICAgICAgICAgc2hvdzogZmFsc2VcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBheGlzOiB7XG4gICAgICAgICAgICAgICAgeDoge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcIm91dGVyLWNlbnRlclwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogKG51bTpudW1iZXIpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5wYXRocy5kYXRhWCAmJiB0aGlzLnhBeGlzVmFsdWVUb0xhYmVsICYmIHRoaXMuZGF0YVhUeXBlICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnhBeGlzVmFsdWVUb0xhYmVsW251bV0gfHwgXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKEZvcm1hdFV0aWxzLmRlZmF1bHROdW1iZXJGb3JtYXR0aW5nKG51bSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICByb3RhdGU6IC00NSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1bGxpbmc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBmaXQ6IGZhbHNlLy8sXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2Zvcm1hdDogKG51bTpudW1iZXIpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICBpZih0aGlzLnN0cmluZ1JlY29yZHMgJiYgdGhpcy5zdHJpbmdSZWNvcmRzW251bV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICBpZih0aGlzLmVsZW1lbnQgJiYgdGhpcy5nZXRFbGVtZW50U2l6ZSgpLmhlaWdodCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgdmFyIGxhYmVsSGVpZ2h0Om51bWJlciA9ICh0aGlzLmdldEVsZW1lbnRTaXplKCkuaGVpZ2h0KiAwLjIpL01hdGguY29zKDQ1KihNYXRoLlBJLzE4MCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICB2YXIgbGFiZWxTdHJpbmc6c3RyaW5nID0gKHRoaXMuc3RyaW5nUmVjb3Jkc1tudW1dW1wieExhYmVsXCJdIGFzIHN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgIGlmKGxhYmVsU3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICB2YXIgc3RyaW5nU2l6ZTpudW1iZXIgPSBTdGFuZGFyZExpYi5nZXRUZXh0V2lkdGgobGFiZWxTdHJpbmcsIFwiMTRwdCBIZWx2ZXRpY2EgTmV1ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHZhciBhZGp1c3RtZW50Q2hhcmFjdGVyczpudW1iZXIgPSBsYWJlbFN0cmluZy5sZW5ndGggLSBNYXRoLmZsb29yKGxhYmVsU3RyaW5nLmxlbmd0aCAqIChsYWJlbEhlaWdodCAvIHN0cmluZ1NpemUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgIHJldHVybiBhZGp1c3RtZW50Q2hhcmFjdGVycyA+IDAgPyBsYWJlbFN0cmluZy5zdWJzdHJpbmcoMCwgbGFiZWxTdHJpbmcubGVuZ3RoIC0gYWRqdXN0bWVudENoYXJhY3RlcnMgLSAzKSArIFwiLi4uXCIgOiBsYWJlbFN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3RyaW5nUmVjb3Jkc1tudW1dW1wieExhYmVsXCJdIGFzIHN0cmluZztcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHk6IHtcbiAgICAgICAgICAgICAgICAgICAgc2hvdzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJvdXRlci1taWRkbGVcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0aWNrOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IChudW06bnVtYmVyKTpzdHJpbmcgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRoaXMucGF0aHMuZGF0YVkgJiYgdGhpcy55QXhpc1ZhbHVlVG9MYWJlbCAmJiB0aGlzLmRhdGFZVHlwZSAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy55QXhpc1ZhbHVlVG9MYWJlbFtudW1dIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhGb3JtYXRVdGlscy5kZWZhdWx0TnVtYmVyRm9ybWF0dGluZyhudW0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHkyOiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcIm91dGVyLW1pZGRsZVwiXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRpY2s6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogKG51bTpudW1iZXIpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5wYXRocy5kYXRhWSAmJiB0aGlzLnlBeGlzVmFsdWVUb0xhYmVsICYmIHRoaXMuZGF0YVlUeXBlICE9PSBcIm51bWJlclwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnlBeGlzVmFsdWVUb0xhYmVsW251bV0gfHwgXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKEZvcm1hdFV0aWxzLmRlZmF1bHROdW1iZXJGb3JtYXR0aW5nKG51bSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBncmlkOiB7XG4gICAgICAgICAgICAgICAgeDoge1xuICAgICAgICAgICAgICAgICAgICBzaG93OiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB5OiB7XG4gICAgICAgICAgICAgICAgICAgIHNob3c6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG9vbHRpcDoge1xuICAgICAgICAgICAgICAgIGZvcm1hdDoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogKG51bTpudW1iZXIpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wYXRocy54QXhpcy5nZXRTdGF0ZShcIm92ZXJyaWRlQXhpc05hbWVcIikgfHwgdGhpcy5wYXRocy5kYXRhWC5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgndGl0bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogKG5hbWU6c3RyaW5nLCByYXRpbzpudW1iZXIsIGlkOnN0cmluZywgaW5kZXg6bnVtYmVyKTpzdHJpbmcgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucGF0aHMueUF4aXMuZ2V0U3RhdGUoXCJvdmVycmlkZUF4aXNOYW1lXCIpIHx8IHRoaXMucGF0aHMuZGF0YVkuZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ3RpdGxlJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNob3c6IGZhbHNlXG4gICAgICAgICAgICAgICAgLy9jb250ZW50czogKGQ6YW55LCBkZWZhdWx0VGl0bGVGb3JtYXQ6c3RyaW5nLCBkZWZhdWx0VmFsdWVGb3JtYXQ6c3RyaW5nLCBjb2xvcjphbnkpOnN0cmluZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciAkJCA9IHRoaXMuY2hhcnQuaW50ZXJuYWwsIGNvbmZpZyA9ICQkLmNvbmZpZyxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRpdGxlRm9ybWF0ID0gY29uZmlnLnRvb2x0aXBfZm9ybWF0X3RpdGxlIHx8IGRlZmF1bHRUaXRsZUZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIG5hbWVGb3JtYXQgPSBjb25maWcudG9vbHRpcF9mb3JtYXRfbmFtZSB8fCBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gbmFtZTsgfSxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZhbHVlRm9ybWF0ID0gY29uZmlnLnRvb2x0aXBfZm9ybWF0X3ZhbHVlIHx8IGRlZmF1bHRWYWx1ZUZvcm1hdCxcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHRleHQsIGksIHRpdGxlLCB2YWx1ZSwgbmFtZTtcbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYoZC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZhciBjb2x1bW5OYW1lc1RvVmFsdWU6e1tjb2x1bW5OYW1lOnN0cmluZ10gOiBzdHJpbmd8bnVtYmVyIH0gPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZhciB4VmFsdWU6bnVtYmVyID0gdGhpcy5udW1lcmljUmVjb3Jkc1tkWzBdLmluZGV4XVtcInBvaW50XCJdW1wieFwiXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmKHhWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGNvbHVtbk5hbWVzVG9WYWx1ZVt0aGlzLnBhdGhzLmRhdGFYLmdldE9iamVjdCgpLmdldE1ldGFkYXRhKCd0aXRsZScpXSA9IHhWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy9cbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHZhciB5VmFsdWU6bnVtYmVyID0gdGhpcy5udW1lcmljUmVjb3Jkc1tkWzBdLmluZGV4XVtcInBvaW50XCJdW1wieVwiXVxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgaWYoeVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgY29sdW1uTmFtZXNUb1ZhbHVlW3RoaXMucGF0aHMuZGF0YVkuZ2V0T2JqZWN0KCkuZ2V0TWV0YWRhdGEoJ3RpdGxlJyldID0geVZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvL1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdmFyIHNpemVCeVZhbHVlOm51bWJlciA9IHRoaXMubnVtZXJpY1JlY29yZHNbZFswXS5pbmRleF1bXCJzaXplXCJdIGFzIG51bWJlcjtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIGlmKHNpemVCeVZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgY29sdW1uTmFtZXNUb1ZhbHVlW3RoaXMucGF0aHMuc2l6ZUJ5LmdldE9iamVjdCgpLmdldE1ldGFkYXRhKCd0aXRsZScpXSA9ICBzaXplQnlWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHJldHVybiBnZXRUb29sdGlwQ29udGVudChjb2x1bW5OYW1lc1RvVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgLy99XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcG9pbnQ6IHtcbiAgICAgICAgICAgICAgICByOiAoZDphbnkpOm51bWJlciA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmKGQuaGFzT3duUHJvcGVydHkoXCJpbmRleFwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXplZFBvaW50U2l6ZXNbZC5pbmRleF07XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbnJlbmRlcmVkOiB0aGlzLnVwZGF0ZVN0eWxlLmJpbmQodGhpcylcbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLmMzQ29uZmlnLmF4aXMueC5oZWlnaHQgPSB0aGlzLnByb3BzLnN0eWxlLmhlaWdodCAqIDAuMjtcblxuICAgICAgICB0aGlzLmNoYXJ0ID0gZ2VuZXJhdGUodGhpcy5jM0NvbmZpZyk7XG4gICAgfVxufVxuZXhwb3J0IGRlZmF1bHQgV2VhdmVDM1NjYXR0ZXJQbG90O1xuXG5yZWdpc3RlclRvb2xJbXBsZW1lbnRhdGlvbihcIndlYXZlLnZpc3VhbGl6YXRpb24udG9vbHM6OlNjYXR0ZXJQbG90VG9vbFwiLCBXZWF2ZUMzU2NhdHRlclBsb3QpO1xuLy9XZWF2ZS5yZWdpc3RlckNsYXNzKFwid2VhdmVqcy50b29scy5TY2F0dGVyUGxvdFRvb2xcIiwgV2VhdmVDM1NjYXR0ZXJQbG90LCBbd2VhdmVqcy5hcGkuY29yZS5JTGlua2FibGVPYmplY3RXaXRoTmV3UHJvcGVydGllc10pO1xuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cbi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL3JlYWN0L3JlYWN0LWRvbS5kLnRzXCIvPlxuLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3Mvd2VhdmUvV2VhdmVQYXRoLmQudHNcIi8+XG5cblxuaW1wb3J0IHtJVmlzVG9vbCwgSVZpc1Rvb2xQcm9wcywgSVZpc1Rvb2xTdGF0ZX0gZnJvbSBcIi4vSVZpc1Rvb2xcIjtcblxuaW1wb3J0IHtyZWdpc3RlclRvb2xJbXBsZW1lbnRhdGlvbn0gZnJvbSBcIi4uL1dlYXZlVG9vbFwiO1xuaW1wb3J0ICogYXMgXyBmcm9tIFwibG9kYXNoXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcbmltcG9ydCB7cm91bmR9IGZyb20gXCJkM1wiO1xuaW1wb3J0IFJlYWN0Qm9vdHN0cmFwVGFibGUgZnJvbSBcIi4uL3JlYWN0LWJvb3RzdHJhcC1kYXRhdGFibGUvUmVhY3RCb290U3RyYXBUYWJsZVwiO1xuXG5pbnRlcmZhY2UgSURhdGFUYWJsZVN0YXRlIGV4dGVuZHMgSVZpc1Rvb2xTdGF0ZSB7XG4gICAgZGF0YTp7W2tleTpzdHJpbmddOiBzdHJpbmd9W11cbn1cblxuY2xhc3MgV2VhdmVSZWFjdFRhYmxlIGV4dGVuZHMgUmVhY3QuQ29tcG9uZW50PElWaXNUb29sUHJvcHMsIElEYXRhVGFibGVTdGF0ZT4gaW1wbGVtZW50cyBJVmlzVG9vbCB7XG5cbiAgICBwcml2YXRlIHRvb2xQYXRoOldlYXZlUGF0aDtcbiAgICBwcml2YXRlIGNvbHVtbnNQYXRoOldlYXZlUGF0aDtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOklWaXNUb29sUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnRvb2xQYXRoID0gcHJvcHMudG9vbFBhdGg7XG4gICAgICAgIHRoaXMuY29sdW1uc1BhdGggPSB0aGlzLnRvb2xQYXRoLnB1c2goXCJjb2x1bW5zXCIpO1xuICAgICAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgZGF0YTogW11cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaGFuZGxlTWlzc2luZ1Nlc3Npb25TdGF0ZVByb3BlcnRpZXMobmV3U3RhdGU6YW55KVxuXHR7XG5cblx0fVxuXG4gICAgZ2V0IHRpdGxlKCk6c3RyaW5nIHtcbiAgICAgICByZXR1cm4gKHRoaXMudG9vbFBhdGguZ2V0VHlwZSgncGFuZWxUaXRsZScpID8gdGhpcy50b29sUGF0aC5nZXRTdGF0ZSgncGFuZWxUaXRsZScpIDogJycpIHx8IHRoaXMudG9vbFBhdGguZ2V0UGF0aCgpLnBvcCgpO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICB0aGlzLmNvbHVtbnNQYXRoLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMuZGF0YUNoYW5nZWQsIHRydWUpO1xuICAgICAgICB0aGlzLnRvb2xQYXRoLnB1c2goXCJmaWx0ZXJlZEtleVNldFwiKS5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLmRhdGFDaGFuZ2VkLCB0cnVlKTtcbiAgICAgICAgdGhpcy50b29sUGF0aC5wdXNoKFwic2VsZWN0aW9uS2V5U2V0XCIpLmFkZENhbGxiYWNrKHRoaXMsIHRoaXMuZm9yY2VVcGRhdGUsIHRydWUpO1xuICAgICAgICB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldC5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLmZvcmNlVXBkYXRlLCB0cnVlKTtcblxuICAgICAgICB0aGlzLnRvb2xQYXRoLmdldE9iamVjdChcImZpbHRlcmVkS2V5U2V0XCIpLnNldENvbHVtbktleVNvdXJjZXModGhpcy50b29sUGF0aC5nZXRPYmplY3QoXCJjb2x1bW5zXCIpLmdldE9iamVjdHMoKSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkVXBkYXRlKCkge1xuXG4gICAgfVxuXG4gICAgZGF0YUNoYW5nZWQoKSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZGF0YTogdGhpcy5jb2x1bW5zUGF0aC5yZXRyaWV2ZVJlY29yZHModGhpcy5jb2x1bW5zUGF0aC5nZXROYW1lcygpLCB0aGlzLnRvb2xQYXRoLnB1c2goXCJmaWx0ZXJlZEtleVNldFwiKSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gY3VzdG9tRm9ybWF0KGNlbGwsIHJvdykge1xuICAgIC8vICAgICBpZih0eXBlb2YgY2VsbCA9PT0gXCJudW1iZXJcIikge1xuICAgIC8vICAgICAgICAgcmV0dXJuIHJvdW5kKGNlbGwsIDIpXG4gICAgLy8gICAgIH0gZWxzZSB7XG4gICAgLy8gICAgICAgICByZXR1cm4gY2VsbDtcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIGhhbmRsZVByb2JlKGlkOnN0cmluZykge1xuICAgICAgICB0aGlzLnRvb2xQYXRoLnByb2JlX2tleXNldC5zZXRLZXlzKGlkKTtcbiAgICB9XG5cbiAgICBoYW5kbGVTZWxlY3Rpb24oaWQ6c3RyaW5nKSB7XG4gICAgICAgIHRoaXMudG9vbFBhdGgucHVzaChcInNlbGVjdGlvbktleVNldFwiLCBudWxsKS5zZXRLZXlzKGlkKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG5cbiAgICAgICAgdmFyIGNvbHVtbnM6e1tjb2x1bW5JZDpzdHJpbmddOiBzdHJpbmd9ID0ge307XG5cbiAgICAgICAgY29sdW1uc1tcImlkXCJdID0gXCJLZXlcIjtcblxuICAgICAgICB0aGlzLmNvbHVtbnNQYXRoLmdldENoaWxkcmVuKCkuZm9yRWFjaCgoY29sdW1uUGF0aDpXZWF2ZVBhdGgpID0+IHtcbiAgICAgICAgICAgIGNvbHVtbnNbY29sdW1uUGF0aC5nZXRQYXRoKCkucG9wKCldID0gY29sdW1uUGF0aC5nZXRPYmplY3QoKS5nZXRNZXRhZGF0YSgndGl0bGUnKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIDxSZWFjdEJvb3RzdHJhcFRhYmxlIGNvbHVtblRpdGxlcz17Y29sdW1uc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvd3M9e3RoaXMuc3RhdGUuZGF0YX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkUHJvcGVydHk9XCJpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9e3RoaXMucHJvcHMuc3R5bGUuaGVpZ2h0fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RyaXBlZD17dHJ1ZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhvdmVyPXt0cnVlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25kZW5zZWQ9e3RydWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZElkcz17dGhpcy50b29sUGF0aC5wdXNoKFwic2VsZWN0aW9uS2V5U2V0XCIsIG51bGwpLmdldEtleXMoKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2JlZElkcz17dGhpcy50b29sUGF0aC5wcm9iZV9rZXlzZXQuZ2V0S2V5cygpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25Qcm9iZT17dGhpcy5oYW5kbGVQcm9iZS5iaW5kKHRoaXMpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TZWxlY3Rpb249e3RoaXMuaGFuZGxlU2VsZWN0aW9uLmJpbmQodGhpcyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93SWRDb2x1bW49e2ZhbHNlfVxuICAgICAgICAgICAgICAgIC8+XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBXZWF2ZVJlYWN0VGFibGU7XG5cbnJlZ2lzdGVyVG9vbEltcGxlbWVudGF0aW9uKFwid2VhdmUudmlzdWFsaXphdGlvbi50b29sczo6VGFibGVUb29sXCIsIFdlYXZlUmVhY3RUYWJsZSk7XG4vL1dlYXZlLnJlZ2lzdGVyQ2xhc3MoXCJ3ZWF2ZWpzLnRvb2xzLlRhYmxlVG9vbFwiLCBXZWF2ZVJlYWN0VGFibGUsIFt3ZWF2ZWpzLmFwaS5jb3JlLklMaW5rYWJsZU9iamVjdFdpdGhOZXdQcm9wZXJ0aWVzXSk7XG4iLCIvLy88cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2xvZGFzaC9sb2Rhc2guZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QvcmVhY3QuZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvcmVhY3QtYm9vdHN0cmFwL3JlYWN0LWJvb3RzdHJhcC5kLnRzXCIvPlxuLy8vPHJlZmVyZW5jZSBwYXRoPVwiLi4vLi4vdHlwaW5ncy93ZWF2ZS9XZWF2ZVBhdGguZC50c1wiLz5cbi8vLzxyZWZlcmVuY2UgcGF0aD1cIi4uL3V0aWxzL1N0YW5kYXJkTGliLnRzXCIvPlxuXG5pbXBvcnQge0lWaXNUb29sUHJvcHMsIElWaXNUb29sU3RhdGV9IGZyb20gXCIuL0lWaXNUb29sXCI7XG5pbXBvcnQge0lWaXNUb29sfSBmcm9tIFwiLi9JVmlzVG9vbFwiO1xuXG5pbXBvcnQge3JlZ2lzdGVyVG9vbEltcGxlbWVudGF0aW9ufSBmcm9tIFwiLi4vV2VhdmVUb29sXCI7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB1aSBmcm9tIFwiLi4vcmVhY3QtdWkvdWlcIjtcbmltcG9ydCB7TGlzdEdyb3VwSXRlbSwgTGlzdEdyb3VwLCBEcm9wZG93bkJ1dHRvbiwgTWVudUl0ZW19IGZyb20gXCJyZWFjdC1ib290c3RyYXBcIjtcbmltcG9ydCAqIGFzIF8gZnJvbSBcImxvZGFzaFwiO1xuaW1wb3J0IHtNb3VzZUV2ZW50fSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7Q1NTUHJvcGVydGllc30gZnJvbSBcInJlYWN0XCI7XG5cbi8vVE9ETzogVGhpcyBpcyBhIGhhY2sgdG8gYWxsb3cgcmVhY3QgdG8gYmUgaW1wb3J0ZWQgaW4gZ2VuZXJhdGVkIEpTWC4gV2l0aG91dCB0aGlzLCBpbXBvcnQgaXMgbWlzc2luZyBhbmQgcmVuZGVyIGVuY291bnRlcnMgYW4gZXhjZXB0aW9uXG52YXIgc3R1YjphbnkgPSBSZWFjdDtcbmNvbnN0IHNlc3Npb25TdGF0ZU1lbnVTdHlsZTpDU1NQcm9wZXJ0aWVzID0ge2Rpc3BsYXk6XCJmbGV4XCIsIGZsZXg6MSwgaGVpZ2h0OlwiMTAwJVwiLCBmbGV4RGlyZWN0aW9uOlwiY29sdW1uXCIsIG92ZXJmbG93OlwiYXV0b1wifTtcbmNvbnN0IHNlc3Npb25TdGF0ZUNvbWJvQm94U3R5bGU6Q1NTUHJvcGVydGllcyA9IHtkaXNwbGF5OlwiZmxleFwiLCBmbGV4OjEsIGhlaWdodDpcIjEwMCVcIiwgZmxleERpcmVjdGlvbjpcImNvbHVtblwifTtcblxuY2xhc3MgU2Vzc2lvblN0YXRlTWVudVRvb2wgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8SVZpc1Rvb2xQcm9wcywgSVZpc1Rvb2xTdGF0ZT4ge1xuICAgIHByaXZhdGUgY2hvaWNlczpXZWF2ZVBhdGg7XG4gICAgcHJvdGVjdGVkIHRvb2xQYXRoOldlYXZlUGF0aDtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzOklWaXNUb29sUHJvcHMpIHtcbiAgICAgICAgc3VwZXIocHJvcHMpO1xuICAgICAgICB0aGlzLnRvb2xQYXRoID0gdGhpcy5wcm9wcy50b29sUGF0aDtcbiAgICAgICAgdGhpcy50b29sUGF0aC5wdXNoKFwiY2hvaWNlc1wiKS5hZGRDYWxsYmFjayh0aGlzLCB0aGlzLmZvcmNlVXBkYXRlKTtcbiAgICAgICAgdGhpcy50b29sUGF0aC5wdXNoKFwic2VsZWN0ZWRDaG9pY2VcIikuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5mb3JjZVVwZGF0ZSk7XG4gICAgICAgIHRoaXMudG9vbFBhdGgucHVzaChcImxheW91dE1vZGVcIikuYWRkQ2FsbGJhY2sodGhpcywgdGhpcy5mb3JjZVVwZGF0ZSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGhhbmRsZU1pc3NpbmdTZXNzaW9uU3RhdGVQcm9wZXJ0aWVzKG5ld1N0YXRlOmFueSlcblx0e1xuXG5cdH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIH1cblxuICAgIGhhbmRsZUl0ZW1DbGljayhpbmRleDpudW1iZXIsIGV2ZW50Ok1vdXNlRXZlbnQpOnZvaWQge1xuICAgICAgICB0aGlzLnRvb2xQYXRoLnN0YXRlKFwic2VsZWN0ZWRDaG9pY2VcIiwgdGhpcy5jaG9pY2VzLmdldE5hbWVzKClbaW5kZXhdKTtcbiAgICAgICAgdmFyIHRhcmdldHM6V2VhdmVQYXRoID0gdGhpcy50b29sUGF0aC5wdXNoKFwidGFyZ2V0c1wiKTtcbiAgICAgICAgdmFyIGNob2ljZTphbnkgPSB0aGlzLmNob2ljZXMuZ2V0U3RhdGUoaW5kZXgpO1xuICAgICAgICB0YXJnZXRzLmZvckVhY2goY2hvaWNlLCBmdW5jdGlvbiAodmFsdWU6YW55LCBrZXk6c3RyaW5nKSB7XG4gICAgICAgICAgICB0aGlzLnB1c2goa2V5LCBudWxsKS5zdGF0ZSh2YWx1ZSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICB0aGlzLmNob2ljZXMgPSB0aGlzLnRvb2xQYXRoLnB1c2goXCJjaG9pY2VzXCIpO1xuICAgICAgICB2YXIgc2VsZWN0ZWRDaG9pY2U6c3RyaW5nID0gdGhpcy50b29sUGF0aC5nZXRTdGF0ZShcInNlbGVjdGVkQ2hvaWNlXCIpO1xuICAgICAgICB2YXIgbGF5b3V0TW9kZTpzdHJpbmcgPSB0aGlzLnRvb2xQYXRoLmdldFN0YXRlKFwibGF5b3V0TW9kZVwiKTtcblxuICAgICAgICB2YXIgbWVudXM6SlNYLkVsZW1lbnRbXSA9IHRoaXMuY2hvaWNlcy5nZXROYW1lcygpLm1hcCgoY2hvaWNlOnN0cmluZywgaW5kZXg6bnVtYmVyKSA9PiB7XG4gICAgICAgICAgICBpZihsYXlvdXRNb2RlID09PSBcIkNvbWJvQm94XCIpe1xuICAgICAgICAgICAgICAgIHJldHVybiBjaG9pY2UgPT09IHNlbGVjdGVkQ2hvaWNlID88TWVudUl0ZW0gYWN0aXZlIGtleT17aW5kZXh9IG9uU2VsZWN0PXt0aGlzLmhhbmRsZUl0ZW1DbGljay5iaW5kKHRoaXMsIGluZGV4KX0+e2Nob2ljZX08L01lbnVJdGVtPlxuICAgICAgICAgICAgICAgICAgICA6PE1lbnVJdGVtIGtleT17aW5kZXh9IG9uU2VsZWN0PXt0aGlzLmhhbmRsZUl0ZW1DbGljay5iaW5kKHRoaXMsIGluZGV4KX0+e2Nob2ljZX08L01lbnVJdGVtPjtcbiAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hvaWNlID09PSBzZWxlY3RlZENob2ljZSA/PExpc3RHcm91cEl0ZW0gYWN0aXZlIGtleT17aW5kZXh9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlSXRlbUNsaWNrLmJpbmQodGhpcywgaW5kZXgpfT57Y2hvaWNlfTwvTGlzdEdyb3VwSXRlbT5cbiAgICAgICAgICAgICAgICAgICAgOjxMaXN0R3JvdXBJdGVtIGtleT17aW5kZXh9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlSXRlbUNsaWNrLmJpbmQodGhpcywgaW5kZXgpfT57Y2hvaWNlfTwvTGlzdEdyb3VwSXRlbT47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBjb250YWluZXI6SlNYLkVsZW1lbnQ7XG5cbiAgICAgICAgaWYobGF5b3V0TW9kZSA9PT0gXCJDb21ib0JveFwiKXtcbiAgICAgICAgICAgIGNvbnRhaW5lciA9XG4gICAgICAgICAgICAgICAgPHVpLlZCb3ggc3R5bGU9e3toZWlnaHQ6XCIxMDAlXCIsIGZsZXg6MS4wLCBhbGlnbkl0ZW1zOlwiY2VudGVyXCJ9fT5cbiAgICAgICAgICAgICAgICAgICAgPERyb3Bkb3duQnV0dG9uIHRpdGxlPXtzZWxlY3RlZENob2ljZX0gaWQ9e2Bkcm9wZG93bi0ke3RoaXMudG9vbFBhdGguZ2V0U3RhdGUoXCJjbGFzc1wiKX1gfSA+XG4gICAgICAgICAgICAgICAgICAgICAgICB7bWVudXN9XG4gICAgICAgICAgICAgICAgICAgIDwvRHJvcGRvd25CdXR0b24+XG4gICAgICAgICAgICAgICAgPC91aS5WQm94PlxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGNvbnRhaW5lciA9XG4gICAgICAgICAgICAgICAgPExpc3RHcm91cD5cbiAgICAgICAgICAgICAgICAgICAge21lbnVzfVxuICAgICAgICAgICAgICAgIDwvTGlzdEdyb3VwPlxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICg8ZGl2IHN0eWxlPXtsYXlvdXRNb2RlID09PSBcIkNvbWJvQm94XCIgPyBzZXNzaW9uU3RhdGVDb21ib0JveFN0eWxlIDogc2Vzc2lvblN0YXRlTWVudVN0eWxlfT5cbiAgICAgICAgICAgIHtjb250YWluZXJ9XG4gICAgICAgIDwvZGl2Pik7XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTZXNzaW9uU3RhdGVNZW51VG9vbDtcblxucmVnaXN0ZXJUb29sSW1wbGVtZW50YXRpb24oXCJ3ZWF2ZS51aTo6U2Vzc2lvblN0YXRlTWVudVRvb2xcIiwgU2Vzc2lvblN0YXRlTWVudVRvb2wpO1xuLy9XZWF2ZS5yZWdpc3RlckNsYXNzKFwid2VhdmVqcy50b29scy5TZXNzaW9uU3RhdGVNZW51VG9vbFwiLCBTZXNzaW9uU3RhdGVNZW51VG9vbCwgW3dlYXZlanMuYXBpLmNvcmUuSUxpbmthYmxlT2JqZWN0V2l0aE5ld1Byb3BlcnRpZXNdKTtcbiIsIi8vLyA8cmVmZXJlbmNlIHBhdGg9XCIuLi8uLi90eXBpbmdzL2QzL2QzLmQudHNcIi8+XG5cbmltcG9ydCAqIGFzIGQzIGZyb20gXCJkM1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtYXRVdGlscyB7XG5cbiAgLy8gdGhpcyBmdW5jdGlvbiByZXR1cm5zIHRoZSBkZWZhdWx0IG51bWJlciBmb3JtYXRpbmcuXG5cdC8vIGZvciBudW1iZXIgdmFsdWVzLCB3ZSByb3VuZCB0aGVtIHRvIGF0IG1vc3QgNCBkZWNpbWFsIHBsYWNlc1xuXHQvLyB1bmxlc3MgdGhlIG51bWJlciBpcyB2ZXJ5IHNtYWxsLCBpbiB3aGljaCBjYXNlIHdlIGp1c3QgcmV0dXJuIGl0XG4gIHN0YXRpYyBkZWZhdWx0TnVtYmVyRm9ybWF0dGluZyh4Om51bWJlcik6bnVtYmVyIHtcbiAgICBpZih4IDwgMC4wMDAxKSB7XG4gICAgICByZXR1cm4geDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGQzLnJvdW5kKHgsIDQpO1xuICAgIH1cbiAgfVxufVxuIiwiLy8vIDxyZWZlcmVuY2UgcGF0aD1cIi4uLy4uL3R5cGluZ3MvbG9kYXNoL2xvZGFzaC5kLnRzXCIvPlxuXG5pbXBvcnQgKiBhcyBfIGZyb20gXCJsb2Rhc2hcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RhbmRhcmRMaWIge1xuXG5cdC8qKlxuXHQgKiBHZW5lcmF0ZXMgYW4gXCJyZ2JhKClcIiBzdHJpbmcgZm9yIENTUy5cblx0ICogQHBhcmFtIHIgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAyNTUuXG5cdCAqIEBwYXJhbSBnIEEgbnVtYmVyIGJldHdlZW4gMCBhbmQgMjU1LlxuXHQgKiBAcGFyYW0gYiBBIG51bWJlciBiZXR3ZWVuIDAgYW5kIDI1NS5cblx0ICogQHBhcmFtIGEgQSBudW1iZXIgYmV0d2VlbiAwIGFuZCAxLlxuXHQgKi9cblx0c3RhdGljIHJnYmEocjpudW1iZXIsIGc6bnVtYmVyLCBiOm51bWJlciwgYTpudW1iZXIpXG5cdHtcblx0XHRyZXR1cm4gYHJnYmEoJHtyfSwke2d9LCR7Yn0sJHthfSlgO1xuXHR9XG5cdFxuXHQvKipcblx0ICogVXNlIHRoaXMgYXMgYSB0ZW1wb3Jhcnkgc29sdXRpb24gYmVmb3JlIHdlIHVzZSBXZWF2ZS5yZWdpc3RlckNsYXNzKCkuXG5cdCAqL1xuXHRzdGF0aWMgZGVib3VuY2UodGFyZ2V0OmFueSwgbWV0aG9kTmFtZTpzdHJpbmcsIGRlbGF5Om51bWJlciA9IDIwKTp2b2lkXG5cdHtcblx0XHRpZiAodGFyZ2V0W21ldGhvZE5hbWVdID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGFyZ2V0KVttZXRob2ROYW1lXSlcblx0XHRcdHRhcmdldFttZXRob2ROYW1lXSA9IF8uZGVib3VuY2UodGFyZ2V0W21ldGhvZE5hbWVdLmJpbmQodGFyZ2V0KSwgZGVsYXkpO1xuXHRcdHRhcmdldFttZXRob2ROYW1lXSgpO1xuXHR9XG5cdFxuICAvKipcblx0ICogU2VhcmNoZXMgZm9yIHRoZSBmaXJzdCBuZXN0ZWQgb2JqZWN0IHdpdGggbWF0Y2hpbmcgcHJvcGVydGllc1xuXHQgKiBAcGFyYW0gcm9vIFRoZSByb290IE9iamVjdC5cblx0ICogQHBhcmFtIG1hdGNoIEVpdGhlciBhbiBPYmplY3Qgd2l0aCBwcm9wZXJ0aWVzIHRvIG1hdGNoLCBvciBhIEZ1bmN0aW9uIHRoYXQgY2hlY2tzIGZvciBhIG1hdGNoLlxuICAgKlxuICAgKiBAcmV0dXJucyByZXR1cm5zIGFuIG9iamVjdCB3aXRoIHRoZSBtYXRjaGluZyBwcm9wZXJ0aWVzXG5cdCAqL1xuICAgc3RhdGljIGZpbmREZWVwKHJvb3Q6IGFueSwgbWF0Y2g6IGFueSApOmFueSB7XG4gICAgIGlmKHR5cGVvZiBtYXRjaCAhPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIG1hdGNoID0gXy5tYXRjaGVzKG1hdGNoKTtcbiAgICAgfVxuXG4gICAgIGlmKG1hdGNoKHJvb3QpKSB7XG4gICAgICByZXR1cm4gcm9vdDtcbiAgICB9XG5cbiAgICBpZih0eXBlb2Ygcm9vdCA9PSBcIm9iamVjdFwiKSB7XG4gICAgICB2YXIga2V5OiBzdHJpbmc7XG4gICAgICBmb3IgKGtleSBpbiByb290KSB7XG4gICAgICAgIHZhciBmb3VuZDphbnkgPSB0aGlzLmZpbmREZWVwKHJvb3Rba2V5XSwgbWF0Y2gpO1xuICAgICAgICBpZihmb3VuZClcbiAgICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgICB9XG4gICAgfVxuICAgfVxuXG4gICAvKipcbiAgICAgKiBBZGRzIHVuZGVmaW5lZCB2YWx1ZXMgdG8gbmV3IHN0YXRlIGZvciBwcm9wZXJ0aWVzIGluXG4gICAgICogY3VycmVudCBzdGF0ZSBub3QgZm91bmQgaW4gbmV3IHN0YXRlLlxuICAgICAqL1xuICAgc3RhdGljIGluY2x1ZGVNaXNzaW5nUHJvcGVydHlQbGFjZWhvbGRlcnMoY3VycmVudFN0YXRlOmFueSwgbmV3U3RhdGU6YW55KSB7XG4gICAgIHZhciBrZXk6IHN0cmluZztcbiAgICAgZm9yIChrZXkgaW4gY3VycmVudFN0YXRlKSB7XG4gICAgICAgaWYoIW5ld1N0YXRlLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgIG5ld1N0YXRlW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgICAgfVxuICAgICB9XG4gICAgIHJldHVybiBuZXdTdGF0ZTtcbiAgIH1cblxuICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyBhbiBpbnRlcnBvbGF0ZWQgY29sb3IgZm9yIGEgbm9ybWFsaXplZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0gbm9ybVZhbHVlIEEgTnVtYmVyIGJldHdlZW4gMCBhbmQgMS5cbiAgICAgKiBAcGFyYW0gY29sb3JzIEFuIEFycmF5IG9yIGxpc3Qgb2YgY29sb3JzIHRvIGludGVycG9sYXRlIGJldHdlZW4uICBOb3JtYWxpemVkIHZhbHVlcyBvZiAwIGFuZCAxIHdpbGwgYmUgbWFwcGVkIHRvIHRoZSBmaXJzdCBhbmQgbGFzdCBjb2xvcnMuXG4gICAgICogQHJldHVybiBBbiBpbnRlcnBvbGF0ZWQgY29sb3IgYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBub3JtVmFsdWUgYmFzZWQgb24gdGhlIGxpc3Qgb2YgY29sb3IgdmFsdWVzLlxuICAgICAqL1xuICAgICBzdGF0aWMgaW50ZXJwb2xhdGVDb2xvcihub3JtVmFsdWU6bnVtYmVyLCAuLi5jb2xvcnM6YW55W10pOiBudW1iZXIge1xuICAgICAgICAvLyBoYW5kbGUgYW4gYXJyYXkgb2YgY29sb3JzIGFzIHRoZSBzZWNvbmQgcGFyYW1ldGVyXG4gICAgICAgIGlmIChjb2xvcnMubGVuZ3RoID09PSAxICYmIEFycmF5LmlzQXJyYXkoY29sb3JzWzBdKSkge1xuICAgICAgICAgICAgY29sb3JzID0gY29sb3JzWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaGFuZGxlIGludmFsaWQgcGFyYW1ldGVyc1xuICAgICAgICBpZiAobm9ybVZhbHVlIDwgMCB8fCBub3JtVmFsdWUgPiAxIHx8IGNvbG9ycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaW5kIHRoZSBtaW4gYW5kIG1heCBjb2xvcnMgd2Ugd2FudCB0byBpbnRlcnBvbGF0ZSBiZXR3ZWVuXG5cbiAgICAgICAgdmFyIG1heEluZGV4OiBudW1iZXIgPSBNYXRoLmZsb29yKGNvbG9ycy5sZW5ndGggLSAxKTtcbiAgICAgICAgdmFyIGxlZnRJbmRleDogbnVtYmVyID0gTWF0aC5mbG9vcihtYXhJbmRleCAqIG5vcm1WYWx1ZSk7XG4gICAgICAgIHZhciByaWdodEluZGV4OiBudW1iZXIgPSBNYXRoLmZsb29yKGxlZnRJbmRleCArIDEpO1xuXG4gICAgICAgIC8vIGhhbmRsZSBib3VuZGFyeSBjb25kaXRpb25cbiAgICAgICAgaWYgKHJpZ2h0SW5kZXggPT09IGNvbG9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChjb2xvcnNbbGVmdEluZGV4XSwgMTYpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1pbkNvbG9yOiBudW1iZXIgPSBjb2xvcnNbbGVmdEluZGV4XTtcbiAgICAgICAgdmFyIG1heENvbG9yOiBudW1iZXIgPSBjb2xvcnNbcmlnaHRJbmRleF07XG5cbiAgICAgICAgLy8gbm9ybWFsaXplIHRoZSBub3JtIHZhbHVlIGJldHdlZW4gdGhlIHR3byBub3JtIHZhbHVlcyBhc3NvY2lhdGVkIHdpdGggdGhlIHN1cnJvdW5kaW5nIGNvbG9yc1xuICAgICAgICBub3JtVmFsdWUgPSBub3JtVmFsdWUgKiBtYXhJbmRleCAtIGxlZnRJbmRleDtcblxuICAgICAgICB2YXIgcGVyY2VudExlZnQ6IG51bWJlciA9IDEgLSBub3JtVmFsdWU7IC8vIHJlbGV2YW5jZSBvZiBtaW5Db2xvclxuICAgICAgICB2YXIgcGVyY2VudFJpZ2h0OiBudW1iZXIgPSBub3JtVmFsdWU7IC8vIHJlbGV2YW5jZSBvZiBtYXhDb2xvclxuICAgICAgICBjb25zdCBSOiBudW1iZXIgPSAweEZGMDAwMDtcbiAgICAgICAgY29uc3QgRzogbnVtYmVyID0gMHgwMEZGMDA7XG4gICAgICAgIGNvbnN0IEI6IG51bWJlciA9IDB4MDAwMEZGO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgKChwZXJjZW50TGVmdCAqIChtaW5Db2xvciAmIFIpICsgcGVyY2VudFJpZ2h0ICogKG1heENvbG9yICYgUikpICYgUikgfFxuICAgICAgICAgICAgKChwZXJjZW50TGVmdCAqIChtaW5Db2xvciAmIEcpICsgcGVyY2VudFJpZ2h0ICogKG1heENvbG9yICYgRykpICYgRykgfFxuICAgICAgICAgICAgKChwZXJjZW50TGVmdCAqIChtaW5Db2xvciAmIEIpICsgcGVyY2VudFJpZ2h0ICogKG1heENvbG9yICYgQikpICYgQilcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAqIFRoaXMgZnVuY3Rpb24gY29udmVydHMgYSBkZWNpbWFsIG51bWJlciB0byBhIDYgZGlnaXQgaGV4YWRlY2ltYWwgc3RyaW5nXG4gICAgKiBAcGFyYW0gZGVjIEEgZGVjaW1hbCBudW1iZXJcbiAgICAqIEByZXR1cm4gdGhlIGhleGFkZWNpbWFsIHZhbHVlIG9mIHRoZSBkZWNpbWFsIG51bWJlclxuICAgICovXG4gICBzdGF0aWMgZGVjaW1hbFRvSGV4KGRlYzogbnVtYmVyKTogc3RyaW5nIHtcbiAgICAgICByZXR1cm4gXy5wYWRMZWZ0KGRlYy50b1N0cmluZygxNiksIDYsIFwiMFwiKTtcbiAgIH1cblxuICAgLyoqXG4gICAgKiBUaGlzIGZ1bmN0aW9uIHJldHVybiB0aGUgbm9ybWFsaXplZCB2YWx1ZSBiZXR3ZWVuIGEgcmFuZ2VcbiAgICAqIGlmIG5vIHJhbmdlIGlzIHByb3ZpZGVkLCB0aGUgZGVmYXVsdCByYW5nZSB3aWxsIGJlIDAgYW5kIDFcbiAgICAqXG4gICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGJlIG5vcm1hbGl6ZWRcbiAgICAqIEBwYXJhbSBtaW4gdGhlIHJhbmdlIG1pbiB2YWx1ZVxuICAgICogQHBhcmFtIG1heCB0aGUgcmFuZ2UgbWF4IHZhbHVlXG4gICAgKi9cbiAgIHN0YXRpYyBub3JtYWxpemUodmFsdWU6IG51bWJlciwgbWluOiBudW1iZXIsIG1heDogbnVtYmVyKTogbnVtYmVyIHtcblxuICAgICAgIGlmKCFtaW4pIHtcbiAgICAgICAgICAgbWluID0gMDtcbiAgICAgICB9XG4gICAgICAgaWYoIW1heCkge1xuICAgICAgICAgICBtYXggPSAxO1xuICAgICAgIH1cbiAgICAgICByZXR1cm4gKHZhbHVlIC0gbWluKSAvIChtYXggLSBtaW4pO1xuICAgfVxuXG4gICAvKipcbiAgICAqICBUaGlzIGZ1bmN0aW9uIHRha2VzIG1lcmdlcyBhbiBvYmplY3QgaW50byBhbm90aGVyXG4gICAgKlxuICAgICogQHBhcmFtIGludG8ge29iamVjdH0gdGhlIG9iamVjdCB0byBtZXJnZSBpbnRvXG4gICAgKiBAcGFyYW0gb2JqIHtvYmp9IHRoZSBvYmplY3QgdG8gbWVyZ2UgZnJvbVxuICAgICovXG4gICBzdGF0aWMgbWVyZ2UoaW50bzphbnksIG9iajphbnkpIHtcbiAgICAgdmFyIGF0dHI6c3RyaW5nO1xuICAgICBmb3IoYXR0ciBpbiBvYmopIHtcbiAgICAgICBpbnRvW2F0dHJdID0gb2JqW2F0dHJdO1xuICAgICB9XG4gICB9XG5cbiAgIC8qKlxuICAgICogVGVtcG9yYXJ5IHBvbHlmaWxsIHdvcmthcm91bmQgZm9yIFN0cmluZy5zdGFydHNXaXRoXG4gICAgKiBmb3IgcHJvamVjdHMgdGhhdCBhcmUgdGFyZ2V0dGluZyBlczVcbiAgICAqXG4gICAgKiAgZGV0ZXJtaW5lcyB3aGV0aGVyIGEgc3RyaW5nIGJlZ2lucyB3aXRoIHRoZSBjaGFyYWN0ZXJzIG9mIGFub3RoZXIgc3RyaW5nLCByZXR1cm5pbmcgdHJ1ZSBvciBmYWxzZSBhcyBhcHByb3ByaWF0ZS5cbiAgICAqXG4gICAgKiBAcGFyYW0gc3RyIHtzdHJpbmd9IHRoZSBzdHIgc3RyaW5nIGluIHdoaWNoIHRvIHNlYXJjaCBmb3IgaW4gc3RyLnN0YXJ0c1dpdGhcbiAgICAqIEBwYXJhbSBzZWFyY2hTdHJpbmcge3N0cmluZ30gVGhlIGNoYXJhY3RlcnMgdG8gYmUgc2VhcmNoZWQgZm9yIGF0IHRoZSBzdGFydCBvZiB0aGlzIHN0cmluZy5cbiAgICAqIEBwYXJhbSBwb3NpdGlvbiB7bnVtYmVyP30gT3B0aW9uYWwuIFRoZSBwb3NpdGlvbiBpbiB0aGlzIHN0cmluZyBhdCB3aGljaCB0byBiZWdpbiBzZWFyY2hpbmcgZm9yIHNlYXJjaFN0cmluZzsgZGVmYXVsdHMgdG8gMC5cbiAgICAqXG4gICAgKiBAcmV0dXJucyB0cnVlIG9yIGZhbHNlXG4gICAgKlxuICAgICovXG4gICBzdGF0aWMgc3RhcnRzV2l0aChzdHI6c3RyaW5nLCBzZWFyY2hTdHJpbmc6c3RyaW5nLCBwb3NpdGlvbj86bnVtYmVyKTpib29sZWFuIHtcbiAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uIHx8IDA7XG4gICAgICAgcmV0dXJuIHN0ci5pbmRleE9mKHNlYXJjaFN0cmluZywgcG9zaXRpb24pID09PSBwb3NpdGlvbjtcbiAgIH1cblxuXG4gICBzdGF0aWMgcmVzb2x2ZVJlbGF0aXZlKHBhdGg6c3RyaW5nLCBiYXNlOnN0cmluZyk6c3RyaW5nIHtcbiAgICBcdC8vIFVwcGVyIGRpcmVjdG9yeVxuICAgIFx0aWYgKFN0YW5kYXJkTGliLnN0YXJ0c1dpdGgocGF0aCwgXCIuLi9cIikpIHtcbiAgICBcdFx0cmV0dXJuIFN0YW5kYXJkTGliLnJlc29sdmVSZWxhdGl2ZShwYXRoLnNsaWNlKDMpLCBiYXNlLnJlcGxhY2UoL1xcL1teXFwvXSokLywgXCJcIikpO1xuICAgIFx0fVxuICAgIFx0Ly8gUmVsYXRpdmUgdG8gdGhlIHJvb3RcbiAgICBcdGlmIChTdGFuZGFyZExpYi5zdGFydHNXaXRoKHBhdGgsIFwiL1wiKSkge1xuICAgIFx0XHR2YXIgbWF0Y2ggPSBiYXNlLm1hdGNoKC8oXFx3KjpcXC9cXC8pP1teXFwvXSpcXC8vKSB8fCBbYmFzZV07XG4gICAgXHRcdHJldHVybiBtYXRjaFswXSArIHBhdGguc2xpY2UoMSk7XG4gICAgXHR9XG4gICAgXHQvL3JlbGF0aXZlIHRvIHRoZSBjdXJyZW50IGRpcmVjdG9yeVxuXHQgICAgcmV0dXJuIGJhc2UucmVwbGFjZSgvXFwvW15cXC9dKiQvLCBcIlwiKSArIFwiL1wiICsgcGF0aDtcbiAgICB9XG5cbiAgIHN0YXRpYyBnZXREYXRhQm91bmRzKGNvbHVtbjogbnVtYmVyW10pIHtcbiAgICAgICByZXR1cm4ge1xuICAgICAgICAgICBtaW46IF8ubWluKGNvbHVtbiksXG4gICAgICAgICAgIG1heDogXy5tYXgoY29sdW1uKVxuICAgICAgIH07XG4gICB9XG5cbiAgIC8qKlxuICAgICpcbiAgICAqICAgVGhpcyBmdW5jdGlvbiByZXR1cm4gYW5kIG9iamVjdCB3aG9zZSBrZXlzIGFyZSB1cmxcbiAgICAqICAgcGFyYW1ldGVycyBhbmQgdmFsdWVcbiAgICAqL1xuICAgc3RhdGljIGdldFVybFBhcmFtcygpOmFueSB7XG5cbiAgICAgICB2YXIgcXVlcnlQYXJhbXM6YW55ID0ge307XG4gICAgICAgdmFyIHF1ZXJ5OnN0cmluZyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpO1xuICAgICAgIGlmKCFxdWVyeSkge1xuICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgfVxuICAgICAgIHZhciB2YXJzOnN0cmluZ1tdID0gcXVlcnkuc3BsaXQoXCImXCIpO1xuICAgICAgIGZvciAodmFyIGk6bnVtYmVyID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgdmFyIHBhaXI6c3RyaW5nW10gPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgICAgaWYgKHR5cGVvZiBxdWVyeVBhcmFtc1twYWlyWzBdXSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgcXVlcnlQYXJhbXNbcGFpclswXV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICAgICAgICAgICAvLyBJZiBzZWNvbmQgZW50cnkgd2l0aCB0aGlzIG5hbWVcbiAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcXVlcnlQYXJhbXNbcGFpclswXV0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgIHZhciBhcnI6c3RyaW5nW10gPSBbIHF1ZXJ5UGFyYW1zW3BhaXJbMF1dLCBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSkgXTtcbiAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zW3BhaXJbMF1dID0gYXJyO1xuICAgICAgICAgICAgICAgLy8gSWYgdGhpcmQgb3IgbGF0ZXIgZW50cnkgd2l0aCB0aGlzIG5hbWVcbiAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zW3BhaXJbMF1dLnB1c2goZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pKTtcbiAgICAgICAgICAgfVxuICAgICAgIH1cbiAgICAgICByZXR1cm4gcXVlcnlQYXJhbXM7XG4gICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgd2lkdGggb2YgYSB0ZXh0IHN0cmluZyxcbiAgICAgKiBpbiBwaXhlbHMsIGJhc2VkIG9uIGl0cyBmb250IHN0eWxlXG4gICAgICovXG4gICAgc3RhdGljIGdldFRleHRXaWR0aCh0ZXh0OnN0cmluZywgZm9udDpzdHJpbmcpOm51bWJlciB7XG4gICAgICAgIC8vIGNyZWF0ZSBhIGR1bW15IGNhbnZhcyBlbGVtZW50IHRvIHBlcmZvcm0gdGhlIGNhbGN1bGF0aW9uXG4gICAgICAgIHZhciBjYW52YXM6SFRNTENhbnZhc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuICAgICAgICB2YXIgY29udGV4dDpDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgICAgICBjb250ZXh0LmZvbnQgPSBmb250O1xuICAgICAgICB2YXIgbWV0cmljczpUZXh0TWV0cmljcyA9IGNvbnRleHQubWVhc3VyZVRleHQodGV4dCk7XG4gICAgICAgIHJldHVybiBtZXRyaWNzLndpZHRoO1xuICAgIH07XG5cblxuICAgIHN0YXRpYyBnZXRUZXh0SGVpZ2h0KHRleHQ6c3RyaW5nLCBmb250OnN0cmluZyk6bnVtYmVyIHtcbiAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImJvZHlcIilbMF07XG4gICAgICAgIHZhciBkdW1teSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHZhciBkdW1teVRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIk1cIik7XG4gICAgICAgIGR1bW15LmFwcGVuZENoaWxkKGR1bW15VGV4dCk7XG4gICAgICAgIGR1bW15LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIGZvbnQpO1xuICAgICAgICBib2R5LmFwcGVuZENoaWxkKGR1bW15KTtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGR1bW15Lm9mZnNldEhlaWdodDtcbiAgICAgICAgYm9keS5yZW1vdmVDaGlsZChkdW1teSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XG5pbXBvcnQgJCBmcm9tIFwianF1ZXJ5XCI7XG5pbXBvcnQgU3RhbmRhcmRMaWIgZnJvbSBcIi4uL291dHRzL3V0aWxzL1N0YW5kYXJkTGliLmpzXCI7XG5pbXBvcnQgSlNaaXAgZnJvbSBcImpzemlwXCI7XG4vKiBlc2xpbnQtZGlzYWJsZSAqL1xuaW1wb3J0IFdlYXZlTGF5b3V0TWFuYWdlciBmcm9tIFwiLi4vb3V0dHMvV2VhdmVMYXlvdXRNYW5hZ2VyLmpzeFwiO1xuLy8gaW1wb3J0IFdlYXZlTGF5b3V0TWFuYWdlciBmcm9tIFwiLi4vb3V0dHMvV2VhdmVMYXlvdXRNYW5hZ2VyLmpzeFwiO1xuLyogZXNsaW50LWVuYWJsZSAqL1xuXG4vKmdsb2JhbCBXZWF2ZSwgd2VhdmVqcyovXG5cbi8vIFRFTVBPUkFSWSBTT0xVVElPTlxud2VhdmVqcy51dGlsLkpTLkpTWmlwID0gSlNaaXA7XG5cbnZhciB3ZWF2ZSA9IHdpbmRvdy53ZWF2ZTtcbmlmICh3ZWF2ZSlcbntcblx0cmVuZGVyKCk7XG59XG5lbHNlXG57XG5cdHdpbmRvdy53ZWF2ZSA9IHdlYXZlID0gbmV3IFdlYXZlKCk7XG5cdHZhciB1cmxQYXJhbXMgPSBTdGFuZGFyZExpYi5nZXRVcmxQYXJhbXMoKTtcblx0dmFyIHdlYXZlRXh0ZXJuYWxUb29scyA9IHdpbmRvdy5vcGVuZXIgJiYgd2luZG93Lm9wZW5lci5XZWF2ZUV4dGVybmFsVG9vbHM7XG5cdGlmICh1cmxQYXJhbXMuZmlsZSlcblx0e1xuXHRcdHdlYXZlanMuY29yZS5XZWF2ZUFyY2hpdmUubG9hZFVybCh3ZWF2ZSwgdXJsUGFyYW1zLmZpbGUpLnRoZW4ocmVuZGVyKTtcblx0fVxuXHRlbHNlIGlmICh3ZWF2ZUV4dGVybmFsVG9vbHMgJiYgd2VhdmVFeHRlcm5hbFRvb2xzW3dpbmRvdy5uYW1lXSlcblx0e1xuXHRcdC8vIHJlYWQgY29udGVudCBmcm9tIGZsYXNoXG5cdFx0dmFyIG93bmVyUGF0aCA9IHdlYXZlRXh0ZXJuYWxUb29sc1t3aW5kb3cubmFtZV0ucGF0aDtcblx0XHR2YXIgY29udGVudCA9IGF0b2Iob3duZXJQYXRoLmdldFZhbHVlKCdidG9hKFdlYXZlLmNyZWF0ZVdlYXZlRmlsZUNvbnRlbnQoKSknKSk7XG5cdFx0d2VhdmVqcy5jb3JlLldlYXZlQXJjaGl2ZS5sb2FkRmlsZUNvbnRlbnQod2VhdmUsIGNvbnRlbnQpO1xuXHRcdHJlbmRlcigpO1xuXHR9XG5cdGVsc2Vcblx0e1xuXHRcdHJlbmRlcigpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbmRlcigpIHtcblx0JCgoKSA9PiB7XG5cdFx0UmVhY3RET00ucmVuZGVyKDxXZWF2ZUxheW91dE1hbmFnZXIgd2VhdmU9e3dlYXZlfS8+LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIndlYXZlRWx0XCIpKTtcblx0fSk7XG59XG4iXX0=
